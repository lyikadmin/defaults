var Kre=Object.defineProperty;var Xre=(e,r,t)=>r in e?Kre(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var Qre=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var bt=(e,r,t)=>Xre(e,typeof r!="symbol"?r+"":r,t);var SBe=Qre((kBe,SX)=>{function VU(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GU={exports:{}},vw={},YU={exports:{}},Mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=Symbol.for("react.element"),Jre=Symbol.for("react.portal"),Zre=Symbol.for("react.fragment"),ene=Symbol.for("react.strict_mode"),tne=Symbol.for("react.profiler"),rne=Symbol.for("react.provider"),nne=Symbol.for("react.context"),one=Symbol.for("react.forward_ref"),ine=Symbol.for("react.suspense"),ane=Symbol.for("react.memo"),sne=Symbol.for("react.lazy"),pL=Symbol.iterator;function une(e){return e===null||typeof e!="object"?null:(e=pL&&e[pL]||e["@@iterator"],typeof e=="function"?e:null)}var KU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XU=Object.assign,QU={};function gv(e,r,t){this.props=e,this.context=r,this.refs=QU,this.updater=t||KU}gv.prototype.isReactComponent={};gv.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};gv.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JU(){}JU.prototype=gv.prototype;function GD(e,r,t){this.props=e,this.context=r,this.refs=QU,this.updater=t||KU}var YD=GD.prototype=new JU;YD.constructor=GD;XU(YD,gv.prototype);YD.isPureReactComponent=!0;var hL=Array.isArray,ZU=Object.prototype.hasOwnProperty,KD={current:null},e8={key:!0,ref:!0,__self:!0,__source:!0};function t8(e,r,t){var n,o={},i=null,a=null;if(r!=null)for(n in r.ref!==void 0&&(a=r.ref),r.key!==void 0&&(i=""+r.key),r)ZU.call(r,n)&&!e8.hasOwnProperty(n)&&(o[n]=r[n]);var s=arguments.length-2;if(s===1)o.children=t;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)o[n]===void 0&&(o[n]=s[n]);return{$$typeof:D0,type:e,key:i,ref:a,props:o,_owner:KD.current}}function lne(e,r){return{$$typeof:D0,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function XD(e){return typeof e=="object"&&e!==null&&e.$$typeof===D0}function cne(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return r[t]})}var vL=/\/+/g;function UE(e,r){return typeof e=="object"&&e!==null&&e.key!=null?cne(""+e.key):r.toString(36)}function f_(e,r,t,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case D0:case Jre:a=!0}}if(a)return a=e,o=o(a),e=n===""?"."+UE(a,0):n,hL(o)?(t="",e!=null&&(t=e.replace(vL,"$&/")+"/"),f_(o,r,t,"",function(l){return l})):o!=null&&(XD(o)&&(o=lne(o,t+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(vL,"$&/")+"/")+e)),r.push(o)),1;if(a=0,n=n===""?".":n+":",hL(e))for(var s=0;s<e.length;s++){i=e[s];var u=n+UE(i,s);a+=f_(i,r,t,u,o)}else if(u=une(e),typeof u=="function")for(e=u.call(e),s=0;!(i=e.next()).done;)i=i.value,u=n+UE(i,s++),a+=f_(i,r,t,u,o);else if(i==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return a}function fx(e,r,t){if(e==null)return e;var n=[],o=0;return f_(e,n,"","",function(i){return r.call(t,i,o++)}),n}function fne(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Gi={current:null},d_={transition:null},dne={ReactCurrentDispatcher:Gi,ReactCurrentBatchConfig:d_,ReactCurrentOwner:KD};function r8(){throw Error("act(...) is not supported in production builds of React.")}Mr.Children={map:fx,forEach:function(e,r,t){fx(e,function(){r.apply(this,arguments)},t)},count:function(e){var r=0;return fx(e,function(){r++}),r},toArray:function(e){return fx(e,function(r){return r})||[]},only:function(e){if(!XD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mr.Component=gv;Mr.Fragment=Zre;Mr.Profiler=tne;Mr.PureComponent=GD;Mr.StrictMode=ene;Mr.Suspense=ine;Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dne;Mr.act=r8;Mr.cloneElement=function(e,r,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=XU({},e.props),o=e.key,i=e.ref,a=e._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,a=KD.current),r.key!==void 0&&(o=""+r.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in r)ZU.call(r,u)&&!e8.hasOwnProperty(u)&&(n[u]=r[u]===void 0&&s!==void 0?s[u]:r[u])}var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:D0,type:e.type,key:o,ref:i,props:n,_owner:a}};Mr.createContext=function(e){return e={$$typeof:nne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rne,_context:e},e.Consumer=e};Mr.createElement=t8;Mr.createFactory=function(e){var r=t8.bind(null,e);return r.type=e,r};Mr.createRef=function(){return{current:null}};Mr.forwardRef=function(e){return{$$typeof:one,render:e}};Mr.isValidElement=XD;Mr.lazy=function(e){return{$$typeof:sne,_payload:{_status:-1,_result:e},_init:fne}};Mr.memo=function(e,r){return{$$typeof:ane,type:e,compare:r===void 0?null:r}};Mr.startTransition=function(e){var r=d_.transition;d_.transition={};try{e()}finally{d_.transition=r}};Mr.unstable_act=r8;Mr.useCallback=function(e,r){return Gi.current.useCallback(e,r)};Mr.useContext=function(e){return Gi.current.useContext(e)};Mr.useDebugValue=function(){};Mr.useDeferredValue=function(e){return Gi.current.useDeferredValue(e)};Mr.useEffect=function(e,r){return Gi.current.useEffect(e,r)};Mr.useId=function(){return Gi.current.useId()};Mr.useImperativeHandle=function(e,r,t){return Gi.current.useImperativeHandle(e,r,t)};Mr.useInsertionEffect=function(e,r){return Gi.current.useInsertionEffect(e,r)};Mr.useLayoutEffect=function(e,r){return Gi.current.useLayoutEffect(e,r)};Mr.useMemo=function(e,r){return Gi.current.useMemo(e,r)};Mr.useReducer=function(e,r,t){return Gi.current.useReducer(e,r,t)};Mr.useRef=function(e){return Gi.current.useRef(e)};Mr.useState=function(e){return Gi.current.useState(e)};Mr.useSyncExternalStore=function(e,r,t){return Gi.current.useSyncExternalStore(e,r,t)};Mr.useTransition=function(){return Gi.current.useTransition()};Mr.version="18.3.1";YU.exports=Mr;var N=YU.exports;const qe=rl(N),Lh=VU({__proto__:null,default:qe},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pne=N,hne=Symbol.for("react.element"),vne=Symbol.for("react.fragment"),mne=Object.prototype.hasOwnProperty,gne=pne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yne={key:!0,ref:!0,__self:!0,__source:!0};function n8(e,r,t){var n,o={},i=null,a=null;t!==void 0&&(i=""+t),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(a=r.ref);for(n in r)mne.call(r,n)&&!yne.hasOwnProperty(n)&&(o[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps,r)o[n]===void 0&&(o[n]=r[n]);return{$$typeof:hne,type:e,key:i,ref:a,props:o,_owner:gne.current}}vw.Fragment=vne;vw.jsx=n8;vw.jsxs=n8;GU.exports=vw;var O=GU.exports,o8={exports:{}},Ka={},i8={exports:{}},a8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(W,L){var z=W.length;W.push(L);e:for(;0<z;){var U=z-1>>>1,Y=W[U];if(0<o(Y,L))W[U]=L,W[z]=Y,z=U;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var L=W[0],z=W.pop();if(z!==L){W[0]=z;e:for(var U=0,Y=W.length,q=Y>>>1;U<q;){var V=2*(U+1)-1,H=W[V],Z=V+1,ue=W[Z];if(0>o(H,z))Z<Y&&0>o(ue,H)?(W[U]=ue,W[Z]=z,U=Z):(W[U]=H,W[V]=z,U=V);else if(Z<Y&&0>o(ue,z))W[U]=ue,W[Z]=z,U=Z;else break e}}return L}function o(W,L){var z=W.sortIndex-L.sortIndex;return z!==0?z:W.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],l=[],c=1,f=null,d=3,p=!1,h=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var L=t(l);L!==null;){if(L.callback===null)n(l);else if(L.startTime<=W)n(l),L.sortIndex=L.expirationTime,r(u,L);else break;L=t(l)}}function b(W){if(m=!1,x(W),!h)if(t(u)!==null)h=!0,$(w);else{var L=t(l);L!==null&&B(b,L.startTime-W)}}function w(W,L){h=!1,m&&(m=!1,v(S),S=-1),p=!0;var z=d;try{for(x(L),f=t(u);f!==null&&(!(f.expirationTime>L)||W&&!P());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var Y=U(f.expirationTime<=L);L=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===t(u)&&n(u),x(L)}else n(u);f=t(u)}if(f!==null)var q=!0;else{var V=t(l);V!==null&&B(b,V.startTime-L),q=!1}return q}finally{f=null,d=z,p=!1}}var E=!1,C=null,S=-1,T=5,k=-1;function P(){return!(e.unstable_now()-k<T)}function I(){if(C!==null){var W=e.unstable_now();k=W;var L=!0;try{L=C(!0,W)}finally{L?F():(E=!1,C=null)}}else E=!1}var F;if(typeof g=="function")F=function(){g(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,F=function(){D.postMessage(null)}}else F=function(){y(I,0)};function $(W){C=W,E||(E=!0,F())}function B(W,L){S=y(function(){W(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,$(w))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return t(u)},e.unstable_next=function(W){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var z=d;d=L;try{return W()}finally{d=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,L){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=d;d=W;try{return L()}finally{d=z}},e.unstable_scheduleCallback=function(W,L,z){var U=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,W){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,W={id:c++,callback:L,priorityLevel:W,startTime:z,expirationTime:Y,sortIndex:-1},z>U?(W.sortIndex=z,r(l,W),t(u)===null&&W===t(l)&&(m?(v(S),S=-1):m=!0,B(b,z-U))):(W.sortIndex=Y,r(u,W),h||p||(h=!0,$(w))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var L=d;return function(){var z=d;d=L;try{return W.apply(this,arguments)}finally{d=z}}}})(a8);i8.exports=a8;var xne=i8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bne=N,Ua=xne;function vt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s8=new Set,zg={};function Wd(e,r){Bh(e,r),Bh(e+"Capture",r)}function Bh(e,r){for(zg[e]=r,e=0;e<r.length;e++)s8.add(r[e])}var Gl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FA=Object.prototype.hasOwnProperty,_ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mL={},gL={};function wne(e){return FA.call(gL,e)?!0:FA.call(mL,e)?!1:_ne.test(e)?gL[e]=!0:(mL[e]=!0,!1)}function Sne(e,r,t,n){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cne(e,r,t,n){if(r===null||typeof r>"u"||Sne(e,r,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Yi(e,r,t,n,o,i,a){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=a}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ai[e]=new Yi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ai[r]=new Yi(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ai[e]=new Yi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ai[e]=new Yi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ai[e]=new Yi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ai[e]=new Yi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ai[e]=new Yi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ai[e]=new Yi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ai[e]=new Yi(e,5,!1,e.toLowerCase(),null,!1,!1)});var QD=/[\-:]([a-z])/g;function JD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(QD,JD);ai[r]=new Yi(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(QD,JD);ai[r]=new Yi(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(QD,JD);ai[r]=new Yi(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ai[e]=new Yi(e,1,!1,e.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Yi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ai[e]=new Yi(e,1,!1,e.toLowerCase(),null,!0,!0)});function ZD(e,r,t,n){var o=ai.hasOwnProperty(r)?ai[r]:null;(o!==null?o.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Cne(r,t,o,n)&&(t=null),n||o===null?wne(r)&&(t===null?e.removeAttribute(r):e.setAttribute(r,""+t)):o.mustUseProperty?e[o.propertyName]=t===null?o.type===3?!1:"":t:(r=o.attributeName,n=o.attributeNamespace,t===null?e.removeAttribute(r):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,n?e.setAttributeNS(n,r,t):e.setAttribute(r,t))))}var oc=bne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dx=Symbol.for("react.element"),th=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),eP=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),u8=Symbol.for("react.provider"),l8=Symbol.for("react.context"),tP=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),jA=Symbol.for("react.suspense_list"),rP=Symbol.for("react.memo"),Ic=Symbol.for("react.lazy"),c8=Symbol.for("react.offscreen"),yL=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=yL&&e[yL]||e["@@iterator"],typeof e=="function"?e:null)}var Vn=Object.assign,qE;function sg(e){if(qE===void 0)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);qE=r&&r[1]||""}return`
`+qE+e}var HE=!1;function VE(e,r){if(!e||HE)return"";HE=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(l){var n=l}Reflect.construct(e,[],r)}else{try{r.call()}catch(l){n=l}e.call(r.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=n.stack.split(`
`),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(a!==1||s!==1)do if(a--,s--,0>s||o[a]!==i[s]){var u=`
`+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{HE=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?sg(e):""}function Ene(e){switch(e.tag){case 5:return sg(e.type);case 16:return sg("Lazy");case 13:return sg("Suspense");case 19:return sg("SuspenseList");case 0:case 2:case 15:return e=VE(e.type,!1),e;case 11:return e=VE(e.type.render,!1),e;case 1:return e=VE(e.type,!0),e;default:return""}}function $A(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rh:return"Fragment";case th:return"Portal";case LA:return"Profiler";case eP:return"StrictMode";case BA:return"Suspense";case jA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case l8:return(e.displayName||"Context")+".Consumer";case u8:return(e._context.displayName||"Context")+".Provider";case tP:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rP:return r=e.displayName||null,r!==null?r:$A(e.type)||"Memo";case Ic:r=e._payload,e=e._init;try{return $A(e(r))}catch{}}return null}function kne(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $A(r);case 8:return r===eP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function sf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function f8(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rne(e){var r=f8(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),n=""+e[r];if(!e.hasOwnProperty(r)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,i=t.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,r,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function px(e){e._valueTracker||(e._valueTracker=Rne(e))}function d8(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var t=r.getValue(),n="";return e&&(n=f8(e)?e.checked?"true":"false":e.value),e=n,e!==t?(r.setValue(e),!0):!1}function W_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zA(e,r){var t=r.checked;return Vn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function xL(e,r){var t=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;t=sf(r.value!=null?r.value:t),e._wrapperState={initialChecked:n,initialValue:t,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function p8(e,r){r=r.checked,r!=null&&ZD(e,"checked",r,!1)}function WA(e,r){p8(e,r);var t=sf(r.value),n=r.type;if(t!=null)n==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?UA(e,r.type,t):r.hasOwnProperty("defaultValue")&&UA(e,r.type,sf(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function bL(e,r,t){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,t||r===e.value||(e.value=r),e.defaultValue=r}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function UA(e,r,t){(r!=="number"||W_(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var ug=Array.isArray;function mh(e,r,t,n){if(e=e.options,r){r={};for(var o=0;o<t.length;o++)r["$"+t[o]]=!0;for(t=0;t<e.length;t++)o=r.hasOwnProperty("$"+e[t].value),e[t].selected!==o&&(e[t].selected=o),o&&n&&(e[t].defaultSelected=!0)}else{for(t=""+sf(t),r=null,o=0;o<e.length;o++){if(e[o].value===t){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}r!==null||e[o].disabled||(r=e[o])}r!==null&&(r.selected=!0)}}function qA(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(vt(91));return Vn({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _L(e,r){var t=r.value;if(t==null){if(t=r.children,r=r.defaultValue,t!=null){if(r!=null)throw Error(vt(92));if(ug(t)){if(1<t.length)throw Error(vt(93));t=t[0]}r=t}r==null&&(r=""),t=r}e._wrapperState={initialValue:sf(t)}}function h8(e,r){var t=sf(r.value),n=sf(r.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),r.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),n!=null&&(e.defaultValue=""+n)}function wL(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function v8(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HA(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?v8(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hx,m8=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,t,n,o){MSApp.execUnsafeLocalFunction(function(){return e(r,t,n,o)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(hx=hx||document.createElement("div"),hx.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=hx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Wg(e,r){if(r){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=r;return}}e.textContent=r}var bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tne=["Webkit","ms","Moz","O"];Object.keys(bg).forEach(function(e){Tne.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),bg[r]=bg[e]})});function g8(e,r,t){return r==null||typeof r=="boolean"||r===""?"":t||typeof r!="number"||r===0||bg.hasOwnProperty(e)&&bg[e]?(""+r).trim():r+"px"}function y8(e,r){e=e.style;for(var t in r)if(r.hasOwnProperty(t)){var n=t.indexOf("--")===0,o=g8(t,r[t],n);t==="float"&&(t="cssFloat"),n?e.setProperty(t,o):e[t]=o}}var Ane=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VA(e,r){if(r){if(Ane[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(vt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(vt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(vt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(vt(62))}}function GA(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YA=null;function nP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var KA=null,gh=null,yh=null;function SL(e){if(e=N0(e)){if(typeof KA!="function")throw Error(vt(280));var r=e.stateNode;r&&(r=bw(r),KA(e.stateNode,e.type,r))}}function x8(e){gh?yh?yh.push(e):yh=[e]:gh=e}function b8(){if(gh){var e=gh,r=yh;if(yh=gh=null,SL(e),r)for(e=0;e<r.length;e++)SL(r[e])}}function _8(e,r){return e(r)}function w8(){}var GE=!1;function S8(e,r,t){if(GE)return e(r,t);GE=!0;try{return _8(e,r,t)}finally{GE=!1,(gh!==null||yh!==null)&&(w8(),b8())}}function Ug(e,r){var t=e.stateNode;if(t===null)return null;var n=bw(t);if(n===null)return null;t=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(vt(231,r,typeof t));return t}var XA=!1;if(Gl)try{var Am={};Object.defineProperty(Am,"passive",{get:function(){XA=!0}}),window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{XA=!1}function One(e,r,t,n,o,i,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{r.apply(t,l)}catch(c){this.onError(c)}}var _g=!1,U_=null,q_=!1,QA=null,Dne={onError:function(e){_g=!0,U_=e}};function Pne(e,r,t,n,o,i,a,s,u){_g=!1,U_=null,One.apply(Dne,arguments)}function Ine(e,r,t,n,o,i,a,s,u){if(Pne.apply(this,arguments),_g){if(_g){var l=U_;_g=!1,U_=null}else throw Error(vt(198));q_||(q_=!0,QA=l)}}function Ud(e){var r=e,t=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(t=r.return),e=r.return;while(e)}return r.tag===3?t:null}function C8(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function CL(e){if(Ud(e)!==e)throw Error(vt(188))}function Nne(e){var r=e.alternate;if(!r){if(r=Ud(e),r===null)throw Error(vt(188));return r!==e?null:e}for(var t=e,n=r;;){var o=t.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){t=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return CL(o),e;if(i===n)return CL(o),r;i=i.sibling}throw Error(vt(188))}if(t.return!==n.return)t=o,n=i;else{for(var a=!1,s=o.child;s;){if(s===t){a=!0,t=o,n=i;break}if(s===n){a=!0,n=o,t=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===t){a=!0,t=i,n=o;break}if(s===n){a=!0,n=i,t=o;break}s=s.sibling}if(!a)throw Error(vt(189))}}if(t.alternate!==n)throw Error(vt(190))}if(t.tag!==3)throw Error(vt(188));return t.stateNode.current===t?e:r}function E8(e){return e=Nne(e),e!==null?k8(e):null}function k8(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=k8(e);if(r!==null)return r;e=e.sibling}return null}var R8=Ua.unstable_scheduleCallback,EL=Ua.unstable_cancelCallback,Mne=Ua.unstable_shouldYield,Fne=Ua.unstable_requestPaint,uo=Ua.unstable_now,Lne=Ua.unstable_getCurrentPriorityLevel,oP=Ua.unstable_ImmediatePriority,T8=Ua.unstable_UserBlockingPriority,H_=Ua.unstable_NormalPriority,Bne=Ua.unstable_LowPriority,A8=Ua.unstable_IdlePriority,mw=null,$u=null;function jne(e){if($u&&typeof $u.onCommitFiberRoot=="function")try{$u.onCommitFiberRoot(mw,e,void 0,(e.current.flags&128)===128)}catch{}}var Gs=Math.clz32?Math.clz32:Wne,$ne=Math.log,zne=Math.LN2;function Wne(e){return e>>>=0,e===0?32:31-($ne(e)/zne|0)|0}var vx=64,mx=4194304;function lg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function V_(e,r){var t=e.pendingLanes;if(t===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,a=t&268435455;if(a!==0){var s=a&~o;s!==0?n=lg(s):(i&=a,i!==0&&(n=lg(i)))}else a=t&~o,a!==0?n=lg(a):i!==0&&(n=lg(i));if(n===0)return 0;if(r!==0&&r!==n&&!(r&o)&&(o=n&-n,i=r&-r,o>=i||o===16&&(i&4194240)!==0))return r;if(n&4&&(n|=t&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=n;0<r;)t=31-Gs(r),o=1<<t,n|=e[t],r&=~o;return n}function Une(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qne(e,r){for(var t=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Gs(i),s=1<<a,u=o[a];u===-1?(!(s&t)||s&n)&&(o[a]=Une(s,r)):u<=r&&(e.expiredLanes|=s),i&=~s}}function JA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function O8(){var e=vx;return vx<<=1,!(vx&4194240)&&(vx=64),e}function YE(e){for(var r=[],t=0;31>t;t++)r.push(e);return r}function P0(e,r,t){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Gs(r),e[r]=t}function Hne(e,r){var t=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<t;){var o=31-Gs(t),i=1<<o;r[o]=0,n[o]=-1,e[o]=-1,t&=~i}}function iP(e,r){var t=e.entangledLanes|=r;for(e=e.entanglements;t;){var n=31-Gs(t),o=1<<n;o&r|e[n]&r&&(e[n]|=r),t&=~o}}var mn=0;function D8(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var P8,aP,I8,N8,M8,ZA=!1,gx=[],qc=null,Hc=null,Vc=null,qg=new Map,Hg=new Map,Mc=[],Vne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kL(e,r){switch(e){case"focusin":case"focusout":qc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":qg.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hg.delete(r.pointerId)}}function Om(e,r,t,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:t,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},r!==null&&(r=N0(r),r!==null&&aP(r)),e):(e.eventSystemFlags|=n,r=e.targetContainers,o!==null&&r.indexOf(o)===-1&&r.push(o),e)}function Gne(e,r,t,n,o){switch(r){case"focusin":return qc=Om(qc,e,r,t,n,o),!0;case"dragenter":return Hc=Om(Hc,e,r,t,n,o),!0;case"mouseover":return Vc=Om(Vc,e,r,t,n,o),!0;case"pointerover":var i=o.pointerId;return qg.set(i,Om(qg.get(i)||null,e,r,t,n,o)),!0;case"gotpointercapture":return i=o.pointerId,Hg.set(i,Om(Hg.get(i)||null,e,r,t,n,o)),!0}return!1}function F8(e){var r=ld(e.target);if(r!==null){var t=Ud(r);if(t!==null){if(r=t.tag,r===13){if(r=C8(t),r!==null){e.blockedOn=r,M8(e.priority,function(){I8(t)});return}}else if(r===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function p_(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var t=eO(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var n=new t.constructor(t.type,t);YA=n,t.target.dispatchEvent(n),YA=null}else return r=N0(t),r!==null&&aP(r),e.blockedOn=t,!1;r.shift()}return!0}function RL(e,r,t){p_(e)&&t.delete(r)}function Yne(){ZA=!1,qc!==null&&p_(qc)&&(qc=null),Hc!==null&&p_(Hc)&&(Hc=null),Vc!==null&&p_(Vc)&&(Vc=null),qg.forEach(RL),Hg.forEach(RL)}function Dm(e,r){e.blockedOn===r&&(e.blockedOn=null,ZA||(ZA=!0,Ua.unstable_scheduleCallback(Ua.unstable_NormalPriority,Yne)))}function Vg(e){function r(o){return Dm(o,e)}if(0<gx.length){Dm(gx[0],e);for(var t=1;t<gx.length;t++){var n=gx[t];n.blockedOn===e&&(n.blockedOn=null)}}for(qc!==null&&Dm(qc,e),Hc!==null&&Dm(Hc,e),Vc!==null&&Dm(Vc,e),qg.forEach(r),Hg.forEach(r),t=0;t<Mc.length;t++)n=Mc[t],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mc.length&&(t=Mc[0],t.blockedOn===null);)F8(t),t.blockedOn===null&&Mc.shift()}var xh=oc.ReactCurrentBatchConfig,G_=!0;function Kne(e,r,t,n){var o=mn,i=xh.transition;xh.transition=null;try{mn=1,sP(e,r,t,n)}finally{mn=o,xh.transition=i}}function Xne(e,r,t,n){var o=mn,i=xh.transition;xh.transition=null;try{mn=4,sP(e,r,t,n)}finally{mn=o,xh.transition=i}}function sP(e,r,t,n){if(G_){var o=eO(e,r,t,n);if(o===null)ok(e,r,n,Y_,t),kL(e,n);else if(Gne(o,e,r,t,n))n.stopPropagation();else if(kL(e,n),r&4&&-1<Vne.indexOf(e)){for(;o!==null;){var i=N0(o);if(i!==null&&P8(i),i=eO(e,r,t,n),i===null&&ok(e,r,n,Y_,t),i===o)break;o=i}o!==null&&n.stopPropagation()}else ok(e,r,n,null,t)}}var Y_=null;function eO(e,r,t,n){if(Y_=null,e=nP(n),e=ld(e),e!==null)if(r=Ud(e),r===null)e=null;else if(t=r.tag,t===13){if(e=C8(r),e!==null)return e;e=null}else if(t===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Y_=e,null}function L8(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lne()){case oP:return 1;case T8:return 4;case H_:case Bne:return 16;case A8:return 536870912;default:return 16}default:return 16}}var Lc=null,uP=null,h_=null;function B8(){if(h_)return h_;var e,r=uP,t=r.length,n,o="value"in Lc?Lc.value:Lc.textContent,i=o.length;for(e=0;e<t&&r[e]===o[e];e++);var a=t-e;for(n=1;n<=a&&r[t-n]===o[i-n];n++);return h_=o.slice(e,1<n?1-n:void 0)}function v_(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function yx(){return!0}function TL(){return!1}function Xa(e){function r(t,n,o,i,a){this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yx:TL,this.isPropagationStopped=TL,this}return Vn(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=yx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=yx)},persist:function(){},isPersistent:yx}),r}var yv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lP=Xa(yv),I0=Vn({},yv,{view:0,detail:0}),Qne=Xa(I0),KE,XE,Pm,gw=Vn({},I0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pm&&(Pm&&e.type==="mousemove"?(KE=e.screenX-Pm.screenX,XE=e.screenY-Pm.screenY):XE=KE=0,Pm=e),KE)},movementY:function(e){return"movementY"in e?e.movementY:XE}}),AL=Xa(gw),Jne=Vn({},gw,{dataTransfer:0}),Zne=Xa(Jne),eoe=Vn({},I0,{relatedTarget:0}),QE=Xa(eoe),toe=Vn({},yv,{animationName:0,elapsedTime:0,pseudoElement:0}),roe=Xa(toe),noe=Vn({},yv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ooe=Xa(noe),ioe=Vn({},yv,{data:0}),OL=Xa(ioe),aoe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},soe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uoe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function loe(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=uoe[e])?!!r[e]:!1}function cP(){return loe}var coe=Vn({},I0,{key:function(e){if(e.key){var r=aoe[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=v_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?soe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cP,charCode:function(e){return e.type==="keypress"?v_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?v_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),foe=Xa(coe),doe=Vn({},gw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DL=Xa(doe),poe=Vn({},I0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cP}),hoe=Xa(poe),voe=Vn({},yv,{propertyName:0,elapsedTime:0,pseudoElement:0}),moe=Xa(voe),goe=Vn({},gw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yoe=Xa(goe),xoe=[9,13,27,32],fP=Gl&&"CompositionEvent"in window,wg=null;Gl&&"documentMode"in document&&(wg=document.documentMode);var boe=Gl&&"TextEvent"in window&&!wg,j8=Gl&&(!fP||wg&&8<wg&&11>=wg),PL=" ",IL=!1;function $8(e,r){switch(e){case"keyup":return xoe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nh=!1;function _oe(e,r){switch(e){case"compositionend":return z8(r);case"keypress":return r.which!==32?null:(IL=!0,PL);case"textInput":return e=r.data,e===PL&&IL?null:e;default:return null}}function woe(e,r){if(nh)return e==="compositionend"||!fP&&$8(e,r)?(e=B8(),h_=uP=Lc=null,nh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return j8&&r.locale!=="ko"?null:r.data;default:return null}}var Soe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NL(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Soe[e.type]:r==="textarea"}function W8(e,r,t,n){x8(n),r=K_(r,"onChange"),0<r.length&&(t=new lP("onChange","change",null,t,n),e.push({event:t,listeners:r}))}var Sg=null,Gg=null;function Coe(e){Z8(e,0)}function yw(e){var r=ah(e);if(d8(r))return e}function Eoe(e,r){if(e==="change")return r}var U8=!1;if(Gl){var JE;if(Gl){var ZE="oninput"in document;if(!ZE){var ML=document.createElement("div");ML.setAttribute("oninput","return;"),ZE=typeof ML.oninput=="function"}JE=ZE}else JE=!1;U8=JE&&(!document.documentMode||9<document.documentMode)}function FL(){Sg&&(Sg.detachEvent("onpropertychange",q8),Gg=Sg=null)}function q8(e){if(e.propertyName==="value"&&yw(Gg)){var r=[];W8(r,Gg,e,nP(e)),S8(Coe,r)}}function koe(e,r,t){e==="focusin"?(FL(),Sg=r,Gg=t,Sg.attachEvent("onpropertychange",q8)):e==="focusout"&&FL()}function Roe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yw(Gg)}function Toe(e,r){if(e==="click")return yw(r)}function Aoe(e,r){if(e==="input"||e==="change")return yw(r)}function Ooe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Zs=typeof Object.is=="function"?Object.is:Ooe;function Yg(e,r){if(Zs(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var o=t[n];if(!FA.call(r,o)||!Zs(e[o],r[o]))return!1}return!0}function LL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function BL(e,r){var t=LL(e);e=0;for(var n;t;){if(t.nodeType===3){if(n=e+t.textContent.length,e<=r&&n>=r)return{node:t,offset:r-e};e=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=LL(t)}}function H8(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?H8(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function V8(){for(var e=window,r=W_();r instanceof e.HTMLIFrameElement;){try{var t=typeof r.contentWindow.location.href=="string"}catch{t=!1}if(t)e=r.contentWindow;else break;r=W_(e.document)}return r}function dP(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Doe(e){var r=V8(),t=e.focusedElem,n=e.selectionRange;if(r!==t&&t&&t.ownerDocument&&H8(t.ownerDocument.documentElement,t)){if(n!==null&&dP(t)){if(r=n.start,e=n.end,e===void 0&&(e=r),"selectionStart"in t)t.selectionStart=r,t.selectionEnd=Math.min(e,t.value.length);else if(e=(r=t.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var o=t.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=BL(t,i);var a=BL(t,n);o&&a&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(r=r.createRange(),r.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(r),e.extend(a.node,a.offset)):(r.setEnd(a.node,a.offset),e.addRange(r)))}}for(r=[],e=t;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<r.length;t++)e=r[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Poe=Gl&&"documentMode"in document&&11>=document.documentMode,oh=null,tO=null,Cg=null,rO=!1;function jL(e,r,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;rO||oh==null||oh!==W_(n)||(n=oh,"selectionStart"in n&&dP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cg&&Yg(Cg,n)||(Cg=n,n=K_(tO,"onSelect"),0<n.length&&(r=new lP("onSelect","select",null,r,t),e.push({event:r,listeners:n}),r.target=oh)))}function xx(e,r){var t={};return t[e.toLowerCase()]=r.toLowerCase(),t["Webkit"+e]="webkit"+r,t["Moz"+e]="moz"+r,t}var ih={animationend:xx("Animation","AnimationEnd"),animationiteration:xx("Animation","AnimationIteration"),animationstart:xx("Animation","AnimationStart"),transitionend:xx("Transition","TransitionEnd")},ek={},G8={};Gl&&(G8=document.createElement("div").style,"AnimationEvent"in window||(delete ih.animationend.animation,delete ih.animationiteration.animation,delete ih.animationstart.animation),"TransitionEvent"in window||delete ih.transitionend.transition);function xw(e){if(ek[e])return ek[e];if(!ih[e])return e;var r=ih[e],t;for(t in r)if(r.hasOwnProperty(t)&&t in G8)return ek[e]=r[t];return e}var Y8=xw("animationend"),K8=xw("animationiteration"),X8=xw("animationstart"),Q8=xw("transitionend"),J8=new Map,$L="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gf(e,r){J8.set(e,r),Wd(r,[e])}for(var tk=0;tk<$L.length;tk++){var rk=$L[tk],Ioe=rk.toLowerCase(),Noe=rk[0].toUpperCase()+rk.slice(1);gf(Ioe,"on"+Noe)}gf(Y8,"onAnimationEnd");gf(K8,"onAnimationIteration");gf(X8,"onAnimationStart");gf("dblclick","onDoubleClick");gf("focusin","onFocus");gf("focusout","onBlur");gf(Q8,"onTransitionEnd");Bh("onMouseEnter",["mouseout","mouseover"]);Bh("onMouseLeave",["mouseout","mouseover"]);Bh("onPointerEnter",["pointerout","pointerover"]);Bh("onPointerLeave",["pointerout","pointerover"]);Wd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wd("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Moe=new Set("cancel close invalid load scroll toggle".split(" ").concat(cg));function zL(e,r,t){var n=e.type||"unknown-event";e.currentTarget=t,Ine(n,r,void 0,e),e.currentTarget=null}function Z8(e,r){r=(r&4)!==0;for(var t=0;t<e.length;t++){var n=e[t],o=n.event;n=n.listeners;e:{var i=void 0;if(r)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&o.isPropagationStopped())break e;zL(o,s,l),i=u}else for(a=0;a<n.length;a++){if(s=n[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==i&&o.isPropagationStopped())break e;zL(o,s,l),i=u}}}if(q_)throw e=QA,q_=!1,QA=null,e}function On(e,r){var t=r[sO];t===void 0&&(t=r[sO]=new Set);var n=e+"__bubble";t.has(n)||(eq(r,e,2,!1),t.add(n))}function nk(e,r,t){var n=0;r&&(n|=4),eq(t,e,n,r)}var bx="_reactListening"+Math.random().toString(36).slice(2);function Kg(e){if(!e[bx]){e[bx]=!0,s8.forEach(function(t){t!=="selectionchange"&&(Moe.has(t)||nk(t,!1,e),nk(t,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[bx]||(r[bx]=!0,nk("selectionchange",!1,r))}}function eq(e,r,t,n){switch(L8(r)){case 1:var o=Kne;break;case 4:o=Xne;break;default:o=sP}t=o.bind(null,r,t,e),o=void 0,!XA||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(r,t,{capture:!0,passive:o}):e.addEventListener(r,t,!0):o!==void 0?e.addEventListener(r,t,{passive:o}):e.addEventListener(r,t,!1)}function ok(e,r,t,n,o){var i=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;a=a.return}for(;s!==null;){if(a=ld(s),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}s=s.parentNode}}n=n.return}S8(function(){var l=i,c=nP(t),f=[];e:{var d=J8.get(e);if(d!==void 0){var p=lP,h=e;switch(e){case"keypress":if(v_(t)===0)break e;case"keydown":case"keyup":p=foe;break;case"focusin":h="focus",p=QE;break;case"focusout":h="blur",p=QE;break;case"beforeblur":case"afterblur":p=QE;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=AL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Zne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hoe;break;case Y8:case K8:case X8:p=roe;break;case Q8:p=moe;break;case"scroll":p=Qne;break;case"wheel":p=yoe;break;case"copy":case"cut":case"paste":p=ooe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DL}var m=(r&4)!==0,y=!m&&e==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var g=l,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=Ug(g,v),b!=null&&m.push(Xg(g,b,x)))),y)break;g=g.return}0<m.length&&(d=new p(d,h,null,t,c),f.push({event:d,listeners:m}))}}if(!(r&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&t!==YA&&(h=t.relatedTarget||t.fromElement)&&(ld(h)||h[Yl]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=t.relatedTarget||t.toElement,p=l,h=h?ld(h):null,h!==null&&(y=Ud(h),h!==y||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=l),p!==h)){if(m=AL,b="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=DL,b="onPointerLeave",v="onPointerEnter",g="pointer"),y=p==null?d:ah(p),x=h==null?d:ah(h),d=new m(b,g+"leave",p,t,c),d.target=y,d.relatedTarget=x,b=null,ld(c)===l&&(m=new m(v,g+"enter",h,t,c),m.target=x,m.relatedTarget=y,b=m),y=b,p&&h)t:{for(m=p,v=h,g=0,x=m;x;x=Rp(x))g++;for(x=0,b=v;b;b=Rp(b))x++;for(;0<g-x;)m=Rp(m),g--;for(;0<x-g;)v=Rp(v),x--;for(;g--;){if(m===v||v!==null&&m===v.alternate)break t;m=Rp(m),v=Rp(v)}m=null}else m=null;p!==null&&WL(f,d,p,m,!1),h!==null&&y!==null&&WL(f,y,h,m,!0)}}e:{if(d=l?ah(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var w=Eoe;else if(NL(d))if(U8)w=Aoe;else{w=Roe;var E=koe}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=Toe);if(w&&(w=w(e,l))){W8(f,w,t,c);break e}E&&E(e,d,l),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&UA(d,"number",d.value)}switch(E=l?ah(l):window,e){case"focusin":(NL(E)||E.contentEditable==="true")&&(oh=E,tO=l,Cg=null);break;case"focusout":Cg=tO=oh=null;break;case"mousedown":rO=!0;break;case"contextmenu":case"mouseup":case"dragend":rO=!1,jL(f,t,c);break;case"selectionchange":if(Poe)break;case"keydown":case"keyup":jL(f,t,c)}var C;if(fP)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else nh?$8(e,t)&&(S="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(S="onCompositionStart");S&&(j8&&t.locale!=="ko"&&(nh||S!=="onCompositionStart"?S==="onCompositionEnd"&&nh&&(C=B8()):(Lc=c,uP="value"in Lc?Lc.value:Lc.textContent,nh=!0)),E=K_(l,S),0<E.length&&(S=new OL(S,e,null,t,c),f.push({event:S,listeners:E}),C?S.data=C:(C=z8(t),C!==null&&(S.data=C)))),(C=boe?_oe(e,t):woe(e,t))&&(l=K_(l,"onBeforeInput"),0<l.length&&(c=new OL("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:l}),c.data=C))}Z8(f,r)})}function Xg(e,r,t){return{instance:e,listener:r,currentTarget:t}}function K_(e,r){for(var t=r+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ug(e,t),i!=null&&n.unshift(Xg(e,i,o)),i=Ug(e,r),i!=null&&n.push(Xg(e,i,o))),e=e.return}return n}function Rp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WL(e,r,t,n,o){for(var i=r._reactName,a=[];t!==null&&t!==n;){var s=t,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,o?(u=Ug(t,i),u!=null&&a.unshift(Xg(t,u,s))):o||(u=Ug(t,i),u!=null&&a.push(Xg(t,u,s)))),t=t.return}a.length!==0&&e.push({event:r,listeners:a})}var Foe=/\r\n?/g,Loe=/\u0000|\uFFFD/g;function UL(e){return(typeof e=="string"?e:""+e).replace(Foe,`
`).replace(Loe,"")}function _x(e,r,t){if(r=UL(r),UL(e)!==r&&t)throw Error(vt(425))}function X_(){}var nO=null,oO=null;function iO(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var aO=typeof setTimeout=="function"?setTimeout:void 0,Boe=typeof clearTimeout=="function"?clearTimeout:void 0,qL=typeof Promise=="function"?Promise:void 0,joe=typeof queueMicrotask=="function"?queueMicrotask:typeof qL<"u"?function(e){return qL.resolve(null).then(e).catch($oe)}:aO;function $oe(e){setTimeout(function(){throw e})}function ik(e,r){var t=r,n=0;do{var o=t.nextSibling;if(e.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(n===0){e.removeChild(o),Vg(r);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=o}while(t);Vg(r)}function Gc(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function HL(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(r===0)return e;r--}else t==="/$"&&r++}e=e.previousSibling}return null}var xv=Math.random().toString(36).slice(2),Pu="__reactFiber$"+xv,Qg="__reactProps$"+xv,Yl="__reactContainer$"+xv,sO="__reactEvents$"+xv,zoe="__reactListeners$"+xv,Woe="__reactHandles$"+xv;function ld(e){var r=e[Pu];if(r)return r;for(var t=e.parentNode;t;){if(r=t[Yl]||t[Pu]){if(t=r.alternate,r.child!==null||t!==null&&t.child!==null)for(e=HL(e);e!==null;){if(t=e[Pu])return t;e=HL(e)}return r}e=t,t=e.parentNode}return null}function N0(e){return e=e[Pu]||e[Yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ah(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(vt(33))}function bw(e){return e[Qg]||null}var uO=[],sh=-1;function yf(e){return{current:e}}function Pn(e){0>sh||(e.current=uO[sh],uO[sh]=null,sh--)}function En(e,r){sh++,uO[sh]=e.current,e.current=r}var uf={},Ei=yf(uf),ca=yf(!1),Td=uf;function jh(e,r){var t=e.type.contextTypes;if(!t)return uf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in t)o[i]=r[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),o}function fa(e){return e=e.childContextTypes,e!=null}function Q_(){Pn(ca),Pn(Ei)}function VL(e,r,t){if(Ei.current!==uf)throw Error(vt(168));En(Ei,r),En(ca,t)}function tq(e,r,t){var n=e.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var o in n)if(!(o in r))throw Error(vt(108,kne(e)||"Unknown",o));return Vn({},t,n)}function J_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||uf,Td=Ei.current,En(Ei,e),En(ca,ca.current),!0}function GL(e,r,t){var n=e.stateNode;if(!n)throw Error(vt(169));t?(e=tq(e,r,Td),n.__reactInternalMemoizedMergedChildContext=e,Pn(ca),Pn(Ei),En(Ei,e)):Pn(ca),En(ca,t)}var Nl=null,_w=!1,ak=!1;function rq(e){Nl===null?Nl=[e]:Nl.push(e)}function Uoe(e){_w=!0,rq(e)}function xf(){if(!ak&&Nl!==null){ak=!0;var e=0,r=mn;try{var t=Nl;for(mn=1;e<t.length;e++){var n=t[e];do n=n(!0);while(n!==null)}Nl=null,_w=!1}catch(o){throw Nl!==null&&(Nl=Nl.slice(e+1)),R8(oP,xf),o}finally{mn=r,ak=!1}}return null}var uh=[],lh=0,Z_=null,e2=0,ds=[],ps=0,Ad=null,Ll=1,Bl="";function Xf(e,r){uh[lh++]=e2,uh[lh++]=Z_,Z_=e,e2=r}function nq(e,r,t){ds[ps++]=Ll,ds[ps++]=Bl,ds[ps++]=Ad,Ad=e;var n=Ll;e=Bl;var o=32-Gs(n)-1;n&=~(1<<o),t+=1;var i=32-Gs(r)+o;if(30<i){var a=o-o%5;i=(n&(1<<a)-1).toString(32),n>>=a,o-=a,Ll=1<<32-Gs(r)+o|t<<o|n,Bl=i+e}else Ll=1<<i|t<<o|n,Bl=e}function pP(e){e.return!==null&&(Xf(e,1),nq(e,1,0))}function hP(e){for(;e===Z_;)Z_=uh[--lh],uh[lh]=null,e2=uh[--lh],uh[lh]=null;for(;e===Ad;)Ad=ds[--ps],ds[ps]=null,Bl=ds[--ps],ds[ps]=null,Ll=ds[--ps],ds[ps]=null}var ja=null,Ma=null,Bn=!1,Us=null;function oq(e,r){var t=ys(5,null,null,0);t.elementType="DELETED",t.stateNode=r,t.return=e,r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)}function YL(e,r){switch(e.tag){case 5:var t=e.type;return r=r.nodeType!==1||t.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ja=e,Ma=Gc(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ja=e,Ma=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(t=Ad!==null?{id:Ll,overflow:Bl}:null,e.memoizedState={dehydrated:r,treeContext:t,retryLane:1073741824},t=ys(18,null,null,0),t.stateNode=r,t.return=e,e.child=t,ja=e,Ma=null,!0):!1;default:return!1}}function lO(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cO(e){if(Bn){var r=Ma;if(r){var t=r;if(!YL(e,r)){if(lO(e))throw Error(vt(418));r=Gc(t.nextSibling);var n=ja;r&&YL(e,r)?oq(n,t):(e.flags=e.flags&-4097|2,Bn=!1,ja=e)}}else{if(lO(e))throw Error(vt(418));e.flags=e.flags&-4097|2,Bn=!1,ja=e}}}function KL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ja=e}function wx(e){if(e!==ja)return!1;if(!Bn)return KL(e),Bn=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!iO(e.type,e.memoizedProps)),r&&(r=Ma)){if(lO(e))throw iq(),Error(vt(418));for(;r;)oq(e,r),r=Gc(r.nextSibling)}if(KL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(vt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(r===0){Ma=Gc(e.nextSibling);break e}r--}else t!=="$"&&t!=="$!"&&t!=="$?"||r++}e=e.nextSibling}Ma=null}}else Ma=ja?Gc(e.stateNode.nextSibling):null;return!0}function iq(){for(var e=Ma;e;)e=Gc(e.nextSibling)}function $h(){Ma=ja=null,Bn=!1}function vP(e){Us===null?Us=[e]:Us.push(e)}var qoe=oc.ReactCurrentBatchConfig;function Im(e,r,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(vt(309));var n=t.stateNode}if(!n)throw Error(vt(147,e));var o=n,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(a){var s=o.refs;a===null?delete s[i]:s[i]=a},r._stringRef=i,r)}if(typeof e!="string")throw Error(vt(284));if(!t._owner)throw Error(vt(290,e))}return e}function Sx(e,r){throw e=Object.prototype.toString.call(r),Error(vt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function XL(e){var r=e._init;return r(e._payload)}function aq(e){function r(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function t(v,g){if(!e)return null;for(;g!==null;)r(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function o(v,g){return v=Qc(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,g,x,b){return g===null||g.tag!==6?(g=pk(x,v.mode,b),g.return=v,g):(g=o(g,x),g.return=v,g)}function u(v,g,x,b){var w=x.type;return w===rh?c(v,g,x.props.children,b,x.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ic&&XL(w)===g.type)?(b=o(g,x.props),b.ref=Im(v,g,x),b.return=v,b):(b=w_(x.type,x.key,x.props,null,v.mode,b),b.ref=Im(v,g,x),b.return=v,b)}function l(v,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=hk(x,v.mode,b),g.return=v,g):(g=o(g,x.children||[]),g.return=v,g)}function c(v,g,x,b,w){return g===null||g.tag!==7?(g=bd(x,v.mode,b,w),g.return=v,g):(g=o(g,x),g.return=v,g)}function f(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pk(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case dx:return x=w_(g.type,g.key,g.props,null,v.mode,x),x.ref=Im(v,null,g),x.return=v,x;case th:return g=hk(g,v.mode,x),g.return=v,g;case Ic:var b=g._init;return f(v,b(g._payload),x)}if(ug(g)||Tm(g))return g=bd(g,v.mode,x,null),g.return=v,g;Sx(v,g)}return null}function d(v,g,x,b){var w=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(v,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dx:return x.key===w?u(v,g,x,b):null;case th:return x.key===w?l(v,g,x,b):null;case Ic:return w=x._init,d(v,g,w(x._payload),b)}if(ug(x)||Tm(x))return w!==null?null:c(v,g,x,b,null);Sx(v,x)}return null}function p(v,g,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,s(g,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dx:return v=v.get(b.key===null?x:b.key)||null,u(g,v,b,w);case th:return v=v.get(b.key===null?x:b.key)||null,l(g,v,b,w);case Ic:var E=b._init;return p(v,g,x,E(b._payload),w)}if(ug(b)||Tm(b))return v=v.get(x)||null,c(g,v,b,w,null);Sx(g,b)}return null}function h(v,g,x,b){for(var w=null,E=null,C=g,S=g=0,T=null;C!==null&&S<x.length;S++){C.index>S?(T=C,C=null):T=C.sibling;var k=d(v,C,x[S],b);if(k===null){C===null&&(C=T);break}e&&C&&k.alternate===null&&r(v,C),g=i(k,g,S),E===null?w=k:E.sibling=k,E=k,C=T}if(S===x.length)return t(v,C),Bn&&Xf(v,S),w;if(C===null){for(;S<x.length;S++)C=f(v,x[S],b),C!==null&&(g=i(C,g,S),E===null?w=C:E.sibling=C,E=C);return Bn&&Xf(v,S),w}for(C=n(v,C);S<x.length;S++)T=p(C,v,S,x[S],b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?S:T.key),g=i(T,g,S),E===null?w=T:E.sibling=T,E=T);return e&&C.forEach(function(P){return r(v,P)}),Bn&&Xf(v,S),w}function m(v,g,x,b){var w=Tm(x);if(typeof w!="function")throw Error(vt(150));if(x=w.call(x),x==null)throw Error(vt(151));for(var E=w=null,C=g,S=g=0,T=null,k=x.next();C!==null&&!k.done;S++,k=x.next()){C.index>S?(T=C,C=null):T=C.sibling;var P=d(v,C,k.value,b);if(P===null){C===null&&(C=T);break}e&&C&&P.alternate===null&&r(v,C),g=i(P,g,S),E===null?w=P:E.sibling=P,E=P,C=T}if(k.done)return t(v,C),Bn&&Xf(v,S),w;if(C===null){for(;!k.done;S++,k=x.next())k=f(v,k.value,b),k!==null&&(g=i(k,g,S),E===null?w=k:E.sibling=k,E=k);return Bn&&Xf(v,S),w}for(C=n(v,C);!k.done;S++,k=x.next())k=p(C,v,S,k.value,b),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?S:k.key),g=i(k,g,S),E===null?w=k:E.sibling=k,E=k);return e&&C.forEach(function(I){return r(v,I)}),Bn&&Xf(v,S),w}function y(v,g,x,b){if(typeof x=="object"&&x!==null&&x.type===rh&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case dx:e:{for(var w=x.key,E=g;E!==null;){if(E.key===w){if(w=x.type,w===rh){if(E.tag===7){t(v,E.sibling),g=o(E,x.props.children),g.return=v,v=g;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ic&&XL(w)===E.type){t(v,E.sibling),g=o(E,x.props),g.ref=Im(v,E,x),g.return=v,v=g;break e}t(v,E);break}else r(v,E);E=E.sibling}x.type===rh?(g=bd(x.props.children,v.mode,b,x.key),g.return=v,v=g):(b=w_(x.type,x.key,x.props,null,v.mode,b),b.ref=Im(v,g,x),b.return=v,v=b)}return a(v);case th:e:{for(E=x.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){t(v,g.sibling),g=o(g,x.children||[]),g.return=v,v=g;break e}else{t(v,g);break}else r(v,g);g=g.sibling}g=hk(x,v.mode,b),g.return=v,v=g}return a(v);case Ic:return E=x._init,y(v,g,E(x._payload),b)}if(ug(x))return h(v,g,x,b);if(Tm(x))return m(v,g,x,b);Sx(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(t(v,g.sibling),g=o(g,x),g.return=v,v=g):(t(v,g),g=pk(x,v.mode,b),g.return=v,v=g),a(v)):t(v,g)}return y}var zh=aq(!0),sq=aq(!1),t2=yf(null),r2=null,ch=null,mP=null;function gP(){mP=ch=r2=null}function yP(e){var r=t2.current;Pn(t2),e._currentValue=r}function fO(e,r,t){for(;e!==null;){var n=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),e===t)break;e=e.return}}function bh(e,r){r2=e,mP=ch=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(la=!0),e.firstContext=null)}function Ss(e){var r=e._currentValue;if(mP!==e)if(e={context:e,memoizedValue:r,next:null},ch===null){if(r2===null)throw Error(vt(308));ch=e,r2.dependencies={lanes:0,firstContext:e}}else ch=ch.next=e;return r}var cd=null;function xP(e){cd===null?cd=[e]:cd.push(e)}function uq(e,r,t,n){var o=r.interleaved;return o===null?(t.next=t,xP(r)):(t.next=o.next,o.next=t),r.interleaved=t,Kl(e,n)}function Kl(e,r){e.lanes|=r;var t=e.alternate;for(t!==null&&(t.lanes|=r),t=e,e=e.return;e!==null;)e.childLanes|=r,t=e.alternate,t!==null&&(t.childLanes|=r),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Nc=!1;function bP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lq(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Yc(e,r,t){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Kr&2){var o=n.pending;return o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r,Kl(e,t)}return o=n.interleaved,o===null?(r.next=r,xP(n)):(r.next=o.next,o.next=r),n.interleaved=r,Kl(e,t)}function m_(e,r,t){if(r=r.updateQueue,r!==null&&(r=r.shared,(t&4194240)!==0)){var n=r.lanes;n&=e.pendingLanes,t|=n,r.lanes=t,iP(e,t)}}function QL(e,r){var t=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var o=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?o=i=a:i=i.next=a,t=t.next}while(t!==null);i===null?o=i=r:i=i.next=r}else o=i=r;t={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=r:e.next=r,t.lastBaseUpdate=r}function n2(e,r,t,n){var o=e.updateQueue;Nc=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var u=s,l=u.next;u.next=null,a===null?i=l:a.next=l,a=u;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(i!==null){var f=o.baseState;a=0,c=l=u=null,s=i;do{var d=s.lane,p=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(d=r,p=t,m.tag){case 1:if(h=m.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=m.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=Vn({},f,d);break e;case 2:Nc=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;d=s,s=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(c===null&&(u=f),o.baseState=u,o.firstBaseUpdate=l,o.lastBaseUpdate=c,r=o.shared.interleaved,r!==null){o=r;do a|=o.lane,o=o.next;while(o!==r)}else i===null&&(o.shared.lanes=0);Dd|=a,e.lanes=a,e.memoizedState=f}}function JL(e,r,t){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var n=e[r],o=n.callback;if(o!==null){if(n.callback=null,n=t,typeof o!="function")throw Error(vt(191,o));o.call(n)}}}var M0={},zu=yf(M0),Jg=yf(M0),Zg=yf(M0);function fd(e){if(e===M0)throw Error(vt(174));return e}function _P(e,r){switch(En(Zg,r),En(Jg,e),En(zu,M0),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:HA(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=HA(r,e)}Pn(zu),En(zu,r)}function Wh(){Pn(zu),Pn(Jg),Pn(Zg)}function cq(e){fd(Zg.current);var r=fd(zu.current),t=HA(r,e.type);r!==t&&(En(Jg,e),En(zu,t))}function wP(e){Jg.current===e&&(Pn(zu),Pn(Jg))}var zn=yf(0);function o2(e){for(var r=e;r!==null;){if(r.tag===13){var t=r.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var sk=[];function SP(){for(var e=0;e<sk.length;e++)sk[e]._workInProgressVersionPrimary=null;sk.length=0}var g_=oc.ReactCurrentDispatcher,uk=oc.ReactCurrentBatchConfig,Od=0,Hn=null,ko=null,Lo=null,i2=!1,Eg=!1,e0=0,Hoe=0;function vi(){throw Error(vt(321))}function CP(e,r){if(r===null)return!1;for(var t=0;t<r.length&&t<e.length;t++)if(!Zs(e[t],r[t]))return!1;return!0}function EP(e,r,t,n,o,i){if(Od=i,Hn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,g_.current=e===null||e.memoizedState===null?Koe:Xoe,e=t(n,o),Eg){i=0;do{if(Eg=!1,e0=0,25<=i)throw Error(vt(301));i+=1,Lo=ko=null,r.updateQueue=null,g_.current=Qoe,e=t(n,o)}while(Eg)}if(g_.current=a2,r=ko!==null&&ko.next!==null,Od=0,Lo=ko=Hn=null,i2=!1,r)throw Error(vt(300));return e}function kP(){var e=e0!==0;return e0=0,e}function Eu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lo===null?Hn.memoizedState=Lo=e:Lo=Lo.next=e,Lo}function Cs(){if(ko===null){var e=Hn.alternate;e=e!==null?e.memoizedState:null}else e=ko.next;var r=Lo===null?Hn.memoizedState:Lo.next;if(r!==null)Lo=r,ko=e;else{if(e===null)throw Error(vt(310));ko=e,e={memoizedState:ko.memoizedState,baseState:ko.baseState,baseQueue:ko.baseQueue,queue:ko.queue,next:null},Lo===null?Hn.memoizedState=Lo=e:Lo=Lo.next=e}return Lo}function t0(e,r){return typeof r=="function"?r(e):r}function lk(e){var r=Cs(),t=r.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=e;var n=ko,o=n.baseQueue,i=t.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}n.baseQueue=o=i,t.pending=null}if(o!==null){i=o.next,n=n.baseState;var s=a=null,u=null,l=i;do{var c=l.lane;if((Od&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,a=n):u=u.next=f,Hn.lanes|=c,Dd|=c}l=l.next}while(l!==null&&l!==i);u===null?a=n:u.next=s,Zs(n,r.memoizedState)||(la=!0),r.memoizedState=n,r.baseState=a,r.baseQueue=u,t.lastRenderedState=n}if(e=t.interleaved,e!==null){o=e;do i=o.lane,Hn.lanes|=i,Dd|=i,o=o.next;while(o!==e)}else o===null&&(t.lanes=0);return[r.memoizedState,t.dispatch]}function ck(e){var r=Cs(),t=r.queue;if(t===null)throw Error(vt(311));t.lastRenderedReducer=e;var n=t.dispatch,o=t.pending,i=r.memoizedState;if(o!==null){t.pending=null;var a=o=o.next;do i=e(i,a.action),a=a.next;while(a!==o);Zs(i,r.memoizedState)||(la=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),t.lastRenderedState=i}return[i,n]}function fq(){}function dq(e,r){var t=Hn,n=Cs(),o=r(),i=!Zs(n.memoizedState,o);if(i&&(n.memoizedState=o,la=!0),n=n.queue,RP(vq.bind(null,t,n,e),[e]),n.getSnapshot!==r||i||Lo!==null&&Lo.memoizedState.tag&1){if(t.flags|=2048,r0(9,hq.bind(null,t,n,o,r),void 0,null),$o===null)throw Error(vt(349));Od&30||pq(t,r,o)}return o}function pq(e,r,t){e.flags|=16384,e={getSnapshot:r,value:t},r=Hn.updateQueue,r===null?(r={lastEffect:null,stores:null},Hn.updateQueue=r,r.stores=[e]):(t=r.stores,t===null?r.stores=[e]:t.push(e))}function hq(e,r,t,n){r.value=t,r.getSnapshot=n,mq(r)&&gq(e)}function vq(e,r,t){return t(function(){mq(r)&&gq(e)})}function mq(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!Zs(e,t)}catch{return!0}}function gq(e){var r=Kl(e,1);r!==null&&Ys(r,e,1,-1)}function ZL(e){var r=Eu();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:e},r.queue=e,e=e.dispatch=Yoe.bind(null,Hn,e),[r.memoizedState,e]}function r0(e,r,t,n){return e={tag:e,create:r,destroy:t,deps:n,next:null},r=Hn.updateQueue,r===null?(r={lastEffect:null,stores:null},Hn.updateQueue=r,r.lastEffect=e.next=e):(t=r.lastEffect,t===null?r.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,r.lastEffect=e)),e}function yq(){return Cs().memoizedState}function y_(e,r,t,n){var o=Eu();Hn.flags|=e,o.memoizedState=r0(1|r,t,void 0,n===void 0?null:n)}function ww(e,r,t,n){var o=Cs();n=n===void 0?null:n;var i=void 0;if(ko!==null){var a=ko.memoizedState;if(i=a.destroy,n!==null&&CP(n,a.deps)){o.memoizedState=r0(r,t,i,n);return}}Hn.flags|=e,o.memoizedState=r0(1|r,t,i,n)}function e4(e,r){return y_(8390656,8,e,r)}function RP(e,r){return ww(2048,8,e,r)}function xq(e,r){return ww(4,2,e,r)}function bq(e,r){return ww(4,4,e,r)}function _q(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function wq(e,r,t){return t=t!=null?t.concat([e]):null,ww(4,4,_q.bind(null,r,e),t)}function TP(){}function Sq(e,r){var t=Cs();r=r===void 0?null:r;var n=t.memoizedState;return n!==null&&r!==null&&CP(r,n[1])?n[0]:(t.memoizedState=[e,r],e)}function Cq(e,r){var t=Cs();r=r===void 0?null:r;var n=t.memoizedState;return n!==null&&r!==null&&CP(r,n[1])?n[0]:(e=e(),t.memoizedState=[e,r],e)}function Eq(e,r,t){return Od&21?(Zs(t,r)||(t=O8(),Hn.lanes|=t,Dd|=t,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,la=!0),e.memoizedState=t)}function Voe(e,r){var t=mn;mn=t!==0&&4>t?t:4,e(!0);var n=uk.transition;uk.transition={};try{e(!1),r()}finally{mn=t,uk.transition=n}}function kq(){return Cs().memoizedState}function Goe(e,r,t){var n=Xc(e);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},Rq(e))Tq(r,t);else if(t=uq(e,r,t,n),t!==null){var o=qi();Ys(t,e,n,o),Aq(t,r,n)}}function Yoe(e,r,t){var n=Xc(e),o={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(Rq(e))Tq(r,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var a=r.lastRenderedState,s=i(a,t);if(o.hasEagerState=!0,o.eagerState=s,Zs(s,a)){var u=r.interleaved;u===null?(o.next=o,xP(r)):(o.next=u.next,u.next=o),r.interleaved=o;return}}catch{}finally{}t=uq(e,r,o,n),t!==null&&(o=qi(),Ys(t,e,n,o),Aq(t,r,n))}}function Rq(e){var r=e.alternate;return e===Hn||r!==null&&r===Hn}function Tq(e,r){Eg=i2=!0;var t=e.pending;t===null?r.next=r:(r.next=t.next,t.next=r),e.pending=r}function Aq(e,r,t){if(t&4194240){var n=r.lanes;n&=e.pendingLanes,t|=n,r.lanes=t,iP(e,t)}}var a2={readContext:Ss,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},Koe={readContext:Ss,useCallback:function(e,r){return Eu().memoizedState=[e,r===void 0?null:r],e},useContext:Ss,useEffect:e4,useImperativeHandle:function(e,r,t){return t=t!=null?t.concat([e]):null,y_(4194308,4,_q.bind(null,r,e),t)},useLayoutEffect:function(e,r){return y_(4194308,4,e,r)},useInsertionEffect:function(e,r){return y_(4,2,e,r)},useMemo:function(e,r){var t=Eu();return r=r===void 0?null:r,e=e(),t.memoizedState=[e,r],e},useReducer:function(e,r,t){var n=Eu();return r=t!==void 0?t(r):r,n.memoizedState=n.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Goe.bind(null,Hn,e),[n.memoizedState,e]},useRef:function(e){var r=Eu();return e={current:e},r.memoizedState=e},useState:ZL,useDebugValue:TP,useDeferredValue:function(e){return Eu().memoizedState=e},useTransition:function(){var e=ZL(!1),r=e[0];return e=Voe.bind(null,e[1]),Eu().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,t){var n=Hn,o=Eu();if(Bn){if(t===void 0)throw Error(vt(407));t=t()}else{if(t=r(),$o===null)throw Error(vt(349));Od&30||pq(n,r,t)}o.memoizedState=t;var i={value:t,getSnapshot:r};return o.queue=i,e4(vq.bind(null,n,i,e),[e]),n.flags|=2048,r0(9,hq.bind(null,n,i,t,r),void 0,null),t},useId:function(){var e=Eu(),r=$o.identifierPrefix;if(Bn){var t=Bl,n=Ll;t=(n&~(1<<32-Gs(n)-1)).toString(32)+t,r=":"+r+"R"+t,t=e0++,0<t&&(r+="H"+t.toString(32)),r+=":"}else t=Hoe++,r=":"+r+"r"+t.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Xoe={readContext:Ss,useCallback:Sq,useContext:Ss,useEffect:RP,useImperativeHandle:wq,useInsertionEffect:xq,useLayoutEffect:bq,useMemo:Cq,useReducer:lk,useRef:yq,useState:function(){return lk(t0)},useDebugValue:TP,useDeferredValue:function(e){var r=Cs();return Eq(r,ko.memoizedState,e)},useTransition:function(){var e=lk(t0)[0],r=Cs().memoizedState;return[e,r]},useMutableSource:fq,useSyncExternalStore:dq,useId:kq,unstable_isNewReconciler:!1},Qoe={readContext:Ss,useCallback:Sq,useContext:Ss,useEffect:RP,useImperativeHandle:wq,useInsertionEffect:xq,useLayoutEffect:bq,useMemo:Cq,useReducer:ck,useRef:yq,useState:function(){return ck(t0)},useDebugValue:TP,useDeferredValue:function(e){var r=Cs();return ko===null?r.memoizedState=e:Eq(r,ko.memoizedState,e)},useTransition:function(){var e=ck(t0)[0],r=Cs().memoizedState;return[e,r]},useMutableSource:fq,useSyncExternalStore:dq,useId:kq,unstable_isNewReconciler:!1};function $s(e,r){if(e&&e.defaultProps){r=Vn({},r),e=e.defaultProps;for(var t in e)r[t]===void 0&&(r[t]=e[t]);return r}return r}function dO(e,r,t,n){r=e.memoizedState,t=t(n,r),t=t==null?r:Vn({},r,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var Sw={isMounted:function(e){return(e=e._reactInternals)?Ud(e)===e:!1},enqueueSetState:function(e,r,t){e=e._reactInternals;var n=qi(),o=Xc(e),i=jl(n,o);i.payload=r,t!=null&&(i.callback=t),r=Yc(e,i,o),r!==null&&(Ys(r,e,o,n),m_(r,e,o))},enqueueReplaceState:function(e,r,t){e=e._reactInternals;var n=qi(),o=Xc(e),i=jl(n,o);i.tag=1,i.payload=r,t!=null&&(i.callback=t),r=Yc(e,i,o),r!==null&&(Ys(r,e,o,n),m_(r,e,o))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var t=qi(),n=Xc(e),o=jl(t,n);o.tag=2,r!=null&&(o.callback=r),r=Yc(e,o,n),r!==null&&(Ys(r,e,n,t),m_(r,e,n))}};function t4(e,r,t,n,o,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):r.prototype&&r.prototype.isPureReactComponent?!Yg(t,n)||!Yg(o,i):!0}function Oq(e,r,t){var n=!1,o=uf,i=r.contextType;return typeof i=="object"&&i!==null?i=Ss(i):(o=fa(r)?Td:Ei.current,n=r.contextTypes,i=(n=n!=null)?jh(e,o):uf),r=new r(t,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sw,e.stateNode=r,r._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),r}function r4(e,r,t,n){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(t,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(t,n),r.state!==e&&Sw.enqueueReplaceState(r,r.state,null)}function pO(e,r,t,n){var o=e.stateNode;o.props=t,o.state=e.memoizedState,o.refs={},bP(e);var i=r.contextType;typeof i=="object"&&i!==null?o.context=Ss(i):(i=fa(r)?Td:Ei.current,o.context=jh(e,i)),o.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(dO(e,r,i,t),o.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&Sw.enqueueReplaceState(o,o.state,null),n2(e,t,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Uh(e,r){try{var t="",n=r;do t+=Ene(n),n=n.return;while(n);var o=t}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:o,digest:null}}function fk(e,r,t){return{value:e,source:null,stack:t??null,digest:r??null}}function hO(e,r){try{console.error(r.value)}catch(t){setTimeout(function(){throw t})}}var Joe=typeof WeakMap=="function"?WeakMap:Map;function Dq(e,r,t){t=jl(-1,t),t.tag=3,t.payload={element:null};var n=r.value;return t.callback=function(){u2||(u2=!0,CO=n),hO(e,r)},t}function Pq(e,r,t){t=jl(-1,t),t.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=r.value;t.payload=function(){return n(o)},t.callback=function(){hO(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){hO(e,r),typeof n!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})}),t}function n4(e,r,t){var n=e.pingCache;if(n===null){n=e.pingCache=new Joe;var o=new Set;n.set(r,o)}else o=n.get(r),o===void 0&&(o=new Set,n.set(r,o));o.has(t)||(o.add(t),e=die.bind(null,e,r,t),r.then(e,e))}function o4(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function i4(e,r,t,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===r?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(r=jl(-1,1),r.tag=2,Yc(t,r,1))),t.lanes|=1),e)}var Zoe=oc.ReactCurrentOwner,la=!1;function ji(e,r,t,n){r.child=e===null?sq(r,null,t,n):zh(r,e.child,t,n)}function a4(e,r,t,n,o){t=t.render;var i=r.ref;return bh(r,o),n=EP(e,r,t,n,i,o),t=kP(),e!==null&&!la?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~o,Xl(e,r,o)):(Bn&&t&&pP(r),r.flags|=1,ji(e,r,n,o),r.child)}function s4(e,r,t,n,o){if(e===null){var i=t.type;return typeof i=="function"&&!FP(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(r.tag=15,r.type=i,Iq(e,r,i,n,o)):(e=w_(t.type,null,n,r,r.mode,o),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if(t=t.compare,t=t!==null?t:Yg,t(a,n)&&e.ref===r.ref)return Xl(e,r,o)}return r.flags|=1,e=Qc(i,n),e.ref=r.ref,e.return=r,r.child=e}function Iq(e,r,t,n,o){if(e!==null){var i=e.memoizedProps;if(Yg(i,n)&&e.ref===r.ref)if(la=!1,r.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(la=!0);else return r.lanes=e.lanes,Xl(e,r,o)}return vO(e,r,t,n,o)}function Nq(e,r,t){var n=r.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(dh,Aa),Aa|=t;else{if(!(t&1073741824))return e=i!==null?i.baseLanes|t:t,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,En(dh,Aa),Aa|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:t,En(dh,Aa),Aa|=n}else i!==null?(n=i.baseLanes|t,r.memoizedState=null):n=t,En(dh,Aa),Aa|=n;return ji(e,r,o,t),r.child}function Mq(e,r){var t=r.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(r.flags|=512,r.flags|=2097152)}function vO(e,r,t,n,o){var i=fa(t)?Td:Ei.current;return i=jh(r,i),bh(r,o),t=EP(e,r,t,n,i,o),n=kP(),e!==null&&!la?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~o,Xl(e,r,o)):(Bn&&n&&pP(r),r.flags|=1,ji(e,r,t,o),r.child)}function u4(e,r,t,n,o){if(fa(t)){var i=!0;J_(r)}else i=!1;if(bh(r,o),r.stateNode===null)x_(e,r),Oq(r,t,n),pO(r,t,n,o),n=!0;else if(e===null){var a=r.stateNode,s=r.memoizedProps;a.props=s;var u=a.context,l=t.contextType;typeof l=="object"&&l!==null?l=Ss(l):(l=fa(t)?Td:Ei.current,l=jh(r,l));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||u!==l)&&r4(r,a,n,l),Nc=!1;var d=r.memoizedState;a.state=d,n2(r,n,a,o),u=r.memoizedState,s!==n||d!==u||ca.current||Nc?(typeof c=="function"&&(dO(r,t,c,n),u=r.memoizedState),(s=Nc||t4(r,t,s,n,d,u,l))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(r.flags|=4194308)):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{a=r.stateNode,lq(e,r),s=r.memoizedProps,l=r.type===r.elementType?s:$s(r.type,s),a.props=l,f=r.pendingProps,d=a.context,u=t.contextType,typeof u=="object"&&u!==null?u=Ss(u):(u=fa(t)?Td:Ei.current,u=jh(r,u));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==u)&&r4(r,a,n,u),Nc=!1,d=r.memoizedState,a.state=d,n2(r,n,a,o);var h=r.memoizedState;s!==f||d!==h||ca.current||Nc?(typeof p=="function"&&(dO(r,t,p,n),h=r.memoizedState),(l=Nc||t4(r,t,l,n,d,h,u)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,h,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,h,u)),typeof a.componentDidUpdate=="function"&&(r.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=h),a.props=n,a.state=h,a.context=u,n=l):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(r.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(r.flags|=1024),n=!1)}return mO(e,r,t,n,i,o)}function mO(e,r,t,n,o,i){Mq(e,r);var a=(r.flags&128)!==0;if(!n&&!a)return o&&GL(r,t,!1),Xl(e,r,i);n=r.stateNode,Zoe.current=r;var s=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,e!==null&&a?(r.child=zh(r,e.child,null,i),r.child=zh(r,null,s,i)):ji(e,r,s,i),r.memoizedState=n.state,o&&GL(r,t,!0),r.child}function Fq(e){var r=e.stateNode;r.pendingContext?VL(e,r.pendingContext,r.pendingContext!==r.context):r.context&&VL(e,r.context,!1),_P(e,r.containerInfo)}function l4(e,r,t,n,o){return $h(),vP(o),r.flags|=256,ji(e,r,t,n),r.child}var gO={dehydrated:null,treeContext:null,retryLane:0};function yO(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lq(e,r,t){var n=r.pendingProps,o=zn.current,i=!1,a=(r.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),En(zn,o&1),e===null)return cO(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(a=n.children,e=n.fallback,i?(n=r.mode,i=r.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=kw(a,n,0,null),e=bd(e,n,t,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=yO(t),r.memoizedState=gO,e):AP(r,a));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return eie(e,r,a,n,s,o,t);if(i){i=n.fallback,a=r.mode,o=e.child,s=o.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&r.child!==o?(n=r.child,n.childLanes=0,n.pendingProps=u,r.deletions=null):(n=Qc(o,u),n.subtreeFlags=o.subtreeFlags&14680064),s!==null?i=Qc(s,i):(i=bd(i,a,t,null),i.flags|=2),i.return=r,n.return=r,n.sibling=i,r.child=n,n=i,i=r.child,a=e.child.memoizedState,a=a===null?yO(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~t,r.memoizedState=gO,n}return i=e.child,e=i.sibling,n=Qc(i,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=t),n.return=r,n.sibling=null,e!==null&&(t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)),r.child=n,r.memoizedState=null,n}function AP(e,r){return r=kw({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Cx(e,r,t,n){return n!==null&&vP(n),zh(r,e.child,null,t),e=AP(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function eie(e,r,t,n,o,i,a){if(t)return r.flags&256?(r.flags&=-257,n=fk(Error(vt(422))),Cx(e,r,a,n)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=n.fallback,o=r.mode,n=kw({mode:"visible",children:n.children},o,0,null),i=bd(i,o,a,null),i.flags|=2,n.return=r,i.return=r,n.sibling=i,r.child=n,r.mode&1&&zh(r,e.child,null,a),r.child.memoizedState=yO(a),r.memoizedState=gO,i);if(!(r.mode&1))return Cx(e,r,a,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(vt(419)),n=fk(i,n,void 0),Cx(e,r,a,n)}if(s=(a&e.childLanes)!==0,la||s){if(n=$o,n!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Kl(e,o),Ys(n,e,o,-1))}return MP(),n=fk(Error(vt(421))),Cx(e,r,a,n)}return o.data==="$?"?(r.flags|=128,r.child=e.child,r=pie.bind(null,e),o._reactRetry=r,null):(e=i.treeContext,Ma=Gc(o.nextSibling),ja=r,Bn=!0,Us=null,e!==null&&(ds[ps++]=Ll,ds[ps++]=Bl,ds[ps++]=Ad,Ll=e.id,Bl=e.overflow,Ad=r),r=AP(r,n.children),r.flags|=4096,r)}function c4(e,r,t){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r),fO(e.return,r,t)}function dk(e,r,t,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:o}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=t,i.tailMode=o)}function Bq(e,r,t){var n=r.pendingProps,o=n.revealOrder,i=n.tail;if(ji(e,r,n.children,t),n=zn.current,n&2)n=n&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c4(e,t,r);else if(e.tag===19)c4(e,t,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(En(zn,n),!(r.mode&1))r.memoizedState=null;else switch(o){case"forwards":for(t=r.child,o=null;t!==null;)e=t.alternate,e!==null&&o2(e)===null&&(o=t),t=t.sibling;t=o,t===null?(o=r.child,r.child=null):(o=t.sibling,t.sibling=null),dk(r,!1,o,t,i);break;case"backwards":for(t=null,o=r.child,r.child=null;o!==null;){if(e=o.alternate,e!==null&&o2(e)===null){r.child=o;break}e=o.sibling,o.sibling=t,t=o,o=e}dk(r,!0,t,null,i);break;case"together":dk(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function x_(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Xl(e,r,t){if(e!==null&&(r.dependencies=e.dependencies),Dd|=r.lanes,!(t&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(vt(153));if(r.child!==null){for(e=r.child,t=Qc(e,e.pendingProps),r.child=t,t.return=r;e.sibling!==null;)e=e.sibling,t=t.sibling=Qc(e,e.pendingProps),t.return=r;t.sibling=null}return r.child}function tie(e,r,t){switch(r.tag){case 3:Fq(r),$h();break;case 5:cq(r);break;case 1:fa(r.type)&&J_(r);break;case 4:_P(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,o=r.memoizedProps.value;En(t2,n._currentValue),n._currentValue=o;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(En(zn,zn.current&1),r.flags|=128,null):t&r.child.childLanes?Lq(e,r,t):(En(zn,zn.current&1),e=Xl(e,r,t),e!==null?e.sibling:null);En(zn,zn.current&1);break;case 19:if(n=(t&r.childLanes)!==0,e.flags&128){if(n)return Bq(e,r,t);r.flags|=128}if(o=r.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),En(zn,zn.current),n)break;return null;case 22:case 23:return r.lanes=0,Nq(e,r,t)}return Xl(e,r,t)}var jq,xO,$q,zq;jq=function(e,r){for(var t=r.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};xO=function(){};$q=function(e,r,t,n){var o=e.memoizedProps;if(o!==n){e=r.stateNode,fd(zu.current);var i=null;switch(t){case"input":o=zA(e,o),n=zA(e,n),i=[];break;case"select":o=Vn({},o,{value:void 0}),n=Vn({},n,{value:void 0}),i=[];break;case"textarea":o=qA(e,o),n=qA(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=X_)}VA(t,n);var a;t=null;for(l in o)if(!n.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var s=o[l];for(a in s)s.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zg.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(s=o!=null?o[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(t||(t={}),t[a]=u[a])}else t||(i||(i=[]),i.push(l,t)),t=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(zg.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&On("scroll",e),i||s===u||(i=[])):(i=i||[]).push(l,u))}t&&(i=i||[]).push("style",t);var l=i;(r.updateQueue=l)&&(r.flags|=4)}};zq=function(e,r,t,n){t!==n&&(r.flags|=4)};function Nm(e,r){if(!Bn)switch(e.tailMode){case"hidden":r=e.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function mi(e){var r=e.alternate!==null&&e.alternate.child===e.child,t=0,n=0;if(r)for(var o=e.child;o!==null;)t|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)t|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=t,r}function rie(e,r,t){var n=r.pendingProps;switch(hP(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(r),null;case 1:return fa(r.type)&&Q_(),mi(r),null;case 3:return n=r.stateNode,Wh(),Pn(ca),Pn(Ei),SP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wx(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Us!==null&&(RO(Us),Us=null))),xO(e,r),mi(r),null;case 5:wP(r);var o=fd(Zg.current);if(t=r.type,e!==null&&r.stateNode!=null)$q(e,r,t,n,o),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(vt(166));return mi(r),null}if(e=fd(zu.current),wx(r)){n=r.stateNode,t=r.type;var i=r.memoizedProps;switch(n[Pu]=r,n[Qg]=i,e=(r.mode&1)!==0,t){case"dialog":On("cancel",n),On("close",n);break;case"iframe":case"object":case"embed":On("load",n);break;case"video":case"audio":for(o=0;o<cg.length;o++)On(cg[o],n);break;case"source":On("error",n);break;case"img":case"image":case"link":On("error",n),On("load",n);break;case"details":On("toggle",n);break;case"input":xL(n,i),On("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},On("invalid",n);break;case"textarea":_L(n,i),On("invalid",n)}VA(t,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];a==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&_x(n.textContent,s,e),o=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&_x(n.textContent,s,e),o=["children",""+s]):zg.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&On("scroll",n)}switch(t){case"input":px(n),bL(n,i,!0);break;case"textarea":px(n),wL(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=X_)}n=o,r.updateQueue=n,n!==null&&(r.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=v8(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(t,{is:n.is}):(e=a.createElement(t),t==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,t),e[Pu]=r,e[Qg]=n,jq(e,r,!1,!1),r.stateNode=e;e:{switch(a=GA(t,n),t){case"dialog":On("cancel",e),On("close",e),o=n;break;case"iframe":case"object":case"embed":On("load",e),o=n;break;case"video":case"audio":for(o=0;o<cg.length;o++)On(cg[o],e);o=n;break;case"source":On("error",e),o=n;break;case"img":case"image":case"link":On("error",e),On("load",e),o=n;break;case"details":On("toggle",e),o=n;break;case"input":xL(e,n),o=zA(e,n),On("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=Vn({},n,{value:void 0}),On("invalid",e);break;case"textarea":_L(e,n),o=qA(e,n),On("invalid",e);break;default:o=n}VA(t,o),s=o;for(i in s)if(s.hasOwnProperty(i)){var u=s[i];i==="style"?y8(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&m8(e,u)):i==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&Wg(e,u):typeof u=="number"&&Wg(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zg.hasOwnProperty(i)?u!=null&&i==="onScroll"&&On("scroll",e):u!=null&&ZD(e,i,u,a))}switch(t){case"input":px(e),bL(e,n,!1);break;case"textarea":px(e),wL(e);break;case"option":n.value!=null&&e.setAttribute("value",""+sf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?mh(e,!!n.multiple,i,!1):n.defaultValue!=null&&mh(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=X_)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return mi(r),null;case 6:if(e&&r.stateNode!=null)zq(e,r,e.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(vt(166));if(t=fd(Zg.current),fd(zu.current),wx(r)){if(n=r.stateNode,t=r.memoizedProps,n[Pu]=r,(i=n.nodeValue!==t)&&(e=ja,e!==null))switch(e.tag){case 3:_x(n.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_x(n.nodeValue,t,(e.mode&1)!==0)}i&&(r.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Pu]=r,r.stateNode=n}return mi(r),null;case 13:if(Pn(zn),n=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Bn&&Ma!==null&&r.mode&1&&!(r.flags&128))iq(),$h(),r.flags|=98560,i=!1;else if(i=wx(r),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(vt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(vt(317));i[Pu]=r}else $h(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;mi(r),i=!1}else Us!==null&&(RO(Us),Us=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=t,r):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(e===null||zn.current&1?Ro===0&&(Ro=3):MP())),r.updateQueue!==null&&(r.flags|=4),mi(r),null);case 4:return Wh(),xO(e,r),e===null&&Kg(r.stateNode.containerInfo),mi(r),null;case 10:return yP(r.type._context),mi(r),null;case 17:return fa(r.type)&&Q_(),mi(r),null;case 19:if(Pn(zn),i=r.memoizedState,i===null)return mi(r),null;if(n=(r.flags&128)!==0,a=i.rendering,a===null)if(n)Nm(i,!1);else{if(Ro!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(a=o2(e),a!==null){for(r.flags|=128,Nm(i,!1),n=a.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=t,t=r.child;t!==null;)i=t,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return En(zn,zn.current&1|2),r.child}e=e.sibling}i.tail!==null&&uo()>qh&&(r.flags|=128,n=!0,Nm(i,!1),r.lanes=4194304)}else{if(!n)if(e=o2(a),e!==null){if(r.flags|=128,n=!0,t=e.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),Nm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Bn)return mi(r),null}else 2*uo()-i.renderingStartTime>qh&&t!==1073741824&&(r.flags|=128,n=!0,Nm(i,!1),r.lanes=4194304);i.isBackwards?(a.sibling=r.child,r.child=a):(t=i.last,t!==null?t.sibling=a:r.child=a,i.last=a)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=uo(),r.sibling=null,t=zn.current,En(zn,n?t&1|2:t&1),r):(mi(r),null);case 22:case 23:return NP(),n=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?Aa&1073741824&&(mi(r),r.subtreeFlags&6&&(r.flags|=8192)):mi(r),null;case 24:return null;case 25:return null}throw Error(vt(156,r.tag))}function nie(e,r){switch(hP(r),r.tag){case 1:return fa(r.type)&&Q_(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Wh(),Pn(ca),Pn(Ei),SP(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return wP(r),null;case 13:if(Pn(zn),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(vt(340));$h()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Pn(zn),null;case 4:return Wh(),null;case 10:return yP(r.type._context),null;case 22:case 23:return NP(),null;case 24:return null;default:return null}}var Ex=!1,xi=!1,oie=typeof WeakSet=="function"?WeakSet:Set,jt=null;function fh(e,r){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){eo(e,r,n)}else t.current=null}function bO(e,r,t){try{t()}catch(n){eo(e,r,n)}}var f4=!1;function iie(e,r){if(nO=G_,e=V8(),dP(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var a=0,s=-1,u=-1,l=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==t||o!==0&&f.nodeType!==3||(s=a+o),f!==i||n!==0&&f.nodeType!==3||(u=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===t&&++l===o&&(s=a),d===i&&++c===n&&(u=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=s===-1||u===-1?null:{start:s,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(oO={focusedElem:e,selectionRange:t},G_=!1,jt=r;jt!==null;)if(r=jt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,jt=e;else for(;jt!==null;){r=jt;try{var h=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var m=h.memoizedProps,y=h.memoizedState,v=r.stateNode,g=v.getSnapshotBeforeUpdate(r.elementType===r.type?m:$s(r.type,m),y);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=r.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(vt(163))}}catch(b){eo(r,r.return,b)}if(e=r.sibling,e!==null){e.return=r.return,jt=e;break}jt=r.return}return h=f4,f4=!1,h}function kg(e,r,t){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&bO(r,t,i)}o=o.next}while(o!==n)}}function Cw(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var t=r=r.next;do{if((t.tag&e)===e){var n=t.create;t.destroy=n()}t=t.next}while(t!==r)}}function _O(e){var r=e.ref;if(r!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof r=="function"?r(e):r.current=e}}function Wq(e){var r=e.alternate;r!==null&&(e.alternate=null,Wq(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Pu],delete r[Qg],delete r[sO],delete r[zoe],delete r[Woe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uq(e){return e.tag===5||e.tag===3||e.tag===4}function d4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wO(e,r,t){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?t.nodeType===8?t.parentNode.insertBefore(e,r):t.insertBefore(e,r):(t.nodeType===8?(r=t.parentNode,r.insertBefore(e,t)):(r=t,r.appendChild(e)),t=t._reactRootContainer,t!=null||r.onclick!==null||(r.onclick=X_));else if(n!==4&&(e=e.child,e!==null))for(wO(e,r,t),e=e.sibling;e!==null;)wO(e,r,t),e=e.sibling}function SO(e,r,t){var n=e.tag;if(n===5||n===6)e=e.stateNode,r?t.insertBefore(e,r):t.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(SO(e,r,t),e=e.sibling;e!==null;)SO(e,r,t),e=e.sibling}var Zo=null,zs=!1;function Ec(e,r,t){for(t=t.child;t!==null;)qq(e,r,t),t=t.sibling}function qq(e,r,t){if($u&&typeof $u.onCommitFiberUnmount=="function")try{$u.onCommitFiberUnmount(mw,t)}catch{}switch(t.tag){case 5:xi||fh(t,r);case 6:var n=Zo,o=zs;Zo=null,Ec(e,r,t),Zo=n,zs=o,Zo!==null&&(zs?(e=Zo,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):Zo.removeChild(t.stateNode));break;case 18:Zo!==null&&(zs?(e=Zo,t=t.stateNode,e.nodeType===8?ik(e.parentNode,t):e.nodeType===1&&ik(e,t),Vg(e)):ik(Zo,t.stateNode));break;case 4:n=Zo,o=zs,Zo=t.stateNode.containerInfo,zs=!0,Ec(e,r,t),Zo=n,zs=o;break;case 0:case 11:case 14:case 15:if(!xi&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&bO(t,r,a),o=o.next}while(o!==n)}Ec(e,r,t);break;case 1:if(!xi&&(fh(t,r),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(s){eo(t,r,s)}Ec(e,r,t);break;case 21:Ec(e,r,t);break;case 22:t.mode&1?(xi=(n=xi)||t.memoizedState!==null,Ec(e,r,t),xi=n):Ec(e,r,t);break;default:Ec(e,r,t)}}function p4(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new oie),r.forEach(function(n){var o=hie.bind(null,e,n);t.has(n)||(t.add(n),n.then(o,o))})}}function Bs(e,r){var t=r.deletions;if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];try{var i=e,a=r,s=a;e:for(;s!==null;){switch(s.tag){case 5:Zo=s.stateNode,zs=!1;break e;case 3:Zo=s.stateNode.containerInfo,zs=!0;break e;case 4:Zo=s.stateNode.containerInfo,zs=!0;break e}s=s.return}if(Zo===null)throw Error(vt(160));qq(i,a,o),Zo=null,zs=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(l){eo(o,r,l)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Hq(r,e),r=r.sibling}function Hq(e,r){var t=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bs(r,e),bu(e),n&4){try{kg(3,e,e.return),Cw(3,e)}catch(m){eo(e,e.return,m)}try{kg(5,e,e.return)}catch(m){eo(e,e.return,m)}}break;case 1:Bs(r,e),bu(e),n&512&&t!==null&&fh(t,t.return);break;case 5:if(Bs(r,e),bu(e),n&512&&t!==null&&fh(t,t.return),e.flags&32){var o=e.stateNode;try{Wg(o,"")}catch(m){eo(e,e.return,m)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,a=t!==null?t.memoizedProps:i,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&p8(o,i),GA(s,a);var l=GA(s,i);for(a=0;a<u.length;a+=2){var c=u[a],f=u[a+1];c==="style"?y8(o,f):c==="dangerouslySetInnerHTML"?m8(o,f):c==="children"?Wg(o,f):ZD(o,c,f,l)}switch(s){case"input":WA(o,i);break;case"textarea":h8(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?mh(o,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?mh(o,!!i.multiple,i.defaultValue,!0):mh(o,!!i.multiple,i.multiple?[]:"",!1))}o[Qg]=i}catch(m){eo(e,e.return,m)}}break;case 6:if(Bs(r,e),bu(e),n&4){if(e.stateNode===null)throw Error(vt(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){eo(e,e.return,m)}}break;case 3:if(Bs(r,e),bu(e),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Vg(r.containerInfo)}catch(m){eo(e,e.return,m)}break;case 4:Bs(r,e),bu(e);break;case 13:Bs(r,e),bu(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(PP=uo())),n&4&&p4(e);break;case 22:if(c=t!==null&&t.memoizedState!==null,e.mode&1?(xi=(l=xi)||c,Bs(r,e),xi=l):Bs(r,e),bu(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(jt=e,c=e.child;c!==null;){for(f=jt=c;jt!==null;){switch(d=jt,p=d.child,d.tag){case 0:case 11:case 14:case 15:kg(4,d,d.return);break;case 1:fh(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){n=d,t=d.return;try{r=n,h.props=r.memoizedProps,h.state=r.memoizedState,h.componentWillUnmount()}catch(m){eo(n,t,m)}}break;case 5:fh(d,d.return);break;case 22:if(d.memoizedState!==null){v4(f);continue}}p!==null?(p.return=d,jt=p):v4(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=g8("display",a))}catch(m){eo(e,e.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){eo(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bs(r,e),bu(e),n&4&&p4(e);break;case 21:break;default:Bs(r,e),bu(e)}}function bu(e){var r=e.flags;if(r&2){try{e:{for(var t=e.return;t!==null;){if(Uq(t)){var n=t;break e}t=t.return}throw Error(vt(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Wg(o,""),n.flags&=-33);var i=d4(e);SO(e,i,o);break;case 3:case 4:var a=n.stateNode.containerInfo,s=d4(e);wO(e,s,a);break;default:throw Error(vt(161))}}catch(u){eo(e,e.return,u)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function aie(e,r,t){jt=e,Vq(e)}function Vq(e,r,t){for(var n=(e.mode&1)!==0;jt!==null;){var o=jt,i=o.child;if(o.tag===22&&n){var a=o.memoizedState!==null||Ex;if(!a){var s=o.alternate,u=s!==null&&s.memoizedState!==null||xi;s=Ex;var l=xi;if(Ex=a,(xi=u)&&!l)for(jt=o;jt!==null;)a=jt,u=a.child,a.tag===22&&a.memoizedState!==null?m4(o):u!==null?(u.return=a,jt=u):m4(o);for(;i!==null;)jt=i,Vq(i),i=i.sibling;jt=o,Ex=s,xi=l}h4(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,jt=i):h4(e)}}function h4(e){for(;jt!==null;){var r=jt;if(r.flags&8772){var t=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:xi||Cw(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!xi)if(t===null)n.componentDidMount();else{var o=r.elementType===r.type?t.memoizedProps:$s(r.type,t.memoizedProps);n.componentDidUpdate(o,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&JL(r,i,n);break;case 3:var a=r.updateQueue;if(a!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}JL(r,a,t)}break;case 5:var s=r.stateNode;if(t===null&&r.flags&4){t=s;var u=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var l=r.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Vg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(vt(163))}xi||r.flags&512&&_O(r)}catch(d){eo(r,r.return,d)}}if(r===e){jt=null;break}if(t=r.sibling,t!==null){t.return=r.return,jt=t;break}jt=r.return}}function v4(e){for(;jt!==null;){var r=jt;if(r===e){jt=null;break}var t=r.sibling;if(t!==null){t.return=r.return,jt=t;break}jt=r.return}}function m4(e){for(;jt!==null;){var r=jt;try{switch(r.tag){case 0:case 11:case 15:var t=r.return;try{Cw(4,r)}catch(u){eo(r,t,u)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var o=r.return;try{n.componentDidMount()}catch(u){eo(r,o,u)}}var i=r.return;try{_O(r)}catch(u){eo(r,i,u)}break;case 5:var a=r.return;try{_O(r)}catch(u){eo(r,a,u)}}}catch(u){eo(r,r.return,u)}if(r===e){jt=null;break}var s=r.sibling;if(s!==null){s.return=r.return,jt=s;break}jt=r.return}}var sie=Math.ceil,s2=oc.ReactCurrentDispatcher,OP=oc.ReactCurrentOwner,bs=oc.ReactCurrentBatchConfig,Kr=0,$o=null,xo=null,ii=0,Aa=0,dh=yf(0),Ro=0,n0=null,Dd=0,Ew=0,DP=0,Rg=null,aa=null,PP=0,qh=1/0,Il=null,u2=!1,CO=null,Kc=null,kx=!1,Bc=null,l2=0,Tg=0,EO=null,b_=-1,__=0;function qi(){return Kr&6?uo():b_!==-1?b_:b_=uo()}function Xc(e){return e.mode&1?Kr&2&&ii!==0?ii&-ii:qoe.transition!==null?(__===0&&(__=O8()),__):(e=mn,e!==0||(e=window.event,e=e===void 0?16:L8(e.type)),e):1}function Ys(e,r,t,n){if(50<Tg)throw Tg=0,EO=null,Error(vt(185));P0(e,t,n),(!(Kr&2)||e!==$o)&&(e===$o&&(!(Kr&2)&&(Ew|=t),Ro===4&&Fc(e,ii)),da(e,n),t===1&&Kr===0&&!(r.mode&1)&&(qh=uo()+500,_w&&xf()))}function da(e,r){var t=e.callbackNode;qne(e,r);var n=V_(e,e===$o?ii:0);if(n===0)t!==null&&EL(t),e.callbackNode=null,e.callbackPriority=0;else if(r=n&-n,e.callbackPriority!==r){if(t!=null&&EL(t),r===1)e.tag===0?Uoe(g4.bind(null,e)):rq(g4.bind(null,e)),joe(function(){!(Kr&6)&&xf()}),t=null;else{switch(D8(n)){case 1:t=oP;break;case 4:t=T8;break;case 16:t=H_;break;case 536870912:t=A8;break;default:t=H_}t=eH(t,Gq.bind(null,e))}e.callbackPriority=r,e.callbackNode=t}}function Gq(e,r){if(b_=-1,__=0,Kr&6)throw Error(vt(327));var t=e.callbackNode;if(_h()&&e.callbackNode!==t)return null;var n=V_(e,e===$o?ii:0);if(n===0)return null;if(n&30||n&e.expiredLanes||r)r=c2(e,n);else{r=n;var o=Kr;Kr|=2;var i=Kq();($o!==e||ii!==r)&&(Il=null,qh=uo()+500,xd(e,r));do try{cie();break}catch(s){Yq(e,s)}while(!0);gP(),s2.current=i,Kr=o,xo!==null?r=0:($o=null,ii=0,r=Ro)}if(r!==0){if(r===2&&(o=JA(e),o!==0&&(n=o,r=kO(e,o))),r===1)throw t=n0,xd(e,0),Fc(e,n),da(e,uo()),t;if(r===6)Fc(e,n);else{if(o=e.current.alternate,!(n&30)&&!uie(o)&&(r=c2(e,n),r===2&&(i=JA(e),i!==0&&(n=i,r=kO(e,i))),r===1))throw t=n0,xd(e,0),Fc(e,n),da(e,uo()),t;switch(e.finishedWork=o,e.finishedLanes=n,r){case 0:case 1:throw Error(vt(345));case 2:Qf(e,aa,Il);break;case 3:if(Fc(e,n),(n&130023424)===n&&(r=PP+500-uo(),10<r)){if(V_(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){qi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=aO(Qf.bind(null,e,aa,Il),r);break}Qf(e,aa,Il);break;case 4:if(Fc(e,n),(n&4194240)===n)break;for(r=e.eventTimes,o=-1;0<n;){var a=31-Gs(n);i=1<<a,a=r[a],a>o&&(o=a),n&=~i}if(n=o,n=uo()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*sie(n/1960))-n,10<n){e.timeoutHandle=aO(Qf.bind(null,e,aa,Il),n);break}Qf(e,aa,Il);break;case 5:Qf(e,aa,Il);break;default:throw Error(vt(329))}}}return da(e,uo()),e.callbackNode===t?Gq.bind(null,e):null}function kO(e,r){var t=Rg;return e.current.memoizedState.isDehydrated&&(xd(e,r).flags|=256),e=c2(e,r),e!==2&&(r=aa,aa=t,r!==null&&RO(r)),e}function RO(e){aa===null?aa=e:aa.push.apply(aa,e)}function uie(e){for(var r=e;;){if(r.flags&16384){var t=r.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var o=t[n],i=o.getSnapshot;o=o.value;try{if(!Zs(i(),o))return!1}catch{return!1}}}if(t=r.child,r.subtreeFlags&16384&&t!==null)t.return=r,r=t;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fc(e,r){for(r&=~DP,r&=~Ew,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var t=31-Gs(r),n=1<<t;e[t]=-1,r&=~n}}function g4(e){if(Kr&6)throw Error(vt(327));_h();var r=V_(e,0);if(!(r&1))return da(e,uo()),null;var t=c2(e,r);if(e.tag!==0&&t===2){var n=JA(e);n!==0&&(r=n,t=kO(e,n))}if(t===1)throw t=n0,xd(e,0),Fc(e,r),da(e,uo()),t;if(t===6)throw Error(vt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Qf(e,aa,Il),da(e,uo()),null}function IP(e,r){var t=Kr;Kr|=1;try{return e(r)}finally{Kr=t,Kr===0&&(qh=uo()+500,_w&&xf())}}function Pd(e){Bc!==null&&Bc.tag===0&&!(Kr&6)&&_h();var r=Kr;Kr|=1;var t=bs.transition,n=mn;try{if(bs.transition=null,mn=1,e)return e()}finally{mn=n,bs.transition=t,Kr=r,!(Kr&6)&&xf()}}function NP(){Aa=dh.current,Pn(dh)}function xd(e,r){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,Boe(t)),xo!==null)for(t=xo.return;t!==null;){var n=t;switch(hP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Q_();break;case 3:Wh(),Pn(ca),Pn(Ei),SP();break;case 5:wP(n);break;case 4:Wh();break;case 13:Pn(zn);break;case 19:Pn(zn);break;case 10:yP(n.type._context);break;case 22:case 23:NP()}t=t.return}if($o=e,xo=e=Qc(e.current,null),ii=Aa=r,Ro=0,n0=null,DP=Ew=Dd=0,aa=Rg=null,cd!==null){for(r=0;r<cd.length;r++)if(t=cd[r],n=t.interleaved,n!==null){t.interleaved=null;var o=n.next,i=t.pending;if(i!==null){var a=i.next;i.next=o,n.next=a}t.pending=n}cd=null}return e}function Yq(e,r){do{var t=xo;try{if(gP(),g_.current=a2,i2){for(var n=Hn.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}i2=!1}if(Od=0,Lo=ko=Hn=null,Eg=!1,e0=0,OP.current=null,t===null||t.return===null){Ro=1,n0=r,xo=null;break}e:{var i=e,a=t.return,s=t,u=r;if(r=ii,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=o4(a);if(p!==null){p.flags&=-257,i4(p,a,s,i,r),p.mode&1&&n4(i,l,r),r=p,u=l;var h=r.updateQueue;if(h===null){var m=new Set;m.add(u),r.updateQueue=m}else h.add(u);break e}else{if(!(r&1)){n4(i,l,r),MP();break e}u=Error(vt(426))}}else if(Bn&&s.mode&1){var y=o4(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),i4(y,a,s,i,r),vP(Uh(u,s));break e}}i=u=Uh(u,s),Ro!==4&&(Ro=2),Rg===null?Rg=[i]:Rg.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var v=Dq(i,u,r);QL(i,v);break e;case 1:s=u;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kc===null||!Kc.has(x)))){i.flags|=65536,r&=-r,i.lanes|=r;var b=Pq(i,s,r);QL(i,b);break e}}i=i.return}while(i!==null)}Qq(t)}catch(w){r=w,xo===t&&t!==null&&(xo=t=t.return);continue}break}while(!0)}function Kq(){var e=s2.current;return s2.current=a2,e===null?a2:e}function MP(){(Ro===0||Ro===3||Ro===2)&&(Ro=4),$o===null||!(Dd&268435455)&&!(Ew&268435455)||Fc($o,ii)}function c2(e,r){var t=Kr;Kr|=2;var n=Kq();($o!==e||ii!==r)&&(Il=null,xd(e,r));do try{lie();break}catch(o){Yq(e,o)}while(!0);if(gP(),Kr=t,s2.current=n,xo!==null)throw Error(vt(261));return $o=null,ii=0,Ro}function lie(){for(;xo!==null;)Xq(xo)}function cie(){for(;xo!==null&&!Mne();)Xq(xo)}function Xq(e){var r=Zq(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,r===null?Qq(e):xo=r,OP.current=null}function Qq(e){var r=e;do{var t=r.alternate;if(e=r.return,r.flags&32768){if(t=nie(t,r),t!==null){t.flags&=32767,xo=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ro=6,xo=null;return}}else if(t=rie(t,r,Aa),t!==null){xo=t;return}if(r=r.sibling,r!==null){xo=r;return}xo=r=e}while(r!==null);Ro===0&&(Ro=5)}function Qf(e,r,t){var n=mn,o=bs.transition;try{bs.transition=null,mn=1,fie(e,r,t,n)}finally{bs.transition=o,mn=n}return null}function fie(e,r,t,n){do _h();while(Bc!==null);if(Kr&6)throw Error(vt(327));t=e.finishedWork;var o=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(vt(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(Hne(e,i),e===$o&&(xo=$o=null,ii=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||kx||(kx=!0,eH(H_,function(){return _h(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=bs.transition,bs.transition=null;var a=mn;mn=1;var s=Kr;Kr|=4,OP.current=null,iie(e,t),Hq(t,e),Doe(oO),G_=!!nO,oO=nO=null,e.current=t,aie(t),Fne(),Kr=s,mn=a,bs.transition=i}else e.current=t;if(kx&&(kx=!1,Bc=e,l2=o),i=e.pendingLanes,i===0&&(Kc=null),jne(t.stateNode),da(e,uo()),r!==null)for(n=e.onRecoverableError,t=0;t<r.length;t++)o=r[t],n(o.value,{componentStack:o.stack,digest:o.digest});if(u2)throw u2=!1,e=CO,CO=null,e;return l2&1&&e.tag!==0&&_h(),i=e.pendingLanes,i&1?e===EO?Tg++:(Tg=0,EO=e):Tg=0,xf(),null}function _h(){if(Bc!==null){var e=D8(l2),r=bs.transition,t=mn;try{if(bs.transition=null,mn=16>e?16:e,Bc===null)var n=!1;else{if(e=Bc,Bc=null,l2=0,Kr&6)throw Error(vt(331));var o=Kr;for(Kr|=4,jt=e.current;jt!==null;){var i=jt,a=i.child;if(jt.flags&16){var s=i.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(jt=l;jt!==null;){var c=jt;switch(c.tag){case 0:case 11:case 15:kg(8,c,i)}var f=c.child;if(f!==null)f.return=c,jt=f;else for(;jt!==null;){c=jt;var d=c.sibling,p=c.return;if(Wq(c),c===l){jt=null;break}if(d!==null){d.return=p,jt=d;break}jt=p}}}var h=i.alternate;if(h!==null){var m=h.child;if(m!==null){h.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}jt=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,jt=a;else e:for(;jt!==null;){if(i=jt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kg(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,jt=v;break e}jt=i.return}}var g=e.current;for(jt=g;jt!==null;){a=jt;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,jt=x;else e:for(a=g;jt!==null;){if(s=jt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Cw(9,s)}}catch(w){eo(s,s.return,w)}if(s===a){jt=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,jt=b;break e}jt=s.return}}if(Kr=o,xf(),$u&&typeof $u.onPostCommitFiberRoot=="function")try{$u.onPostCommitFiberRoot(mw,e)}catch{}n=!0}return n}finally{mn=t,bs.transition=r}}return!1}function y4(e,r,t){r=Uh(t,r),r=Dq(e,r,1),e=Yc(e,r,1),r=qi(),e!==null&&(P0(e,1,r),da(e,r))}function eo(e,r,t){if(e.tag===3)y4(e,e,t);else for(;r!==null;){if(r.tag===3){y4(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kc===null||!Kc.has(n))){e=Uh(t,e),e=Pq(r,e,1),r=Yc(r,e,1),e=qi(),r!==null&&(P0(r,1,e),da(r,e));break}}r=r.return}}function die(e,r,t){var n=e.pingCache;n!==null&&n.delete(r),r=qi(),e.pingedLanes|=e.suspendedLanes&t,$o===e&&(ii&t)===t&&(Ro===4||Ro===3&&(ii&130023424)===ii&&500>uo()-PP?xd(e,0):DP|=t),da(e,r)}function Jq(e,r){r===0&&(e.mode&1?(r=mx,mx<<=1,!(mx&130023424)&&(mx=4194304)):r=1);var t=qi();e=Kl(e,r),e!==null&&(P0(e,r,t),da(e,t))}function pie(e){var r=e.memoizedState,t=0;r!==null&&(t=r.retryLane),Jq(e,t)}function hie(e,r){var t=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(t=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(vt(314))}n!==null&&n.delete(r),Jq(e,t)}var Zq;Zq=function(e,r,t){if(e!==null)if(e.memoizedProps!==r.pendingProps||ca.current)la=!0;else{if(!(e.lanes&t)&&!(r.flags&128))return la=!1,tie(e,r,t);la=!!(e.flags&131072)}else la=!1,Bn&&r.flags&1048576&&nq(r,e2,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;x_(e,r),e=r.pendingProps;var o=jh(r,Ei.current);bh(r,t),o=EP(null,r,n,e,o,t);var i=kP();return r.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,fa(n)?(i=!0,J_(r)):i=!1,r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,bP(r),o.updater=Sw,r.stateNode=o,o._reactInternals=r,pO(r,n,e,t),r=mO(null,r,n,!0,i,t)):(r.tag=0,Bn&&i&&pP(r),ji(null,r,o,t),r=r.child),r;case 16:n=r.elementType;e:{switch(x_(e,r),e=r.pendingProps,o=n._init,n=o(n._payload),r.type=n,o=r.tag=mie(n),e=$s(n,e),o){case 0:r=vO(null,r,n,e,t);break e;case 1:r=u4(null,r,n,e,t);break e;case 11:r=a4(null,r,n,e,t);break e;case 14:r=s4(null,r,n,$s(n.type,e),t);break e}throw Error(vt(306,n,""))}return r;case 0:return n=r.type,o=r.pendingProps,o=r.elementType===n?o:$s(n,o),vO(e,r,n,o,t);case 1:return n=r.type,o=r.pendingProps,o=r.elementType===n?o:$s(n,o),u4(e,r,n,o,t);case 3:e:{if(Fq(r),e===null)throw Error(vt(387));n=r.pendingProps,i=r.memoizedState,o=i.element,lq(e,r),n2(r,n,null,t);var a=r.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){o=Uh(Error(vt(423)),r),r=l4(e,r,n,t,o);break e}else if(n!==o){o=Uh(Error(vt(424)),r),r=l4(e,r,n,t,o);break e}else for(Ma=Gc(r.stateNode.containerInfo.firstChild),ja=r,Bn=!0,Us=null,t=sq(r,null,n,t),r.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if($h(),n===o){r=Xl(e,r,t);break e}ji(e,r,n,t)}r=r.child}return r;case 5:return cq(r),e===null&&cO(r),n=r.type,o=r.pendingProps,i=e!==null?e.memoizedProps:null,a=o.children,iO(n,o)?a=null:i!==null&&iO(n,i)&&(r.flags|=32),Mq(e,r),ji(e,r,a,t),r.child;case 6:return e===null&&cO(r),null;case 13:return Lq(e,r,t);case 4:return _P(r,r.stateNode.containerInfo),n=r.pendingProps,e===null?r.child=zh(r,null,n,t):ji(e,r,n,t),r.child;case 11:return n=r.type,o=r.pendingProps,o=r.elementType===n?o:$s(n,o),a4(e,r,n,o,t);case 7:return ji(e,r,r.pendingProps,t),r.child;case 8:return ji(e,r,r.pendingProps.children,t),r.child;case 12:return ji(e,r,r.pendingProps.children,t),r.child;case 10:e:{if(n=r.type._context,o=r.pendingProps,i=r.memoizedProps,a=o.value,En(t2,n._currentValue),n._currentValue=a,i!==null)if(Zs(i.value,a)){if(i.children===o.children&&!ca.current){r=Xl(e,r,t);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var s=i.dependencies;if(s!==null){a=i.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=jl(-1,t&-t),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=t,u=i.alternate,u!==null&&(u.lanes|=t),fO(i.return,t,r),s.lanes|=t;break}u=u.next}}else if(i.tag===10)a=i.type===r.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(vt(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),fO(a,t,r),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===r){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ji(e,r,o.children,t),r=r.child}return r;case 9:return o=r.type,n=r.pendingProps.children,bh(r,t),o=Ss(o),n=n(o),r.flags|=1,ji(e,r,n,t),r.child;case 14:return n=r.type,o=$s(n,r.pendingProps),o=$s(n.type,o),s4(e,r,n,o,t);case 15:return Iq(e,r,r.type,r.pendingProps,t);case 17:return n=r.type,o=r.pendingProps,o=r.elementType===n?o:$s(n,o),x_(e,r),r.tag=1,fa(n)?(e=!0,J_(r)):e=!1,bh(r,t),Oq(r,n,o),pO(r,n,o,t),mO(null,r,n,!0,e,t);case 19:return Bq(e,r,t);case 22:return Nq(e,r,t)}throw Error(vt(156,r.tag))};function eH(e,r){return R8(e,r)}function vie(e,r,t,n){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(e,r,t,n){return new vie(e,r,t,n)}function FP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mie(e){if(typeof e=="function")return FP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tP)return 11;if(e===rP)return 14}return 2}function Qc(e,r){var t=e.alternate;return t===null?(t=ys(e.tag,r,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=r,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,r=e.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function w_(e,r,t,n,o,i){var a=2;if(n=e,typeof e=="function")FP(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rh:return bd(t.children,o,i,r);case eP:a=8,o|=8;break;case LA:return e=ys(12,t,r,o|2),e.elementType=LA,e.lanes=i,e;case BA:return e=ys(13,t,r,o),e.elementType=BA,e.lanes=i,e;case jA:return e=ys(19,t,r,o),e.elementType=jA,e.lanes=i,e;case c8:return kw(t,o,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case u8:a=10;break e;case l8:a=9;break e;case tP:a=11;break e;case rP:a=14;break e;case Ic:a=16,n=null;break e}throw Error(vt(130,e==null?e:typeof e,""))}return r=ys(a,t,r,o),r.elementType=e,r.type=n,r.lanes=i,r}function bd(e,r,t,n){return e=ys(7,e,n,r),e.lanes=t,e}function kw(e,r,t,n){return e=ys(22,e,n,r),e.elementType=c8,e.lanes=t,e.stateNode={isHidden:!1},e}function pk(e,r,t){return e=ys(6,e,null,r),e.lanes=t,e}function hk(e,r,t){return r=ys(4,e.children!==null?e.children:[],e.key,r),r.lanes=t,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function gie(e,r,t,n,o){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=YE(0),this.expirationTimes=YE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YE(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function LP(e,r,t,n,o,i,a,s,u){return e=new gie(e,r,t,s,u),r===1?(r=1,i===!0&&(r|=8)):r=0,i=ys(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},bP(i),e}function yie(e,r,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:th,key:n==null?null:""+n,children:e,containerInfo:r,implementation:t}}function tH(e){if(!e)return uf;e=e._reactInternals;e:{if(Ud(e)!==e||e.tag!==1)throw Error(vt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(fa(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(vt(171))}if(e.tag===1){var t=e.type;if(fa(t))return tq(e,t,r)}return r}function rH(e,r,t,n,o,i,a,s,u){return e=LP(t,n,!0,e,o,i,a,s,u),e.context=tH(null),t=e.current,n=qi(),o=Xc(t),i=jl(n,o),i.callback=r??null,Yc(t,i,o),e.current.lanes=o,P0(e,o,n),da(e,n),e}function Rw(e,r,t,n){var o=r.current,i=qi(),a=Xc(o);return t=tH(t),r.context===null?r.context=t:r.pendingContext=t,r=jl(i,a),r.payload={element:e},n=n===void 0?null:n,n!==null&&(r.callback=n),e=Yc(o,r,a),e!==null&&(Ys(e,o,a,i),m_(e,o,a)),a}function f2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function x4(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<r?t:r}}function BP(e,r){x4(e,r),(e=e.alternate)&&x4(e,r)}function xie(){return null}var nH=typeof reportError=="function"?reportError:function(e){console.error(e)};function jP(e){this._internalRoot=e}Tw.prototype.render=jP.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(vt(409));Rw(e,r,null,null)};Tw.prototype.unmount=jP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Pd(function(){Rw(null,e,null,null)}),r[Yl]=null}};function Tw(e){this._internalRoot=e}Tw.prototype.unstable_scheduleHydration=function(e){if(e){var r=N8();e={blockedOn:null,target:e,priority:r};for(var t=0;t<Mc.length&&r!==0&&r<Mc[t].priority;t++);Mc.splice(t,0,e),t===0&&F8(e)}};function $P(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Aw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function b4(){}function bie(e,r,t,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var l=f2(a);i.call(l)}}var a=rH(r,n,e,0,null,!1,!1,"",b4);return e._reactRootContainer=a,e[Yl]=a.current,Kg(e.nodeType===8?e.parentNode:e),Pd(),a}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var s=n;n=function(){var l=f2(u);s.call(l)}}var u=LP(e,0,!1,null,null,!1,!1,"",b4);return e._reactRootContainer=u,e[Yl]=u.current,Kg(e.nodeType===8?e.parentNode:e),Pd(function(){Rw(r,u,t,n)}),u}function Ow(e,r,t,n,o){var i=t._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var s=o;o=function(){var u=f2(a);s.call(u)}}Rw(r,a,e,o)}else a=bie(t,r,e,o,n);return f2(a)}P8=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var t=lg(r.pendingLanes);t!==0&&(iP(r,t|1),da(r,uo()),!(Kr&6)&&(qh=uo()+500,xf()))}break;case 13:Pd(function(){var n=Kl(e,1);if(n!==null){var o=qi();Ys(n,e,1,o)}}),BP(e,1)}};aP=function(e){if(e.tag===13){var r=Kl(e,134217728);if(r!==null){var t=qi();Ys(r,e,134217728,t)}BP(e,134217728)}};I8=function(e){if(e.tag===13){var r=Xc(e),t=Kl(e,r);if(t!==null){var n=qi();Ys(t,e,r,n)}BP(e,r)}};N8=function(){return mn};M8=function(e,r){var t=mn;try{return mn=e,r()}finally{mn=t}};KA=function(e,r,t){switch(r){case"input":if(WA(e,t),r=t.name,t.type==="radio"&&r!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<t.length;r++){var n=t[r];if(n!==e&&n.form===e.form){var o=bw(n);if(!o)throw Error(vt(90));d8(n),WA(n,o)}}}break;case"textarea":h8(e,t);break;case"select":r=t.value,r!=null&&mh(e,!!t.multiple,r,!1)}};_8=IP;w8=Pd;var _ie={usingClientEntryPoint:!1,Events:[N0,ah,bw,x8,b8,IP]},Mm={findFiberByHostInstance:ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wie={bundleType:Mm.bundleType,version:Mm.version,rendererPackageName:Mm.rendererPackageName,rendererConfig:Mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=E8(e),e===null?null:e.stateNode},findFiberByHostInstance:Mm.findFiberByHostInstance||xie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rx.isDisabled&&Rx.supportsFiber)try{mw=Rx.inject(wie),$u=Rx}catch{}}Ka.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_ie;Ka.createPortal=function(e,r){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$P(r))throw Error(vt(200));return yie(e,r,null,t)};Ka.createRoot=function(e,r){if(!$P(e))throw Error(vt(299));var t=!1,n="",o=nH;return r!=null&&(r.unstable_strictMode===!0&&(t=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),r=LP(e,1,!1,null,null,t,!1,n,o),e[Yl]=r.current,Kg(e.nodeType===8?e.parentNode:e),new jP(r)};Ka.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(vt(188)):(e=Object.keys(e).join(","),Error(vt(268,e)));return e=E8(r),e=e===null?null:e.stateNode,e};Ka.flushSync=function(e){return Pd(e)};Ka.hydrate=function(e,r,t){if(!Aw(r))throw Error(vt(200));return Ow(null,e,r,!0,t)};Ka.hydrateRoot=function(e,r,t){if(!$P(e))throw Error(vt(405));var n=t!=null&&t.hydratedSources||null,o=!1,i="",a=nH;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),r=rH(r,null,e,1,t??null,o,!1,i,a),e[Yl]=r.current,Kg(e),n)for(e=0;e<n.length;e++)t=n[e],o=t._getVersion,o=o(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,o]:r.mutableSourceEagerHydrationData.push(t,o);return new Tw(r)};Ka.render=function(e,r,t){if(!Aw(r))throw Error(vt(200));return Ow(null,e,r,!1,t)};Ka.unmountComponentAtNode=function(e){if(!Aw(e))throw Error(vt(40));return e._reactRootContainer?(Pd(function(){Ow(null,null,e,!1,function(){e._reactRootContainer=null,e[Yl]=null})}),!0):!1};Ka.unstable_batchedUpdates=IP;Ka.unstable_renderSubtreeIntoContainer=function(e,r,t,n){if(!Aw(t))throw Error(vt(200));if(e==null||e._reactInternals===void 0)throw Error(vt(38));return Ow(e,r,t,!1,n)};Ka.version="18.3.1-next-f1338f8080-20240426";function oH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oH)}catch(e){console.error(e)}}oH(),o8.exports=Ka;var F0=o8.exports;const ph=rl(F0),Sie=VU({__proto__:null,default:ph},[F0]);var iH,_4=F0;iH=_4.createRoot,_4.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ln.apply(this,arguments)}var go;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(go||(go={}));const w4="popstate";function Cie(e){e===void 0&&(e={});function r(n,o){let{pathname:i,search:a,hash:s}=n.location;return o0("",{pathname:i,search:a,hash:s},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(n,o){return typeof o=="string"?o:Id(o)}return kie(r,t,null,e)}function Rr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Hh(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Eie(){return Math.random().toString(36).substr(2,8)}function S4(e,r){return{usr:e.state,key:e.key,idx:r}}function o0(e,r,t,n){return t===void 0&&(t=null),Ln({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?bf(r):r,{state:t,key:r&&r.key||n||Eie()})}function Id(e){let{pathname:r="/",search:t="",hash:n=""}=e;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bf(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substr(t),e=e.substr(0,t));let n=e.indexOf("?");n>=0&&(r.search=e.substr(n),e=e.substr(0,n)),e&&(r.pathname=e)}return r}function kie(e,r,t,n){n===void 0&&(n={});let{window:o=document.defaultView,v5Compat:i=!1}=n,a=o.history,s=go.Pop,u=null,l=c();l==null&&(l=0,a.replaceState(Ln({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=go.Pop;let y=c(),v=y==null?null:y-l;l=y,u&&u({action:s,location:m.location,delta:v})}function d(y,v){s=go.Push;let g=o0(m.location,y,v);l=c()+1;let x=S4(g,l),b=m.createHref(g);try{a.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(b)}i&&u&&u({action:s,location:m.location,delta:1})}function p(y,v){s=go.Replace;let g=o0(m.location,y,v);l=c();let x=S4(g,l),b=m.createHref(g);a.replaceState(x,"",b),i&&u&&u({action:s,location:m.location,delta:0})}function h(y){let v=o.location.origin!=="null"?o.location.origin:o.location.href,g=typeof y=="string"?y:Id(y);return g=g.replace(/ $/,"%20"),Rr(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let m={get action(){return s},get location(){return e(o,a)},listen(y){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(w4,f),u=y,()=>{o.removeEventListener(w4,f),u=null}},createHref(y){return r(o,y)},createURL:h,encodeLocation(y){let v=h(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:p,go(y){return a.go(y)}};return m}var pn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pn||(pn={}));const Rie=new Set(["lazy","caseSensitive","path","id","index","children"]);function Tie(e){return e.index===!0}function d2(e,r,t,n){return t===void 0&&(t=[]),n===void 0&&(n={}),e.map((o,i)=>{let a=[...t,String(i)],s=typeof o.id=="string"?o.id:a.join("-");if(Rr(o.index!==!0||!o.children,"Cannot specify children on an index route"),Rr(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Tie(o)){let u=Ln({},o,r(o),{id:s});return n[s]=u,u}else{let u=Ln({},o,r(o),{id:s,children:void 0});return n[s]=u,o.children&&(u.children=d2(o.children,r,a,n)),u}})}function od(e,r,t){return t===void 0&&(t="/"),S_(e,r,t,!1)}function S_(e,r,t,n){let o=typeof r=="string"?bf(r):r,i=Ql(o.pathname||"/",t);if(i==null)return null;let a=aH(e);Oie(a);let s=null;for(let u=0;s==null&&u<a.length;++u){let l=zie(i);s=jie(a[u],l,n)}return s}function Aie(e,r){let{route:t,pathname:n,params:o}=e;return{id:t.id,pathname:n,params:o,data:r[t.id],handle:t.handle}}function aH(e,r,t,n){r===void 0&&(r=[]),t===void 0&&(t=[]),n===void 0&&(n="");let o=(i,a,s)=>{let u={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Rr(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let l=$l([n,u.relativePath]),c=t.concat(u);i.children&&i.children.length>0&&(Rr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),aH(i.children,r,c,l)),!(i.path==null&&!i.index)&&r.push({path:l,score:Lie(l,i.index),routesMeta:c})};return e.forEach((i,a)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,a);else for(let u of sH(i.path))o(i,a,u)}),r}function sH(e){let r=e.split("/");if(r.length===0)return[];let[t,...n]=r,o=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return o?[i,""]:[i];let a=sH(n.join("/")),s=[];return s.push(...a.map(u=>u===""?i:[i,u].join("/"))),o&&s.push(...a),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function Oie(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:Bie(r.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Die=/^:[\w-]+$/,Pie=3,Iie=2,Nie=1,Mie=10,Fie=-2,C4=e=>e==="*";function Lie(e,r){let t=e.split("/"),n=t.length;return t.some(C4)&&(n+=Fie),r&&(n+=Iie),t.filter(o=>!C4(o)).reduce((o,i)=>o+(Die.test(i)?Pie:i===""?Nie:Mie),n)}function Bie(e,r){return e.length===r.length&&e.slice(0,-1).every((n,o)=>n===r[o])?e[e.length-1]-r[r.length-1]:0}function jie(e,r,t){t===void 0&&(t=!1);let{routesMeta:n}=e,o={},i="/",a=[];for(let s=0;s<n.length;++s){let u=n[s],l=s===n.length-1,c=i==="/"?r:r.slice(i.length)||"/",f=p2({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},c),d=u.route;if(!f&&l&&t&&!n[n.length-1].route.index&&(f=p2({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},c)),!f)return null;Object.assign(o,f.params),a.push({params:o,pathname:$l([i,f.pathname]),pathnameBase:qie($l([i,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(i=$l([i,f.pathnameBase]))}return a}function p2(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,n]=$ie(e.path,e.caseSensitive,e.end),o=r.match(t);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:n.reduce((l,c,f)=>{let{paramName:d,isOptional:p}=c;if(d==="*"){let m=s[f]||"";a=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const h=s[f];return p&&!h?l[d]=void 0:l[d]=(h||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:a,pattern:e}}function $ie(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),Hh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(n.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),n]}function zie(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Hh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Ql(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,n=e.charAt(t);return n&&n!=="/"?null:e.slice(t)||"/"}function Wie(e,r){r===void 0&&(r="/");let{pathname:t,search:n="",hash:o=""}=typeof e=="string"?bf(e):e;return{pathname:t?t.startsWith("/")?t:Uie(t,r):r,search:Hie(n),hash:Vie(o)}}function Uie(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vk(e,r,t,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uH(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function Dw(e,r){let t=uH(e);return r?t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Pw(e,r,t,n){n===void 0&&(n=!1);let o;typeof e=="string"?o=bf(e):(o=Ln({},e),Rr(!o.pathname||!o.pathname.includes("?"),vk("?","pathname","search",o)),Rr(!o.pathname||!o.pathname.includes("#"),vk("#","pathname","hash",o)),Rr(!o.search||!o.search.includes("#"),vk("#","search","hash",o)));let i=e===""||o.pathname==="",a=i?"/":o.pathname,s;if(a==null)s=t;else{let f=r.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;o.pathname=d.join("/")}s=f>=0?r[f]:"/"}let u=Wie(o,s),l=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const $l=e=>e.join("/").replace(/\/\/+/g,"/"),qie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class h2{constructor(r,t,n,o){o===void 0&&(o=!1),this.status=r,this.statusText=t||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function i0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lH=["post","put","patch","delete"],Gie=new Set(lH),Yie=["get",...lH],Kie=new Set(Yie),Xie=new Set([301,302,303,307,308]),Qie=new Set([307,308]),mk={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jie={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zie=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),cH="remix-router-transitions";function eae(e){const r=e.window?e.window:typeof window<"u"?window:void 0,t=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",n=!t;Rr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let Ee=e.detectErrorBoundary;o=Pe=>({hasErrorBoundary:Ee(Pe)})}else o=Zie;let i={},a=d2(e.routes,o,void 0,i),s,u=e.basename||"/",l=e.dataStrategy||oae,c=e.patchRoutesOnNavigation,f=Ln({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),d=null,p=new Set,h=null,m=null,y=null,v=e.hydrationData!=null,g=od(a,e.history.location,u),x=!1,b=null;if(g==null&&!c){let Ee=oa(404,{pathname:e.history.location.pathname}),{matches:Pe,route:je}=M4(a);g=Pe,b={[je.id]:Ee}}g&&!e.hydrationData&&$t(g,a,e.history.location.pathname).active&&(g=null);let w;if(g)if(g.some(Ee=>Ee.route.lazy))w=!1;else if(!g.some(Ee=>Ee.route.loader))w=!0;else if(f.v7_partialHydration){let Ee=e.hydrationData?e.hydrationData.loaderData:null,Pe=e.hydrationData?e.hydrationData.errors:null;if(Pe){let je=g.findIndex(nt=>Pe[nt.route.id]!==void 0);w=g.slice(0,je+1).every(nt=>!AO(nt.route,Ee,Pe))}else w=g.every(je=>!AO(je.route,Ee,Pe))}else w=e.hydrationData!=null;else if(w=!1,g=[],f.v7_partialHydration){let Ee=$t(null,a,e.history.location.pathname);Ee.active&&Ee.matches&&(x=!0,g=Ee.matches)}let E,C={historyAction:e.history.action,location:e.history.location,matches:g,initialized:w,navigation:mk,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},S=go.Pop,T=!1,k,P=!1,I=new Map,F=null,A=!1,D=!1,$=[],B=new Set,W=new Map,L=0,z=-1,U=new Map,Y=new Set,q=new Map,V=new Map,H=new Set,Z=new Map,ue=new Map,oe;function ee(){if(d=e.history.listen(Ee=>{let{action:Pe,location:je,delta:nt}=Ee;if(oe){oe(),oe=void 0;return}Hh(ue.size===0||nt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let yt=or({currentLocation:C.location,nextLocation:je,historyAction:Pe});if(yt&&nt!=null){let It=new Promise(Ut=>{oe=Ut});e.history.go(nt*-1),At(yt,{state:"blocked",location:je,proceed(){At(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),It.then(()=>e.history.go(nt))},reset(){let Ut=new Map(C.blockers);Ut.set(yt,Fm),J({blockers:Ut})}});return}return re(Pe,je)}),t){yae(r,I);let Ee=()=>xae(r,I);r.addEventListener("pagehide",Ee),F=()=>r.removeEventListener("pagehide",Ee)}return C.initialized||re(go.Pop,C.location,{initialHydration:!0}),E}function ne(){d&&d(),F&&F(),p.clear(),k&&k.abort(),C.fetchers.forEach((Ee,Pe)=>Be(Pe)),C.blockers.forEach((Ee,Pe)=>_t(Pe))}function pe(Ee){return p.add(Ee),()=>p.delete(Ee)}function J(Ee,Pe){Pe===void 0&&(Pe={}),C=Ln({},C,Ee);let je=[],nt=[];f.v7_fetcherPersist&&C.fetchers.forEach((yt,It)=>{yt.state==="idle"&&(H.has(It)?nt.push(It):je.push(It))}),H.forEach(yt=>{!C.fetchers.has(yt)&&!W.has(yt)&&nt.push(yt)}),[...p].forEach(yt=>yt(C,{deletedFetchers:nt,viewTransitionOpts:Pe.viewTransitionOpts,flushSync:Pe.flushSync===!0})),f.v7_fetcherPersist?(je.forEach(yt=>C.fetchers.delete(yt)),nt.forEach(yt=>Be(yt))):nt.forEach(yt=>H.delete(yt))}function se(Ee,Pe,je){var nt,yt;let{flushSync:It}=je===void 0?{}:je,Ut=C.actionData!=null&&C.navigation.formMethod!=null&&Ws(C.navigation.formMethod)&&C.navigation.state==="loading"&&((nt=Ee.state)==null?void 0:nt._isRedirect)!==!0,wt;Pe.actionData?Object.keys(Pe.actionData).length>0?wt=Pe.actionData:wt=null:Ut?wt=C.actionData:wt=null;let Et=Pe.loaderData?I4(C.loaderData,Pe.loaderData,Pe.matches||[],Pe.errors):C.loaderData,xt=C.blockers;xt.size>0&&(xt=new Map(xt),xt.forEach((lr,an)=>xt.set(an,Fm)));let Lt=T===!0||C.navigation.formMethod!=null&&Ws(C.navigation.formMethod)&&((yt=Ee.state)==null?void 0:yt._isRedirect)!==!0;s&&(a=s,s=void 0),A||S===go.Pop||(S===go.Push?e.history.push(Ee,Ee.state):S===go.Replace&&e.history.replace(Ee,Ee.state));let sr;if(S===go.Pop){let lr=I.get(C.location.pathname);lr&&lr.has(Ee.pathname)?sr={currentLocation:C.location,nextLocation:Ee}:I.has(Ee.pathname)&&(sr={currentLocation:Ee,nextLocation:C.location})}else if(P){let lr=I.get(C.location.pathname);lr?lr.add(Ee.pathname):(lr=new Set([Ee.pathname]),I.set(C.location.pathname,lr)),sr={currentLocation:C.location,nextLocation:Ee}}J(Ln({},Pe,{actionData:wt,loaderData:Et,historyAction:S,location:Ee,initialized:!0,navigation:mk,revalidation:"idle",restoreScrollPosition:Br(Ee,Pe.matches||C.matches),preventScrollReset:Lt,blockers:xt}),{viewTransitionOpts:sr,flushSync:It===!0}),S=go.Pop,T=!1,P=!1,A=!1,D=!1,$=[]}async function j(Ee,Pe){if(typeof Ee=="number"){e.history.go(Ee);return}let je=TO(C.location,C.matches,u,f.v7_prependBasename,Ee,f.v7_relativeSplatPath,Pe==null?void 0:Pe.fromRouteId,Pe==null?void 0:Pe.relative),{path:nt,submission:yt,error:It}=E4(f.v7_normalizeFormMethod,!1,je,Pe),Ut=C.location,wt=o0(C.location,nt,Pe&&Pe.state);wt=Ln({},wt,e.history.encodeLocation(wt));let Et=Pe&&Pe.replace!=null?Pe.replace:void 0,xt=go.Push;Et===!0?xt=go.Replace:Et===!1||yt!=null&&Ws(yt.formMethod)&&yt.formAction===C.location.pathname+C.location.search&&(xt=go.Replace);let Lt=Pe&&"preventScrollReset"in Pe?Pe.preventScrollReset===!0:void 0,sr=(Pe&&Pe.flushSync)===!0,lr=or({currentLocation:Ut,nextLocation:wt,historyAction:xt});if(lr){At(lr,{state:"blocked",location:wt,proceed(){At(lr,{state:"proceeding",proceed:void 0,reset:void 0,location:wt}),j(Ee,Pe)},reset(){let an=new Map(C.blockers);an.set(lr,Fm),J({blockers:an})}});return}return await re(xt,wt,{submission:yt,pendingError:It,preventScrollReset:Lt,replace:Pe&&Pe.replace,enableViewTransition:Pe&&Pe.viewTransition,flushSync:sr})}function ce(){if(Se(),J({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){re(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}re(S||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:P===!0})}}async function re(Ee,Pe,je){k&&k.abort(),k=null,S=Ee,A=(je&&je.startUninterruptedRevalidation)===!0,Tr(C.location,C.matches),T=(je&&je.preventScrollReset)===!0,P=(je&&je.enableViewTransition)===!0;let nt=s||a,yt=je&&je.overrideNavigation,It=je!=null&&je.initialHydration&&C.matches&&C.matches.length>0&&!x?C.matches:od(nt,Pe,u),Ut=(je&&je.flushSync)===!0,wt=$t(It,nt,Pe.pathname);if(wt.active&&wt.matches&&(It=wt.matches),!It){let{error:Ar,notFoundMatches:mt,route:zr}=Cr(Pe.pathname);se(Pe,{matches:mt,loaderData:{},errors:{[zr.id]:Ar}},{flushSync:Ut});return}if(C.initialized&&!D&&cae(C.location,Pe)&&!(je&&je.submission&&Ws(je.submission.formMethod))){se(Pe,{matches:It},{flushSync:Ut});return}k=new AbortController;let Et=Tp(e.history,Pe,k.signal,je&&je.submission),xt;if(je&&je.pendingError)xt=[id(It).route.id,{type:pn.error,error:je.pendingError}];else if(je&&je.submission&&Ws(je.submission.formMethod)){let Ar=await Q(Et,Pe,je.submission,It,wt.active,{replace:je.replace,flushSync:Ut});if(Ar.shortCircuited)return;if(Ar.pendingActionResult){let[mt,zr]=Ar.pendingActionResult;if(Oa(zr)&&i0(zr.error)&&zr.error.status===404){k=null,se(Pe,{matches:Ar.matches,loaderData:{},errors:{[mt]:zr.error}});return}}It=Ar.matches||It,xt=Ar.pendingActionResult,yt=gk(Pe,je.submission),Ut=!1,wt.active=!1,Et=Tp(e.history,Et.url,Et.signal)}let{shortCircuited:Lt,matches:sr,loaderData:lr,errors:an}=await G(Et,Pe,It,wt.active,yt,je&&je.submission,je&&je.fetcherSubmission,je&&je.replace,je&&je.initialHydration===!0,Ut,xt);Lt||(k=null,se(Pe,Ln({matches:sr||It},N4(xt),{loaderData:lr,errors:an})))}async function Q(Ee,Pe,je,nt,yt,It){It===void 0&&(It={}),Se();let Ut=mae(Pe,je);if(J({navigation:Ut},{flushSync:It.flushSync===!0}),yt){let xt=await Xr(nt,Pe.pathname,Ee.signal);if(xt.type==="aborted")return{shortCircuited:!0};if(xt.type==="error"){let Lt=id(xt.partialMatches).route.id;return{matches:xt.partialMatches,pendingActionResult:[Lt,{type:pn.error,error:xt.error}]}}else if(xt.matches)nt=xt.matches;else{let{notFoundMatches:Lt,error:sr,route:lr}=Cr(Pe.pathname);return{matches:Lt,pendingActionResult:[lr.id,{type:pn.error,error:sr}]}}}let wt,Et=fg(nt,Pe);if(!Et.route.action&&!Et.route.lazy)wt={type:pn.error,error:oa(405,{method:Ee.method,pathname:Pe.pathname,routeId:Et.route.id})};else if(wt=(await he("action",C,Ee,[Et],nt,null))[Et.route.id],Ee.signal.aborted)return{shortCircuited:!0};if(dd(wt)){let xt;return It&&It.replace!=null?xt=It.replace:xt=O4(wt.response.headers.get("Location"),new URL(Ee.url),u)===C.location.pathname+C.location.search,await ie(Ee,wt,!0,{submission:je,replace:xt}),{shortCircuited:!0}}if(jc(wt))throw oa(400,{type:"defer-action"});if(Oa(wt)){let xt=id(nt,Et.route.id);return(It&&It.replace)!==!0&&(S=go.Push),{matches:nt,pendingActionResult:[xt.route.id,wt]}}return{matches:nt,pendingActionResult:[Et.route.id,wt]}}async function G(Ee,Pe,je,nt,yt,It,Ut,wt,Et,xt,Lt){let sr=yt||gk(Pe,It),lr=It||Ut||L4(sr),an=!A&&(!f.v7_partialHydration||!Et);if(nt){if(an){let St=X(Lt);J(Ln({navigation:sr},St!==void 0?{actionData:St}:{}),{flushSync:xt})}let Xe=await Xr(je,Pe.pathname,Ee.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let St=id(Xe.partialMatches).route.id;return{matches:Xe.partialMatches,loaderData:{},errors:{[St]:Xe.error}}}else if(Xe.matches)je=Xe.matches;else{let{error:St,notFoundMatches:pt,route:Rt}=Cr(Pe.pathname);return{matches:pt,loaderData:{},errors:{[Rt.id]:St}}}}let Ar=s||a,[mt,zr]=R4(e.history,C,je,lr,Pe,f.v7_partialHydration&&Et===!0,f.v7_skipActionErrorRevalidation,D,$,B,H,q,Y,Ar,u,Lt);if(vr(Xe=>!(je&&je.some(St=>St.route.id===Xe))||mt&&mt.some(St=>St.route.id===Xe)),z=++L,mt.length===0&&zr.length===0){let Xe=Fe();return se(Pe,Ln({matches:je,loaderData:{},errors:Lt&&Oa(Lt[1])?{[Lt[0]]:Lt[1].error}:null},N4(Lt),Xe?{fetchers:new Map(C.fetchers)}:{}),{flushSync:xt}),{shortCircuited:!0}}if(an){let Xe={};if(!nt){Xe.navigation=sr;let St=X(Lt);St!==void 0&&(Xe.actionData=St)}zr.length>0&&(Xe.fetchers=te(zr)),J(Xe,{flushSync:xt})}zr.forEach(Xe=>{Me(Xe.key),Xe.controller&&W.set(Xe.key,Xe.controller)});let Ai=()=>zr.forEach(Xe=>Me(Xe.key));k&&k.signal.addEventListener("abort",Ai);let{loaderResults:Oi,fetcherResults:Yo}=await _e(C,je,mt,zr,Ee);if(Ee.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",Ai),zr.forEach(Xe=>W.delete(Xe.key));let ro=Tx(Oi);if(ro)return await ie(Ee,ro.result,!0,{replace:wt}),{shortCircuited:!0};if(ro=Tx(Yo),ro)return Y.add(ro.key),await ie(Ee,ro.result,!0,{replace:wt}),{shortCircuited:!0};let{loaderData:hu,errors:Za}=P4(C,je,Oi,Lt,zr,Yo,Z);Z.forEach((Xe,St)=>{Xe.subscribe(pt=>{(pt||Xe.done)&&Z.delete(St)})}),f.v7_partialHydration&&Et&&C.errors&&(Za=Ln({},C.errors,Za));let Qi=Fe(),Ae=He(z),ft=Qi||Ae||zr.length>0;return Ln({matches:je,loaderData:hu,errors:Za},ft?{fetchers:new Map(C.fetchers)}:{})}function X(Ee){if(Ee&&!Oa(Ee[1]))return{[Ee[0]]:Ee[1].data};if(C.actionData)return Object.keys(C.actionData).length===0?null:C.actionData}function te(Ee){return Ee.forEach(Pe=>{let je=C.fetchers.get(Pe.key),nt=Lm(void 0,je?je.data:void 0);C.fetchers.set(Pe.key,nt)}),new Map(C.fetchers)}function de(Ee,Pe,je,nt){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Me(Ee);let yt=(nt&&nt.flushSync)===!0,It=s||a,Ut=TO(C.location,C.matches,u,f.v7_prependBasename,je,f.v7_relativeSplatPath,Pe,nt==null?void 0:nt.relative),wt=od(It,Ut,u),Et=$t(wt,It,Ut);if(Et.active&&Et.matches&&(wt=Et.matches),!wt){De(Ee,Pe,oa(404,{pathname:Ut}),{flushSync:yt});return}let{path:xt,submission:Lt,error:sr}=E4(f.v7_normalizeFormMethod,!0,Ut,nt);if(sr){De(Ee,Pe,sr,{flushSync:yt});return}let lr=fg(wt,xt),an=(nt&&nt.preventScrollReset)===!0;if(Lt&&Ws(Lt.formMethod)){ae(Ee,Pe,xt,lr,wt,Et.active,yt,an,Lt);return}q.set(Ee,{routeId:Pe,path:xt}),ye(Ee,Pe,xt,lr,wt,Et.active,yt,an,Lt)}async function ae(Ee,Pe,je,nt,yt,It,Ut,wt,Et){Se(),q.delete(Ee);function xt(Nt){if(!Nt.route.action&&!Nt.route.lazy){let ur=oa(405,{method:Et.formMethod,pathname:je,routeId:Pe});return De(Ee,Pe,ur,{flushSync:Ut}),!0}return!1}if(!It&&xt(nt))return;let Lt=C.fetchers.get(Ee);xe(Ee,gae(Et,Lt),{flushSync:Ut});let sr=new AbortController,lr=Tp(e.history,je,sr.signal,Et);if(It){let Nt=await Xr(yt,new URL(lr.url).pathname,lr.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){De(Ee,Pe,Nt.error,{flushSync:Ut});return}else if(Nt.matches){if(yt=Nt.matches,nt=fg(yt,je),xt(nt))return}else{De(Ee,Pe,oa(404,{pathname:je}),{flushSync:Ut});return}}W.set(Ee,sr);let an=L,mt=(await he("action",C,lr,[nt],yt,Ee))[nt.route.id];if(lr.signal.aborted){W.get(Ee)===sr&&W.delete(Ee);return}if(f.v7_fetcherPersist&&H.has(Ee)){if(dd(mt)||Oa(mt)){xe(Ee,Pc(void 0));return}}else{if(dd(mt))if(W.delete(Ee),z>an){xe(Ee,Pc(void 0));return}else return Y.add(Ee),xe(Ee,Lm(Et)),ie(lr,mt,!1,{fetcherSubmission:Et,preventScrollReset:wt});if(Oa(mt)){De(Ee,Pe,mt.error);return}}if(jc(mt))throw oa(400,{type:"defer-action"});let zr=C.navigation.location||C.location,Ai=Tp(e.history,zr,sr.signal),Oi=s||a,Yo=C.navigation.state!=="idle"?od(Oi,C.navigation.location,u):C.matches;Rr(Yo,"Didn't find any matches after fetcher action");let ro=++L;U.set(Ee,ro);let hu=Lm(Et,mt.data);C.fetchers.set(Ee,hu);let[Za,Qi]=R4(e.history,C,Yo,Et,zr,!1,f.v7_skipActionErrorRevalidation,D,$,B,H,q,Y,Oi,u,[nt.route.id,mt]);Qi.filter(Nt=>Nt.key!==Ee).forEach(Nt=>{let ur=Nt.key,er=C.fetchers.get(ur),Qr=Lm(void 0,er?er.data:void 0);C.fetchers.set(ur,Qr),Me(ur),Nt.controller&&W.set(ur,Nt.controller)}),J({fetchers:new Map(C.fetchers)});let Ae=()=>Qi.forEach(Nt=>Me(Nt.key));sr.signal.addEventListener("abort",Ae);let{loaderResults:ft,fetcherResults:Xe}=await _e(C,Yo,Za,Qi,Ai);if(sr.signal.aborted)return;sr.signal.removeEventListener("abort",Ae),U.delete(Ee),W.delete(Ee),Qi.forEach(Nt=>W.delete(Nt.key));let St=Tx(ft);if(St)return ie(Ai,St.result,!1,{preventScrollReset:wt});if(St=Tx(Xe),St)return Y.add(St.key),ie(Ai,St.result,!1,{preventScrollReset:wt});let{loaderData:pt,errors:Rt}=P4(C,Yo,ft,void 0,Qi,Xe,Z);if(C.fetchers.has(Ee)){let Nt=Pc(mt.data);C.fetchers.set(Ee,Nt)}He(ro),C.navigation.state==="loading"&&ro>z?(Rr(S,"Expected pending action"),k&&k.abort(),se(C.navigation.location,{matches:Yo,loaderData:pt,errors:Rt,fetchers:new Map(C.fetchers)})):(J({errors:Rt,loaderData:I4(C.loaderData,pt,Yo,Rt),fetchers:new Map(C.fetchers)}),D=!1)}async function ye(Ee,Pe,je,nt,yt,It,Ut,wt,Et){let xt=C.fetchers.get(Ee);xe(Ee,Lm(Et,xt?xt.data:void 0),{flushSync:Ut});let Lt=new AbortController,sr=Tp(e.history,je,Lt.signal);if(It){let mt=await Xr(yt,new URL(sr.url).pathname,sr.signal);if(mt.type==="aborted")return;if(mt.type==="error"){De(Ee,Pe,mt.error,{flushSync:Ut});return}else if(mt.matches)yt=mt.matches,nt=fg(yt,je);else{De(Ee,Pe,oa(404,{pathname:je}),{flushSync:Ut});return}}W.set(Ee,Lt);let lr=L,Ar=(await he("loader",C,sr,[nt],yt,Ee))[nt.route.id];if(jc(Ar)&&(Ar=await WP(Ar,sr.signal,!0)||Ar),W.get(Ee)===Lt&&W.delete(Ee),!sr.signal.aborted){if(H.has(Ee)){xe(Ee,Pc(void 0));return}if(dd(Ar))if(z>lr){xe(Ee,Pc(void 0));return}else{Y.add(Ee),await ie(sr,Ar,!1,{preventScrollReset:wt});return}if(Oa(Ar)){De(Ee,Pe,Ar.error);return}Rr(!jc(Ar),"Unhandled fetcher deferred data"),xe(Ee,Pc(Ar.data))}}async function ie(Ee,Pe,je,nt){let{submission:yt,fetcherSubmission:It,preventScrollReset:Ut,replace:wt}=nt===void 0?{}:nt;Pe.response.headers.has("X-Remix-Revalidate")&&(D=!0);let Et=Pe.response.headers.get("Location");Rr(Et,"Expected a Location header on the redirect Response"),Et=O4(Et,new URL(Ee.url),u);let xt=o0(C.location,Et,{_isRedirect:!0});if(t){let mt=!1;if(Pe.response.headers.has("X-Remix-Reload-Document"))mt=!0;else if(zP.test(Et)){const zr=e.history.createURL(Et);mt=zr.origin!==r.location.origin||Ql(zr.pathname,u)==null}if(mt){wt?r.location.replace(Et):r.location.assign(Et);return}}k=null;let Lt=wt===!0||Pe.response.headers.has("X-Remix-Replace")?go.Replace:go.Push,{formMethod:sr,formAction:lr,formEncType:an}=C.navigation;!yt&&!It&&sr&&lr&&an&&(yt=L4(C.navigation));let Ar=yt||It;if(Qie.has(Pe.response.status)&&Ar&&Ws(Ar.formMethod))await re(Lt,xt,{submission:Ln({},Ar,{formAction:Et}),preventScrollReset:Ut||T,enableViewTransition:je?P:void 0});else{let mt=gk(xt,yt);await re(Lt,xt,{overrideNavigation:mt,fetcherSubmission:It,preventScrollReset:Ut||T,enableViewTransition:je?P:void 0})}}async function he(Ee,Pe,je,nt,yt,It){let Ut,wt={};try{Ut=await iae(l,Ee,Pe,je,nt,yt,It,i,o)}catch(Et){return nt.forEach(xt=>{wt[xt.route.id]={type:pn.error,error:Et}}),wt}for(let[Et,xt]of Object.entries(Ut))if(fae(xt)){let Lt=xt.result;wt[Et]={type:pn.redirect,response:uae(Lt,je,Et,yt,u,f.v7_relativeSplatPath)}}else wt[Et]=await sae(xt);return wt}async function _e(Ee,Pe,je,nt,yt){let It=Ee.matches,Ut=he("loader",Ee,yt,je,Pe,null),wt=Promise.all(nt.map(async Lt=>{if(Lt.matches&&Lt.match&&Lt.controller){let lr=(await he("loader",Ee,Tp(e.history,Lt.path,Lt.controller.signal),[Lt.match],Lt.matches,Lt.key))[Lt.match.route.id];return{[Lt.key]:lr}}else return Promise.resolve({[Lt.key]:{type:pn.error,error:oa(404,{pathname:Lt.path})}})})),Et=await Ut,xt=(await wt).reduce((Lt,sr)=>Object.assign(Lt,sr),{});return await Promise.all([hae(Pe,Et,yt.signal,It,Ee.loaderData),vae(Pe,xt,nt)]),{loaderResults:Et,fetcherResults:xt}}function Se(){D=!0,$.push(...vr()),q.forEach((Ee,Pe)=>{W.has(Pe)&&B.add(Pe),Me(Pe)})}function xe(Ee,Pe,je){je===void 0&&(je={}),C.fetchers.set(Ee,Pe),J({fetchers:new Map(C.fetchers)},{flushSync:(je&&je.flushSync)===!0})}function De(Ee,Pe,je,nt){nt===void 0&&(nt={});let yt=id(C.matches,Pe);Be(Ee),J({errors:{[yt.route.id]:je},fetchers:new Map(C.fetchers)},{flushSync:(nt&&nt.flushSync)===!0})}function $e(Ee){return V.set(Ee,(V.get(Ee)||0)+1),H.has(Ee)&&H.delete(Ee),C.fetchers.get(Ee)||Jie}function Be(Ee){let Pe=C.fetchers.get(Ee);W.has(Ee)&&!(Pe&&Pe.state==="loading"&&U.has(Ee))&&Me(Ee),q.delete(Ee),U.delete(Ee),Y.delete(Ee),f.v7_fetcherPersist&&H.delete(Ee),B.delete(Ee),C.fetchers.delete(Ee)}function we(Ee){let Pe=(V.get(Ee)||0)-1;Pe<=0?(V.delete(Ee),H.add(Ee),f.v7_fetcherPersist||Be(Ee)):V.set(Ee,Pe),J({fetchers:new Map(C.fetchers)})}function Me(Ee){let Pe=W.get(Ee);Pe&&(Pe.abort(),W.delete(Ee))}function Le(Ee){for(let Pe of Ee){let je=$e(Pe),nt=Pc(je.data);C.fetchers.set(Pe,nt)}}function Fe(){let Ee=[],Pe=!1;for(let je of Y){let nt=C.fetchers.get(je);Rr(nt,"Expected fetcher: "+je),nt.state==="loading"&&(Y.delete(je),Ee.push(je),Pe=!0)}return Le(Ee),Pe}function He(Ee){let Pe=[];for(let[je,nt]of U)if(nt<Ee){let yt=C.fetchers.get(je);Rr(yt,"Expected fetcher: "+je),yt.state==="loading"&&(Me(je),U.delete(je),Pe.push(je))}return Le(Pe),Pe.length>0}function gt(Ee,Pe){let je=C.blockers.get(Ee)||Fm;return ue.get(Ee)!==Pe&&ue.set(Ee,Pe),je}function _t(Ee){C.blockers.delete(Ee),ue.delete(Ee)}function At(Ee,Pe){let je=C.blockers.get(Ee)||Fm;Rr(je.state==="unblocked"&&Pe.state==="blocked"||je.state==="blocked"&&Pe.state==="blocked"||je.state==="blocked"&&Pe.state==="proceeding"||je.state==="blocked"&&Pe.state==="unblocked"||je.state==="proceeding"&&Pe.state==="unblocked","Invalid blocker state transition: "+je.state+" -> "+Pe.state);let nt=new Map(C.blockers);nt.set(Ee,Pe),J({blockers:nt})}function or(Ee){let{currentLocation:Pe,nextLocation:je,historyAction:nt}=Ee;if(ue.size===0)return;ue.size>1&&Hh(!1,"A router only supports one blocker at a time");let yt=Array.from(ue.entries()),[It,Ut]=yt[yt.length-1],wt=C.blockers.get(It);if(!(wt&&wt.state==="proceeding")&&Ut({currentLocation:Pe,nextLocation:je,historyAction:nt}))return It}function Cr(Ee){let Pe=oa(404,{pathname:Ee}),je=s||a,{matches:nt,route:yt}=M4(je);return vr(),{notFoundMatches:nt,route:yt,error:Pe}}function vr(Ee){let Pe=[];return Z.forEach((je,nt)=>{(!Ee||Ee(nt))&&(je.cancel(),Pe.push(nt),Z.delete(nt))}),Pe}function br(Ee,Pe,je){if(h=Ee,y=Pe,m=je||null,!v&&C.navigation===mk){v=!0;let nt=Br(C.location,C.matches);nt!=null&&J({restoreScrollPosition:nt})}return()=>{h=null,y=null,m=null}}function Lr(Ee,Pe){return m&&m(Ee,Pe.map(nt=>Aie(nt,C.loaderData)))||Ee.key}function Tr(Ee,Pe){if(h&&y){let je=Lr(Ee,Pe);h[je]=y()}}function Br(Ee,Pe){if(h){let je=Lr(Ee,Pe),nt=h[je];if(typeof nt=="number")return nt}return null}function $t(Ee,Pe,je){if(c)if(Ee){if(Object.keys(Ee[0].params).length>0)return{active:!0,matches:S_(Pe,je,u,!0)}}else return{active:!0,matches:S_(Pe,je,u,!0)||[]};return{active:!1,matches:null}}async function Xr(Ee,Pe,je){if(!c)return{type:"success",matches:Ee};let nt=Ee;for(;;){let yt=s==null,It=s||a,Ut=i;try{await c({signal:je,path:Pe,matches:nt,patch:(xt,Lt)=>{je.aborted||A4(xt,Lt,It,Ut,o)}})}catch(xt){return{type:"error",error:xt,partialMatches:nt}}finally{yt&&!je.aborted&&(a=[...a])}if(je.aborted)return{type:"aborted"};let wt=od(It,Pe,u);if(wt)return{type:"success",matches:wt};let Et=S_(It,Pe,u,!0);if(!Et||nt.length===Et.length&&nt.every((xt,Lt)=>xt.route.id===Et[Lt].route.id))return{type:"success",matches:null};nt=Et}}function Mn(Ee){i={},s=d2(Ee,o,void 0,i)}function Yn(Ee,Pe){let je=s==null;A4(Ee,Pe,s||a,i,o),je&&(a=[...a],J({}))}return E={get basename(){return u},get future(){return f},get state(){return C},get routes(){return a},get window(){return r},initialize:ee,subscribe:pe,enableScrollRestoration:br,navigate:j,fetch:de,revalidate:ce,createHref:Ee=>e.history.createHref(Ee),encodeLocation:Ee=>e.history.encodeLocation(Ee),getFetcher:$e,deleteFetcher:we,dispose:ne,getBlocker:gt,deleteBlocker:_t,patchRoutes:Yn,_internalFetchControllers:W,_internalActiveDeferreds:Z,_internalSetRoutes:Mn},E}function tae(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function TO(e,r,t,n,o,i,a,s){let u,l;if(a){u=[];for(let f of r)if(u.push(f),f.route.id===a){l=f;break}}else u=r,l=r[r.length-1];let c=Pw(o||".",Dw(u,i),Ql(e.pathname,t)||e.pathname,s==="path");if(o==null&&(c.search=e.search,c.hash=e.hash),(o==null||o===""||o===".")&&l){let f=UP(c.search);if(l.route.index&&!f)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&f){let d=new URLSearchParams(c.search),p=d.getAll("index");d.delete("index"),p.filter(m=>m).forEach(m=>d.append("index",m));let h=d.toString();c.search=h?"?"+h:""}}return n&&t!=="/"&&(c.pathname=c.pathname==="/"?t:$l([t,c.pathname])),Id(c)}function E4(e,r,t,n){if(!n||!tae(n))return{path:t};if(n.formMethod&&!pae(n.formMethod))return{path:t,error:oa(405,{method:n.formMethod})};let o=()=>({path:t,error:oa(400,{type:"invalid-body"})}),i=n.formMethod||"get",a=e?i.toUpperCase():i.toLowerCase(),s=pH(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ws(a))return o();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,h)=>{let[m,y]=h;return""+p+m+"="+y+`
`},""):String(n.body);return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!Ws(a))return o();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return o()}}}Rr(typeof FormData=="function","FormData is not available in this environment");let u,l;if(n.formData)u=OO(n.formData),l=n.formData;else if(n.body instanceof FormData)u=OO(n.body),l=n.body;else if(n.body instanceof URLSearchParams)u=n.body,l=D4(u);else if(n.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(n.body),l=D4(u)}catch{return o()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ws(c.formMethod))return{path:t,submission:c};let f=bf(t);return r&&f.search&&UP(f.search)&&u.append("index",""),f.search="?"+u,{path:Id(f),submission:c}}function k4(e,r,t){t===void 0&&(t=!1);let n=e.findIndex(o=>o.route.id===r);return n>=0?e.slice(0,t?n+1:n):e}function R4(e,r,t,n,o,i,a,s,u,l,c,f,d,p,h,m){let y=m?Oa(m[1])?m[1].error:m[1].data:void 0,v=e.createURL(r.location),g=e.createURL(o),x=t;i&&r.errors?x=k4(t,Object.keys(r.errors)[0],!0):m&&Oa(m[1])&&(x=k4(t,m[0]));let b=m?m[1].statusCode:void 0,w=a&&b&&b>=400,E=x.filter((S,T)=>{let{route:k}=S;if(k.lazy)return!0;if(k.loader==null)return!1;if(i)return AO(k,r.loaderData,r.errors);if(rae(r.loaderData,r.matches[T],S)||u.some(F=>F===S.route.id))return!0;let P=r.matches[T],I=S;return T4(S,Ln({currentUrl:v,currentParams:P.params,nextUrl:g,nextParams:I.params},n,{actionResult:y,actionStatus:b,defaultShouldRevalidate:w?!1:s||v.pathname+v.search===g.pathname+g.search||v.search!==g.search||fH(P,I)}))}),C=[];return f.forEach((S,T)=>{if(i||!t.some(A=>A.route.id===S.routeId)||c.has(T))return;let k=od(p,S.path,h);if(!k){C.push({key:T,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let P=r.fetchers.get(T),I=fg(k,S.path),F=!1;d.has(T)?F=!1:l.has(T)?(l.delete(T),F=!0):P&&P.state!=="idle"&&P.data===void 0?F=s:F=T4(I,Ln({currentUrl:v,currentParams:r.matches[r.matches.length-1].params,nextUrl:g,nextParams:t[t.length-1].params},n,{actionResult:y,actionStatus:b,defaultShouldRevalidate:w?!1:s})),F&&C.push({key:T,routeId:S.routeId,path:S.path,matches:k,match:I,controller:new AbortController})}),[E,C]}function AO(e,r,t){if(e.lazy)return!0;if(!e.loader)return!1;let n=r!=null&&r[e.id]!==void 0,o=t!=null&&t[e.id]!==void 0;return!n&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!o}function rae(e,r,t){let n=!r||t.route.id!==r.route.id,o=e[t.route.id]===void 0;return n||o}function fH(e,r){let t=e.route.path;return e.pathname!==r.pathname||t!=null&&t.endsWith("*")&&e.params["*"]!==r.params["*"]}function T4(e,r){if(e.route.shouldRevalidate){let t=e.route.shouldRevalidate(r);if(typeof t=="boolean")return t}return r.defaultShouldRevalidate}function A4(e,r,t,n,o){var i;let a;if(e){let l=n[e];Rr(l,"No route found to patch children into: routeId = "+e),l.children||(l.children=[]),a=l.children}else a=t;let s=r.filter(l=>!a.some(c=>dH(l,c))),u=d2(s,o,[e||"_","patch",String(((i=a)==null?void 0:i.length)||"0")],n);a.push(...u)}function dH(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((t,n)=>{var o;return(o=r.children)==null?void 0:o.some(i=>dH(t,i))}):!1}async function nae(e,r,t){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let o=t[e.id];Rr(o,"No route found in manifest");let i={};for(let a in n){let u=o[a]!==void 0&&a!=="hasErrorBoundary";Hh(!u,'Route "'+o.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!Rie.has(a)&&(i[a]=n[a])}Object.assign(o,i),Object.assign(o,Ln({},r(o),{lazy:void 0}))}async function oae(e){let{matches:r}=e,t=r.filter(o=>o.shouldLoad);return(await Promise.all(t.map(o=>o.resolve()))).reduce((o,i,a)=>Object.assign(o,{[t[a].route.id]:i}),{})}async function iae(e,r,t,n,o,i,a,s,u,l){let c=i.map(p=>p.route.lazy?nae(p.route,u,s):void 0),f=i.map((p,h)=>{let m=c[h],y=o.some(g=>g.route.id===p.route.id);return Ln({},p,{shouldLoad:y,resolve:async g=>(g&&n.method==="GET"&&(p.route.lazy||p.route.loader)&&(y=!0),y?aae(r,n,p,m,g,l):Promise.resolve({type:pn.data,result:void 0}))})}),d=await e({matches:f,request:n,params:i[0].params,fetcherKey:a,context:l});try{await Promise.all(c)}catch{}return d}async function aae(e,r,t,n,o,i){let a,s,u=l=>{let c,f=new Promise((h,m)=>c=m);s=()=>c(),r.signal.addEventListener("abort",s);let d=h=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+t.route.id+"]"))):l({request:r,params:t.params,context:i},...h!==void 0?[h]:[]),p=(async()=>{try{return{type:"data",result:await(o?o(m=>d(m)):d())}}catch(h){return{type:"error",result:h}}})();return Promise.race([p,f])};try{let l=t.route[e];if(n)if(l){let c,[f]=await Promise.all([u(l).catch(d=>{c=d}),n]);if(c!==void 0)throw c;a=f}else if(await n,l=t.route[e],l)a=await u(l);else if(e==="action"){let c=new URL(r.url),f=c.pathname+c.search;throw oa(405,{method:r.method,pathname:f,routeId:t.route.id})}else return{type:pn.data,result:void 0};else if(l)a=await u(l);else{let c=new URL(r.url),f=c.pathname+c.search;throw oa(404,{pathname:f})}Rr(a.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:pn.error,result:l}}finally{s&&r.signal.removeEventListener("abort",s)}return a}async function sae(e){let{result:r,type:t}=e;if(hH(r)){let f;try{let d=r.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?r.body==null?f=null:f=await r.json():f=await r.text()}catch(d){return{type:pn.error,error:d}}return t===pn.error?{type:pn.error,error:new h2(r.status,r.statusText,f),statusCode:r.status,headers:r.headers}:{type:pn.data,data:f,statusCode:r.status,headers:r.headers}}if(t===pn.error){if(F4(r)){var n,o;if(r.data instanceof Error){var i,a;return{type:pn.error,error:r.data,statusCode:(i=r.init)==null?void 0:i.status,headers:(a=r.init)!=null&&a.headers?new Headers(r.init.headers):void 0}}return{type:pn.error,error:new h2(((n=r.init)==null?void 0:n.status)||500,void 0,r.data),statusCode:i0(r)?r.status:void 0,headers:(o=r.init)!=null&&o.headers?new Headers(r.init.headers):void 0}}return{type:pn.error,error:r,statusCode:i0(r)?r.status:void 0}}if(dae(r)){var s,u;return{type:pn.deferred,deferredData:r,statusCode:(s=r.init)==null?void 0:s.status,headers:((u=r.init)==null?void 0:u.headers)&&new Headers(r.init.headers)}}if(F4(r)){var l,c;return{type:pn.data,data:r.data,statusCode:(l=r.init)==null?void 0:l.status,headers:(c=r.init)!=null&&c.headers?new Headers(r.init.headers):void 0}}return{type:pn.data,data:r}}function uae(e,r,t,n,o,i){let a=e.headers.get("Location");if(Rr(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!zP.test(a)){let s=n.slice(0,n.findIndex(u=>u.route.id===t)+1);a=TO(new URL(r.url),s,o,!0,a,i),e.headers.set("Location",a)}return e}function O4(e,r,t){if(zP.test(e)){let n=e,o=n.startsWith("//")?new URL(r.protocol+n):new URL(n),i=Ql(o.pathname,t)!=null;if(o.origin===r.origin&&i)return o.pathname+o.search+o.hash}return e}function Tp(e,r,t,n){let o=e.createURL(pH(r)).toString(),i={signal:t};if(n&&Ws(n.formMethod)){let{formMethod:a,formEncType:s}=n;i.method=a.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(n.json)):s==="text/plain"?i.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?i.body=OO(n.formData):i.body=n.formData}return new Request(o,i)}function OO(e){let r=new URLSearchParams;for(let[t,n]of e.entries())r.append(t,typeof n=="string"?n:n.name);return r}function D4(e){let r=new FormData;for(let[t,n]of e.entries())r.append(t,n);return r}function lae(e,r,t,n,o){let i={},a=null,s,u=!1,l={},c=t&&Oa(t[1])?t[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in r))return;let d=f.route.id,p=r[d];if(Rr(!dd(p),"Cannot handle redirect results in processLoaderData"),Oa(p)){let h=p.error;c!==void 0&&(h=c,c=void 0),a=a||{};{let m=id(e,d);a[m.route.id]==null&&(a[m.route.id]=h)}i[d]=void 0,u||(u=!0,s=i0(p.error)?p.error.status:500),p.headers&&(l[d]=p.headers)}else jc(p)?(n.set(d,p.deferredData),i[d]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!u&&(s=p.statusCode),p.headers&&(l[d]=p.headers)):(i[d]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(s=p.statusCode),p.headers&&(l[d]=p.headers))}),c!==void 0&&t&&(a={[t[0]]:c},i[t[0]]=void 0),{loaderData:i,errors:a,statusCode:s||200,loaderHeaders:l}}function P4(e,r,t,n,o,i,a){let{loaderData:s,errors:u}=lae(r,t,n,a);return o.forEach(l=>{let{key:c,match:f,controller:d}=l,p=i[c];if(Rr(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Oa(p)){let h=id(e.matches,f==null?void 0:f.route.id);u&&u[h.route.id]||(u=Ln({},u,{[h.route.id]:p.error})),e.fetchers.delete(c)}else if(dd(p))Rr(!1,"Unhandled fetcher revalidation redirect");else if(jc(p))Rr(!1,"Unhandled fetcher deferred data");else{let h=Pc(p.data);e.fetchers.set(c,h)}}),{loaderData:s,errors:u}}function I4(e,r,t,n){let o=Ln({},r);for(let i of t){let a=i.route.id;if(r.hasOwnProperty(a)?r[a]!==void 0&&(o[a]=r[a]):e[a]!==void 0&&i.route.loader&&(o[a]=e[a]),n&&n.hasOwnProperty(a))break}return o}function N4(e){return e?Oa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function id(e,r){return(r?e.slice(0,e.findIndex(n=>n.route.id===r)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function M4(e){let r=e.length===1?e[0]:e.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function oa(e,r){let{pathname:t,routeId:n,method:o,type:i,message:a}=r===void 0?{}:r,s="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&t&&n?u="You made a "+o+' request to "'+t+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?u="defer() is not supported in actions":i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(s="Forbidden",u='Route "'+n+'" does not match URL "'+t+'"'):e===404?(s="Not Found",u='No route matches URL "'+t+'"'):e===405&&(s="Method Not Allowed",o&&t&&n?u="You made a "+o.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new h2(e||500,s,new Error(u),!0)}function Tx(e){let r=Object.entries(e);for(let t=r.length-1;t>=0;t--){let[n,o]=r[t];if(dd(o))return{key:n,result:o}}}function pH(e){let r=typeof e=="string"?bf(e):e;return Id(Ln({},r,{hash:""}))}function cae(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function fae(e){return hH(e.result)&&Xie.has(e.result.status)}function jc(e){return e.type===pn.deferred}function Oa(e){return e.type===pn.error}function dd(e){return(e&&e.type)===pn.redirect}function F4(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function dae(e){let r=e;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function hH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function pae(e){return Kie.has(e.toLowerCase())}function Ws(e){return Gie.has(e.toLowerCase())}async function hae(e,r,t,n,o){let i=Object.entries(r);for(let a=0;a<i.length;a++){let[s,u]=i[a],l=e.find(d=>(d==null?void 0:d.route.id)===s);if(!l)continue;let c=n.find(d=>d.route.id===l.route.id),f=c!=null&&!fH(c,l)&&(o&&o[l.route.id])!==void 0;jc(u)&&f&&await WP(u,t,!1).then(d=>{d&&(r[s]=d)})}}async function vae(e,r,t){for(let n=0;n<t.length;n++){let{key:o,routeId:i,controller:a}=t[n],s=r[o];e.find(l=>(l==null?void 0:l.route.id)===i)&&jc(s)&&(Rr(a,"Expected an AbortController for revalidating fetcher deferred result"),await WP(s,a.signal,!0).then(l=>{l&&(r[o]=l)}))}}async function WP(e,r,t){if(t===void 0&&(t=!1),!await e.deferredData.resolveData(r)){if(t)try{return{type:pn.data,data:e.deferredData.unwrappedData}}catch(o){return{type:pn.error,error:o}}return{type:pn.data,data:e.deferredData.data}}}function UP(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function fg(e,r){let t=typeof r=="string"?bf(r).search:r.search;if(e[e.length-1].route.index&&UP(t||""))return e[e.length-1];let n=uH(e);return n[n.length-1]}function L4(e){let{formMethod:r,formAction:t,formEncType:n,text:o,formData:i,json:a}=e;if(!(!r||!t||!n)){if(o!=null)return{formMethod:r,formAction:t,formEncType:n,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:r,formAction:t,formEncType:n,formData:i,json:void 0,text:void 0};if(a!==void 0)return{formMethod:r,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function gk(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mae(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Lm(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function gae(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function Pc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yae(e,r){try{let t=e.sessionStorage.getItem(cH);if(t){let n=JSON.parse(t);for(let[o,i]of Object.entries(n||{}))i&&Array.isArray(i)&&r.set(o,new Set(i||[]))}}catch{}}function xae(e,r){if(r.size>0){let t={};for(let[n,o]of r)t[n]=[...o];try{e.sessionStorage.setItem(cH,JSON.stringify(t))}catch(n){Hh(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},v2.apply(this,arguments)}const L0=N.createContext(null),qP=N.createContext(null),ic=N.createContext(null),HP=N.createContext(null),nl=N.createContext({outlet:null,matches:[],isDataRoute:!1}),vH=N.createContext(null);function bae(e,r){let{relative:t}=r===void 0?{}:r;bv()||Rr(!1);let{basename:n,navigator:o}=N.useContext(ic),{hash:i,pathname:a,search:s}=Iw(e,{relative:t}),u=a;return n!=="/"&&(u=a==="/"?n:$l([n,a])),o.createHref({pathname:u,search:s,hash:i})}function bv(){return N.useContext(HP)!=null}function ou(){return bv()||Rr(!1),N.useContext(HP).location}function mH(e){N.useContext(ic).static||N.useLayoutEffect(e)}function Ki(){let{isDataRoute:e}=N.useContext(nl);return e?Nae():_ae()}function _ae(){bv()||Rr(!1);let e=N.useContext(L0),{basename:r,future:t,navigator:n}=N.useContext(ic),{matches:o}=N.useContext(nl),{pathname:i}=ou(),a=JSON.stringify(Dw(o,t.v7_relativeSplatPath)),s=N.useRef(!1);return mH(()=>{s.current=!0}),N.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=Pw(l,JSON.parse(a),i,c.relative==="path");e==null&&r!=="/"&&(f.pathname=f.pathname==="/"?r:$l([r,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[r,n,a,i,e])}const gH=N.createContext(null);function wae(){return N.useContext(gH)}function Sae(e){let r=N.useContext(nl).outlet;return r&&N.createElement(gH.Provider,{value:e},r)}function VP(){let{matches:e}=N.useContext(nl),r=e[e.length-1];return r?r.params:{}}function Iw(e,r){let{relative:t}=r===void 0?{}:r,{future:n}=N.useContext(ic),{matches:o}=N.useContext(nl),{pathname:i}=ou(),a=JSON.stringify(Dw(o,n.v7_relativeSplatPath));return N.useMemo(()=>Pw(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function Cae(e,r,t,n){bv()||Rr(!1);let{navigator:o,static:i}=N.useContext(ic),{matches:a}=N.useContext(nl),s=a[a.length-1],u=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=ou(),f;f=c;let d=f.pathname||"/",p=d;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=!i&&t&&t.matches&&t.matches.length>0?t.matches:od(e,{pathname:p});return Aae(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},u,y.params),pathname:$l([l,o.encodeLocation?o.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:$l([l,o.encodeLocation?o.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,n)}function Eae(){let e=Iae(),r=i0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),t?N.createElement("pre",{style:o},t):null,null)}const kae=N.createElement(Eae,null);class Rae extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?N.createElement(nl.Provider,{value:this.props.routeContext},N.createElement(vH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tae(e){let{routeContext:r,match:t,children:n}=e,o=N.useContext(L0);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(nl.Provider,{value:r},n)}function Aae(e,r,t,n){var o;if(r===void 0&&(r=[]),t===void 0&&(t=null),n===void 0&&(n=null),e==null){var i;if(!t)return null;if(t.errors)e=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let a=e,s=(o=t)==null?void 0:o.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||Rr(!1),a=a.slice(0,Math.min(a.length,c+1))}let u=!1,l=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=t,h=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||h){u=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let p,h=!1,m=null,y=null;t&&(p=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||kae,u&&(l<0&&d===0?(Mae("route-fallback"),h=!0,y=null):l===d&&(h=!0,y=f.route.hydrateFallbackElement||null)));let v=r.concat(a.slice(0,d+1)),g=()=>{let x;return p?x=m:h?x=y:f.route.Component?x=N.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,N.createElement(Tae,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:x})};return t&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?N.createElement(Rae,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var yH=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yH||{}),xH=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xH||{});function Oae(e){let r=N.useContext(L0);return r||Rr(!1),r}function Dae(e){let r=N.useContext(qP);return r||Rr(!1),r}function Pae(e){let r=N.useContext(nl);return r||Rr(!1),r}function bH(e){let r=Pae(),t=r.matches[r.matches.length-1];return t.route.id||Rr(!1),t.route.id}function Iae(){var e;let r=N.useContext(vH),t=Dae(),n=bH();return r!==void 0?r:(e=t.errors)==null?void 0:e[n]}function Nae(){let{router:e}=Oae(yH.UseNavigateStable),r=bH(xH.UseNavigateStable),t=N.useRef(!1);return mH(()=>{t.current=!0}),N.useCallback(function(o,i){i===void 0&&(i={}),t.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,v2({fromRouteId:r},i)))},[e,r])}const B4={};function Mae(e,r,t){B4[e]||(B4[e]=!0)}function Fae(e,r){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function DO(e){let{to:r,replace:t,state:n,relative:o}=e;bv()||Rr(!1);let{future:i,static:a}=N.useContext(ic),{matches:s}=N.useContext(nl),{pathname:u}=ou(),l=Ki(),c=Pw(r,Dw(s,i.v7_relativeSplatPath),u,o==="path"),f=JSON.stringify(c);return N.useEffect(()=>l(JSON.parse(f),{replace:t,state:n,relative:o}),[l,f,o,t,n]),null}function Lae(e){return Sae(e.context)}function Bae(e){let{basename:r="/",children:t=null,location:n,navigationType:o=go.Pop,navigator:i,static:a=!1,future:s}=e;bv()&&Rr(!1);let u=r.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:u,navigator:i,static:a,future:v2({v7_relativeSplatPath:!1},s)}),[u,s,i,a]);typeof n=="string"&&(n=bf(n));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:h="default"}=n,m=N.useMemo(()=>{let y=Ql(c,u);return y==null?null:{location:{pathname:y,search:f,hash:d,state:p,key:h},navigationType:o}},[u,c,f,d,p,h,o]);return m==null?null:N.createElement(ic.Provider,{value:l},N.createElement(HP.Provider,{children:t,value:m}))}new Promise(()=>{});function jae(e){let r={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(r,{element:N.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:N.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(r,{errorElement:N.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Vh.apply(this,arguments)}function _H(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function $ae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zae(e,r){return e.button===0&&(!r||r==="_self")&&!$ae(e)}function PO(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let n=e[t];return r.concat(Array.isArray(n)?n.map(o=>[t,o]):[[t,n]])},[]))}function Wae(e,r){let t=PO(e);return r&&r.forEach((n,o)=>{t.has(o)||r.getAll(o).forEach(i=>{t.append(o,i)})}),t}const Uae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Hae="6";try{window.__reactRouterVersion=Hae}catch{}function Vae(e,r){return eae({basename:void 0,future:Vh({},void 0,{v7_prependBasename:!0}),history:Cie({window:void 0}),hydrationData:Gae(),routes:e,mapRouteProperties:jae,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function Gae(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=Vh({},r,{errors:Yae(r.errors)})),r}function Yae(e){if(!e)return null;let r=Object.entries(e),t={};for(let[n,o]of r)if(o&&o.__type==="RouteErrorResponse")t[n]=new h2(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let a=new i(o.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let i=new Error(o.message);i.stack="",t[n]=i}}else t[n]=o;return t}const wH=N.createContext({isTransitioning:!1}),Kae=N.createContext(new Map),Xae="startTransition",j4=Lh[Xae],Qae="flushSync",$4=Sie[Qae];function Jae(e){j4?j4(e):e()}function Bm(e){$4?$4(e):e()}class Zae{constructor(){this.status="pending",this.promise=new Promise((r,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",r(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}}function ese(e){let{fallbackElement:r,router:t,future:n}=e,[o,i]=N.useState(t.state),[a,s]=N.useState(),[u,l]=N.useState({isTransitioning:!1}),[c,f]=N.useState(),[d,p]=N.useState(),[h,m]=N.useState(),y=N.useRef(new Map),{v7_startTransition:v}=n||{},g=N.useCallback(S=>{v?Jae(S):S()},[v]),x=N.useCallback((S,T)=>{let{deletedFetchers:k,flushSync:P,viewTransitionOpts:I}=T;S.fetchers.forEach((A,D)=>{A.data!==void 0&&y.current.set(D,A.data)}),k.forEach(A=>y.current.delete(A));let F=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!I||F){P?Bm(()=>i(S)):g(()=>i(S));return}if(P){Bm(()=>{d&&(c&&c.resolve(),d.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let A=t.window.document.startViewTransition(()=>{Bm(()=>i(S))});A.finished.finally(()=>{Bm(()=>{f(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),Bm(()=>p(A));return}d?(c&&c.resolve(),d.skipTransition(),m({state:S,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(s(S),l({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[t.window,d,c,y,g]);N.useLayoutEffect(()=>t.subscribe(x),[t,x]),N.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new Zae)},[u]),N.useEffect(()=>{if(c&&a&&t.window){let S=a,T=c.promise,k=t.window.document.startViewTransition(async()=>{g(()=>i(S)),await T});k.finished.finally(()=>{f(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(k)}},[g,a,c,t.window]),N.useEffect(()=>{c&&a&&o.location.key===a.location.key&&c.resolve()},[c,d,o.location,a]),N.useEffect(()=>{!u.isTransitioning&&h&&(s(h.state),l({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),m(void 0))},[u.isTransitioning,h]),N.useEffect(()=>{},[]);let b=N.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,T,k)=>t.navigate(S,{state:T,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(S,T,k)=>t.navigate(S,{replace:!0,state:T,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[t]),w=t.basename||"/",E=N.useMemo(()=>({router:t,navigator:b,static:!1,basename:w}),[t,b,w]),C=N.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return N.useEffect(()=>Fae(n,t.future),[n,t.future]),N.createElement(N.Fragment,null,N.createElement(L0.Provider,{value:E},N.createElement(qP.Provider,{value:o},N.createElement(Kae.Provider,{value:y.current},N.createElement(wH.Provider,{value:u},N.createElement(Bae,{basename:w,location:o.location,navigationType:o.historyAction,navigator:b,future:C},o.initialized||t.future.v7_partialHydration?N.createElement(tse,{routes:t.routes,future:t.future,state:o}):r))))),null)}const tse=N.memo(rse);function rse(e){let{routes:r,future:t,state:n}=e;return Cae(r,void 0,n,t)}const nse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ose=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ise=N.forwardRef(function(r,t){let{onClick:n,relative:o,reloadDocument:i,replace:a,state:s,target:u,to:l,preventScrollReset:c,viewTransition:f}=r,d=_H(r,Uae),{basename:p}=N.useContext(ic),h,m=!1;if(typeof l=="string"&&ose.test(l)&&(h=l,nse))try{let x=new URL(window.location.href),b=l.startsWith("//")?new URL(x.protocol+l):new URL(l),w=Ql(b.pathname,p);b.origin===x.origin&&w!=null?l=w+b.search+b.hash:m=!0}catch{}let y=bae(l,{relative:o}),v=use(l,{replace:a,state:s,target:u,preventScrollReset:c,relative:o,viewTransition:f});function g(x){n&&n(x),x.defaultPrevented||v(x)}return N.createElement("a",Vh({},d,{href:h||y,onClick:m||i?n:g,ref:t,target:u}))}),ase=N.forwardRef(function(r,t){let{"aria-current":n="page",caseSensitive:o=!1,className:i="",end:a=!1,style:s,to:u,viewTransition:l,children:c}=r,f=_H(r,qae),d=Iw(u,{relative:f.relative}),p=ou(),h=N.useContext(qP),{navigator:m,basename:y}=N.useContext(ic),v=h!=null&&lse(d)&&l===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,x=p.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;o||(x=x.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&y&&(b=Ql(b,y)||b);const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=x===g||!a&&x.startsWith(g)&&x.charAt(w)==="/",C=b!=null&&(b===g||!a&&b.startsWith(g)&&b.charAt(g.length)==="/"),S={isActive:E,isPending:C,isTransitioning:v},T=E?n:void 0,k;typeof i=="function"?k=i(S):k=[i,E?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(S):s;return N.createElement(ise,Vh({},f,{"aria-current":T,className:k,ref:t,style:P,to:u,viewTransition:l}),typeof c=="function"?c(S):c)});var IO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(IO||(IO={}));var z4;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z4||(z4={}));function sse(e){let r=N.useContext(L0);return r||Rr(!1),r}function use(e,r){let{target:t,replace:n,state:o,preventScrollReset:i,relative:a,viewTransition:s}=r===void 0?{}:r,u=Ki(),l=ou(),c=Iw(e,{relative:a});return N.useCallback(f=>{if(zae(f,t)){f.preventDefault();let d=n!==void 0?n:Id(l)===Id(c);u(e,{replace:d,state:o,preventScrollReset:i,relative:a,viewTransition:s})}},[l,u,c,n,o,t,e,i,a,s])}function Nw(e){let r=N.useRef(PO(e)),t=N.useRef(!1),n=ou(),o=N.useMemo(()=>Wae(n.search,t.current?null:r.current),[n.search]),i=Ki(),a=N.useCallback((s,u)=>{const l=PO(typeof s=="function"?s(o):s);t.current=!0,i("?"+l,u)},[i,o]);return[o,a]}function lse(e,r){r===void 0&&(r={});let t=N.useContext(wH);t==null&&Rr(!1);let{basename:n}=sse(IO.useViewTransitionState),o=Iw(e,{relative:r.relative});if(!t.isTransitioning)return!1;let i=Ql(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Ql(t.nextLocation.pathname,n)||t.nextLocation.pathname;return p2(o.pathname,a)!=null||p2(o.pathname,i)!=null}const a0={black:"#000",white:"#fff"},Ap={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Op={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Dp={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Pp={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ip={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},jm={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},cse={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Jl(e,...r){const t=new URL(`https://mui.com/production-error/?code=${e}`);return r.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${t} for the full message.`}const Ks="$$material";function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},m2.apply(null,arguments)}function fse(e){if(e.sheet)return e.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===e)return document.styleSheets[r]}function dse(e){var r=document.createElement("style");return r.setAttribute("data-emotion",e.key),e.nonce!==void 0&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var pse=function(){function e(t){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var r=e.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dse(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=fse(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e}(),gi="-ms-",g2="-moz-",Zr="-webkit-",SH="comm",GP="rule",YP="decl",hse="@import",CH="@keyframes",vse="@layer",mse=Math.abs,Mw=String.fromCharCode,gse=Object.assign;function yse(e,r){return ri(e,0)^45?(((r<<2^ri(e,0))<<2^ri(e,1))<<2^ri(e,2))<<2^ri(e,3):0}function EH(e){return e.trim()}function xse(e,r){return(e=r.exec(e))?e[0]:e}function en(e,r,t){return e.replace(r,t)}function NO(e,r){return e.indexOf(r)}function ri(e,r){return e.charCodeAt(r)|0}function s0(e,r,t){return e.slice(r,t)}function Tu(e){return e.length}function KP(e){return e.length}function Ax(e,r){return r.push(e),e}function bse(e,r){return e.map(r).join("")}var Fw=1,Gh=1,kH=0,ma=0,yo=0,_v="";function Lw(e,r,t,n,o,i,a){return{value:e,root:r,parent:t,type:n,props:o,children:i,line:Fw,column:Gh,length:a,return:""}}function $m(e,r){return gse(Lw("",null,null,"",null,null,0),e,{length:-e.length},r)}function _se(){return yo}function wse(){return yo=ma>0?ri(_v,--ma):0,Gh--,yo===10&&(Gh=1,Fw--),yo}function $a(){return yo=ma<kH?ri(_v,ma++):0,Gh++,yo===10&&(Gh=1,Fw++),yo}function Wu(){return ri(_v,ma)}function C_(){return ma}function B0(e,r){return s0(_v,e,r)}function u0(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RH(e){return Fw=Gh=1,kH=Tu(_v=e),ma=0,[]}function TH(e){return _v="",e}function E_(e){return EH(B0(ma-1,MO(e===91?e+2:e===40?e+1:e)))}function Sse(e){for(;(yo=Wu())&&yo<33;)$a();return u0(e)>2||u0(yo)>3?"":" "}function Cse(e,r){for(;--r&&$a()&&!(yo<48||yo>102||yo>57&&yo<65||yo>70&&yo<97););return B0(e,C_()+(r<6&&Wu()==32&&$a()==32))}function MO(e){for(;$a();)switch(yo){case e:return ma;case 34:case 39:e!==34&&e!==39&&MO(yo);break;case 40:e===41&&MO(e);break;case 92:$a();break}return ma}function Ese(e,r){for(;$a()&&e+yo!==57;)if(e+yo===84&&Wu()===47)break;return"/*"+B0(r,ma-1)+"*"+Mw(e===47?e:$a())}function kse(e){for(;!u0(Wu());)$a();return B0(e,ma)}function Rse(e){return TH(k_("",null,null,null,[""],e=RH(e),0,[0],e))}function k_(e,r,t,n,o,i,a,s,u){for(var l=0,c=0,f=a,d=0,p=0,h=0,m=1,y=1,v=1,g=0,x="",b=o,w=i,E=n,C=x;y;)switch(h=g,g=$a()){case 40:if(h!=108&&ri(C,f-1)==58){NO(C+=en(E_(g),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=E_(g);break;case 9:case 10:case 13:case 32:C+=Sse(h);break;case 92:C+=Cse(C_()-1,7);continue;case 47:switch(Wu()){case 42:case 47:Ax(Tse(Ese($a(),C_()),r,t),u);break;default:C+="/"}break;case 123*m:s[l++]=Tu(C)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+c:v==-1&&(C=en(C,/\f/g,"")),p>0&&Tu(C)-f&&Ax(p>32?U4(C+";",n,t,f-1):U4(en(C," ","")+";",n,t,f-2),u);break;case 59:C+=";";default:if(Ax(E=W4(C,r,t,l,c,o,s,x,b=[],w=[],f),i),g===123)if(c===0)k_(C,r,E,E,b,i,f,s,w);else switch(d===99&&ri(C,3)===110?100:d){case 100:case 108:case 109:case 115:k_(e,E,E,n&&Ax(W4(e,E,E,0,0,o,s,x,o,b=[],f),w),o,w,f,s,n?b:w);break;default:k_(C,E,E,E,[""],w,0,s,w)}}l=c=p=0,m=v=1,x=C="",f=a;break;case 58:f=1+Tu(C),p=h;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&wse()==125)continue}switch(C+=Mw(g),g*m){case 38:v=c>0?1:(C+="\f",-1);break;case 44:s[l++]=(Tu(C)-1)*v,v=1;break;case 64:Wu()===45&&(C+=E_($a())),d=Wu(),c=f=Tu(x=C+=kse(C_())),g++;break;case 45:h===45&&Tu(C)==2&&(m=0)}}return i}function W4(e,r,t,n,o,i,a,s,u,l,c){for(var f=o-1,d=o===0?i:[""],p=KP(d),h=0,m=0,y=0;h<n;++h)for(var v=0,g=s0(e,f+1,f=mse(m=a[h])),x=e;v<p;++v)(x=EH(m>0?d[v]+" "+g:en(g,/&\f/g,d[v])))&&(u[y++]=x);return Lw(e,r,t,o===0?GP:s,u,l,c)}function Tse(e,r,t){return Lw(e,r,t,SH,Mw(_se()),s0(e,2,-2),0)}function U4(e,r,t,n){return Lw(e,r,t,YP,s0(e,0,n),s0(e,n+1,-1),n)}function wh(e,r){for(var t="",n=KP(e),o=0;o<n;o++)t+=r(e[o],o,e,r)||"";return t}function Ase(e,r,t,n){switch(e.type){case vse:if(e.children.length)break;case hse:case YP:return e.return=e.return||e.value;case SH:return"";case CH:return e.return=e.value+"{"+wh(e.children,n)+"}";case GP:e.value=e.props.join(",")}return Tu(t=wh(e.children,n))?e.return=e.value+"{"+t+"}":""}function Ose(e){var r=KP(e);return function(t,n,o,i){for(var a="",s=0;s<r;s++)a+=e[s](t,n,o,i)||"";return a}}function Dse(e){return function(r){r.root||(r=r.return)&&e(r)}}function AH(e){var r=Object.create(null);return function(t){return r[t]===void 0&&(r[t]=e(t)),r[t]}}var Pse=function(r,t,n){for(var o=0,i=0;o=i,i=Wu(),o===38&&i===12&&(t[n]=1),!u0(i);)$a();return B0(r,ma)},Ise=function(r,t){var n=-1,o=44;do switch(u0(o)){case 0:o===38&&Wu()===12&&(t[n]=1),r[n]+=Pse(ma-1,t,n);break;case 2:r[n]+=E_(o);break;case 4:if(o===44){r[++n]=Wu()===58?"&\f":"",t[n]=r[n].length;break}default:r[n]+=Mw(o)}while(o=$a());return r},Nse=function(r,t){return TH(Ise(RH(r),t))},q4=new WeakMap,Mse=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var t=r.value,n=r.parent,o=r.column===n.column&&r.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(r.props.length===1&&t.charCodeAt(0)!==58&&!q4.get(n))&&!o){q4.set(r,!0);for(var i=[],a=Nse(t,i),s=n.props,u=0,l=0;u<a.length;u++)for(var c=0;c<s.length;c++,l++)r.props[l]=i[u]?a[u].replace(/&\f/g,s[c]):s[c]+" "+a[u]}}},Fse=function(r){if(r.type==="decl"){var t=r.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(r.return="",r.value="")}};function OH(e,r){switch(yse(e,r)){case 5103:return Zr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Zr+e+g2+e+gi+e+e;case 6828:case 4268:return Zr+e+gi+e+e;case 6165:return Zr+e+gi+"flex-"+e+e;case 5187:return Zr+e+en(e,/(\w+).+(:[^]+)/,Zr+"box-$1$2"+gi+"flex-$1$2")+e;case 5443:return Zr+e+gi+"flex-item-"+en(e,/flex-|-self/,"")+e;case 4675:return Zr+e+gi+"flex-line-pack"+en(e,/align-content|flex-|-self/,"")+e;case 5548:return Zr+e+gi+en(e,"shrink","negative")+e;case 5292:return Zr+e+gi+en(e,"basis","preferred-size")+e;case 6060:return Zr+"box-"+en(e,"-grow","")+Zr+e+gi+en(e,"grow","positive")+e;case 4554:return Zr+en(e,/([^-])(transform)/g,"$1"+Zr+"$2")+e;case 6187:return en(en(en(e,/(zoom-|grab)/,Zr+"$1"),/(image-set)/,Zr+"$1"),e,"")+e;case 5495:case 3959:return en(e,/(image-set\([^]*)/,Zr+"$1$`$1");case 4968:return en(en(e,/(.+:)(flex-)?(.*)/,Zr+"box-pack:$3"+gi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zr+e+e;case 4095:case 3583:case 4068:case 2532:return en(e,/(.+)-inline(.+)/,Zr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tu(e)-1-r>6)switch(ri(e,r+1)){case 109:if(ri(e,r+4)!==45)break;case 102:return en(e,/(.+:)(.+)-([^]+)/,"$1"+Zr+"$2-$3$1"+g2+(ri(e,r+3)==108?"$3":"$2-$3"))+e;case 115:return~NO(e,"stretch")?OH(en(e,"stretch","fill-available"),r)+e:e}break;case 4949:if(ri(e,r+1)!==115)break;case 6444:switch(ri(e,Tu(e)-3-(~NO(e,"!important")&&10))){case 107:return en(e,":",":"+Zr)+e;case 101:return en(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zr+(ri(e,14)===45?"inline-":"")+"box$3$1"+Zr+"$2$3$1"+gi+"$2box$3")+e}break;case 5936:switch(ri(e,r+11)){case 114:return Zr+e+gi+en(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Zr+e+gi+en(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Zr+e+gi+en(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Zr+e+gi+e+e}return e}var Lse=function(r,t,n,o){if(r.length>-1&&!r.return)switch(r.type){case YP:r.return=OH(r.value,r.length);break;case CH:return wh([$m(r,{value:en(r.value,"@","@"+Zr)})],o);case GP:if(r.length)return bse(r.props,function(i){switch(xse(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wh([$m(r,{props:[en(i,/:(read-\w+)/,":"+g2+"$1")]})],o);case"::placeholder":return wh([$m(r,{props:[en(i,/:(plac\w+)/,":"+Zr+"input-$1")]}),$m(r,{props:[en(i,/:(plac\w+)/,":"+g2+"$1")]}),$m(r,{props:[en(i,/:(plac\w+)/,gi+"input-$1")]})],o)}return""})}},Bse=[Lse],jse=function(r){var t=r.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var y=m.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var o=r.stylisPlugins||Bse,i={},a,s=[];a=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(m){for(var y=m.getAttribute("data-emotion").split(" "),v=1;v<y.length;v++)i[y[v]]=!0;s.push(m)});var u,l=[Mse,Fse];{var c,f=[Ase,Dse(function(m){c.insert(m)})],d=Ose(l.concat(o,f)),p=function(y){return wh(Rse(y),d)};u=function(y,v,g,x){c=g,p(y?y+"{"+v.styles+"}":v.styles),x&&(h.inserted[v.name]=!0)}}var h={key:t,sheet:new pse({key:t,container:a,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:i,registered:{},insert:u};return h.sheet.hydrate(s),h},DH={exports:{}},gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=typeof Symbol=="function"&&Symbol.for,XP=Ho?Symbol.for("react.element"):60103,QP=Ho?Symbol.for("react.portal"):60106,Bw=Ho?Symbol.for("react.fragment"):60107,jw=Ho?Symbol.for("react.strict_mode"):60108,$w=Ho?Symbol.for("react.profiler"):60114,zw=Ho?Symbol.for("react.provider"):60109,Ww=Ho?Symbol.for("react.context"):60110,JP=Ho?Symbol.for("react.async_mode"):60111,Uw=Ho?Symbol.for("react.concurrent_mode"):60111,qw=Ho?Symbol.for("react.forward_ref"):60112,Hw=Ho?Symbol.for("react.suspense"):60113,$se=Ho?Symbol.for("react.suspense_list"):60120,Vw=Ho?Symbol.for("react.memo"):60115,Gw=Ho?Symbol.for("react.lazy"):60116,zse=Ho?Symbol.for("react.block"):60121,Wse=Ho?Symbol.for("react.fundamental"):60117,Use=Ho?Symbol.for("react.responder"):60118,qse=Ho?Symbol.for("react.scope"):60119;function Qa(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case XP:switch(e=e.type,e){case JP:case Uw:case Bw:case $w:case jw:case Hw:return e;default:switch(e=e&&e.$$typeof,e){case Ww:case qw:case Gw:case Vw:case zw:return e;default:return r}}case QP:return r}}}function PH(e){return Qa(e)===Uw}gn.AsyncMode=JP;gn.ConcurrentMode=Uw;gn.ContextConsumer=Ww;gn.ContextProvider=zw;gn.Element=XP;gn.ForwardRef=qw;gn.Fragment=Bw;gn.Lazy=Gw;gn.Memo=Vw;gn.Portal=QP;gn.Profiler=$w;gn.StrictMode=jw;gn.Suspense=Hw;gn.isAsyncMode=function(e){return PH(e)||Qa(e)===JP};gn.isConcurrentMode=PH;gn.isContextConsumer=function(e){return Qa(e)===Ww};gn.isContextProvider=function(e){return Qa(e)===zw};gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XP};gn.isForwardRef=function(e){return Qa(e)===qw};gn.isFragment=function(e){return Qa(e)===Bw};gn.isLazy=function(e){return Qa(e)===Gw};gn.isMemo=function(e){return Qa(e)===Vw};gn.isPortal=function(e){return Qa(e)===QP};gn.isProfiler=function(e){return Qa(e)===$w};gn.isStrictMode=function(e){return Qa(e)===jw};gn.isSuspense=function(e){return Qa(e)===Hw};gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bw||e===Uw||e===$w||e===jw||e===Hw||e===$se||typeof e=="object"&&e!==null&&(e.$$typeof===Gw||e.$$typeof===Vw||e.$$typeof===zw||e.$$typeof===Ww||e.$$typeof===qw||e.$$typeof===Wse||e.$$typeof===Use||e.$$typeof===qse||e.$$typeof===zse)};gn.typeOf=Qa;DH.exports=gn;var Hse=DH.exports,IH=Hse,Vse={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gse={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},NH={};NH[IH.ForwardRef]=Vse;NH[IH.Memo]=Gse;var Yse=!0;function MH(e,r,t){var n="";return t.split(" ").forEach(function(o){e[o]!==void 0?r.push(e[o]+";"):o&&(n+=o+" ")}),n}var ZP=function(r,t,n){var o=r.key+"-"+t.name;(n===!1||Yse===!1)&&r.registered[o]===void 0&&(r.registered[o]=t.styles)},eI=function(r,t,n){ZP(r,t,n);var o=r.key+"-"+t.name;if(r.inserted[t.name]===void 0){var i=t;do r.insert(t===i?"."+o:"",i,r.sheet,!0),i=i.next;while(i!==void 0)}};function Kse(e){for(var r=0,t,n=0,o=e.length;o>=4;++n,o-=4)t=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,r=(t&65535)*1540483477+((t>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(o){case 3:r^=(e.charCodeAt(n+2)&255)<<16;case 2:r^=(e.charCodeAt(n+1)&255)<<8;case 1:r^=e.charCodeAt(n)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var Xse={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qse=/[A-Z]|^ms/g,Jse=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FH=function(r){return r.charCodeAt(1)===45},H4=function(r){return r!=null&&typeof r!="boolean"},yk=AH(function(e){return FH(e)?e:e.replace(Qse,"-$&").toLowerCase()}),V4=function(r,t){switch(r){case"animation":case"animationName":if(typeof t=="string")return t.replace(Jse,function(n,o,i){return Au={name:o,styles:i,next:Au},o})}return Xse[r]!==1&&!FH(r)&&typeof t=="number"&&t!==0?t+"px":t};function l0(e,r,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return Au={name:o.name,styles:o.styles,next:Au},o.name;var i=t;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)Au={name:a.name,styles:a.styles,next:Au},a=a.next;var s=i.styles+";";return s}return Zse(e,r,t)}case"function":{if(e!==void 0){var u=Au,l=t(e);return Au=u,l0(e,r,l)}break}}var c=t;if(r==null)return c;var f=r[c];return f!==void 0?f:c}function Zse(e,r,t){var n="";if(Array.isArray(t))for(var o=0;o<t.length;o++)n+=l0(e,r,t[o])+";";else for(var i in t){var a=t[i];if(typeof a!="object"){var s=a;r!=null&&r[s]!==void 0?n+=i+"{"+r[s]+"}":H4(s)&&(n+=yk(i)+":"+V4(i,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(r==null||r[a[0]]===void 0))for(var u=0;u<a.length;u++)H4(a[u])&&(n+=yk(i)+":"+V4(i,a[u])+";");else{var l=l0(e,r,a);switch(i){case"animation":case"animationName":{n+=yk(i)+":"+l+";";break}default:n+=i+"{"+l+"}"}}}return n}var G4=/label:\s*([^\s;{]+)\s*(;|$)/g,Au;function j0(e,r,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";Au=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=l0(t,r,i);else{var a=i;o+=a[0]}for(var s=1;s<e.length;s++)if(o+=l0(t,r,e[s]),n){var u=i;o+=u[s]}G4.lastIndex=0;for(var l="",c;(c=G4.exec(o))!==null;)l+="-"+c[1];var f=Kse(o)+l;return{name:f,styles:o,next:Au}}var eue=function(r){return r()},LH=Lh.useInsertionEffect?Lh.useInsertionEffect:!1,BH=LH||eue,Y4=LH||N.useLayoutEffect,jH=N.createContext(typeof HTMLElement<"u"?jse({key:"css"}):null);jH.Provider;var tI=function(r){return N.forwardRef(function(t,n){var o=N.useContext(jH);return r(t,o,n)})},wv=N.createContext({}),tue=function(){return N.useContext(wv)},rI={}.hasOwnProperty,FO="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",rue=function(r,t){var n={};for(var o in t)rI.call(t,o)&&(n[o]=t[o]);return n[FO]=r,n},nue=function(r){var t=r.cache,n=r.serialized,o=r.isStringTag;return ZP(t,n,o),BH(function(){return eI(t,n,o)}),null},oue=tI(function(e,r,t){var n=e.css;typeof n=="string"&&r.registered[n]!==void 0&&(n=r.registered[n]);var o=e[FO],i=[n],a="";typeof e.className=="string"?a=MH(r.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=j0(i,void 0,N.useContext(wv));a+=r.key+"-"+s.name;var u={};for(var l in e)rI.call(e,l)&&l!=="css"&&l!==FO&&(u[l]=e[l]);return u.className=a,t&&(u.ref=t),N.createElement(N.Fragment,null,N.createElement(nue,{cache:r,serialized:s,isStringTag:typeof o=="string"}),N.createElement(o,u))}),iue=oue,K4=function(r,t){var n=arguments;if(t==null||!rI.call(t,"css"))return N.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=iue,i[1]=rue(r,t);for(var a=2;a<o;a++)i[a]=n[a];return N.createElement.apply(null,i)};(function(e){var r;r||(r=e.JSX||(e.JSX={}))})(K4||(K4={}));var aue=tI(function(e,r){var t=e.styles,n=j0([t],void 0,N.useContext(wv)),o=N.useRef();return Y4(function(){var i=r.key+"-global",a=new r.sheet.constructor({key:i,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),s=!1,u=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return r.sheet.tags.length&&(a.before=r.sheet.tags[0]),u!==null&&(s=!0,u.setAttribute("data-emotion",i),a.hydrate([u])),o.current=[a,s],function(){a.flush()}},[r]),Y4(function(){var i=o.current,a=i[0],s=i[1];if(s){i[1]=!1;return}if(n.next!==void 0&&eI(r,n.next,!0),a.tags.length){var u=a.tags[a.tags.length-1].nextElementSibling;a.before=u,a.flush()}r.insert("",n,a,!1)},[r,n.name]),null});function nI(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return j0(r)}function $0(){var e=nI.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var sue=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,uue=AH(function(e){return sue.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lue=uue,cue=function(r){return r!=="theme"},X4=function(r){return typeof r=="string"&&r.charCodeAt(0)>96?lue:cue},Q4=function(r,t,n){var o;if(t){var i=t.shouldForwardProp;o=r.__emotion_forwardProp&&i?function(a){return r.__emotion_forwardProp(a)&&i(a)}:i}return typeof o!="function"&&n&&(o=r.__emotion_forwardProp),o},fue=function(r){var t=r.cache,n=r.serialized,o=r.isStringTag;return ZP(t,n,o),BH(function(){return eI(t,n,o)}),null},due=function e(r,t){var n=r.__emotion_real===r,o=n&&r.__emotion_base||r,i,a;t!==void 0&&(i=t.label,a=t.target);var s=Q4(r,t,n),u=s||X4(o),l=!u("as");return function(){var c=arguments,f=n&&r.__emotion_styles!==void 0?r.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{var d=c[0];f.push(d[0]);for(var p=c.length,h=1;h<p;h++)f.push(c[h],d[h])}var m=tI(function(y,v,g){var x=l&&y.as||o,b="",w=[],E=y;if(y.theme==null){E={};for(var C in y)E[C]=y[C];E.theme=N.useContext(wv)}typeof y.className=="string"?b=MH(v.registered,w,y.className):y.className!=null&&(b=y.className+" ");var S=j0(f.concat(w),v.registered,E);b+=v.key+"-"+S.name,a!==void 0&&(b+=" "+a);var T=l&&s===void 0?X4(x):u,k={};for(var P in y)l&&P==="as"||T(P)&&(k[P]=y[P]);return k.className=b,g&&(k.ref=g),N.createElement(N.Fragment,null,N.createElement(fue,{cache:v,serialized:S,isStringTag:typeof x=="string"}),N.createElement(x,k))});return m.displayName=i!==void 0?i:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",m.defaultProps=r.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=f,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(y,v){var g=e(y,m2({},t,v,{shouldForwardProp:Q4(m,v,!0)}));return g.apply(void 0,f)},m}},pue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],LO=due.bind(null);pue.forEach(function(e){LO[e]=LO(e)});var $H={exports:{}},hue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vue=hue,mue=vue;function zH(){}function WH(){}WH.resetWarningCache=zH;var gue=function(){function e(n,o,i,a,s,u){if(u!==mue){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function r(){return e}var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:WH,resetWarningCache:zH};return t.PropTypes=t,t};$H.exports=gue();var yue=$H.exports;const fe=rl(yue);function xue(e){return e==null||Object.keys(e).length===0}function UH(e){const{styles:r,defaultTheme:t={}}=e,n=typeof r=="function"?o=>r(xue(o)?t:o):r;return O.jsx(aue,{styles:n})}/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function qH(e,r){return LO(e,r)}function bue(e,r){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=r(e.__emotion_styles))}const J4=[];function Z4(e){return J4[0]=e,j0(J4)}var HH={exports:{}},Cn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=Symbol.for("react.transitional.element"),iI=Symbol.for("react.portal"),Yw=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),Qw=Symbol.for("react.consumer"),Jw=Symbol.for("react.context"),Zw=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.suspense_list"),rS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),_ue=Symbol.for("react.offscreen"),wue=Symbol.for("react.client.reference");function Ts(e){if(typeof e=="object"&&e!==null){var r=e.$$typeof;switch(r){case oI:switch(e=e.type,e){case Yw:case Xw:case Kw:case eS:case tS:return e;default:switch(e=e&&e.$$typeof,e){case Jw:case Zw:case nS:case rS:return e;case Qw:return e;default:return r}}case iI:return r}}}Cn.ContextConsumer=Qw;Cn.ContextProvider=Jw;Cn.Element=oI;Cn.ForwardRef=Zw;Cn.Fragment=Yw;Cn.Lazy=nS;Cn.Memo=rS;Cn.Portal=iI;Cn.Profiler=Xw;Cn.StrictMode=Kw;Cn.Suspense=eS;Cn.SuspenseList=tS;Cn.isContextConsumer=function(e){return Ts(e)===Qw};Cn.isContextProvider=function(e){return Ts(e)===Jw};Cn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oI};Cn.isForwardRef=function(e){return Ts(e)===Zw};Cn.isFragment=function(e){return Ts(e)===Yw};Cn.isLazy=function(e){return Ts(e)===nS};Cn.isMemo=function(e){return Ts(e)===rS};Cn.isPortal=function(e){return Ts(e)===iI};Cn.isProfiler=function(e){return Ts(e)===Xw};Cn.isStrictMode=function(e){return Ts(e)===Kw};Cn.isSuspense=function(e){return Ts(e)===eS};Cn.isSuspenseList=function(e){return Ts(e)===tS};Cn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Yw||e===Xw||e===Kw||e===eS||e===tS||e===_ue||typeof e=="object"&&e!==null&&(e.$$typeof===nS||e.$$typeof===rS||e.$$typeof===Jw||e.$$typeof===Qw||e.$$typeof===Zw||e.$$typeof===wue||e.getModuleId!==void 0)};Cn.typeOf=Ts;HH.exports=Cn;var VH=HH.exports;function Iu(e){if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function GH(e){if(N.isValidElement(e)||VH.isValidElementType(e)||!Iu(e))return e;const r={};return Object.keys(e).forEach(t=>{r[t]=GH(e[t])}),r}function zo(e,r,t={clone:!0}){const n=t.clone?{...e}:e;return Iu(e)&&Iu(r)&&Object.keys(r).forEach(o=>{N.isValidElement(r[o])||VH.isValidElementType(r[o])?n[o]=r[o]:Iu(r[o])&&Object.prototype.hasOwnProperty.call(e,o)&&Iu(e[o])?n[o]=zo(e[o],r[o],t):t.clone?n[o]=Iu(r[o])?GH(r[o]):r[o]:n[o]=r[o]}),n}const Sue=e=>{const r=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return r.sort((t,n)=>t.val-n.val),r.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function Cue(e){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...o}=e,i=Sue(r),a=Object.keys(i);function s(d){return`@media (min-width:${typeof r[d]=="number"?r[d]:d}${t})`}function u(d){return`@media (max-width:${(typeof r[d]=="number"?r[d]:d)-n/100}${t})`}function l(d,p){const h=a.indexOf(p);return`@media (min-width:${typeof r[d]=="number"?r[d]:d}${t}) and (max-width:${(h!==-1&&typeof r[a[h]]=="number"?r[a[h]]:p)-n/100}${t})`}function c(d){return a.indexOf(d)+1<a.length?l(d,a[a.indexOf(d)+1]):s(d)}function f(d){const p=a.indexOf(d);return p===0?s(a[1]):p===a.length-1?u(a[p]):l(d,a[a.indexOf(d)+1]).replace("@media","@media not all and")}return{keys:a,values:i,up:s,down:u,between:l,only:c,not:f,unit:t,...o}}function Eue(e,r){if(!e.containerQueries)return r;const t=Object.keys(r).filter(n=>n.startsWith("@container")).sort((n,o)=>{var a,s;const i=/min-width:\s*([0-9.]+)/;return+(((a=n.match(i))==null?void 0:a[1])||0)-+(((s=o.match(i))==null?void 0:s[1])||0)});return t.length?t.reduce((n,o)=>{const i=r[o];return delete n[o],n[o]=i,n},{...r}):r}function kue(e,r){return r==="@"||r.startsWith("@")&&(e.some(t=>r.startsWith(`@${t}`))||!!r.match(/^@\d/))}function Rue(e,r){const t=r.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,n,o]=t,i=Number.isNaN(+n)?n||0:+n;return e.containerQueries(o).up(i)}function Tue(e){const r=(i,a)=>i.replace("@media",a?`@container ${a}`:"@container");function t(i,a){i.up=(...s)=>r(e.breakpoints.up(...s),a),i.down=(...s)=>r(e.breakpoints.down(...s),a),i.between=(...s)=>r(e.breakpoints.between(...s),a),i.only=(...s)=>r(e.breakpoints.only(...s),a),i.not=(...s)=>{const u=r(e.breakpoints.not(...s),a);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const n={},o=i=>(t(n,i),n);return t(o),{...e,containerQueries:o}}const Aue={borderRadius:4};function Ag(e,r){return r?zo(e,r,{clone:!1}):e}const oS={xs:0,sm:600,md:900,lg:1200,xl:1536},eB={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${oS[e]}px)`},Oue={containerQueries:e=>({up:r=>{let t=typeof r=="number"?r:oS[r]||r;return typeof t=="number"&&(t=`${t}px`),e?`@container ${e} (min-width:${t})`:`@container (min-width:${t})`}})};function eu(e,r,t){const n=e.theme||{};if(Array.isArray(r)){const i=n.breakpoints||eB;return r.reduce((a,s,u)=>(a[i.up(i.keys[u])]=t(r[u]),a),{})}if(typeof r=="object"){const i=n.breakpoints||eB;return Object.keys(r).reduce((a,s)=>{if(kue(i.keys,s)){const u=Rue(n.containerQueries?n:Oue,s);u&&(a[u]=t(r[s],s))}else if(Object.keys(i.values||oS).includes(s)){const u=i.up(s);a[u]=t(r[s],s)}else{const u=s;a[u]=r[u]}return a},{})}return t(r)}function YH(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,o)=>{const i=e.up(o);return n[i]={},n},{}))||{}}function KH(e,r){return e.reduce((t,n)=>{const o=t[n];return(!o||Object.keys(o).length===0)&&delete t[n],t},r)}function Due(e,...r){const t=YH(e),n=[t,...r].reduce((o,i)=>zo(o,i),{});return KH(Object.keys(t),n)}function Pue(e,r){if(typeof e!="object")return{};const t={},n=Object.keys(r);return Array.isArray(e)?n.forEach((o,i)=>{i<e.length&&(t[o]=!0)}):n.forEach(o=>{e[o]!=null&&(t[o]=!0)}),t}function xk({values:e,breakpoints:r,base:t}){const n=t||Pue(e,r),o=Object.keys(n);if(o.length===0)return e;let i;return o.reduce((a,s,u)=>(Array.isArray(e)?(a[s]=e[u]!=null?e[u]:e[i],i=u):typeof e=="object"?(a[s]=e[s]!=null?e[s]:e[i],i=s):a[s]=e,a),{})}function ht(e){if(typeof e!="string")throw new Error(Jl(7));return e.charAt(0).toUpperCase()+e.slice(1)}function $c(e,r,t=!0){if(!r||typeof r!="string")return null;if(e&&e.vars&&t){const n=`vars.${r}`.split(".").reduce((o,i)=>o&&o[i]?o[i]:null,e);if(n!=null)return n}return r.split(".").reduce((n,o)=>n&&n[o]!=null?n[o]:null,e)}function y2(e,r,t,n=t){let o;return typeof e=="function"?o=e(t):Array.isArray(e)?o=e[t]||n:o=$c(e,t)||n,r&&(o=r(o,n,e)),o}function po(e){const{prop:r,cssProperty:t=e.prop,themeKey:n,transform:o}=e,i=a=>{if(a[r]==null)return null;const s=a[r],u=a.theme,l=$c(u,n)||{};return eu(a,s,f=>{let d=y2(l,o,f);return f===d&&typeof f=="string"&&(d=y2(l,o,`${r}${f==="default"?"":ht(f)}`,f)),t===!1?d:{[t]:d}})};return i.propTypes={},i.filterProps=[r],i}function Iue(e){const r={};return t=>(r[t]===void 0&&(r[t]=e(t)),r[t])}const Nue={m:"margin",p:"padding"},Mue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tB={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Fue=Iue(e=>{if(e.length>2)if(tB[e])e=tB[e];else return[e];const[r,t]=e.split(""),n=Nue[r],o=Mue[t]||"";return Array.isArray(o)?o.map(i=>n+i):[n+o]}),aI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],sI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...aI,...sI];function z0(e,r,t,n){const o=$c(e,r,!0)??t;return typeof o=="number"||typeof o=="string"?i=>typeof i=="string"?i:typeof o=="string"?`calc(${i} * ${o})`:o*i:Array.isArray(o)?i=>{if(typeof i=="string")return i;const a=Math.abs(i),s=o[a];return i>=0?s:typeof s=="number"?-s:`-${s}`}:typeof o=="function"?o:()=>{}}function iS(e){return z0(e,"spacing",8)}function Nd(e,r){return typeof r=="string"||r==null?r:e(r)}function Lue(e,r){return t=>e.reduce((n,o)=>(n[o]=Nd(r,t),n),{})}function Bue(e,r,t,n){if(!r.includes(t))return null;const o=Fue(t),i=Lue(o,n),a=e[t];return eu(e,a,i)}function XH(e,r){const t=iS(e.theme);return Object.keys(e).map(n=>Bue(e,r,n,t)).reduce(Ag,{})}function Qn(e){return XH(e,aI)}Qn.propTypes={};Qn.filterProps=aI;function Jn(e){return XH(e,sI)}Jn.propTypes={};Jn.filterProps=sI;function QH(e=8,r=iS({spacing:e})){if(e.mui)return e;const t=(...n)=>(n.length===0?[1]:n).map(i=>{const a=r(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function aS(...e){const r=e.reduce((n,o)=>(o.filterProps.forEach(i=>{n[i]=o}),n),{}),t=n=>Object.keys(n).reduce((o,i)=>r[i]?Ag(o,r[i](n)):o,{});return t.propTypes={},t.filterProps=e.reduce((n,o)=>n.concat(o.filterProps),[]),t}function hs(e){return typeof e!="number"?e:`${e}px solid`}function As(e,r){return po({prop:e,themeKey:"borders",transform:r})}const jue=As("border",hs),$ue=As("borderTop",hs),zue=As("borderRight",hs),Wue=As("borderBottom",hs),Uue=As("borderLeft",hs),que=As("borderColor"),Hue=As("borderTopColor"),Vue=As("borderRightColor"),Gue=As("borderBottomColor"),Yue=As("borderLeftColor"),Kue=As("outline",hs),Xue=As("outlineColor"),sS=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const r=z0(e.theme,"shape.borderRadius",4),t=n=>({borderRadius:Nd(r,n)});return eu(e,e.borderRadius,t)}return null};sS.propTypes={};sS.filterProps=["borderRadius"];aS(jue,$ue,zue,Wue,Uue,que,Hue,Vue,Gue,Yue,sS,Kue,Xue);const uS=e=>{if(e.gap!==void 0&&e.gap!==null){const r=z0(e.theme,"spacing",8),t=n=>({gap:Nd(r,n)});return eu(e,e.gap,t)}return null};uS.propTypes={};uS.filterProps=["gap"];const lS=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const r=z0(e.theme,"spacing",8),t=n=>({columnGap:Nd(r,n)});return eu(e,e.columnGap,t)}return null};lS.propTypes={};lS.filterProps=["columnGap"];const cS=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const r=z0(e.theme,"spacing",8),t=n=>({rowGap:Nd(r,n)});return eu(e,e.rowGap,t)}return null};cS.propTypes={};cS.filterProps=["rowGap"];const Que=po({prop:"gridColumn"}),Jue=po({prop:"gridRow"}),Zue=po({prop:"gridAutoFlow"}),ele=po({prop:"gridAutoColumns"}),tle=po({prop:"gridAutoRows"}),rle=po({prop:"gridTemplateColumns"}),nle=po({prop:"gridTemplateRows"}),ole=po({prop:"gridTemplateAreas"}),ile=po({prop:"gridArea"});aS(uS,lS,cS,Que,Jue,Zue,ele,tle,rle,nle,ole,ile);function Sh(e,r){return r==="grey"?r:e}const ale=po({prop:"color",themeKey:"palette",transform:Sh}),sle=po({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Sh}),ule=po({prop:"backgroundColor",themeKey:"palette",transform:Sh});aS(ale,sle,ule);function Na(e){return e<=1&&e!==0?`${e*100}%`:e}const lle=po({prop:"width",transform:Na}),uI=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const r=t=>{var o,i,a,s,u;const n=((a=(i=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:i.values)==null?void 0:a[t])||oS[t];return n?((u=(s=e.theme)==null?void 0:s.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Na(t)}};return eu(e,e.maxWidth,r)}return null};uI.filterProps=["maxWidth"];const cle=po({prop:"minWidth",transform:Na}),fle=po({prop:"height",transform:Na}),dle=po({prop:"maxHeight",transform:Na}),ple=po({prop:"minHeight",transform:Na});po({prop:"size",cssProperty:"width",transform:Na});po({prop:"size",cssProperty:"height",transform:Na});const hle=po({prop:"boxSizing"});aS(lle,uI,cle,fle,dle,ple,hle);const W0={border:{themeKey:"borders",transform:hs},borderTop:{themeKey:"borders",transform:hs},borderRight:{themeKey:"borders",transform:hs},borderBottom:{themeKey:"borders",transform:hs},borderLeft:{themeKey:"borders",transform:hs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sS},color:{themeKey:"palette",transform:Sh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Sh},backgroundColor:{themeKey:"palette",transform:Sh},p:{style:Jn},pt:{style:Jn},pr:{style:Jn},pb:{style:Jn},pl:{style:Jn},px:{style:Jn},py:{style:Jn},padding:{style:Jn},paddingTop:{style:Jn},paddingRight:{style:Jn},paddingBottom:{style:Jn},paddingLeft:{style:Jn},paddingX:{style:Jn},paddingY:{style:Jn},paddingInline:{style:Jn},paddingInlineStart:{style:Jn},paddingInlineEnd:{style:Jn},paddingBlock:{style:Jn},paddingBlockStart:{style:Jn},paddingBlockEnd:{style:Jn},m:{style:Qn},mt:{style:Qn},mr:{style:Qn},mb:{style:Qn},ml:{style:Qn},mx:{style:Qn},my:{style:Qn},margin:{style:Qn},marginTop:{style:Qn},marginRight:{style:Qn},marginBottom:{style:Qn},marginLeft:{style:Qn},marginX:{style:Qn},marginY:{style:Qn},marginInline:{style:Qn},marginInlineStart:{style:Qn},marginInlineEnd:{style:Qn},marginBlock:{style:Qn},marginBlockStart:{style:Qn},marginBlockEnd:{style:Qn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uS},rowGap:{style:cS},columnGap:{style:lS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Na},maxWidth:{style:uI},minWidth:{transform:Na},height:{transform:Na},maxHeight:{transform:Na},minHeight:{transform:Na},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vle(...e){const r=e.reduce((n,o)=>n.concat(Object.keys(o)),[]),t=new Set(r);return e.every(n=>t.size===Object.keys(n).length)}function mle(e,r){return typeof e=="function"?e(r):e}function gle(){function e(t,n,o,i){const a={[t]:n,theme:o},s=i[t];if(!s)return{[t]:n};const{cssProperty:u=t,themeKey:l,transform:c,style:f}=s;if(n==null)return null;if(l==="typography"&&n==="inherit")return{[t]:n};const d=$c(o,l)||{};return f?f(a):eu(a,n,h=>{let m=y2(d,c,h);return h===m&&typeof h=="string"&&(m=y2(d,c,`${t}${h==="default"?"":ht(h)}`,h)),u===!1?m:{[u]:m}})}function r(t){const{sx:n,theme:o={}}=t||{};if(!n)return null;const i=o.unstable_sxConfig??W0;function a(s){let u=s;if(typeof s=="function")u=s(o);else if(typeof s!="object")return s;if(!u)return null;const l=YH(o.breakpoints),c=Object.keys(l);let f=l;return Object.keys(u).forEach(d=>{const p=mle(u[d],o);if(p!=null)if(typeof p=="object")if(i[d])f=Ag(f,e(d,p,o,i));else{const h=eu({theme:o},p,m=>({[d]:m}));vle(h,p)?f[d]=r({sx:p,theme:o}):f=Ag(f,h)}else f=Ag(f,e(d,p,o,i))}),Eue(o,KH(c,f))}return Array.isArray(n)?n.map(a):a(n)}return r}const lf=gle();lf.filterProps=["sx"];function yle(e,r){var n;const t=this;if(t.vars){if(!((n=t.colorSchemes)!=null&&n[e])||typeof t.getColorSchemeSelector!="function")return{};let o=t.getColorSchemeSelector(e);return o==="&"?r:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:r})}return t.palette.mode===e?r:{}}function Sv(e={},...r){const{breakpoints:t={},palette:n={},spacing:o,shape:i={},...a}=e,s=Cue(t),u=QH(o);let l=zo({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:u,shape:{...Aue,...i}},a);return l=Tue(l),l.applyStyles=yle,l=r.reduce((c,f)=>zo(c,f),l),l.unstable_sxConfig={...W0,...a==null?void 0:a.unstable_sxConfig},l.unstable_sx=function(f){return lf({sx:f,theme:this})},l}function xle(e){return Object.keys(e).length===0}function lI(e=null){const r=N.useContext(wv);return!r||xle(r)?e:r}const ble=Sv();function U0(e=ble){return lI(e)}function _le({styles:e,themeId:r,defaultTheme:t={}}){const n=U0(t),o=typeof e=="function"?e(r&&n[r]||n):e;return O.jsx(UH,{styles:o})}const wle=e=>{var n;const r={systemProps:{},otherProps:{}},t=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??W0;return Object.keys(e).forEach(o=>{t[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function fS(e){const{sx:r,...t}=e,{systemProps:n,otherProps:o}=wle(t);let i;return Array.isArray(r)?i=[n,...r]:typeof r=="function"?i=(...a)=>{const s=r(...a);return Iu(s)?{...n,...s}:n}:i={...n,...r},{...o,sx:i}}const rB=e=>e,Sle=()=>{let e=rB;return{configure(r){e=r},generate(r){return e(r)},reset(){e=rB}}},JH=Sle();function ZH(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=ZH(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function ct(){for(var e,r,t=0,n="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=ZH(e))&&(n&&(n+=" "),n+=r);return n}function Cle(e={}){const{themeId:r,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:o}=e,i=qH("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(lf);return N.forwardRef(function(u,l){const c=U0(t),{className:f,component:d="div",...p}=fS(u);return O.jsx(i,{as:d,ref:l,className:ct(f,o?o(n):n),theme:r&&c[r]||c,...p})})}const Ele={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ht(e,r,t="Mui"){const n=Ele[r];return n?`${t}-${n}`:`${JH.generate(e)}-${r}`}function Qt(e,r,t="Mui"){const n={};return r.forEach(o=>{n[o]=Ht(e,o,t)}),n}function e7(e){const{variants:r,...t}=e,n={variants:r,style:Z4(t),isProcessed:!0};return n.style===t||r&&r.forEach(o=>{typeof o.style!="function"&&(o.style=Z4(o.style))}),n}const kle=Sv();function bk(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Rle(e){return e?(r,t)=>t[e]:null}function Tle(e,r,t){e.theme=Ole(e.theme)?t:e.theme[r]||e.theme}function R_(e,r){const t=typeof r=="function"?r(e):r;if(Array.isArray(t))return t.flatMap(n=>R_(e,n));if(Array.isArray(t==null?void 0:t.variants)){let n;if(t.isProcessed)n=t.style;else{const{variants:o,...i}=t;n=i}return t7(e,t.variants,[n])}return t!=null&&t.isProcessed?t.style:t}function t7(e,r,t=[]){var o;let n;e:for(let i=0;i<r.length;i+=1){const a=r[i];if(typeof a.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(n))continue}else for(const s in a.props)if(e[s]!==a.props[s]&&((o=e.ownerState)==null?void 0:o[s])!==a.props[s])continue e;typeof a.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),t.push(a.style(n))):t.push(a.style)}return t}function r7(e={}){const{themeId:r,defaultTheme:t=kle,rootShouldForwardProp:n=bk,slotShouldForwardProp:o=bk}=e;function i(s){Tle(s,r,t)}return(s,u={})=>{bue(s,w=>w.filter(E=>E!==lf));const{name:l,slot:c,skipVariantsResolver:f,skipSx:d,overridesResolver:p=Rle(Ple(c)),...h}=u,m=f!==void 0?f:c&&c!=="Root"&&c!=="root"||!1,y=d||!1;let v=bk;c==="Root"||c==="root"?v=n:c?v=o:Dle(s)&&(v=void 0);const g=qH(s,{shouldForwardProp:v,label:Ale(),...h}),x=w=>{if(typeof w=="function"&&w.__emotion_real!==w)return function(C){return R_(C,w)};if(Iu(w)){const E=e7(w);return E.variants?function(S){return R_(S,E)}:E.style}return w},b=(...w)=>{const E=[],C=w.map(x),S=[];if(E.push(i),l&&p&&S.push(function(I){var $,B;const A=(B=($=I.theme.components)==null?void 0:$[l])==null?void 0:B.styleOverrides;if(!A)return null;const D={};for(const W in A)D[W]=R_(I,A[W]);return p(I,D)}),l&&!m&&S.push(function(I){var D,$;const F=I.theme,A=($=(D=F==null?void 0:F.components)==null?void 0:D[l])==null?void 0:$.variants;return A?t7(I,A):null}),y||S.push(lf),Array.isArray(C[0])){const P=C.shift(),I=new Array(E.length).fill(""),F=new Array(S.length).fill("");let A;A=[...I,...P,...F],A.raw=[...I,...P.raw,...F],E.unshift(A)}const T=[...E,...C,...S],k=g(...T);return s.muiName&&(k.muiName=s.muiName),k};return g.withConfig&&(b.withConfig=g.withConfig),b}}function Ale(e,r){return void 0}function Ole(e){for(const r in e)return!1;return!0}function Dle(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ple(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const cI=r7();function c0(e,r){const t={...r};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=n;if(o==="components"||o==="slots")t[o]={...e[o],...t[o]};else if(o==="componentsProps"||o==="slotProps"){const i=e[o],a=r[o];if(!a)t[o]=i||{};else if(!i)t[o]=a;else{t[o]={...a};for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)){const u=s;t[o][u]=c0(i[u],a[u])}}}else t[o]===void 0&&(t[o]=e[o])}return t}function n7(e){const{theme:r,name:t,props:n}=e;return!r||!r.components||!r.components[t]||!r.components[t].defaultProps?n:c0(r.components[t].defaultProps,n)}function fI({props:e,name:r,defaultTheme:t,themeId:n}){let o=U0(t);return n&&(o=o[n]||o),n7({theme:o,name:r,props:e})}const qa=typeof window<"u"?N.useLayoutEffect:N.useEffect;function Ile(e,r,t,n,o){const[i,a]=N.useState(()=>o&&t?t(e).matches:n?n(e).matches:r);return qa(()=>{if(!t)return;const s=t(e),u=()=>{a(s.matches)};return u(),s.addEventListener("change",u),()=>{s.removeEventListener("change",u)}},[e,t]),i}const Nle={...Lh},o7=Nle.useSyncExternalStore;function Mle(e,r,t,n,o){const i=N.useCallback(()=>r,[r]),a=N.useMemo(()=>{if(o&&t)return()=>t(e).matches;if(n!==null){const{matches:c}=n(e);return()=>c}return i},[i,e,n,o,t]),[s,u]=N.useMemo(()=>{if(t===null)return[i,()=>()=>{}];const c=t(e);return[()=>c.matches,f=>(c.addEventListener("change",f),()=>{c.removeEventListener("change",f)})]},[i,t,e]);return o7(u,s,a)}function i7(e={}){const{themeId:r}=e;return function(n,o={}){let i=lI();i&&r&&(i=i[r]||i);const a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:u=a?window.matchMedia:null,ssrMatchMedia:l=null,noSsr:c=!1}=n7({name:"MuiUseMediaQuery",props:o,theme:i});let f=typeof n=="function"?n(i):n;return f=f.replace(/^@media( ?)/m,""),(o7!==void 0?Mle:Ile)(f,s,u,l,c)}}i7();function Fle(e,r=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(e,t))}function dI(e,r=0,t=1){return Fle(e,r,t)}function Lle(e){e=e.slice(1);const r=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let t=e.match(r);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,o)=>o<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function cf(e){if(e.type)return e;if(e.charAt(0)==="#")return cf(Lle(e));const r=e.indexOf("("),t=e.substring(0,r);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Jl(9,e));let n=e.substring(r+1,e.length-1),o;if(t==="color"){if(n=n.split(" "),o=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Jl(10,o))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:t,values:n,colorSpace:o}}const Ble=e=>{const r=cf(e);return r.values.slice(0,3).map((t,n)=>r.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},dg=(e,r)=>{try{return Ble(e)}catch{return e}};function dS(e){const{type:r,colorSpace:t}=e;let{values:n}=e;return r.includes("rgb")?n=n.map((o,i)=>i<3?parseInt(o,10):o):r.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),r.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${r}(${n})`}function a7(e){e=cf(e);const{values:r}=e,t=r[0],n=r[1]/100,o=r[2]/100,i=n*Math.min(o,1-o),a=(l,c=(l+t/30)%12)=>o-i*Math.max(Math.min(c-3,9-c,1),-1);let s="rgb";const u=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(s+="a",u.push(r[3])),dS({type:s,values:u})}function BO(e){e=cf(e);let r=e.type==="hsl"||e.type==="hsla"?cf(a7(e)).values:e.values;return r=r.map(t=>(e.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}function jle(e,r){const t=BO(e),n=BO(r);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function fr(e,r){return e=cf(e),r=dI(r),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${r}`:e.values[3]=r,dS(e)}function Ox(e,r,t){try{return fr(e,r)}catch{return e}}function Yh(e,r){if(e=cf(e),r=dI(r),e.type.includes("hsl"))e.values[2]*=1-r;else if(e.type.includes("rgb")||e.type.includes("color"))for(let t=0;t<3;t+=1)e.values[t]*=1-r;return dS(e)}function _n(e,r,t){try{return Yh(e,r)}catch{return e}}function Kh(e,r){if(e=cf(e),r=dI(r),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*r;else if(e.type.includes("rgb"))for(let t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*r;else if(e.type.includes("color"))for(let t=0;t<3;t+=1)e.values[t]+=(1-e.values[t])*r;return dS(e)}function wn(e,r,t){try{return Kh(e,r)}catch{return e}}function $le(e,r=.15){return BO(e)>.5?Yh(e,r):Kh(e,r)}function Dx(e,r,t){try{return $le(e,r)}catch{return e}}function jO(...e){return e.reduce((r,t)=>t==null?r:function(...o){r.apply(this,o),t.apply(this,o)},()=>{})}function pI(e,r=166){let t;function n(...o){const i=()=>{e.apply(this,o)};clearTimeout(t),t=setTimeout(i,r)}return n.clear=()=>{clearTimeout(t)},n}function Og(e,r){var t,n,o;return N.isValidElement(e)&&r.indexOf(e.type.muiName??((o=(n=(t=e.type)==null?void 0:t._payload)==null?void 0:n.value)==null?void 0:o.muiName))!==-1}function Ha(e){return e&&e.ownerDocument||document}function tu(e){return Ha(e).defaultView||window}function $O(e,r){typeof e=="function"?e(r):e&&(e.current=r)}let nB=0;function zle(e){const[r,t]=N.useState(e),n=e||r;return N.useEffect(()=>{r==null&&(nB+=1,t(`mui-${nB}`))},[r]),n}const Wle={...Lh},oB=Wle.useId;function qd(e){if(oB!==void 0){const r=oB();return e??r}return zle(e)}function Xh({controlled:e,default:r,name:t,state:n="value"}){const{current:o}=N.useRef(e!==void 0),[i,a]=N.useState(r),s=o?e:i,u=N.useCallback(l=>{o||a(l)},[]);return[s,u]}function Jc(e){const r=N.useRef(e);return qa(()=>{r.current=e}),N.useRef((...t)=>(0,r.current)(...t)).current}function Nn(...e){return N.useMemo(()=>e.every(r=>r==null)?null:r=>{e.forEach(t=>{$O(t,r)})},e)}const iB={};function s7(e,r){const t=N.useRef(iB);return t.current===iB&&(t.current=e(r)),t}const Ule=[];function qle(e){N.useEffect(e,Ule)}class pS{constructor(){bt(this,"currentId",null);bt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});bt(this,"disposeEffect",()=>this.clear)}static create(){return new pS}start(r,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},r)}}function pd(){const e=s7(pS.create).current;return qle(e.disposeEffect),e}function Qh(e){try{return e.matches(":focus-visible")}catch{}return!1}function u7(e=window){const r=e.document.documentElement.clientWidth;return e.innerWidth-r}function Vt(e,r,t=void 0){const n={};for(const o in e){const i=e[o];let a="",s=!0;for(let u=0;u<i.length;u+=1){const l=i[u];l&&(a+=(s===!0?"":" ")+r(l),s=!1,t&&t[l]&&(a+=" "+t[l]))}n[o]=a}return n}function Hle(e){return typeof e=="string"}function l7(e,r,t){return e===void 0||Hle(e)?r:{...r,ownerState:{...r.ownerState,...t}}}function c7(e,r=[]){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!r.includes(n)).forEach(n=>{t[n]=e[n]}),t}function aB(e){if(e===void 0)return{};const r={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&typeof e[t]=="function")).forEach(t=>{r[t]=e[t]}),r}function f7(e){const{getSlotProps:r,additionalProps:t,externalSlotProps:n,externalForwardedProps:o,className:i}=e;if(!r){const p=ct(t==null?void 0:t.className,i,o==null?void 0:o.className,n==null?void 0:n.className),h={...t==null?void 0:t.style,...o==null?void 0:o.style,...n==null?void 0:n.style},m={...t,...o,...n};return p.length>0&&(m.className=p),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:void 0}}const a=c7({...o,...n}),s=aB(n),u=aB(o),l=r(a),c=ct(l==null?void 0:l.className,t==null?void 0:t.className,i,o==null?void 0:o.className,n==null?void 0:n.className),f={...l==null?void 0:l.style,...t==null?void 0:t.style,...o==null?void 0:o.style,...n==null?void 0:n.style},d={...l,...t,...u,...s};return c.length>0&&(d.className=c),Object.keys(f).length>0&&(d.style=f),{props:d,internalRef:l.ref}}function d7(e,r,t){return typeof e=="function"?e(r,t):e}function zO(e){var f;const{elementType:r,externalSlotProps:t,ownerState:n,skipResolvingSlotProps:o=!1,...i}=e,a=o?{}:d7(t,n),{props:s,internalRef:u}=f7({...i,externalSlotProps:a}),l=Nn(u,a==null?void 0:a.ref,(f=e.additionalProps)==null?void 0:f.ref);return l7(r,{...s,ref:l},n)}function Hd(e){var r;return parseInt(N.version,10)>=19?((r=e==null?void 0:e.props)==null?void 0:r.ref)||null:(e==null?void 0:e.ref)||null}const p7=N.createContext(null);function hI(){return N.useContext(p7)}const Vle=typeof Symbol=="function"&&Symbol.for,Gle=Vle?Symbol.for("mui.nested"):"__THEME_NESTED__";function Yle(e,r){return typeof r=="function"?r(e):{...e,...r}}function Kle(e){const{children:r,theme:t}=e,n=hI(),o=N.useMemo(()=>{const i=n===null?{...t}:Yle(n,t);return i!=null&&(i[Gle]=n!==null),i},[t,n]);return O.jsx(p7.Provider,{value:o,children:r})}const h7=N.createContext();function Xle({value:e,...r}){return O.jsx(h7.Provider,{value:e??!0,...r})}const q0=()=>N.useContext(h7)??!1,v7=N.createContext(void 0);function Qle({value:e,children:r}){return O.jsx(v7.Provider,{value:e,children:r})}function Jle(e){const{theme:r,name:t,props:n}=e;if(!r||!r.components||!r.components[t])return n;const o=r.components[t];return o.defaultProps?c0(o.defaultProps,n):!o.styleOverrides&&!o.variants?c0(o,n):n}function Zle({props:e,name:r}){const t=N.useContext(v7);return Jle({props:e,name:r,theme:{components:t}})}const sB={};function uB(e,r,t,n=!1){return N.useMemo(()=>{const o=e&&r[e]||r;if(typeof t=="function"){const i=t(o),a=e?{...r,[e]:i}:i;return n?()=>a:a}return e?{...r,[e]:t}:{...r,...t}},[e,r,t,n])}function m7(e){const{children:r,theme:t,themeId:n}=e,o=lI(sB),i=hI()||sB,a=uB(n,o,t),s=uB(n,i,t,!0),u=(n?a[n]:a).direction==="rtl";return O.jsx(Kle,{theme:s,children:O.jsx(wv.Provider,{value:a,children:O.jsx(Xle,{value:u,children:O.jsx(Qle,{value:n?a[n].components:a.components,children:r})})})})}const lB={theme:void 0};function ece(e){let r,t;return function(o){let i=r;return(i===void 0||o.theme!==t)&&(lB.theme=o.theme,i=e7(e(lB)),r=i,t=o.theme),i}}const vI="mode",mI="color-scheme",tce="data-color-scheme";function rce(e){const{defaultMode:r="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:o=vI,colorSchemeStorageKey:i=mI,attribute:a=tce,colorSchemeNode:s="document.documentElement",nonce:u}=e||{};let l="",c=a;if(a==="class"&&(c=".%s"),a==="data"&&(c="[data-%s]"),c.startsWith(".")){const d=c.substring(1);l+=`${s}.classList.remove('${d}'.replace('%s', light), '${d}'.replace('%s', dark));
      ${s}.classList.add('${d}'.replace('%s', colorScheme));`}const f=c.match(/\[([^\]]+)\]/);if(f){const[d,p]=f[1].split("=");p||(l+=`${s}.removeAttribute('${d}'.replace('%s', light));
      ${s}.removeAttribute('${d}'.replace('%s', dark));`),l+=`
      ${s}.setAttribute('${d}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else l+=`${s}.setAttribute('${c}', colorScheme);`;return O.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${o}') || '${r}';
  const dark = localStorage.getItem('${i}-dark') || '${n}';
  const light = localStorage.getItem('${i}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${l}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function cB(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function g7(e,r){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return r("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return r("dark")}function nce(e){return g7(e,r=>{if(r==="light")return e.lightColorScheme;if(r==="dark")return e.darkColorScheme})}function _k(e,r){if(typeof window>"u")return;let t;try{t=localStorage.getItem(e)||void 0,t||localStorage.setItem(e,r)}catch{}return t||r}function oce(e){const{defaultMode:r="light",defaultLightColorScheme:t,defaultDarkColorScheme:n,supportedColorSchemes:o=[],modeStorageKey:i=vI,colorSchemeStorageKey:a=mI,storageWindow:s=typeof window>"u"?void 0:window,noSsr:u=!1}=e,l=o.join(","),c=o.length>1,[f,d]=N.useState(()=>{const b=_k(i,r),w=_k(`${a}-light`,t),E=_k(`${a}-dark`,n);return{mode:b,systemMode:cB(b),lightColorScheme:w,darkColorScheme:E}}),[p,h]=N.useState(u||!c);N.useEffect(()=>{h(!0)},[]);const m=nce(f),y=N.useCallback(b=>{d(w=>{if(b===w.mode)return w;const E=b??r;try{localStorage.setItem(i,E)}catch{}return{...w,mode:E,systemMode:cB(E)}})},[i,r]),v=N.useCallback(b=>{b?typeof b=="string"?b&&!l.includes(b)?console.error(`\`${b}\` does not exist in \`theme.colorSchemes\`.`):d(w=>{const E={...w};return g7(w,C=>{try{localStorage.setItem(`${a}-${C}`,b)}catch{}C==="light"&&(E.lightColorScheme=b),C==="dark"&&(E.darkColorScheme=b)}),E}):d(w=>{const E={...w},C=b.light===null?t:b.light,S=b.dark===null?n:b.dark;if(C)if(!l.includes(C))console.error(`\`${C}\` does not exist in \`theme.colorSchemes\`.`);else{E.lightColorScheme=C;try{localStorage.setItem(`${a}-light`,C)}catch{}}if(S)if(!l.includes(S))console.error(`\`${S}\` does not exist in \`theme.colorSchemes\`.`);else{E.darkColorScheme=S;try{localStorage.setItem(`${a}-dark`,S)}catch{}}return E}):d(w=>{try{localStorage.setItem(`${a}-light`,t),localStorage.setItem(`${a}-dark`,n)}catch{}return{...w,lightColorScheme:t,darkColorScheme:n}})},[l,a,t,n]),g=N.useCallback(b=>{f.mode==="system"&&d(w=>{const E=b!=null&&b.matches?"dark":"light";return w.systemMode===E?w:{...w,systemMode:E}})},[f.mode]),x=N.useRef(g);return x.current=g,N.useEffect(()=>{if(typeof window.matchMedia!="function"||!c)return;const b=(...E)=>x.current(...E),w=window.matchMedia("(prefers-color-scheme: dark)");return w.addListener(b),b(w),()=>{w.removeListener(b)}},[c]),N.useEffect(()=>{if(s&&c){const b=w=>{const E=w.newValue;typeof w.key=="string"&&w.key.startsWith(a)&&(!E||l.match(E))&&(w.key.endsWith("light")&&v({light:E}),w.key.endsWith("dark")&&v({dark:E})),w.key===i&&(!E||["light","dark","system"].includes(E))&&y(E||r)};return s.addEventListener("storage",b),()=>{s.removeEventListener("storage",b)}}},[v,y,i,a,l,r,s,c]),{...f,mode:p?f.mode:void 0,systemMode:p?f.systemMode:void 0,colorScheme:p?m:void 0,setMode:y,setColorScheme:v}}const ice="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ace(e){const{themeId:r,theme:t={},modeStorageKey:n=vI,colorSchemeStorageKey:o=mI,disableTransitionOnChange:i=!1,defaultColorScheme:a,resolveTheme:s}=e,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},l=N.createContext(void 0),c=()=>N.useContext(l)||u,f={},d={};function p(v){var ye,ie,he,_e;const{children:g,theme:x,modeStorageKey:b=n,colorSchemeStorageKey:w=o,disableTransitionOnChange:E=i,storageWindow:C=typeof window>"u"?void 0:window,documentNode:S=typeof document>"u"?void 0:document,colorSchemeNode:T=typeof document>"u"?void 0:document.documentElement,disableNestedContext:k=!1,disableStyleSheetGeneration:P=!1,defaultMode:I="system",noSsr:F}=v,A=N.useRef(!1),D=hI(),$=N.useContext(l),B=!!$&&!k,W=N.useMemo(()=>x||(typeof t=="function"?t():t),[x]),L=W[r],z=L||W,{colorSchemes:U=f,components:Y=d,cssVarPrefix:q}=z,V=Object.keys(U).filter(Se=>!!U[Se]).join(","),H=N.useMemo(()=>V.split(","),[V]),Z=typeof a=="string"?a:a.light,ue=typeof a=="string"?a:a.dark,oe=U[Z]&&U[ue]?I:((ie=(ye=U[z.defaultColorScheme])==null?void 0:ye.palette)==null?void 0:ie.mode)||((he=z.palette)==null?void 0:he.mode),{mode:ee,setMode:ne,systemMode:pe,lightColorScheme:J,darkColorScheme:se,colorScheme:j,setColorScheme:ce}=oce({supportedColorSchemes:H,defaultLightColorScheme:Z,defaultDarkColorScheme:ue,modeStorageKey:b,colorSchemeStorageKey:w,defaultMode:oe,storageWindow:C,noSsr:F});let re=ee,Q=j;B&&(re=$.mode,Q=$.colorScheme);const G=N.useMemo(()=>{var $e;const Se=Q||z.defaultColorScheme,xe=(($e=z.generateThemeVars)==null?void 0:$e.call(z))||z.vars,De={...z,components:Y,colorSchemes:U,cssVarPrefix:q,vars:xe};if(typeof De.generateSpacing=="function"&&(De.spacing=De.generateSpacing()),Se){const Be=U[Se];Be&&typeof Be=="object"&&Object.keys(Be).forEach(we=>{Be[we]&&typeof Be[we]=="object"?De[we]={...De[we],...Be[we]}:De[we]=Be[we]})}return s?s(De):De},[z,Q,Y,U,q]),X=z.colorSchemeSelector;qa(()=>{if(Q&&T&&X&&X!=="media"){const Se=X;let xe=X;if(Se==="class"&&(xe=".%s"),Se==="data"&&(xe="[data-%s]"),Se!=null&&Se.startsWith("data-")&&!Se.includes("%s")&&(xe=`[${Se}="%s"]`),xe.startsWith("."))T.classList.remove(...H.map(De=>xe.substring(1).replace("%s",De))),T.classList.add(xe.substring(1).replace("%s",Q));else{const De=xe.replace("%s",Q).match(/\[([^\]]+)\]/);if(De){const[$e,Be]=De[1].split("=");Be||H.forEach(we=>{T.removeAttribute($e.replace(Q,we))}),T.setAttribute($e,Be?Be.replace(/"|'/g,""):"")}else T.setAttribute(xe,Q)}}},[Q,X,T,H]),N.useEffect(()=>{let Se;if(E&&A.current&&S){const xe=S.createElement("style");xe.appendChild(S.createTextNode(ice)),S.head.appendChild(xe),window.getComputedStyle(S.body),Se=setTimeout(()=>{S.head.removeChild(xe)},1)}return()=>{clearTimeout(Se)}},[Q,E,S]),N.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]);const te=N.useMemo(()=>({allColorSchemes:H,colorScheme:Q,darkColorScheme:se,lightColorScheme:J,mode:re,setColorScheme:ce,setMode:ne,systemMode:pe}),[H,Q,se,J,re,ce,ne,pe,G.colorSchemeSelector]);let de=!0;(P||z.cssVariables===!1||B&&(D==null?void 0:D.cssVarPrefix)===q)&&(de=!1);const ae=O.jsxs(N.Fragment,{children:[O.jsx(m7,{themeId:L?r:void 0,theme:G,children:g}),de&&O.jsx(UH,{styles:((_e=G.generateStyleSheets)==null?void 0:_e.call(G))||[]})]});return B?ae:O.jsx(l.Provider,{value:te,children:ae})}const h=typeof a=="string"?a:a.light,m=typeof a=="string"?a:a.dark;return{CssVarsProvider:p,useColorScheme:c,getInitColorSchemeScript:v=>rce({colorSchemeStorageKey:o,defaultLightColorScheme:h,defaultDarkColorScheme:m,modeStorageKey:n,...v})}}function sce(e=""){function r(...n){if(!n.length)return"";const o=n[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${r(...n.slice(1))})`:`, ${o}`}return(n,...o)=>`var(--${e?`${e}-`:""}${n}${r(...o)})`}const fB=(e,r,t,n=[])=>{let o=e;r.forEach((i,a)=>{a===r.length-1?Array.isArray(o)?o[Number(i)]=t:o&&typeof o=="object"&&(o[i]=t):o&&typeof o=="object"&&(o[i]||(o[i]=n.includes(i)?[]:{}),o=o[i])})},uce=(e,r,t)=>{function n(o,i=[],a=[]){Object.entries(o).forEach(([s,u])=>{(!t||t&&!t([...i,s]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?n(u,[...i,s],Array.isArray(u)?[...a,s]:a):r([...i,s],u,a))})}n(e)},lce=(e,r)=>typeof r=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?r:`${r}px`:r;function wk(e,r){const{prefix:t,shouldSkipGeneratingVar:n}=r||{},o={},i={},a={};return uce(e,(s,u,l)=>{if((typeof u=="string"||typeof u=="number")&&(!n||!n(s,u))){const c=`--${t?`${t}-`:""}${s.join("-")}`,f=lce(s,u);Object.assign(o,{[c]:f}),fB(i,s,`var(${c})`,l),fB(a,s,`var(${c}, ${f})`,l)}},s=>s[0]==="vars"),{css:o,vars:i,varsWithDefaults:a}}function cce(e,r={}){const{getSelector:t=y,disableCssColorScheme:n,colorSchemeSelector:o}=r,{colorSchemes:i={},components:a,defaultColorScheme:s="light",...u}=e,{vars:l,css:c,varsWithDefaults:f}=wk(u,r);let d=f;const p={},{[s]:h,...m}=i;if(Object.entries(m||{}).forEach(([x,b])=>{const{vars:w,css:E,varsWithDefaults:C}=wk(b,r);d=zo(d,C),p[x]={css:E,vars:w}}),h){const{css:x,vars:b,varsWithDefaults:w}=wk(h,r);d=zo(d,w),p[s]={css:x,vars:b}}function y(x,b){var E,C;let w=o;if(o==="class"&&(w=".%s"),o==="data"&&(w="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(w=`[${o}="%s"]`),x){if(w==="media")return e.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((C=(E=i[x])==null?void 0:E.palette)==null?void 0:C.mode)||x})`]:{":root":b}};if(w)return e.defaultColorScheme===x?`:root, ${w.replace("%s",String(x))}`:w.replace("%s",String(x))}return":root"}return{vars:d,generateThemeVars:()=>{let x={...l};return Object.entries(p).forEach(([,{vars:b}])=>{x=zo(x,b)}),x},generateStyleSheets:()=>{var S,T;const x=[],b=e.defaultColorScheme||"light";function w(k,P){Object.keys(P).length&&x.push(typeof k=="string"?{[k]:{...P}}:k)}w(t(void 0,{...c}),c);const{[b]:E,...C}=p;if(E){const{css:k}=E,P=(T=(S=i[b])==null?void 0:S.palette)==null?void 0:T.mode,I=!n&&P?{colorScheme:P,...k}:{...k};w(t(b,{...I}),I)}return Object.entries(C).forEach(([k,{css:P}])=>{var A,D;const I=(D=(A=i[k])==null?void 0:A.palette)==null?void 0:D.mode,F=!n&&I?{colorScheme:I,...P}:{...P};w(t(k,{...F}),F)}),x}}}function fce(e){return function(t){return e==="media"?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:e==="class"?`.${t} &`:e==="data"?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}const dce=Sv(),pce=cI("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${ht(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),hce=e=>fI({props:e,name:"MuiContainer",defaultTheme:dce}),vce=(e,r)=>{const t=u=>Ht(r,u),{classes:n,fixed:o,disableGutters:i,maxWidth:a}=e,s={root:["root",a&&`maxWidth${ht(String(a))}`,o&&"fixed",i&&"disableGutters"]};return Vt(s,t,n)};function mce(e={}){const{createStyledComponent:r=pce,useThemeProps:t=hce,componentName:n="MuiContainer"}=e,o=r(({theme:a,ownerState:s})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!s.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:s})=>s.fixed&&Object.keys(a.breakpoints.values).reduce((u,l)=>{const c=l,f=a.breakpoints.values[c];return f!==0&&(u[a.breakpoints.up(c)]={maxWidth:`${f}${a.breakpoints.unit}`}),u},{}),({theme:a,ownerState:s})=>({...s.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...s.maxWidth&&s.maxWidth!=="xs"&&{[a.breakpoints.up(s.maxWidth)]:{maxWidth:`${a.breakpoints.values[s.maxWidth]}${a.breakpoints.unit}`}}}));return N.forwardRef(function(s,u){const l=t(s),{className:c,component:f="div",disableGutters:d=!1,fixed:p=!1,maxWidth:h="lg",classes:m,...y}=l,v={...l,component:f,disableGutters:d,fixed:p,maxWidth:h},g=vce(v,n);return O.jsx(o,{as:f,ownerState:v,className:ct(g.root,c),ref:u,...y})})}const gce=(e,r)=>e.filter(t=>r.includes(t)),Cv=(e,r,t)=>{const n=e.keys[0];Array.isArray(r)?r.forEach((o,i)=>{t((a,s)=>{i<=e.keys.length-1&&(i===0?Object.assign(a,s):a[e.up(e.keys[i])]=s)},o)}):r&&typeof r=="object"?(Object.keys(r).length>e.keys.length?e.keys:gce(e.keys,Object.keys(r))).forEach(i=>{if(e.keys.includes(i)){const a=r[i];a!==void 0&&t((s,u)=>{n===i?Object.assign(s,u):s[e.up(i)]=u},a)}}):(typeof r=="number"||typeof r=="string")&&t((o,i)=>{Object.assign(o,i)},r)};function x2(e){return`--Grid-${e}Spacing`}function hS(e){return`--Grid-parent-${e}Spacing`}const dB="--Grid-columns",Ch="--Grid-parent-columns",yce=({theme:e,ownerState:r})=>{const t={};return Cv(e.breakpoints,r.size,(n,o)=>{let i={};o==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),o==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof o=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${o} / var(${Ch}) - (var(${Ch}) - ${o}) * (var(${hS("column")}) / var(${Ch})))`}),n(t,i)}),t},xce=({theme:e,ownerState:r})=>{const t={};return Cv(e.breakpoints,r.offset,(n,o)=>{let i={};o==="auto"&&(i={marginLeft:"auto"}),typeof o=="number"&&(i={marginLeft:o===0?"0px":`calc(100% * ${o} / var(${Ch}) + var(${hS("column")}) * ${o} / var(${Ch}))`}),n(t,i)}),t},bce=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={[dB]:12};return Cv(e.breakpoints,r.columns,(n,o)=>{const i=o??12;n(t,{[dB]:i,"> *":{[Ch]:i}})}),t},_ce=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return Cv(e.breakpoints,r.rowSpacing,(n,o)=>{var a;const i=typeof o=="string"?o:(a=e.spacing)==null?void 0:a.call(e,o);n(t,{[x2("row")]:i,"> *":{[hS("row")]:i}})}),t},wce=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return Cv(e.breakpoints,r.columnSpacing,(n,o)=>{var a;const i=typeof o=="string"?o:(a=e.spacing)==null?void 0:a.call(e,o);n(t,{[x2("column")]:i,"> *":{[hS("column")]:i}})}),t},Sce=({theme:e,ownerState:r})=>{if(!r.container)return{};const t={};return Cv(e.breakpoints,r.direction,(n,o)=>{n(t,{flexDirection:o})}),t},Cce=({ownerState:e})=>({minWidth:0,boxSizing:"border-box",...e.container&&{display:"flex",flexWrap:"wrap",...e.wrap&&e.wrap!=="wrap"&&{flexWrap:e.wrap},gap:`var(${x2("row")}) var(${x2("column")})`}}),Ece=e=>{const r=[];return Object.entries(e).forEach(([t,n])=>{n!==!1&&n!==void 0&&r.push(`grid-${t}-${String(n)}`)}),r},kce=(e,r="xs")=>{function t(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(t(e))return[`spacing-${r}-${String(e)}`];if(typeof e=="object"&&!Array.isArray(e)){const n=[];return Object.entries(e).forEach(([o,i])=>{t(i)&&n.push(`spacing-${o}-${String(i)}`)}),n}return[]},Rce=e=>e===void 0?[]:typeof e=="object"?Object.entries(e).map(([r,t])=>`direction-${r}-${t}`):[`direction-xs-${String(e)}`],Tce=Sv(),Ace=cI("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>r.root});function Oce(e){return fI({props:e,name:"MuiGrid",defaultTheme:Tce})}function Dce(e={}){const{createStyledComponent:r=Ace,useThemeProps:t=Oce,useTheme:n=U0,componentName:o="MuiGrid"}=e,i=(l,c)=>{const{container:f,direction:d,spacing:p,wrap:h,size:m}=l,y={root:["root",f&&"container",h!=="wrap"&&`wrap-xs-${String(h)}`,...Rce(d),...Ece(m),...f?kce(p,c.breakpoints.keys[0]):[]]};return Vt(y,v=>Ht(o,v),{})};function a(l,c,f=()=>!0){const d={};return l===null||(Array.isArray(l)?l.forEach((p,h)=>{p!==null&&f(p)&&c.keys[h]&&(d[c.keys[h]]=p)}):typeof l=="object"?Object.keys(l).forEach(p=>{const h=l[p];h!=null&&f(h)&&(d[p]=h)}):d[c.keys[0]]=l),d}const s=r(bce,wce,_ce,yce,Sce,Cce,xce),u=N.forwardRef(function(c,f){const d=n(),p=t(c),h=fS(p),{className:m,children:y,columns:v=12,container:g=!1,component:x="div",direction:b="row",wrap:w="wrap",size:E={},offset:C={},spacing:S=0,rowSpacing:T=S,columnSpacing:k=S,unstable_level:P=0,...I}=h,F=a(E,d.breakpoints,U=>U!==!1),A=a(C,d.breakpoints),D=c.columns??(P?void 0:v),$=c.spacing??(P?void 0:S),B=c.rowSpacing??c.spacing??(P?void 0:T),W=c.columnSpacing??c.spacing??(P?void 0:k),L={...h,level:P,columns:D,container:g,direction:b,wrap:w,spacing:$,rowSpacing:B,columnSpacing:W,size:F,offset:A},z=i(L,d);return O.jsx(s,{ref:f,as:x,ownerState:L,className:ct(z.root,m),...I,children:N.Children.map(y,U=>{var Y;return N.isValidElement(U)&&Og(U,["Grid"])&&g&&U.props.container?N.cloneElement(U,{unstable_level:((Y=U.props)==null?void 0:Y.unstable_level)??P+1}):U})})});return u.muiName="Grid",u}const Pce=Sv(),Ice=cI("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root});function Nce(e){return fI({props:e,name:"MuiStack",defaultTheme:Pce})}function Mce(e,r){const t=N.Children.toArray(e).filter(Boolean);return t.reduce((n,o,i)=>(n.push(o),i<t.length-1&&n.push(N.cloneElement(r,{key:`separator-${i}`})),n),[])}const Fce=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],Lce=({ownerState:e,theme:r})=>{let t={display:"flex",flexDirection:"column",...eu({theme:r},xk({values:e.direction,breakpoints:r.breakpoints.values}),n=>({flexDirection:n}))};if(e.spacing){const n=iS(r),o=Object.keys(r.breakpoints.values).reduce((u,l)=>((typeof e.spacing=="object"&&e.spacing[l]!=null||typeof e.direction=="object"&&e.direction[l]!=null)&&(u[l]=!0),u),{}),i=xk({values:e.direction,base:o}),a=xk({values:e.spacing,base:o});typeof i=="object"&&Object.keys(i).forEach((u,l,c)=>{if(!i[u]){const d=l>0?i[c[l-1]]:"column";i[u]=d}}),t=zo(t,eu({theme:r},a,(u,l)=>e.useFlexGap?{gap:Nd(n,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Fce(l?i[l]:e.direction)}`]:Nd(n,u)}}))}return t=Due(r.breakpoints,t),t};function Bce(e={}){const{createStyledComponent:r=Ice,useThemeProps:t=Nce,componentName:n="MuiStack"}=e,o=()=>Vt({root:["root"]},u=>Ht(n,u),{}),i=r(Lce);return N.forwardRef(function(u,l){const c=t(u),f=fS(c),{component:d="div",direction:p="column",spacing:h=0,divider:m,children:y,className:v,useFlexGap:g=!1,...x}=f,b={direction:p,spacing:h,useFlexGap:g},w=o();return O.jsx(i,{as:d,ownerState:b,ref:l,className:ct(w.root,v),...x,children:m?Mce(y,m):y})})}function y7(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:a0.white,default:a0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const jce=y7();function x7(){return{text:{primary:a0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:a0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const pB=x7();function hB(e,r,t,n){const o=n.light||n,i=n.dark||n*1.5;e[r]||(e.hasOwnProperty(t)?e[r]=e[t]:r==="light"?e.light=Kh(e.main,o):r==="dark"&&(e.dark=Yh(e.main,i)))}function $ce(e="light"){return e==="dark"?{main:Dp[200],light:Dp[50],dark:Dp[400]}:{main:Dp[700],light:Dp[400],dark:Dp[800]}}function zce(e="light"){return e==="dark"?{main:Op[200],light:Op[50],dark:Op[400]}:{main:Op[500],light:Op[300],dark:Op[700]}}function Wce(e="light"){return e==="dark"?{main:Ap[500],light:Ap[300],dark:Ap[700]}:{main:Ap[700],light:Ap[400],dark:Ap[800]}}function Uce(e="light"){return e==="dark"?{main:Pp[400],light:Pp[300],dark:Pp[700]}:{main:Pp[700],light:Pp[500],dark:Pp[900]}}function qce(e="light"){return e==="dark"?{main:Ip[400],light:Ip[300],dark:Ip[700]}:{main:Ip[800],light:Ip[500],dark:Ip[900]}}function Hce(e="light"){return e==="dark"?{main:jm[400],light:jm[300],dark:jm[700]}:{main:"#ed6c02",light:jm[500],dark:jm[900]}}function gI(e){const{mode:r="light",contrastThreshold:t=3,tonalOffset:n=.2,...o}=e,i=e.primary||$ce(r),a=e.secondary||zce(r),s=e.error||Wce(r),u=e.info||Uce(r),l=e.success||qce(r),c=e.warning||Hce(r);function f(m){return jle(m,pB.text.primary)>=t?pB.text.primary:jce.text.primary}const d=({color:m,name:y,mainShade:v=500,lightShade:g=300,darkShade:x=700})=>{if(m={...m},!m.main&&m[v]&&(m.main=m[v]),!m.hasOwnProperty("main"))throw new Error(Jl(11,y?` (${y})`:"",v));if(typeof m.main!="string")throw new Error(Jl(12,y?` (${y})`:"",JSON.stringify(m.main)));return hB(m,"light",g,n),hB(m,"dark",x,n),m.contrastText||(m.contrastText=f(m.main)),m};let p;return r==="light"?p=y7():r==="dark"&&(p=x7()),zo({common:{...a0},mode:r,primary:d({color:i,name:"primary"}),secondary:d({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:c,name:"warning"}),info:d({color:u,name:"info"}),success:d({color:l,name:"success"}),grey:cse,contrastThreshold:t,getContrastText:f,augmentColor:d,tonalOffset:n,...p},o)}function Vce(e){const r={};return Object.entries(e).forEach(n=>{const[o,i]=n;typeof i=="object"&&(r[o]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),r}function Gce(e,r){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...r}}function Yce(e){return Math.round(e*1e5)/1e5}const vB={textTransform:"uppercase"},mB='"Roboto", "Helvetica", "Arial", sans-serif';function b7(e,r){const{fontFamily:t=mB,fontSize:n=14,fontWeightLight:o=300,fontWeightRegular:i=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:u=16,allVariants:l,pxToRem:c,...f}=typeof r=="function"?r(e):r,d=n/14,p=c||(y=>`${y/u*d}rem`),h=(y,v,g,x,b)=>({fontFamily:t,fontWeight:y,fontSize:p(v),lineHeight:g,...t===mB?{letterSpacing:`${Yce(x/v)}em`}:{},...b,...l}),m={h1:h(o,96,1.167,-1.5),h2:h(o,60,1.2,-.5),h3:h(i,48,1.167,0),h4:h(i,34,1.235,.25),h5:h(i,24,1.334,0),h6:h(a,20,1.6,.15),subtitle1:h(i,16,1.75,.15),subtitle2:h(a,14,1.57,.1),body1:h(i,16,1.5,.15),body2:h(i,14,1.43,.15),button:h(a,14,1.75,.4,vB),caption:h(i,12,1.66,.4),overline:h(i,12,2.66,1,vB),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return zo({htmlFontSize:u,pxToRem:p,fontFamily:t,fontSize:n,fontWeightLight:o,fontWeightRegular:i,fontWeightMedium:a,fontWeightBold:s,...m},f,{clone:!1})}const Kce=.2,Xce=.14,Qce=.12;function Fn(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Kce})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Xce})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Qce})`].join(",")}const Jce=["none",Fn(0,2,1,-1,0,1,1,0,0,1,3,0),Fn(0,3,1,-2,0,2,2,0,0,1,5,0),Fn(0,3,3,-2,0,3,4,0,0,1,8,0),Fn(0,2,4,-1,0,4,5,0,0,1,10,0),Fn(0,3,5,-1,0,5,8,0,0,1,14,0),Fn(0,3,5,-1,0,6,10,0,0,1,18,0),Fn(0,4,5,-2,0,7,10,1,0,2,16,1),Fn(0,5,5,-3,0,8,10,1,0,3,14,2),Fn(0,5,6,-3,0,9,12,1,0,3,16,2),Fn(0,6,6,-3,0,10,14,1,0,4,18,3),Fn(0,6,7,-4,0,11,15,1,0,4,20,3),Fn(0,7,8,-4,0,12,17,2,0,5,22,4),Fn(0,7,8,-4,0,13,19,2,0,5,24,4),Fn(0,7,9,-4,0,14,21,2,0,5,26,4),Fn(0,8,9,-5,0,15,22,2,0,6,28,5),Fn(0,8,10,-5,0,16,24,2,0,6,30,5),Fn(0,8,11,-5,0,17,26,2,0,6,32,5),Fn(0,9,11,-5,0,18,28,2,0,7,34,6),Fn(0,9,12,-6,0,19,29,2,0,7,36,6),Fn(0,10,13,-6,0,20,31,3,0,8,38,7),Fn(0,10,13,-6,0,21,33,3,0,8,40,7),Fn(0,10,14,-6,0,22,35,3,0,8,42,7),Fn(0,11,14,-7,0,23,36,3,0,9,44,8),Fn(0,11,15,-7,0,24,38,3,0,9,46,8)],Zce={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gB(e){return`${Math.round(e)}ms`}function efe(e){if(!e)return 0;const r=e/36;return Math.min(Math.round((4+15*r**.25+r/5)*10),3e3)}function tfe(e){const r={...Zce,...e.easing},t={..._7,...e.duration};return{getAutoHeightDuration:efe,create:(o=["all"],i={})=>{const{duration:a=t.standard,easing:s=r.easeInOut,delay:u=0,...l}=i;return(Array.isArray(o)?o:[o]).map(c=>`${c} ${typeof a=="string"?a:gB(a)} ${s} ${typeof u=="string"?u:gB(u)}`).join(",")},...e,easing:r,duration:t}}const rfe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function nfe(e){return Iu(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function w7(e={}){const r={...e};function t(n){const o=Object.entries(n);for(let i=0;i<o.length;i++){const[a,s]=o[i];!nfe(s)||a.startsWith("unstable_")?delete n[a]:Iu(s)&&(n[a]={...s},t(n[a]))}}return t(r),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(r,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function WO(e={},...r){const{breakpoints:t,mixins:n={},spacing:o,palette:i={},transitions:a={},typography:s={},shape:u,...l}=e;if(e.vars)throw new Error(Jl(20));const c=gI(i),f=Sv(e);let d=zo(f,{mixins:Gce(f.breakpoints,n),palette:c,shadows:Jce.slice(),typography:b7(c,s),transitions:tfe(a),zIndex:{...rfe}});return d=zo(d,l),d=r.reduce((p,h)=>zo(p,h),d),d.unstable_sxConfig={...W0,...l==null?void 0:l.unstable_sxConfig},d.unstable_sx=function(h){return lf({sx:h,theme:this})},d.toRuntimeSource=w7,d}function UO(e){let r;return e<1?r=5.11916*e**2:r=4.5*Math.log(e+1)+2,Math.round(r*10)/1e3}const ofe=[...Array(25)].map((e,r)=>{if(r===0)return"none";const t=UO(r);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function S7(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function C7(e){return e==="dark"?ofe:[]}function ife(e){const{palette:r={mode:"light"},opacity:t,overlays:n,...o}=e,i=gI(r);return{palette:i,opacity:{...S7(i.mode),...t},overlays:n||C7(i.mode),...o}}function afe(e){var r;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((r=e[1])!=null&&r.match(/(mode|contrastThreshold|tonalOffset)/))}const sfe=e=>[...[...Array(25)].map((r,t)=>`--${e?`${e}-`:""}overlays-${t}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],ufe=e=>(r,t)=>{const n=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if(o==="class"&&(i=".%s"),o==="data"&&(i="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(i=`[${o}="%s"]`),e.defaultColorScheme===r){if(r==="dark"){const a={};return sfe(e.cssVarPrefix).forEach(s=>{a[s]=t[s],delete t[s]}),i==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:a}}:i?{[i.replace("%s",r)]:a,[`${n}, ${i.replace("%s",r)}`]:t}:{[n]:{...t,...a}}}if(i&&i!=="media")return`${n}, ${i.replace("%s",String(r))}`}else if(r){if(i==="media")return{[`@media (prefers-color-scheme: ${String(r)})`]:{[n]:t}};if(i)return i.replace("%s",String(r))}return n};function lfe(e,r){r.forEach(t=>{e[t]||(e[t]={})})}function Qe(e,r,t){!e[r]&&t&&(e[r]=t)}function pg(e){return typeof e!="string"||!e.startsWith("hsl")?e:a7(e)}function Al(e,r){`${r}Channel`in e||(e[`${r}Channel`]=dg(pg(e[r])))}function cfe(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const _u=e=>{try{return e()}catch{}},ffe=(e="mui")=>sce(e);function Sk(e,r,t,n){if(!r)return;r=r===!0?{}:r;const o=n==="dark"?"dark":"light";if(!t){e[n]=ife({...r,palette:{mode:o,...r==null?void 0:r.palette}});return}const{palette:i,...a}=WO({...t,palette:{mode:o,...r==null?void 0:r.palette}});return e[n]={...r,palette:i,opacity:{...S7(o),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||C7(o)},a}function dfe(e={},...r){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:a=afe,colorSchemeSelector:s=t.light&&t.dark?"media":void 0,rootSelector:u=":root",...l}=e,c=Object.keys(t)[0],f=n||(t.light&&c!=="light"?"light":c),d=ffe(i),{[f]:p,light:h,dark:m,...y}=t,v={...y};let g=p;if((f==="dark"&&!("dark"in t)||f==="light"&&!("light"in t))&&(g=!0),!g)throw new Error(Jl(21,f));const x=Sk(v,g,l,f);h&&!v.light&&Sk(v,h,void 0,"light"),m&&!v.dark&&Sk(v,m,void 0,"dark");let b={defaultColorScheme:f,...x,cssVarPrefix:i,colorSchemeSelector:s,rootSelector:u,getCssVar:d,colorSchemes:v,font:{...Vce(x.typography),...x.font},spacing:cfe(l.spacing)};Object.keys(b.colorSchemes).forEach(T=>{const k=b.colorSchemes[T].palette,P=I=>{const F=I.split("-"),A=F[1],D=F[2];return d(I,k[A][D])};if(k.mode==="light"&&(Qe(k.common,"background","#fff"),Qe(k.common,"onBackground","#000")),k.mode==="dark"&&(Qe(k.common,"background","#000"),Qe(k.common,"onBackground","#fff")),lfe(k,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),k.mode==="light"){Qe(k.Alert,"errorColor",_n(k.error.light,.6)),Qe(k.Alert,"infoColor",_n(k.info.light,.6)),Qe(k.Alert,"successColor",_n(k.success.light,.6)),Qe(k.Alert,"warningColor",_n(k.warning.light,.6)),Qe(k.Alert,"errorFilledBg",P("palette-error-main")),Qe(k.Alert,"infoFilledBg",P("palette-info-main")),Qe(k.Alert,"successFilledBg",P("palette-success-main")),Qe(k.Alert,"warningFilledBg",P("palette-warning-main")),Qe(k.Alert,"errorFilledColor",_u(()=>k.getContrastText(k.error.main))),Qe(k.Alert,"infoFilledColor",_u(()=>k.getContrastText(k.info.main))),Qe(k.Alert,"successFilledColor",_u(()=>k.getContrastText(k.success.main))),Qe(k.Alert,"warningFilledColor",_u(()=>k.getContrastText(k.warning.main))),Qe(k.Alert,"errorStandardBg",wn(k.error.light,.9)),Qe(k.Alert,"infoStandardBg",wn(k.info.light,.9)),Qe(k.Alert,"successStandardBg",wn(k.success.light,.9)),Qe(k.Alert,"warningStandardBg",wn(k.warning.light,.9)),Qe(k.Alert,"errorIconColor",P("palette-error-main")),Qe(k.Alert,"infoIconColor",P("palette-info-main")),Qe(k.Alert,"successIconColor",P("palette-success-main")),Qe(k.Alert,"warningIconColor",P("palette-warning-main")),Qe(k.AppBar,"defaultBg",P("palette-grey-100")),Qe(k.Avatar,"defaultBg",P("palette-grey-400")),Qe(k.Button,"inheritContainedBg",P("palette-grey-300")),Qe(k.Button,"inheritContainedHoverBg",P("palette-grey-A100")),Qe(k.Chip,"defaultBorder",P("palette-grey-400")),Qe(k.Chip,"defaultAvatarColor",P("palette-grey-700")),Qe(k.Chip,"defaultIconColor",P("palette-grey-700")),Qe(k.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Qe(k.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Qe(k.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Qe(k.LinearProgress,"primaryBg",wn(k.primary.main,.62)),Qe(k.LinearProgress,"secondaryBg",wn(k.secondary.main,.62)),Qe(k.LinearProgress,"errorBg",wn(k.error.main,.62)),Qe(k.LinearProgress,"infoBg",wn(k.info.main,.62)),Qe(k.LinearProgress,"successBg",wn(k.success.main,.62)),Qe(k.LinearProgress,"warningBg",wn(k.warning.main,.62)),Qe(k.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),Qe(k.Slider,"primaryTrack",wn(k.primary.main,.62)),Qe(k.Slider,"secondaryTrack",wn(k.secondary.main,.62)),Qe(k.Slider,"errorTrack",wn(k.error.main,.62)),Qe(k.Slider,"infoTrack",wn(k.info.main,.62)),Qe(k.Slider,"successTrack",wn(k.success.main,.62)),Qe(k.Slider,"warningTrack",wn(k.warning.main,.62));const I=Dx(k.background.default,.8);Qe(k.SnackbarContent,"bg",I),Qe(k.SnackbarContent,"color",_u(()=>k.getContrastText(I))),Qe(k.SpeedDialAction,"fabHoverBg",Dx(k.background.paper,.15)),Qe(k.StepConnector,"border",P("palette-grey-400")),Qe(k.StepContent,"border",P("palette-grey-400")),Qe(k.Switch,"defaultColor",P("palette-common-white")),Qe(k.Switch,"defaultDisabledColor",P("palette-grey-100")),Qe(k.Switch,"primaryDisabledColor",wn(k.primary.main,.62)),Qe(k.Switch,"secondaryDisabledColor",wn(k.secondary.main,.62)),Qe(k.Switch,"errorDisabledColor",wn(k.error.main,.62)),Qe(k.Switch,"infoDisabledColor",wn(k.info.main,.62)),Qe(k.Switch,"successDisabledColor",wn(k.success.main,.62)),Qe(k.Switch,"warningDisabledColor",wn(k.warning.main,.62)),Qe(k.TableCell,"border",wn(Ox(k.divider,1),.88)),Qe(k.Tooltip,"bg",Ox(k.grey[700],.92))}if(k.mode==="dark"){Qe(k.Alert,"errorColor",wn(k.error.light,.6)),Qe(k.Alert,"infoColor",wn(k.info.light,.6)),Qe(k.Alert,"successColor",wn(k.success.light,.6)),Qe(k.Alert,"warningColor",wn(k.warning.light,.6)),Qe(k.Alert,"errorFilledBg",P("palette-error-dark")),Qe(k.Alert,"infoFilledBg",P("palette-info-dark")),Qe(k.Alert,"successFilledBg",P("palette-success-dark")),Qe(k.Alert,"warningFilledBg",P("palette-warning-dark")),Qe(k.Alert,"errorFilledColor",_u(()=>k.getContrastText(k.error.dark))),Qe(k.Alert,"infoFilledColor",_u(()=>k.getContrastText(k.info.dark))),Qe(k.Alert,"successFilledColor",_u(()=>k.getContrastText(k.success.dark))),Qe(k.Alert,"warningFilledColor",_u(()=>k.getContrastText(k.warning.dark))),Qe(k.Alert,"errorStandardBg",_n(k.error.light,.9)),Qe(k.Alert,"infoStandardBg",_n(k.info.light,.9)),Qe(k.Alert,"successStandardBg",_n(k.success.light,.9)),Qe(k.Alert,"warningStandardBg",_n(k.warning.light,.9)),Qe(k.Alert,"errorIconColor",P("palette-error-main")),Qe(k.Alert,"infoIconColor",P("palette-info-main")),Qe(k.Alert,"successIconColor",P("palette-success-main")),Qe(k.Alert,"warningIconColor",P("palette-warning-main")),Qe(k.AppBar,"defaultBg",P("palette-grey-900")),Qe(k.AppBar,"darkBg",P("palette-background-paper")),Qe(k.AppBar,"darkColor",P("palette-text-primary")),Qe(k.Avatar,"defaultBg",P("palette-grey-600")),Qe(k.Button,"inheritContainedBg",P("palette-grey-800")),Qe(k.Button,"inheritContainedHoverBg",P("palette-grey-700")),Qe(k.Chip,"defaultBorder",P("palette-grey-700")),Qe(k.Chip,"defaultAvatarColor",P("palette-grey-300")),Qe(k.Chip,"defaultIconColor",P("palette-grey-300")),Qe(k.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Qe(k.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Qe(k.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Qe(k.LinearProgress,"primaryBg",_n(k.primary.main,.5)),Qe(k.LinearProgress,"secondaryBg",_n(k.secondary.main,.5)),Qe(k.LinearProgress,"errorBg",_n(k.error.main,.5)),Qe(k.LinearProgress,"infoBg",_n(k.info.main,.5)),Qe(k.LinearProgress,"successBg",_n(k.success.main,.5)),Qe(k.LinearProgress,"warningBg",_n(k.warning.main,.5)),Qe(k.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),Qe(k.Slider,"primaryTrack",_n(k.primary.main,.5)),Qe(k.Slider,"secondaryTrack",_n(k.secondary.main,.5)),Qe(k.Slider,"errorTrack",_n(k.error.main,.5)),Qe(k.Slider,"infoTrack",_n(k.info.main,.5)),Qe(k.Slider,"successTrack",_n(k.success.main,.5)),Qe(k.Slider,"warningTrack",_n(k.warning.main,.5));const I=Dx(k.background.default,.98);Qe(k.SnackbarContent,"bg",I),Qe(k.SnackbarContent,"color",_u(()=>k.getContrastText(I))),Qe(k.SpeedDialAction,"fabHoverBg",Dx(k.background.paper,.15)),Qe(k.StepConnector,"border",P("palette-grey-600")),Qe(k.StepContent,"border",P("palette-grey-600")),Qe(k.Switch,"defaultColor",P("palette-grey-300")),Qe(k.Switch,"defaultDisabledColor",P("palette-grey-600")),Qe(k.Switch,"primaryDisabledColor",_n(k.primary.main,.55)),Qe(k.Switch,"secondaryDisabledColor",_n(k.secondary.main,.55)),Qe(k.Switch,"errorDisabledColor",_n(k.error.main,.55)),Qe(k.Switch,"infoDisabledColor",_n(k.info.main,.55)),Qe(k.Switch,"successDisabledColor",_n(k.success.main,.55)),Qe(k.Switch,"warningDisabledColor",_n(k.warning.main,.55)),Qe(k.TableCell,"border",_n(Ox(k.divider,1),.68)),Qe(k.Tooltip,"bg",Ox(k.grey[700],.92))}Al(k.background,"default"),Al(k.background,"paper"),Al(k.common,"background"),Al(k.common,"onBackground"),Al(k,"divider"),Object.keys(k).forEach(I=>{const F=k[I];I!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&Qe(k[I],"mainChannel",dg(pg(F.main))),F.light&&Qe(k[I],"lightChannel",dg(pg(F.light))),F.dark&&Qe(k[I],"darkChannel",dg(pg(F.dark))),F.contrastText&&Qe(k[I],"contrastTextChannel",dg(pg(F.contrastText))),I==="text"&&(Al(k[I],"primary"),Al(k[I],"secondary")),I==="action"&&(F.active&&Al(k[I],"active"),F.selected&&Al(k[I],"selected")))})}),b=r.reduce((T,k)=>zo(T,k),b);const w={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:ufe(b)},{vars:E,generateThemeVars:C,generateStyleSheets:S}=cce(b,w);return b.vars=E,Object.entries(b.colorSchemes[b.defaultColorScheme]).forEach(([T,k])=>{b[T]=k}),b.generateThemeVars=C,b.generateStyleSheets=S,b.generateSpacing=function(){return QH(l.spacing,iS(this))},b.getColorSchemeSelector=fce(s),b.spacing=b.generateSpacing(),b.shouldSkipGeneratingVar=a,b.unstable_sxConfig={...W0,...l==null?void 0:l.unstable_sxConfig},b.unstable_sx=function(k){return lf({sx:k,theme:this})},b.toRuntimeSource=w7,b}function yB(e,r,t){e.colorSchemes&&t&&(e.colorSchemes[r]={...t!==!0&&t,palette:gI({...t===!0?{}:t.palette,mode:r})})}function vS(e={},...r){const{palette:t,cssVariables:n=!1,colorSchemes:o=t?void 0:{light:!0},defaultColorScheme:i=t==null?void 0:t.mode,...a}=e,s=i||"light",u=o==null?void 0:o[s],l={...o,...t?{[s]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in e))return WO(e,...r);let c=t;"palette"in e||l[s]&&(l[s]!==!0?c=l[s].palette:s==="dark"&&(c={mode:"dark"}));const f=WO({...e,palette:c},...r);return f.defaultColorScheme=s,f.colorSchemes=l,f.palette.mode==="light"&&(f.colorSchemes.light={...l.light!==!0&&l.light,palette:f.palette},yB(f,"dark",l.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...l.dark!==!0&&l.dark,palette:f.palette},yB(f,"light",l.light)),f}return!t&&!("light"in l)&&s==="light"&&(l.light=!0),dfe({...a,colorSchemes:l,defaultColorScheme:s,...typeof n!="boolean"&&n},...r)}const yI=vS();function Sr(){const e=U0(yI);return e[Ks]||e}function E7(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Vo=e=>E7(e)&&e!=="classes",Ye=r7({themeId:Ks,defaultTheme:yI,rootShouldForwardProp:Vo});function xB({theme:e,...r}){const t=Ks in e?e[Ks]:void 0;return O.jsx(m7,{...r,themeId:t?Ks:void 0,theme:t||e})}const Px={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:pfe}=ace({themeId:Ks,theme:()=>vS({cssVariables:!0}),colorSchemeStorageKey:Px.colorSchemeStorageKey,modeStorageKey:Px.modeStorageKey,defaultColorScheme:{light:Px.defaultLightColorScheme,dark:Px.defaultDarkColorScheme},resolveTheme:e=>{const r={...e,typography:b7(e.palette,e.typography)};return r.unstable_sx=function(n){return lf({sx:n,theme:this})},r}}),hfe=pfe;function vfe({theme:e,...r}){return typeof e=="function"?O.jsx(xB,{theme:e,...r}):"colorSchemes"in(Ks in e?e[Ks]:e)?O.jsx(hfe,{theme:e,...r}):O.jsx(xB,{theme:e,...r})}function mfe(e){return O.jsx(_le,{...e,defaultTheme:yI,themeId:Ks})}function xI(e){return function(t){return O.jsx(mfe,{styles:typeof e=="function"?n=>e({theme:n,...t}):e})}}function gfe(){return fS}const nr=ece;function Jt(e){return Zle(e)}function yfe(e){return Ht("MuiSvgIcon",e)}Qt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const xfe=e=>{const{color:r,fontSize:t,classes:n}=e,o={root:["root",r!=="inherit"&&`color${ht(r)}`,`fontSize${ht(t)}`]};return Vt(o,yfe,n)},bfe=Ye("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color!=="inherit"&&r[`color${ht(t.color)}`],r[`fontSize${ht(t.fontSize)}`]]}})(nr(({theme:e})=>{var r,t,n,o,i,a,s,u,l,c,f,d,p,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(r=e.transitions)==null?void 0:r.create)==null?void 0:o.call(r,"fill",{duration:(n=(t=(e.vars??e).transitions)==null?void 0:t.duration)==null?void 0:n.shorter}),variants:[{props:m=>!m.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(i=e.typography)==null?void 0:i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:u.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,m])=>m&&m.main).map(([m])=>{var y,v;return{props:{color:m},style:{color:(v=(y=(e.vars??e).palette)==null?void 0:y[m])==null?void 0:v.main}}}),{props:{color:"action"},style:{color:(d=(f=(e.vars??e).palette)==null?void 0:f.action)==null?void 0:d.active}},{props:{color:"disabled"},style:{color:(h=(p=(e.vars??e).palette)==null?void 0:p.action)==null?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),qO=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiSvgIcon"}),{children:o,className:i,color:a="inherit",component:s="svg",fontSize:u="medium",htmlColor:l,inheritViewBox:c=!1,titleAccess:f,viewBox:d="0 0 24 24",...p}=n,h=N.isValidElement(o)&&o.type==="svg",m={...n,color:a,component:s,fontSize:u,instanceFontSize:r.fontSize,inheritViewBox:c,viewBox:d,hasSvgAsChild:h},y={};c||(y.viewBox=d);const v=xfe(m);return O.jsxs(bfe,{as:s,className:ct(v.root,i),focusable:"false",color:l,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t,...y,...p,...h&&o.props,ownerState:m,children:[h?o.props.children:o,f?O.jsx("title",{children:f}):null]})});qO.muiName="SvgIcon";function xr(e,r){function t(n,o){return O.jsx(qO,{"data-testid":`${r}Icon`,ref:o,...n,children:e})}return t.muiName=qO.muiName,N.memo(N.forwardRef(t))}function k7(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.indexOf(n)!==-1)continue;t[n]=e[n]}return t}function HO(e,r){return HO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},HO(e,r)}function R7(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,HO(e,r)}const bB={disabled:!1},b2=qe.createContext(null);var _fe=function(r){return r.scrollTop},hg="unmounted",Jf="exited",Zf="entering",Vp="entered",VO="exiting",Os=function(e){R7(r,e);function r(n,o){var i;i=e.call(this,n,o)||this;var a=o,s=a&&!a.isMounting?n.enter:n.appear,u;return i.appearStatus=null,n.in?s?(u=Jf,i.appearStatus=Zf):u=Vp:n.unmountOnExit||n.mountOnEnter?u=hg:u=Jf,i.state={status:u},i.nextCallback=null,i}r.getDerivedStateFromProps=function(o,i){var a=o.in;return a&&i.status===hg?{status:Jf}:null};var t=r.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var i=null;if(o!==this.props){var a=this.state.status;this.props.in?a!==Zf&&a!==Vp&&(i=Zf):(a===Zf||a===Vp)&&(i=VO)}this.updateStatus(!1,i)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,i,a,s;return i=a=s=o,o!=null&&typeof o!="number"&&(i=o.exit,a=o.enter,s=o.appear!==void 0?o.appear:a),{exit:i,enter:a,appear:s}},t.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===Zf){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ph.findDOMNode(this);a&&_fe(a)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Jf&&this.setState({status:hg})},t.performEnter=function(o){var i=this,a=this.props.enter,s=this.context?this.context.isMounting:o,u=this.props.nodeRef?[s]:[ph.findDOMNode(this),s],l=u[0],c=u[1],f=this.getTimeouts(),d=s?f.appear:f.enter;if(!o&&!a||bB.disabled){this.safeSetState({status:Vp},function(){i.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:Zf},function(){i.props.onEntering(l,c),i.onTransitionEnd(d,function(){i.safeSetState({status:Vp},function(){i.props.onEntered(l,c)})})})},t.performExit=function(){var o=this,i=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:ph.findDOMNode(this);if(!i||bB.disabled){this.safeSetState({status:Jf},function(){o.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:VO},function(){o.props.onExiting(s),o.onTransitionEnd(a.exit,function(){o.safeSetState({status:Jf},function(){o.props.onExited(s)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},t.setNextCallback=function(o){var i=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,i.nextCallback=null,o(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(o,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:ph.findDOMNode(this),s=o==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===hg)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var s=k7(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qe.createElement(b2.Provider,{value:null},typeof a=="function"?a(o,s):qe.cloneElement(qe.Children.only(a),s))},r}(qe.Component);Os.contextType=b2;Os.propTypes={};function Np(){}Os.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Np,onEntering:Np,onEntered:Np,onExit:Np,onExiting:Np,onExited:Np};Os.UNMOUNTED=hg;Os.EXITED=Jf;Os.ENTERING=Zf;Os.ENTERED=Vp;Os.EXITING=VO;function wfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bI(e,r){var t=function(i){return r&&N.isValidElement(i)?r(i):i},n=Object.create(null);return e&&N.Children.map(e,function(o){return o}).forEach(function(o){n[o.key]=t(o)}),n}function Sfe(e,r){e=e||{},r=r||{};function t(c){return c in r?r[c]:e[c]}var n=Object.create(null),o=[];for(var i in e)i in r?o.length&&(n[i]=o,o=[]):o.push(i);var a,s={};for(var u in r){if(n[u])for(a=0;a<n[u].length;a++){var l=n[u][a];s[n[u][a]]=t(l)}s[u]=t(u)}for(a=0;a<o.length;a++)s[o[a]]=t(o[a]);return s}function hd(e,r,t){return t[r]!=null?t[r]:e.props[r]}function Cfe(e,r){return bI(e.children,function(t){return N.cloneElement(t,{onExited:r.bind(null,t),in:!0,appear:hd(t,"appear",e),enter:hd(t,"enter",e),exit:hd(t,"exit",e)})})}function Efe(e,r,t){var n=bI(e.children),o=Sfe(r,n);return Object.keys(o).forEach(function(i){var a=o[i];if(N.isValidElement(a)){var s=i in r,u=i in n,l=r[i],c=N.isValidElement(l)&&!l.props.in;u&&(!s||c)?o[i]=N.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:hd(a,"exit",e),enter:hd(a,"enter",e)}):!u&&s&&!c?o[i]=N.cloneElement(a,{in:!1}):u&&s&&N.isValidElement(l)&&(o[i]=N.cloneElement(a,{onExited:t.bind(null,a),in:l.props.in,exit:hd(a,"exit",e),enter:hd(a,"enter",e)}))}}),o}var kfe=Object.values||function(e){return Object.keys(e).map(function(r){return e[r]})},Rfe={component:"div",childFactory:function(r){return r}},_I=function(e){R7(r,e);function r(n,o){var i;i=e.call(this,n,o)||this;var a=i.handleExited.bind(wfe(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var t=r.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(o,i){var a=i.children,s=i.handleExited,u=i.firstRender;return{children:u?Cfe(o,s):Efe(o,a,s),firstRender:!1}},t.handleExited=function(o,i){var a=bI(this.props.children);o.key in a||(o.props.onExited&&o.props.onExited(i),this.mounted&&this.setState(function(s){var u=m2({},s.children);return delete u[o.key],{children:u}}))},t.render=function(){var o=this.props,i=o.component,a=o.childFactory,s=k7(o,["component","childFactory"]),u=this.state.contextValue,l=kfe(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,i===null?qe.createElement(b2.Provider,{value:u},l):qe.createElement(b2.Provider,{value:u},qe.createElement(i,s,l))},r}(qe.Component);_I.propTypes={};_I.defaultProps=Rfe;const wI=e=>e.scrollTop;function ff(e,r){const{timeout:t,easing:n,style:o={}}=e;return{duration:o.transitionDuration??(typeof t=="number"?t:t[r.mode]||0),easing:o.transitionTimingFunction??(typeof n=="object"?n[r.mode]:n),delay:o.transitionDelay}}function Tfe(e){return Ht("MuiCollapse",e)}Qt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Afe=e=>{const{orientation:r,classes:t}=e,n={root:["root",`${r}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${r}`],wrapperInner:["wrapperInner",`${r}`]};return Vt(n,Tfe,t)},Ofe=Ye("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.orientation],t.state==="entered"&&r.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&r.hidden]}})(nr(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:r})=>r.state==="exited"&&!r.in&&r.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Dfe=Ye("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,r)=>r.wrapper})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Pfe=Ye("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,r)=>r.wrapperInner})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Md=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiCollapse"}),{addEndListener:o,children:i,className:a,collapsedSize:s="0px",component:u,easing:l,in:c,onEnter:f,onEntered:d,onEntering:p,onExit:h,onExited:m,onExiting:y,orientation:v="vertical",style:g,timeout:x=_7.standard,TransitionComponent:b=Os,...w}=n,E={...n,orientation:v,collapsedSize:s},C=Afe(E),S=Sr(),T=pd(),k=N.useRef(null),P=N.useRef(),I=typeof s=="number"?`${s}px`:s,F=v==="horizontal",A=F?"width":"height",D=N.useRef(null),$=Nn(t,D),B=Z=>ue=>{if(Z){const oe=D.current;ue===void 0?Z(oe):Z(oe,ue)}},W=()=>k.current?k.current[F?"clientWidth":"clientHeight"]:0,L=B((Z,ue)=>{k.current&&F&&(k.current.style.position="absolute"),Z.style[A]=I,f&&f(Z,ue)}),z=B((Z,ue)=>{const oe=W();k.current&&F&&(k.current.style.position="");const{duration:ee,easing:ne}=ff({style:g,timeout:x,easing:l},{mode:"enter"});if(x==="auto"){const pe=S.transitions.getAutoHeightDuration(oe);Z.style.transitionDuration=`${pe}ms`,P.current=pe}else Z.style.transitionDuration=typeof ee=="string"?ee:`${ee}ms`;Z.style[A]=`${oe}px`,Z.style.transitionTimingFunction=ne,p&&p(Z,ue)}),U=B((Z,ue)=>{Z.style[A]="auto",d&&d(Z,ue)}),Y=B(Z=>{Z.style[A]=`${W()}px`,h&&h(Z)}),q=B(m),V=B(Z=>{const ue=W(),{duration:oe,easing:ee}=ff({style:g,timeout:x,easing:l},{mode:"exit"});if(x==="auto"){const ne=S.transitions.getAutoHeightDuration(ue);Z.style.transitionDuration=`${ne}ms`,P.current=ne}else Z.style.transitionDuration=typeof oe=="string"?oe:`${oe}ms`;Z.style[A]=I,Z.style.transitionTimingFunction=ee,y&&y(Z)}),H=Z=>{x==="auto"&&T.start(P.current||0,Z),o&&o(D.current,Z)};return O.jsx(b,{in:c,onEnter:L,onEntered:U,onEntering:z,onExit:Y,onExited:q,onExiting:V,addEndListener:H,nodeRef:D,timeout:x==="auto"?null:x,...w,children:(Z,{ownerState:ue,...oe})=>O.jsx(Ofe,{as:u,className:ct(C.root,a,{entered:C.entered,exited:!c&&I==="0px"&&C.hidden}[Z]),style:{[F?"minWidth":"minHeight"]:I,...g},ref:$,ownerState:{...E,state:Z},...oe,children:O.jsx(Dfe,{ownerState:{...E,state:Z},className:C.wrapper,ref:k,children:O.jsx(Pfe,{ownerState:{...E,state:Z},className:C.wrapperInner,children:i})})})})});Md&&(Md.muiSupportAuto=!0);function Ife(e){return Ht("MuiPaper",e)}Qt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Nfe=e=>{const{square:r,elevation:t,variant:n,classes:o}=e,i={root:["root",n,!r&&"rounded",n==="elevation"&&`elevation${t}`]};return Vt(i,Ife,o)},Mfe=Ye("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],!t.square&&r.rounded,t.variant==="elevation"&&r[`elevation${t.elevation}`]]}})(nr(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:r})=>!r.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),zi=N.forwardRef(function(r,t){var p;const n=Jt({props:r,name:"MuiPaper"}),o=Sr(),{className:i,component:a="div",elevation:s=1,square:u=!1,variant:l="elevation",...c}=n,f={...n,component:a,elevation:s,square:u,variant:l},d=Nfe(f);return O.jsx(Mfe,{as:a,ownerState:f,className:ct(d.root,i),ref:t,...c,style:{...l==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[s],...o.vars&&{"--Paper-overlay":(p=o.vars.overlays)==null?void 0:p[s]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${fr("#fff",UO(s))}, ${fr("#fff",UO(s))})`}},...c.style}})});function qr(e,r){const{className:t,elementType:n,ownerState:o,externalForwardedProps:i,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...u}=r,{component:l,slots:c={[e]:void 0},slotProps:f={[e]:void 0},...d}=i,p=c[e]||n,h=d7(f[e],o),{props:{component:m,...y},internalRef:v}=f7({className:t,...u,externalForwardedProps:e==="root"?d:void 0,externalSlotProps:h}),g=Nn(v,h==null?void 0:h.ref,r.ref),x=e==="root"?m||l:m,b=l7(p,{...e==="root"&&!l&&!c[e]&&a,...e!=="root"&&!c[e]&&a,...y,...x&&!s&&{as:x},...x&&s&&{component:x},ref:g},o);return[p,b]}class _2{constructor(){bt(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new _2}static use(){const r=s7(_2.create).current,[t,n]=N.useState(!1);return r.shouldMount=t,r.setShouldMount=n,N.useEffect(r.mountEffect,[t]),r}mount(){return this.mounted||(this.mounted=Lfe(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...r)})}stop(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...r)})}pulsate(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...r)})}}function Ffe(){return _2.use()}function Lfe(){let e,r;const t=new Promise((n,o)=>{e=n,r=o});return t.resolve=e,t.reject=r,t}function Bfe(e){const{className:r,classes:t,pulsate:n=!1,rippleX:o,rippleY:i,rippleSize:a,in:s,onExited:u,timeout:l}=e,[c,f]=N.useState(!1),d=ct(r,t.ripple,t.rippleVisible,n&&t.ripplePulsate),p={width:a,height:a,top:-(a/2)+i,left:-(a/2)+o},h=ct(t.child,c&&t.childLeaving,n&&t.childPulsate);return!s&&!c&&f(!0),N.useEffect(()=>{if(!s&&u!=null){const m=setTimeout(u,l);return()=>{clearTimeout(m)}}},[u,s,l]),O.jsx("span",{className:d,style:p,children:O.jsx("span",{className:h})})}const fs=Qt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),GO=550,jfe=80,$fe=$0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,zfe=$0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Wfe=$0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Ufe=Ye("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qfe=Ye(Bfe,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${fs.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${$fe};
    animation-duration: ${GO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${fs.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${fs.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${fs.childLeaving} {
    opacity: 0;
    animation-name: ${zfe};
    animation-duration: ${GO}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${fs.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Wfe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Hfe=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTouchRipple"}),{center:o=!1,classes:i={},className:a,...s}=n,[u,l]=N.useState([]),c=N.useRef(0),f=N.useRef(null);N.useEffect(()=>{f.current&&(f.current(),f.current=null)},[u]);const d=N.useRef(!1),p=pd(),h=N.useRef(null),m=N.useRef(null),y=N.useCallback(b=>{const{pulsate:w,rippleX:E,rippleY:C,rippleSize:S,cb:T}=b;l(k=>[...k,O.jsx(qfe,{classes:{ripple:ct(i.ripple,fs.ripple),rippleVisible:ct(i.rippleVisible,fs.rippleVisible),ripplePulsate:ct(i.ripplePulsate,fs.ripplePulsate),child:ct(i.child,fs.child),childLeaving:ct(i.childLeaving,fs.childLeaving),childPulsate:ct(i.childPulsate,fs.childPulsate)},timeout:GO,pulsate:w,rippleX:E,rippleY:C,rippleSize:S},c.current)]),c.current+=1,f.current=T},[i]),v=N.useCallback((b={},w={},E=()=>{})=>{const{pulsate:C=!1,center:S=o||w.pulsate,fakeElement:T=!1}=w;if((b==null?void 0:b.type)==="mousedown"&&d.current){d.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(d.current=!0);const k=T?null:m.current,P=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let I,F,A;if(S||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)I=Math.round(P.width/2),F=Math.round(P.height/2);else{const{clientX:D,clientY:$}=b.touches&&b.touches.length>0?b.touches[0]:b;I=Math.round(D-P.left),F=Math.round($-P.top)}if(S)A=Math.sqrt((2*P.width**2+P.height**2)/3),A%2===0&&(A+=1);else{const D=Math.max(Math.abs((k?k.clientWidth:0)-I),I)*2+2,$=Math.max(Math.abs((k?k.clientHeight:0)-F),F)*2+2;A=Math.sqrt(D**2+$**2)}b!=null&&b.touches?h.current===null&&(h.current=()=>{y({pulsate:C,rippleX:I,rippleY:F,rippleSize:A,cb:E})},p.start(jfe,()=>{h.current&&(h.current(),h.current=null)})):y({pulsate:C,rippleX:I,rippleY:F,rippleSize:A,cb:E})},[o,y,p]),g=N.useCallback(()=>{v({},{pulsate:!0})},[v]),x=N.useCallback((b,w)=>{if(p.clear(),(b==null?void 0:b.type)==="touchend"&&h.current){h.current(),h.current=null,p.start(0,()=>{x(b,w)});return}h.current=null,l(E=>E.length>0?E.slice(1):E),f.current=w},[p]);return N.useImperativeHandle(t,()=>({pulsate:g,start:v,stop:x}),[g,v,x]),O.jsx(Ufe,{className:ct(fs.root,i.root,a),ref:m,...s,children:O.jsx(_I,{component:null,exit:!0,children:u})})});function Vfe(e){return Ht("MuiButtonBase",e)}const Gfe=Qt("MuiButtonBase",["root","disabled","focusVisible"]),Yfe=e=>{const{disabled:r,focusVisible:t,focusVisibleClassName:n,classes:o}=e,a=Vt({root:["root",r&&"disabled",t&&"focusVisible"]},Vfe,o);return t&&n&&(a.root+=` ${n}`),a},Kfe=Ye("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Gfe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ev=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiButtonBase"}),{action:o,centerRipple:i=!1,children:a,className:s,component:u="button",disabled:l=!1,disableRipple:c=!1,disableTouchRipple:f=!1,focusRipple:d=!1,focusVisibleClassName:p,LinkComponent:h="a",onBlur:m,onClick:y,onContextMenu:v,onDragLeave:g,onFocus:x,onFocusVisible:b,onKeyDown:w,onKeyUp:E,onMouseDown:C,onMouseLeave:S,onMouseUp:T,onTouchEnd:k,onTouchMove:P,onTouchStart:I,tabIndex:F=0,TouchRippleProps:A,touchRippleRef:D,type:$,...B}=n,W=N.useRef(null),L=Ffe(),z=Nn(L.ref,D),[U,Y]=N.useState(!1);l&&U&&Y(!1),N.useImperativeHandle(o,()=>({focusVisible:()=>{Y(!0),W.current.focus()}}),[]);const q=L.shouldMount&&!c&&!l;N.useEffect(()=>{U&&d&&!c&&L.pulsate()},[c,d,U,L]);const V=Ol(L,"start",C,f),H=Ol(L,"stop",v,f),Z=Ol(L,"stop",g,f),ue=Ol(L,"stop",T,f),oe=Ol(L,"stop",ae=>{U&&ae.preventDefault(),S&&S(ae)},f),ee=Ol(L,"start",I,f),ne=Ol(L,"stop",k,f),pe=Ol(L,"stop",P,f),J=Ol(L,"stop",ae=>{Qh(ae.target)||Y(!1),m&&m(ae)},!1),se=Jc(ae=>{W.current||(W.current=ae.currentTarget),Qh(ae.target)&&(Y(!0),b&&b(ae)),x&&x(ae)}),j=()=>{const ae=W.current;return u&&u!=="button"&&!(ae.tagName==="A"&&ae.href)},ce=Jc(ae=>{d&&!ae.repeat&&U&&ae.key===" "&&L.stop(ae,()=>{L.start(ae)}),ae.target===ae.currentTarget&&j()&&ae.key===" "&&ae.preventDefault(),w&&w(ae),ae.target===ae.currentTarget&&j()&&ae.key==="Enter"&&!l&&(ae.preventDefault(),y&&y(ae))}),re=Jc(ae=>{d&&ae.key===" "&&U&&!ae.defaultPrevented&&L.stop(ae,()=>{L.pulsate(ae)}),E&&E(ae),y&&ae.target===ae.currentTarget&&j()&&ae.key===" "&&!ae.defaultPrevented&&y(ae)});let Q=u;Q==="button"&&(B.href||B.to)&&(Q=h);const G={};Q==="button"?(G.type=$===void 0?"button":$,G.disabled=l):(!B.href&&!B.to&&(G.role="button"),l&&(G["aria-disabled"]=l));const X=Nn(t,W),te={...n,centerRipple:i,component:u,disabled:l,disableRipple:c,disableTouchRipple:f,focusRipple:d,tabIndex:F,focusVisible:U},de=Yfe(te);return O.jsxs(Kfe,{as:Q,className:ct(de.root,s),ownerState:te,onBlur:J,onClick:y,onContextMenu:H,onFocus:se,onKeyDown:ce,onKeyUp:re,onMouseDown:V,onMouseLeave:oe,onMouseUp:ue,onDragLeave:Z,onTouchEnd:ne,onTouchMove:pe,onTouchStart:ee,ref:X,tabIndex:l?-1:F,type:$,...G,...B,children:[a,q?O.jsx(Hfe,{ref:z,center:i,...A}):null]})});function Ol(e,r,t,n=!1){return Jc(o=>(t&&t(o),n||e[r](o),!0))}function Xfe(e){return typeof e.main=="string"}function Qfe(e,r=[]){if(!Xfe(e))return!1;for(const t of r)if(!e.hasOwnProperty(t)||typeof e[t]!="string")return!1;return!0}function _o(e=[]){return([,r])=>r&&Qfe(r,e)}function Jfe(e){return Ht("MuiAlert",e)}const _B=Qt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Zfe(e){return Ht("MuiCircularProgress",e)}const ede=Qt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]),kc=44,YO=$0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,KO=$0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,tde=typeof YO!="string"?nI`
        animation: ${YO} 1.4s linear infinite;
      `:null,rde=typeof KO!="string"?nI`
        animation: ${KO} 1.4s ease-in-out infinite;
      `:null,nde=e=>{const{classes:r,variant:t,color:n,disableShrink:o}=e,i={root:["root",t,`color${ht(n)}`],svg:["svg"],circle:["circle",`circle${ht(t)}`,o&&"circleDisableShrink"]};return Vt(i,Zfe,r)},ode=Ye("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${ht(t.color)}`]]}})(nr(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:tde||{animation:`${YO} 1.4s linear infinite`}},...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}}))]}))),ide=Ye("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),ade=Ye("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${ht(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})(nr(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:r})=>r.variant==="indeterminate"&&!r.disableShrink,style:rde||{animation:`${KO} 1.4s ease-in-out infinite`}}]}))),Hi=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:a=!1,size:s=40,style:u,thickness:l=3.6,value:c=0,variant:f="indeterminate",...d}=n,p={...n,color:i,disableShrink:a,size:s,thickness:l,value:c,variant:f},h=nde(p),m={},y={},v={};if(f==="determinate"){const g=2*Math.PI*((kc-l)/2);m.strokeDasharray=g.toFixed(3),v["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*g).toFixed(3)}px`,y.transform="rotate(-90deg)"}return O.jsx(ode,{className:ct(h.root,o),style:{width:s,height:s,...y,...u},ownerState:p,ref:t,role:"progressbar",...v,...d,children:O.jsx(ide,{className:h.svg,ownerState:p,viewBox:`${kc/2} ${kc/2} ${kc} ${kc}`,children:O.jsx(ade,{className:h.circle,style:m,ownerState:p,cx:kc,cy:kc,r:(kc-l)/2,fill:"none",strokeWidth:l})})})});function sde(e){return Ht("MuiIconButton",e)}const wB=Qt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),ude=e=>{const{classes:r,disabled:t,color:n,edge:o,size:i,loading:a}=e,s={root:["root",a&&"loading",t&&"disabled",n!=="default"&&`color${ht(n)}`,o&&`edge${ht(o)}`,`size${ht(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Vt(s,sde,r)},lde=Ye(Ev,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.loading&&r.loading,t.color!=="default"&&r[`color${ht(t.color)}`],t.edge&&r[`edge${ht(t.edge)}`],r[`size${ht(t.size)}`]]}})(nr(({theme:e})=>({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:r=>!r.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),nr(({theme:e})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr((e.vars||e).palette[r].main,e.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${wB.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${wB.loading}`]:{color:"transparent"}}))),cde=Ye("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(e,r)=>r.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Uu=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiIconButton"}),{edge:o=!1,children:i,className:a,color:s="default",disabled:u=!1,disableFocusRipple:l=!1,size:c="medium",id:f,loading:d=null,loadingIndicator:p,...h}=n,m=qd(f),y=p??O.jsx(Hi,{"aria-labelledby":m,color:"inherit",size:16}),v={...n,edge:o,color:s,disabled:u,disableFocusRipple:l,loading:d,loadingIndicator:y,size:c},g=ude(v);return O.jsxs(lde,{id:d?m:f,className:ct(g.root,a),centerRipple:!0,focusRipple:!l,disabled:u||d,ref:t,...h,ownerState:v,children:[typeof d=="boolean"&&O.jsx("span",{className:g.loadingWrapper,style:{display:"contents"},children:O.jsx(cde,{className:g.loadingIndicator,ownerState:v,children:d&&y})}),i]})}),fde=xr(O.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),dde=xr(O.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),pde=xr(O.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),hde=xr(O.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),vde=xr(O.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),mde=e=>{const{variant:r,color:t,severity:n,classes:o}=e,i={root:["root",`color${ht(t||n)}`,`${r}${ht(t||n)}`,`${r}`],icon:["icon"],message:["message"],action:["action"]};return Vt(i,Jfe,o)},gde=Ye(zi,{name:"MuiAlert",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`${t.variant}${ht(t.color||t.severity)}`]]}})(nr(({theme:e})=>{const r=e.palette.mode==="light"?Yh:Kh,t=e.palette.mode==="light"?Kh:Yh;return{...e.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(_o(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:r(e.palette[n].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${n}StandardBg`]:t(e.palette[n].light,.9),[`& .${_B.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(_o(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:r(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${_B.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(_o(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:e.typography.fontWeightMedium,...e.vars?{color:e.vars.palette.Alert[`${n}FilledColor`],backgroundColor:e.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[n].dark:e.palette[n].main,color:e.palette.getContrastText(e.palette[n].main)}}}))]}})),yde=Ye("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,r)=>r.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),xde=Ye("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,r)=>r.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),bde=Ye("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,r)=>r.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),SB={success:O.jsx(fde,{fontSize:"inherit"}),warning:O.jsx(dde,{fontSize:"inherit"}),error:O.jsx(pde,{fontSize:"inherit"}),info:O.jsx(hde,{fontSize:"inherit"})},f0=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiAlert"}),{action:o,children:i,className:a,closeText:s="Close",color:u,components:l={},componentsProps:c={},icon:f,iconMapping:d=SB,onClose:p,role:h="alert",severity:m="success",slotProps:y={},slots:v={},variant:g="standard",...x}=n,b={...n,color:u,severity:m,variant:g,colorSeverity:u||m},w=mde(b),E={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...v},slotProps:{...c,...y}},[C,S]=qr("root",{ref:t,shouldForwardComponentProp:!0,className:ct(w.root,a),elementType:gde,externalForwardedProps:{...E,...x},ownerState:b,additionalProps:{role:h,elevation:0}}),[T,k]=qr("icon",{className:w.icon,elementType:yde,externalForwardedProps:E,ownerState:b}),[P,I]=qr("message",{className:w.message,elementType:xde,externalForwardedProps:E,ownerState:b}),[F,A]=qr("action",{className:w.action,elementType:bde,externalForwardedProps:E,ownerState:b}),[D,$]=qr("closeButton",{elementType:Uu,externalForwardedProps:E,ownerState:b}),[B,W]=qr("closeIcon",{elementType:vde,externalForwardedProps:E,ownerState:b});return O.jsxs(C,{...S,children:[f!==!1?O.jsx(T,{...k,children:f||d[m]||SB[m]}):null,O.jsx(P,{...I,children:i}),o!=null?O.jsx(F,{...A,children:o}):null,o==null&&p?O.jsx(F,{...A,children:O.jsx(D,{size:"small","aria-label":s,title:s,color:"inherit",onClick:p,...$,children:O.jsx(B,{fontSize:"small",...W})})}):null]})});function _de(e){return Ht("MuiTypography",e)}const CB=Qt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),wde={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Sde=gfe(),Cde=e=>{const{align:r,gutterBottom:t,noWrap:n,paragraph:o,variant:i,classes:a}=e,s={root:["root",i,e.align!=="inherit"&&`align${ht(r)}`,t&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return Vt(s,_de,a)},Ede=Ye("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.variant&&r[t.variant],t.align!=="inherit"&&r[`align${ht(t.align)}`],t.noWrap&&r.noWrap,t.gutterBottom&&r.gutterBottom,t.paragraph&&r.paragraph]}})(nr(({theme:e})=>{var r;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([t,n])=>t!=="inherit"&&n&&typeof n=="object").map(([t,n])=>({props:{variant:t},style:n})),...Object.entries(e.palette).filter(_o()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),...Object.entries(((r=e.palette)==null?void 0:r.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${ht(t)}`},style:{color:(e.vars||e).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),EB={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},it=N.forwardRef(function(r,t){const{color:n,...o}=Jt({props:r,name:"MuiTypography"}),i=!wde[n],a=Sde({...o,...i&&{color:n}}),{align:s="inherit",className:u,component:l,gutterBottom:c=!1,noWrap:f=!1,paragraph:d=!1,variant:p="body1",variantMapping:h=EB,...m}=a,y={...a,align:s,color:n,className:u,component:l,gutterBottom:c,noWrap:f,paragraph:d,variant:p,variantMapping:h},v=l||(d?"p":h[p]||EB[p])||"span",g=Cde(y);return O.jsx(Ede,{as:v,ref:t,className:ct(g.root,u),...m,ownerState:y,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...m.style}})});function kde(e){return Ht("MuiAppBar",e)}Qt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Rde=e=>{const{color:r,position:t,classes:n}=e,o={root:["root",`color${ht(r)}`,`position${ht(t)}`]};return Vt(o,kde,n)},kB=(e,r)=>e?`${e==null?void 0:e.replace(")","")}, ${r})`:r,Tde=Ye(zi,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`position${ht(t.position)}`],r[`color${ht(t.color)}`]]}})(nr(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(_o(["contrastText"])).map(([r])=>({props:{color:r},style:{"--AppBar-background":(e.vars??e).palette[r].main,"--AppBar-color":(e.vars??e).palette[r].contrastText}})),{props:r=>r.enableColorOnDark===!0&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:r=>r.enableColorOnDark===!1&&!["inherit","transparent"].includes(r.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?kB(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?kB(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Dg=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiAppBar"}),{className:o,color:i="primary",enableColorOnDark:a=!1,position:s="fixed",...u}=n,l={...n,color:i,position:s,enableColorOnDark:a},c=Rde(l);return O.jsx(Tde,{square:!0,component:"header",ownerState:l,elevation:4,className:ct(c.root,o,s==="fixed"&&"mui-fixed"),ref:t,...u})});var pa="top",Es="bottom",ks="right",ha="left",SI="auto",H0=[pa,Es,ks,ha],Jh="start",d0="end",Ade="clippingParents",T7="viewport",zm="popper",Ode="reference",RB=H0.reduce(function(e,r){return e.concat([r+"-"+Jh,r+"-"+d0])},[]),A7=[].concat(H0,[SI]).reduce(function(e,r){return e.concat([r,r+"-"+Jh,r+"-"+d0])},[]),Dde="beforeRead",Pde="read",Ide="afterRead",Nde="beforeMain",Mde="main",Fde="afterMain",Lde="beforeWrite",Bde="write",jde="afterWrite",$de=[Dde,Pde,Ide,Nde,Mde,Fde,Lde,Bde,jde];function Qu(e){return e?(e.nodeName||"").toLowerCase():null}function Va(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var r=e.ownerDocument;return r&&r.defaultView||window}return e}function Fd(e){var r=Va(e).Element;return e instanceof r||e instanceof Element}function _s(e){var r=Va(e).HTMLElement;return e instanceof r||e instanceof HTMLElement}function CI(e){if(typeof ShadowRoot>"u")return!1;var r=Va(e).ShadowRoot;return e instanceof r||e instanceof ShadowRoot}function zde(e){var r=e.state;Object.keys(r.elements).forEach(function(t){var n=r.styles[t]||{},o=r.attributes[t]||{},i=r.elements[t];!_s(i)||!Qu(i)||(Object.assign(i.style,n),Object.keys(o).forEach(function(a){var s=o[a];s===!1?i.removeAttribute(a):i.setAttribute(a,s===!0?"":s)}))})}function Wde(e){var r=e.state,t={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,t.popper),r.styles=t,r.elements.arrow&&Object.assign(r.elements.arrow.style,t.arrow),function(){Object.keys(r.elements).forEach(function(n){var o=r.elements[n],i=r.attributes[n]||{},a=Object.keys(r.styles.hasOwnProperty(n)?r.styles[n]:t[n]),s=a.reduce(function(u,l){return u[l]="",u},{});!_s(o)||!Qu(o)||(Object.assign(o.style,s),Object.keys(i).forEach(function(u){o.removeAttribute(u)}))})}}const Ude={name:"applyStyles",enabled:!0,phase:"write",fn:zde,effect:Wde,requires:["computeStyles"]};function qu(e){return e.split("-")[0]}var _d=Math.max,w2=Math.min,Zh=Math.round;function XO(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function O7(){return!/^((?!chrome|android).)*safari/i.test(XO())}function ev(e,r,t){r===void 0&&(r=!1),t===void 0&&(t=!1);var n=e.getBoundingClientRect(),o=1,i=1;r&&_s(e)&&(o=e.offsetWidth>0&&Zh(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Zh(n.height)/e.offsetHeight||1);var a=Fd(e)?Va(e):window,s=a.visualViewport,u=!O7()&&t,l=(n.left+(u&&s?s.offsetLeft:0))/o,c=(n.top+(u&&s?s.offsetTop:0))/i,f=n.width/o,d=n.height/i;return{width:f,height:d,top:c,right:l+f,bottom:c+d,left:l,x:l,y:c}}function EI(e){var r=ev(e),t=e.offsetWidth,n=e.offsetHeight;return Math.abs(r.width-t)<=1&&(t=r.width),Math.abs(r.height-n)<=1&&(n=r.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:n}}function D7(e,r){var t=r.getRootNode&&r.getRootNode();if(e.contains(r))return!0;if(t&&CI(t)){var n=r;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Zl(e){return Va(e).getComputedStyle(e)}function qde(e){return["table","td","th"].indexOf(Qu(e))>=0}function _f(e){return((Fd(e)?e.ownerDocument:e.document)||window.document).documentElement}function mS(e){return Qu(e)==="html"?e:e.assignedSlot||e.parentNode||(CI(e)?e.host:null)||_f(e)}function TB(e){return!_s(e)||Zl(e).position==="fixed"?null:e.offsetParent}function Hde(e){var r=/firefox/i.test(XO()),t=/Trident/i.test(XO());if(t&&_s(e)){var n=Zl(e);if(n.position==="fixed")return null}var o=mS(e);for(CI(o)&&(o=o.host);_s(o)&&["html","body"].indexOf(Qu(o))<0;){var i=Zl(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||r&&i.willChange==="filter"||r&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function V0(e){for(var r=Va(e),t=TB(e);t&&qde(t)&&Zl(t).position==="static";)t=TB(t);return t&&(Qu(t)==="html"||Qu(t)==="body"&&Zl(t).position==="static")?r:t||Hde(e)||r}function kI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pg(e,r,t){return _d(e,w2(r,t))}function Vde(e,r,t){var n=Pg(e,r,t);return n>t?t:n}function P7(){return{top:0,right:0,bottom:0,left:0}}function I7(e){return Object.assign({},P7(),e)}function N7(e,r){return r.reduce(function(t,n){return t[n]=e,t},{})}var Gde=function(r,t){return r=typeof r=="function"?r(Object.assign({},t.rects,{placement:t.placement})):r,I7(typeof r!="number"?r:N7(r,H0))};function Yde(e){var r,t=e.state,n=e.name,o=e.options,i=t.elements.arrow,a=t.modifiersData.popperOffsets,s=qu(t.placement),u=kI(s),l=[ha,ks].indexOf(s)>=0,c=l?"height":"width";if(!(!i||!a)){var f=Gde(o.padding,t),d=EI(i),p=u==="y"?pa:ha,h=u==="y"?Es:ks,m=t.rects.reference[c]+t.rects.reference[u]-a[u]-t.rects.popper[c],y=a[u]-t.rects.reference[u],v=V0(i),g=v?u==="y"?v.clientHeight||0:v.clientWidth||0:0,x=m/2-y/2,b=f[p],w=g-d[c]-f[h],E=g/2-d[c]/2+x,C=Pg(b,E,w),S=u;t.modifiersData[n]=(r={},r[S]=C,r.centerOffset=C-E,r)}}function Kde(e){var r=e.state,t=e.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=r.elements.popper.querySelector(o),!o)||D7(r.elements.popper,o)&&(r.elements.arrow=o))}const Xde={name:"arrow",enabled:!0,phase:"main",fn:Yde,effect:Kde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tv(e){return e.split("-")[1]}var Qde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jde(e,r){var t=e.x,n=e.y,o=r.devicePixelRatio||1;return{x:Zh(t*o)/o||0,y:Zh(n*o)/o||0}}function AB(e){var r,t=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=a.x,p=d===void 0?0:d,h=a.y,m=h===void 0?0:h,y=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var v=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),x=ha,b=pa,w=window;if(l){var E=V0(t),C="clientHeight",S="clientWidth";if(E===Va(t)&&(E=_f(t),Zl(E).position!=="static"&&s==="absolute"&&(C="scrollHeight",S="scrollWidth")),E=E,o===pa||(o===ha||o===ks)&&i===d0){b=Es;var T=f&&E===w&&w.visualViewport?w.visualViewport.height:E[C];m-=T-n.height,m*=u?1:-1}if(o===ha||(o===pa||o===Es)&&i===d0){x=ks;var k=f&&E===w&&w.visualViewport?w.visualViewport.width:E[S];p-=k-n.width,p*=u?1:-1}}var P=Object.assign({position:s},l&&Qde),I=c===!0?Jde({x:p,y:m},Va(t)):{x:p,y:m};if(p=I.x,m=I.y,u){var F;return Object.assign({},P,(F={},F[b]=g?"0":"",F[x]=v?"0":"",F.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",F))}return Object.assign({},P,(r={},r[b]=g?m+"px":"",r[x]=v?p+"px":"",r.transform="",r))}function Zde(e){var r=e.state,t=e.options,n=t.gpuAcceleration,o=n===void 0?!0:n,i=t.adaptive,a=i===void 0?!0:i,s=t.roundOffsets,u=s===void 0?!0:s,l={placement:qu(r.placement),variation:tv(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:o,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,AB(Object.assign({},l,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:a,roundOffsets:u})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,AB(Object.assign({},l,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}const epe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Zde,data:{}};var Ix={passive:!0};function tpe(e){var r=e.state,t=e.instance,n=e.options,o=n.scroll,i=o===void 0?!0:o,a=n.resize,s=a===void 0?!0:a,u=Va(r.elements.popper),l=[].concat(r.scrollParents.reference,r.scrollParents.popper);return i&&l.forEach(function(c){c.addEventListener("scroll",t.update,Ix)}),s&&u.addEventListener("resize",t.update,Ix),function(){i&&l.forEach(function(c){c.removeEventListener("scroll",t.update,Ix)}),s&&u.removeEventListener("resize",t.update,Ix)}}const rpe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:tpe,data:{}};var npe={left:"right",right:"left",bottom:"top",top:"bottom"};function T_(e){return e.replace(/left|right|bottom|top/g,function(r){return npe[r]})}var ope={start:"end",end:"start"};function OB(e){return e.replace(/start|end/g,function(r){return ope[r]})}function RI(e){var r=Va(e),t=r.pageXOffset,n=r.pageYOffset;return{scrollLeft:t,scrollTop:n}}function TI(e){return ev(_f(e)).left+RI(e).scrollLeft}function ipe(e,r){var t=Va(e),n=_f(e),o=t.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;var l=O7();(l||!l&&r==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s+TI(e),y:u}}function ape(e){var r,t=_f(e),n=RI(e),o=(r=e.ownerDocument)==null?void 0:r.body,i=_d(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=_d(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+TI(e),u=-n.scrollTop;return Zl(o||t).direction==="rtl"&&(s+=_d(t.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:u}}function AI(e){var r=Zl(e),t=r.overflow,n=r.overflowX,o=r.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function M7(e){return["html","body","#document"].indexOf(Qu(e))>=0?e.ownerDocument.body:_s(e)&&AI(e)?e:M7(mS(e))}function Ig(e,r){var t;r===void 0&&(r=[]);var n=M7(e),o=n===((t=e.ownerDocument)==null?void 0:t.body),i=Va(n),a=o?[i].concat(i.visualViewport||[],AI(n)?n:[]):n,s=r.concat(a);return o?s:s.concat(Ig(mS(a)))}function QO(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function spe(e,r){var t=ev(e,!1,r==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function DB(e,r,t){return r===T7?QO(ipe(e,t)):Fd(r)?spe(r,t):QO(ape(_f(e)))}function upe(e){var r=Ig(mS(e)),t=["absolute","fixed"].indexOf(Zl(e).position)>=0,n=t&&_s(e)?V0(e):e;return Fd(n)?r.filter(function(o){return Fd(o)&&D7(o,n)&&Qu(o)!=="body"}):[]}function lpe(e,r,t,n){var o=r==="clippingParents"?upe(e):[].concat(r),i=[].concat(o,[t]),a=i[0],s=i.reduce(function(u,l){var c=DB(e,l,n);return u.top=_d(c.top,u.top),u.right=w2(c.right,u.right),u.bottom=w2(c.bottom,u.bottom),u.left=_d(c.left,u.left),u},DB(e,a,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function F7(e){var r=e.reference,t=e.element,n=e.placement,o=n?qu(n):null,i=n?tv(n):null,a=r.x+r.width/2-t.width/2,s=r.y+r.height/2-t.height/2,u;switch(o){case pa:u={x:a,y:r.y-t.height};break;case Es:u={x:a,y:r.y+r.height};break;case ks:u={x:r.x+r.width,y:s};break;case ha:u={x:r.x-t.width,y:s};break;default:u={x:r.x,y:r.y}}var l=o?kI(o):null;if(l!=null){var c=l==="y"?"height":"width";switch(i){case Jh:u[l]=u[l]-(r[c]/2-t[c]/2);break;case d0:u[l]=u[l]+(r[c]/2-t[c]/2);break}}return u}function p0(e,r){r===void 0&&(r={});var t=r,n=t.placement,o=n===void 0?e.placement:n,i=t.strategy,a=i===void 0?e.strategy:i,s=t.boundary,u=s===void 0?Ade:s,l=t.rootBoundary,c=l===void 0?T7:l,f=t.elementContext,d=f===void 0?zm:f,p=t.altBoundary,h=p===void 0?!1:p,m=t.padding,y=m===void 0?0:m,v=I7(typeof y!="number"?y:N7(y,H0)),g=d===zm?Ode:zm,x=e.rects.popper,b=e.elements[h?g:d],w=lpe(Fd(b)?b:b.contextElement||_f(e.elements.popper),u,c,a),E=ev(e.elements.reference),C=F7({reference:E,element:x,placement:o}),S=QO(Object.assign({},x,C)),T=d===zm?S:E,k={top:w.top-T.top+v.top,bottom:T.bottom-w.bottom+v.bottom,left:w.left-T.left+v.left,right:T.right-w.right+v.right},P=e.modifiersData.offset;if(d===zm&&P){var I=P[o];Object.keys(k).forEach(function(F){var A=[ks,Es].indexOf(F)>=0?1:-1,D=[pa,Es].indexOf(F)>=0?"y":"x";k[F]+=I[D]*A})}return k}function cpe(e,r){r===void 0&&(r={});var t=r,n=t.placement,o=t.boundary,i=t.rootBoundary,a=t.padding,s=t.flipVariations,u=t.allowedAutoPlacements,l=u===void 0?A7:u,c=tv(n),f=c?s?RB:RB.filter(function(h){return tv(h)===c}):H0,d=f.filter(function(h){return l.indexOf(h)>=0});d.length===0&&(d=f);var p=d.reduce(function(h,m){return h[m]=p0(e,{placement:m,boundary:o,rootBoundary:i,padding:a})[qu(m)],h},{});return Object.keys(p).sort(function(h,m){return p[h]-p[m]})}function fpe(e){if(qu(e)===SI)return[];var r=T_(e);return[OB(e),r,OB(r)]}function dpe(e){var r=e.state,t=e.options,n=e.name;if(!r.modifiersData[n]._skip){for(var o=t.mainAxis,i=o===void 0?!0:o,a=t.altAxis,s=a===void 0?!0:a,u=t.fallbackPlacements,l=t.padding,c=t.boundary,f=t.rootBoundary,d=t.altBoundary,p=t.flipVariations,h=p===void 0?!0:p,m=t.allowedAutoPlacements,y=r.options.placement,v=qu(y),g=v===y,x=u||(g||!h?[T_(y)]:fpe(y)),b=[y].concat(x).reduce(function(V,H){return V.concat(qu(H)===SI?cpe(r,{placement:H,boundary:c,rootBoundary:f,padding:l,flipVariations:h,allowedAutoPlacements:m}):H)},[]),w=r.rects.reference,E=r.rects.popper,C=new Map,S=!0,T=b[0],k=0;k<b.length;k++){var P=b[k],I=qu(P),F=tv(P)===Jh,A=[pa,Es].indexOf(I)>=0,D=A?"width":"height",$=p0(r,{placement:P,boundary:c,rootBoundary:f,altBoundary:d,padding:l}),B=A?F?ks:ha:F?Es:pa;w[D]>E[D]&&(B=T_(B));var W=T_(B),L=[];if(i&&L.push($[I]<=0),s&&L.push($[B]<=0,$[W]<=0),L.every(function(V){return V})){T=P,S=!1;break}C.set(P,L)}if(S)for(var z=h?3:1,U=function(H){var Z=b.find(function(ue){var oe=C.get(ue);if(oe)return oe.slice(0,H).every(function(ee){return ee})});if(Z)return T=Z,"break"},Y=z;Y>0;Y--){var q=U(Y);if(q==="break")break}r.placement!==T&&(r.modifiersData[n]._skip=!0,r.placement=T,r.reset=!0)}}const ppe={name:"flip",enabled:!0,phase:"main",fn:dpe,requiresIfExists:["offset"],data:{_skip:!1}};function PB(e,r,t){return t===void 0&&(t={x:0,y:0}),{top:e.top-r.height-t.y,right:e.right-r.width+t.x,bottom:e.bottom-r.height+t.y,left:e.left-r.width-t.x}}function IB(e){return[pa,ks,Es,ha].some(function(r){return e[r]>=0})}function hpe(e){var r=e.state,t=e.name,n=r.rects.reference,o=r.rects.popper,i=r.modifiersData.preventOverflow,a=p0(r,{elementContext:"reference"}),s=p0(r,{altBoundary:!0}),u=PB(a,n),l=PB(s,o,i),c=IB(u),f=IB(l);r.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const vpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hpe};function mpe(e,r,t){var n=qu(e),o=[ha,pa].indexOf(n)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},r,{placement:e})):t,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[ha,ks].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function gpe(e){var r=e.state,t=e.options,n=e.name,o=t.offset,i=o===void 0?[0,0]:o,a=A7.reduce(function(c,f){return c[f]=mpe(f,r.rects,i),c},{}),s=a[r.placement],u=s.x,l=s.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=u,r.modifiersData.popperOffsets.y+=l),r.modifiersData[n]=a}const ype={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gpe};function xpe(e){var r=e.state,t=e.name;r.modifiersData[t]=F7({reference:r.rects.reference,element:r.rects.popper,placement:r.placement})}const bpe={name:"popperOffsets",enabled:!0,phase:"read",fn:xpe,data:{}};function _pe(e){return e==="x"?"y":"x"}function wpe(e){var r=e.state,t=e.options,n=e.name,o=t.mainAxis,i=o===void 0?!0:o,a=t.altAxis,s=a===void 0?!1:a,u=t.boundary,l=t.rootBoundary,c=t.altBoundary,f=t.padding,d=t.tether,p=d===void 0?!0:d,h=t.tetherOffset,m=h===void 0?0:h,y=p0(r,{boundary:u,rootBoundary:l,padding:f,altBoundary:c}),v=qu(r.placement),g=tv(r.placement),x=!g,b=kI(v),w=_pe(b),E=r.modifiersData.popperOffsets,C=r.rects.reference,S=r.rects.popper,T=typeof m=="function"?m(Object.assign({},r.rects,{placement:r.placement})):m,k=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),P=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,I={x:0,y:0};if(E){if(i){var F,A=b==="y"?pa:ha,D=b==="y"?Es:ks,$=b==="y"?"height":"width",B=E[b],W=B+y[A],L=B-y[D],z=p?-S[$]/2:0,U=g===Jh?C[$]:S[$],Y=g===Jh?-S[$]:-C[$],q=r.elements.arrow,V=p&&q?EI(q):{width:0,height:0},H=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:P7(),Z=H[A],ue=H[D],oe=Pg(0,C[$],V[$]),ee=x?C[$]/2-z-oe-Z-k.mainAxis:U-oe-Z-k.mainAxis,ne=x?-C[$]/2+z+oe+ue+k.mainAxis:Y+oe+ue+k.mainAxis,pe=r.elements.arrow&&V0(r.elements.arrow),J=pe?b==="y"?pe.clientTop||0:pe.clientLeft||0:0,se=(F=P==null?void 0:P[b])!=null?F:0,j=B+ee-se-J,ce=B+ne-se,re=Pg(p?w2(W,j):W,B,p?_d(L,ce):L);E[b]=re,I[b]=re-B}if(s){var Q,G=b==="x"?pa:ha,X=b==="x"?Es:ks,te=E[w],de=w==="y"?"height":"width",ae=te+y[G],ye=te-y[X],ie=[pa,ha].indexOf(v)!==-1,he=(Q=P==null?void 0:P[w])!=null?Q:0,_e=ie?ae:te-C[de]-S[de]-he+k.altAxis,Se=ie?te+C[de]+S[de]-he-k.altAxis:ye,xe=p&&ie?Vde(_e,te,Se):Pg(p?_e:ae,te,p?Se:ye);E[w]=xe,I[w]=xe-te}r.modifiersData[n]=I}}const Spe={name:"preventOverflow",enabled:!0,phase:"main",fn:wpe,requiresIfExists:["offset"]};function Cpe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Epe(e){return e===Va(e)||!_s(e)?RI(e):Cpe(e)}function kpe(e){var r=e.getBoundingClientRect(),t=Zh(r.width)/e.offsetWidth||1,n=Zh(r.height)/e.offsetHeight||1;return t!==1||n!==1}function Rpe(e,r,t){t===void 0&&(t=!1);var n=_s(r),o=_s(r)&&kpe(r),i=_f(r),a=ev(e,o,t),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!t)&&((Qu(r)!=="body"||AI(i))&&(s=Epe(r)),_s(r)?(u=ev(r,!0),u.x+=r.clientLeft,u.y+=r.clientTop):i&&(u.x=TI(i))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Tpe(e){var r=new Map,t=new Set,n=[];e.forEach(function(i){r.set(i.name,i)});function o(i){t.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(s){if(!t.has(s)){var u=r.get(s);u&&o(u)}}),n.push(i)}return e.forEach(function(i){t.has(i.name)||o(i)}),n}function Ape(e){var r=Tpe(e);return $de.reduce(function(t,n){return t.concat(r.filter(function(o){return o.phase===n}))},[])}function Ope(e){var r;return function(){return r||(r=new Promise(function(t){Promise.resolve().then(function(){r=void 0,t(e())})})),r}}function Dpe(e){var r=e.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(r).map(function(t){return r[t]})}var NB={placement:"bottom",modifiers:[],strategy:"absolute"};function MB(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return!r.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ppe(e){e===void 0&&(e={});var r=e,t=r.defaultModifiers,n=t===void 0?[]:t,o=r.defaultOptions,i=o===void 0?NB:o;return function(s,u,l){l===void 0&&(l=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},NB,i),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(v){var g=typeof v=="function"?v(c.options):v;m(),c.options=Object.assign({},i,c.options,g),c.scrollParents={reference:Fd(s)?Ig(s):s.contextElement?Ig(s.contextElement):[],popper:Ig(u)};var x=Ape(Dpe([].concat(n,c.options.modifiers)));return c.orderedModifiers=x.filter(function(b){return b.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var v=c.elements,g=v.reference,x=v.popper;if(MB(g,x)){c.rects={reference:Rpe(g,V0(x),c.options.strategy==="fixed"),popper:EI(x)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var w=c.orderedModifiers[b],E=w.fn,C=w.options,S=C===void 0?{}:C,T=w.name;typeof E=="function"&&(c=E({state:c,options:S,name:T,instance:p})||c)}}}},update:Ope(function(){return new Promise(function(y){p.forceUpdate(),y(c)})}),destroy:function(){m(),d=!0}};if(!MB(s,u))return p;p.setOptions(l).then(function(y){!d&&l.onFirstUpdate&&l.onFirstUpdate(y)});function h(){c.orderedModifiers.forEach(function(y){var v=y.name,g=y.options,x=g===void 0?{}:g,b=y.effect;if(typeof b=="function"){var w=b({state:c,name:v,instance:p,options:x}),E=function(){};f.push(w||E)}})}function m(){f.forEach(function(y){return y()}),f=[]}return p}}var Ipe=[rpe,bpe,epe,Ude,ype,ppe,Spe,Xde,vpe],Npe=Ppe({defaultModifiers:Ipe});function Mpe(e){return typeof e=="function"?e():e}const L7=N.forwardRef(function(r,t){const{children:n,container:o,disablePortal:i=!1}=r,[a,s]=N.useState(null),u=Nn(N.isValidElement(n)?Hd(n):null,t);if(qa(()=>{i||s(Mpe(o)||document.body)},[o,i]),qa(()=>{if(a&&!i)return $O(t,a),()=>{$O(t,null)}},[t,a,i]),i){if(N.isValidElement(n)){const l={ref:u};return N.cloneElement(n,l)}return n}return a&&F0.createPortal(n,a)});function Fpe(e){return Ht("MuiPopper",e)}Qt("MuiPopper",["root"]);function Lpe(e,r){if(r==="ltr")return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}function JO(e){return typeof e=="function"?e():e}function Bpe(e){return e.nodeType!==void 0}const jpe=e=>{const{classes:r}=e;return Vt({root:["root"]},Fpe,r)},$pe={},zpe=N.forwardRef(function(r,t){const{anchorEl:n,children:o,direction:i,disablePortal:a,modifiers:s,open:u,placement:l,popperOptions:c,popperRef:f,slotProps:d={},slots:p={},TransitionProps:h,ownerState:m,...y}=r,v=N.useRef(null),g=Nn(v,t),x=N.useRef(null),b=Nn(x,f),w=N.useRef(b);qa(()=>{w.current=b},[b]),N.useImperativeHandle(f,()=>x.current,[]);const E=Lpe(l,i),[C,S]=N.useState(E),[T,k]=N.useState(JO(n));N.useEffect(()=>{x.current&&x.current.forceUpdate()}),N.useEffect(()=>{n&&k(JO(n))},[n]),qa(()=>{if(!T||!u)return;const D=W=>{S(W.placement)};let $=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{D(W)}}];s!=null&&($=$.concat(s)),c&&c.modifiers!=null&&($=$.concat(c.modifiers));const B=Npe(T,v.current,{placement:E,...c,modifiers:$});return w.current(B),()=>{B.destroy(),w.current(null)}},[T,a,s,u,c,E]);const P={placement:C};h!==null&&(P.TransitionProps=h);const I=jpe(r),F=p.root??"div",A=zO({elementType:F,externalSlotProps:d.root,externalForwardedProps:y,additionalProps:{role:"tooltip",ref:g},ownerState:r,className:I.root});return O.jsx(F,{...A,children:typeof o=="function"?o(P):o})}),Wpe=N.forwardRef(function(r,t){const{anchorEl:n,children:o,container:i,direction:a="ltr",disablePortal:s=!1,keepMounted:u=!1,modifiers:l,open:c,placement:f="bottom",popperOptions:d=$pe,popperRef:p,style:h,transition:m=!1,slotProps:y={},slots:v={},...g}=r,[x,b]=N.useState(!0),w=()=>{b(!1)},E=()=>{b(!0)};if(!u&&!c&&(!m||x))return null;let C;if(i)C=i;else if(n){const k=JO(n);C=k&&Bpe(k)?Ha(k).body:Ha(null).body}const S=!c&&u&&(!m||x)?"none":void 0,T=m?{in:c,onEnter:w,onExited:E}:void 0;return O.jsx(L7,{disablePortal:s,container:C,children:O.jsx(zpe,{anchorEl:n,direction:a,disablePortal:s,modifiers:l,ref:t,open:m?!x:c,placement:f,popperOptions:d,popperRef:p,slotProps:y,slots:v,...g,style:{position:"fixed",top:0,left:0,display:S,...h},TransitionProps:T,children:o})})}),Upe=Ye(Wpe,{name:"MuiPopper",slot:"Root",overridesResolver:(e,r)=>r.root})({}),B7=N.forwardRef(function(r,t){const n=q0(),o=Jt({props:r,name:"MuiPopper"}),{anchorEl:i,component:a,components:s,componentsProps:u,container:l,disablePortal:c,keepMounted:f,modifiers:d,open:p,placement:h,popperOptions:m,popperRef:y,transition:v,slots:g,slotProps:x,...b}=o,w=(g==null?void 0:g.root)??(s==null?void 0:s.Root),E={anchorEl:i,container:l,disablePortal:c,keepMounted:f,modifiers:d,open:p,placement:h,popperOptions:m,popperRef:y,transition:v,...b};return O.jsx(Upe,{as:a,direction:n?"rtl":"ltr",slots:{root:w},slotProps:x??u,...E,ref:t})});function Nx(e){return parseInt(e,10)||0}const qpe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Hpe(e){for(const r in e)return!1;return!0}function Vpe(e){return Hpe(e)||e.outerHeightStyle===0&&!e.overflowing}const Gpe=N.forwardRef(function(r,t){const{onChange:n,maxRows:o,minRows:i=1,style:a,value:s,...u}=r,{current:l}=N.useRef(s!=null),c=N.useRef(null),f=Nn(t,c),d=N.useRef(null),p=N.useRef(null),h=N.useCallback(()=>{const g=c.current,x=p.current;if(!g||!x)return;const w=tu(g).getComputedStyle(g);if(w.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=w.width,x.value=g.value||r.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const E=w.boxSizing,C=Nx(w.paddingBottom)+Nx(w.paddingTop),S=Nx(w.borderBottomWidth)+Nx(w.borderTopWidth),T=x.scrollHeight;x.value="x";const k=x.scrollHeight;let P=T;i&&(P=Math.max(Number(i)*k,P)),o&&(P=Math.min(Number(o)*k,P)),P=Math.max(P,k);const I=P+(E==="border-box"?C+S:0),F=Math.abs(P-T)<=1;return{outerHeightStyle:I,overflowing:F}},[o,i,r.placeholder]),m=N.useCallback(()=>{const g=c.current,x=h();if(!g||!x||Vpe(x))return;const b=x.outerHeightStyle;d.current!==b&&(d.current=b,g.style.height=`${b}px`),g.style.overflow=x.overflowing?"hidden":""},[h]),y=N.useRef(-1);qa(()=>{const g=pI(()=>m()),x=c==null?void 0:c.current;if(!x)return;const b=tu(x);b.addEventListener("resize",g);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(()=>{w.unobserve(x),cancelAnimationFrame(y.current),m(),y.current=requestAnimationFrame(()=>{w.observe(x)})}),w.observe(x)),()=>{g.clear(),cancelAnimationFrame(y.current),b.removeEventListener("resize",g),w&&w.disconnect()}},[h,m]),qa(()=>{m()});const v=g=>{l||m(),n&&n(g)};return O.jsxs(N.Fragment,{children:[O.jsx("textarea",{value:s,onChange:v,ref:f,rows:i,style:a,...u}),O.jsx("textarea",{"aria-hidden":!0,className:r.className,readOnly:!0,ref:p,tabIndex:-1,style:{...qpe.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function h0(e){return typeof e=="string"}function wf({props:e,states:r,muiFormControl:t}){return r.reduce((n,o)=>(n[o]=e[o],t&&typeof e[o]>"u"&&(n[o]=t[o]),n),{})}const OI=N.createContext(void 0);function ol(){return N.useContext(OI)}function FB(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function S2(e,r=!1){return e&&(FB(e.value)&&e.value!==""||r&&FB(e.defaultValue)&&e.defaultValue!=="")}function Ype(e){return e.startAdornment}function Kpe(e){return Ht("MuiInputBase",e)}const rv=Qt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var LB;const gS=(e,r)=>{const{ownerState:t}=e;return[r.root,t.formControl&&r.formControl,t.startAdornment&&r.adornedStart,t.endAdornment&&r.adornedEnd,t.error&&r.error,t.size==="small"&&r.sizeSmall,t.multiline&&r.multiline,t.color&&r[`color${ht(t.color)}`],t.fullWidth&&r.fullWidth,t.hiddenLabel&&r.hiddenLabel]},yS=(e,r)=>{const{ownerState:t}=e;return[r.input,t.size==="small"&&r.inputSizeSmall,t.multiline&&r.inputMultiline,t.type==="search"&&r.inputTypeSearch,t.startAdornment&&r.inputAdornedStart,t.endAdornment&&r.inputAdornedEnd,t.hiddenLabel&&r.inputHiddenLabel]},Xpe=e=>{const{classes:r,color:t,disabled:n,error:o,endAdornment:i,focused:a,formControl:s,fullWidth:u,hiddenLabel:l,multiline:c,readOnly:f,size:d,startAdornment:p,type:h}=e,m={root:["root",`color${ht(t)}`,n&&"disabled",o&&"error",u&&"fullWidth",a&&"focused",s&&"formControl",d&&d!=="medium"&&`size${ht(d)}`,c&&"multiline",p&&"adornedStart",i&&"adornedEnd",l&&"hiddenLabel",f&&"readOnly"],input:["input",n&&"disabled",h==="search"&&"inputTypeSearch",c&&"inputMultiline",d==="small"&&"inputSizeSmall",l&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return Vt(m,Kpe,r)},xS=Ye("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gS})(nr(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${rv.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:r})=>r.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:r,size:t})=>r.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:r})=>r.fullWidth,style:{width:"100%"}}]}))),bS=Ye("input",{name:"MuiInputBase",slot:"Input",overridesResolver:yS})(nr(({theme:e})=>{const r=e.palette.mode==="light",t={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},n={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${rv.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${rv.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:i})=>!i.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:i})=>i.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),BB=xI({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),DI=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:i,autoFocus:a,className:s,color:u,components:l={},componentsProps:c={},defaultValue:f,disabled:d,disableInjectingGlobalStyles:p,endAdornment:h,error:m,fullWidth:y=!1,id:v,inputComponent:g="input",inputProps:x={},inputRef:b,margin:w,maxRows:E,minRows:C,multiline:S=!1,name:T,onBlur:k,onChange:P,onClick:I,onFocus:F,onKeyDown:A,onKeyUp:D,placeholder:$,readOnly:B,renderSuffix:W,rows:L,size:z,slotProps:U={},slots:Y={},startAdornment:q,type:V="text",value:H,...Z}=n,ue=x.value!=null?x.value:H,{current:oe}=N.useRef(ue!=null),ee=N.useRef(),ne=N.useCallback(Be=>{},[]),pe=Nn(ee,b,x.ref,ne),[J,se]=N.useState(!1),j=ol(),ce=wf({props:n,muiFormControl:j,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=j?j.focused:J,N.useEffect(()=>{!j&&d&&J&&(se(!1),k&&k())},[j,d,J,k]);const re=j&&j.onFilled,Q=j&&j.onEmpty,G=N.useCallback(Be=>{S2(Be)?re&&re():Q&&Q()},[re,Q]);qa(()=>{oe&&G({value:ue})},[ue,G,oe]);const X=Be=>{F&&F(Be),x.onFocus&&x.onFocus(Be),j&&j.onFocus?j.onFocus(Be):se(!0)},te=Be=>{k&&k(Be),x.onBlur&&x.onBlur(Be),j&&j.onBlur?j.onBlur(Be):se(!1)},de=(Be,...we)=>{if(!oe){const Me=Be.target||ee.current;if(Me==null)throw new Error(Jl(1));G({value:Me.value})}x.onChange&&x.onChange(Be,...we),P&&P(Be,...we)};N.useEffect(()=>{G(ee.current)},[]);const ae=Be=>{ee.current&&Be.currentTarget===Be.target&&ee.current.focus(),I&&I(Be)};let ye=g,ie=x;S&&ye==="input"&&(L?ie={type:void 0,minRows:L,maxRows:L,...ie}:ie={type:void 0,maxRows:E,minRows:C,...ie},ye=Gpe);const he=Be=>{G(Be.animationName==="mui-auto-fill-cancel"?ee.current:{value:"x"})};N.useEffect(()=>{j&&j.setAdornedStart(!!q)},[j,q]);const _e={...n,color:ce.color||"primary",disabled:ce.disabled,endAdornment:h,error:ce.error,focused:ce.focused,formControl:j,fullWidth:y,hiddenLabel:ce.hiddenLabel,multiline:S,size:ce.size,startAdornment:q,type:V},Se=Xpe(_e),xe=Y.root||l.Root||xS,De=U.root||c.root||{},$e=Y.input||l.Input||bS;return ie={...ie,...U.input??c.input},O.jsxs(N.Fragment,{children:[!p&&typeof BB=="function"&&(LB||(LB=O.jsx(BB,{}))),O.jsxs(xe,{...De,ref:t,onClick:ae,...Z,...!h0(xe)&&{ownerState:{..._e,...De.ownerState}},className:ct(Se.root,De.className,s,B&&"MuiInputBase-readOnly"),children:[q,O.jsx(OI.Provider,{value:null,children:O.jsx($e,{"aria-invalid":ce.error,"aria-describedby":o,autoComplete:i,autoFocus:a,defaultValue:f,disabled:ce.disabled,id:v,onAnimationStart:he,name:T,placeholder:$,readOnly:B,required:ce.required,rows:L,value:ue,onKeyDown:A,onKeyUp:D,type:V,...ie,...!h0($e)&&{as:ye,ownerState:{..._e,...ie.ownerState}},ref:pe,className:ct(Se.input,ie.className,B&&"MuiInputBase-readOnly"),onBlur:te,onChange:de,onFocus:X})}),h,W?W({...ce,startAdornment:q}):null]})]})});function Qpe(e){return Ht("MuiInput",e)}const Wm={...rv,...Qt("MuiInput",["root","underline","input"])};function Jpe(e){return Ht("MuiOutlinedInput",e)}const wu={...rv,...Qt("MuiOutlinedInput",["root","notchedOutline","input"])};function Zpe(e){return Ht("MuiFilledInput",e)}const Hf={...rv,...Qt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ehe=xr(O.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),the=xr(O.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rhe(e){return Ht("MuiAvatar",e)}Qt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const nhe=e=>{const{classes:r,variant:t,colorDefault:n}=e;return Vt({root:["root",t,n&&"colorDefault"],img:["img"],fallback:["fallback"]},rhe,r)},ohe=Ye("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})(nr(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),ihe=Ye("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ahe=Ye(the,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});function she({crossOrigin:e,referrerPolicy:r,src:t,srcSet:n}){const[o,i]=N.useState(!1);return N.useEffect(()=>{if(!t&&!n)return;i(!1);let a=!0;const s=new Image;return s.onload=()=>{a&&i("loaded")},s.onerror=()=>{a&&i("error")},s.crossOrigin=e,s.referrerPolicy=r,s.src=t,n&&(s.srcset=n),()=>{a=!1}},[e,r,t,n]),o}const uhe=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiAvatar"}),{alt:o,children:i,className:a,component:s="div",slots:u={},slotProps:l={},imgProps:c,sizes:f,src:d,srcSet:p,variant:h="circular",...m}=n;let y=null;const v={...n,component:s,variant:h},g=she({...c,...typeof l.img=="function"?l.img(v):l.img,src:d,srcSet:p}),x=d||p,b=x&&g!=="error";v.colorDefault=!b,delete v.ownerState;const w=nhe(v),[E,C]=qr("img",{className:w.img,elementType:ihe,externalForwardedProps:{slots:u,slotProps:{img:{...c,...l.img}}},additionalProps:{alt:o,src:d,srcSet:p,sizes:f},ownerState:v});return b?y=O.jsx(E,{...C}):i||i===0?y=i:x&&o?y=o[0]:y=O.jsx(ahe,{ownerState:v,className:w.fallback}),O.jsx(ohe,{as:s,className:ct(w.root,a),ref:t,...m,ownerState:v,children:y})}),lhe={entering:{opacity:1},entered:{opacity:1}},ZO=N.forwardRef(function(r,t){const n=Sr(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:u,in:l,onEnter:c,onEntered:f,onEntering:d,onExit:p,onExited:h,onExiting:m,style:y,timeout:v=o,TransitionComponent:g=Os,...x}=r,b=N.useRef(null),w=Nn(b,Hd(s),t),E=A=>D=>{if(A){const $=b.current;D===void 0?A($):A($,D)}},C=E(d),S=E((A,D)=>{wI(A);const $=ff({style:y,timeout:v,easing:u},{mode:"enter"});A.style.webkitTransition=n.transitions.create("opacity",$),A.style.transition=n.transitions.create("opacity",$),c&&c(A,D)}),T=E(f),k=E(m),P=E(A=>{const D=ff({style:y,timeout:v,easing:u},{mode:"exit"});A.style.webkitTransition=n.transitions.create("opacity",D),A.style.transition=n.transitions.create("opacity",D),p&&p(A)}),I=E(h),F=A=>{i&&i(b.current,A)};return O.jsx(g,{appear:a,in:l,nodeRef:b,onEnter:S,onEntered:T,onEntering:C,onExit:P,onExited:I,onExiting:k,addEndListener:F,timeout:v,...x,children:(A,{ownerState:D,...$})=>N.cloneElement(s,{style:{opacity:0,visibility:A==="exited"&&!l?"hidden":void 0,...lhe[A],...y,...s.props.style},ref:w,...$})})});function che(e){return Ht("MuiBackdrop",e)}Qt("MuiBackdrop",["root","invisible"]);const fhe=e=>{const{classes:r,invisible:t}=e;return Vt({root:["root",t&&"invisible"]},che,r)},dhe=Ye("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.invisible&&r.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),j7=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiBackdrop"}),{children:o,className:i,component:a="div",invisible:s=!1,open:u,components:l={},componentsProps:c={},slotProps:f={},slots:d={},TransitionComponent:p,transitionDuration:h,...m}=n,y={...n,component:a,invisible:s},v=fhe(y),g={transition:p,root:l.Root,...d},x={...c,...f},b={slots:g,slotProps:x},[w,E]=qr("root",{elementType:dhe,externalForwardedProps:b,className:ct(v.root,i),ownerState:y}),[C,S]=qr("transition",{elementType:ZO,externalForwardedProps:b,ownerState:y});return O.jsx(C,{in:u,timeout:h,...m,...S,children:O.jsx(w,{"aria-hidden":!0,...E,classes:v,ref:t,children:o})})}),phe=Qt("MuiBox",["root"]),hhe=vS(),Re=Cle({themeId:Ks,defaultTheme:hhe,defaultClassName:phe.root,generateClassName:JH.generate});function vhe(e){return Ht("MuiButton",e)}const Vf=Qt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),mhe=N.createContext({}),ghe=N.createContext(void 0),yhe=e=>{const{color:r,disableElevation:t,fullWidth:n,size:o,variant:i,loading:a,loadingPosition:s,classes:u}=e,l={root:["root",a&&"loading",i,`${i}${ht(r)}`,`size${ht(o)}`,`${i}Size${ht(o)}`,`color${ht(r)}`,t&&"disableElevation",n&&"fullWidth",a&&`loadingPosition${ht(s)}`],startIcon:["icon","startIcon",`iconSize${ht(o)}`],endIcon:["icon","endIcon",`iconSize${ht(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=Vt(l,vhe,u);return{...u,...c}},$7=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],xhe=Ye(Ev,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`${t.variant}${ht(t.color)}`],r[`size${ht(t.size)}`],r[`${t.variant}Size${ht(t.size)}`],t.color==="inherit"&&r.colorInherit,t.disableElevation&&r.disableElevation,t.fullWidth&&r.fullWidth,t.loading&&r.loading]}})(nr(({theme:e})=>{const r=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],t=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Vf.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Vf.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Vf.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Vf.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(_o()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:fr(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:r,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Vf.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Vf.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Vf.loading}`]:{color:"transparent"}}}]}})),bhe=Ye("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.startIcon,t.loading&&r.startIconLoadingStart,r[`iconSize${ht(t.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...$7]})),_he=Ye("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.endIcon,t.loading&&r.endIconLoadingEnd,r[`iconSize${ht(t.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...$7]})),whe=Ye("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,r)=>r.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),jB=Ye("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,r)=>r.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Zt=N.forwardRef(function(r,t){const n=N.useContext(mhe),o=N.useContext(ghe),i=c0(n,r),a=Jt({props:i,name:"MuiButton"}),{children:s,color:u="primary",component:l="button",className:c,disabled:f=!1,disableElevation:d=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:m,fullWidth:y=!1,id:v,loading:g=null,loadingIndicator:x,loadingPosition:b="center",size:w="medium",startIcon:E,type:C,variant:S="text",...T}=a,k=qd(v),P=x??O.jsx(Hi,{"aria-labelledby":k,color:"inherit",size:16}),I={...a,color:u,component:l,disabled:f,disableElevation:d,disableFocusRipple:p,fullWidth:y,loading:g,loadingIndicator:P,loadingPosition:b,size:w,type:C,variant:S},F=yhe(I),A=(E||g&&b==="start")&&O.jsx(bhe,{className:F.startIcon,ownerState:I,children:E||O.jsx(jB,{className:F.loadingIconPlaceholder,ownerState:I})}),D=(h||g&&b==="end")&&O.jsx(_he,{className:F.endIcon,ownerState:I,children:h||O.jsx(jB,{className:F.loadingIconPlaceholder,ownerState:I})}),$=o||"",B=typeof g=="boolean"?O.jsx("span",{className:F.loadingWrapper,style:{display:"contents"},children:g&&O.jsx(whe,{className:F.loadingIndicator,ownerState:I,children:P})}):null;return O.jsxs(xhe,{ownerState:I,className:ct(n.className,F.root,c,$),component:l,disabled:f||g,focusRipple:!p,focusVisibleClassName:ct(F.focusVisible,m),ref:t,type:C,id:g?k:v,...T,classes:F,children:[A,b!=="end"&&B,s,b==="end"&&B,D]})});function She(e){return Ht("MuiCard",e)}Qt("MuiCard",["root"]);const Che=e=>{const{classes:r}=e;return Vt({root:["root"]},She,r)},Ehe=Ye(zi,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})({overflow:"hidden"}),$B=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiCard"}),{className:o,raised:i=!1,...a}=n,s={...n,raised:i},u=Che(s);return O.jsx(Ehe,{className:ct(u.root,o),elevation:i?8:void 0,ref:t,ownerState:s,...a})});function khe(e){return Ht("PrivateSwitchBase",e)}Qt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Rhe=e=>{const{classes:r,checked:t,disabled:n,edge:o}=e,i={root:["root",t&&"checked",n&&"disabled",o&&`edge${ht(o)}`],input:["input"]};return Vt(i,khe,r)},The=Ye(Ev)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:r})=>e==="start"&&r.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:r})=>e==="end"&&r.size!=="small",style:{marginRight:-12}}]}),Ahe=Ye("input",{shouldForwardProp:Vo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),z7=N.forwardRef(function(r,t){const{autoFocus:n,checked:o,checkedIcon:i,className:a,defaultChecked:s,disabled:u,disableFocusRipple:l=!1,edge:c=!1,icon:f,id:d,inputProps:p,inputRef:h,name:m,onBlur:y,onChange:v,onFocus:g,readOnly:x,required:b=!1,tabIndex:w,type:E,value:C,...S}=r,[T,k]=Xh({controlled:o,default:!!s,name:"SwitchBase",state:"checked"}),P=ol(),I=L=>{g&&g(L),P&&P.onFocus&&P.onFocus(L)},F=L=>{y&&y(L),P&&P.onBlur&&P.onBlur(L)},A=L=>{if(L.nativeEvent.defaultPrevented)return;const z=L.target.checked;k(z),v&&v(L,z)};let D=u;P&&typeof D>"u"&&(D=P.disabled);const $=E==="checkbox"||E==="radio",B={...r,checked:T,disabled:D,disableFocusRipple:l,edge:c},W=Rhe(B);return O.jsxs(The,{component:"span",className:ct(W.root,a),centerRipple:!0,focusRipple:!l,disabled:D,tabIndex:null,role:void 0,onFocus:I,onBlur:F,ownerState:B,ref:t,...S,children:[O.jsx(Ahe,{autoFocus:n,checked:o,defaultChecked:s,className:W.input,disabled:D,id:$?d:void 0,name:m,onChange:A,readOnly:x,ref:h,required:b,ownerState:B,tabIndex:w,type:E,...E==="checkbox"&&C===void 0?{}:{value:C},...p}),T?i:f]})}),Ohe=xr(O.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Dhe=xr(O.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Phe=xr(O.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ihe(e){return Ht("MuiCheckbox",e)}const Ck=Qt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Nhe=e=>{const{classes:r,indeterminate:t,color:n,size:o}=e,i={root:["root",t&&"indeterminate",`color${ht(n)}`,`size${ht(o)}`]},a=Vt(i,Ihe,r);return{...r,...a}},Mhe=Ye(z7,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.indeterminate&&r.indeterminate,r[`size${ht(t.size)}`],t.color!=="default"&&r[`color${ht(t.color)}`]]}})(nr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[r].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r},style:{[`&.${Ck.checked}, &.${Ck.indeterminate}`]:{color:(e.vars||e).palette[r].main},[`&.${Ck.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Fhe=O.jsx(Dhe,{}),Lhe=O.jsx(Ohe,{}),Bhe=O.jsx(Phe,{}),C2=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiCheckbox"}),{checkedIcon:o=Fhe,color:i="primary",icon:a=Lhe,indeterminate:s=!1,indeterminateIcon:u=Bhe,inputProps:l,size:c="medium",disableRipple:f=!1,className:d,...p}=n,h=s?u:a,m=s?u:o,y={...n,disableRipple:f,color:i,indeterminate:s,size:c},v=Nhe(y);return O.jsx(Mhe,{type:"checkbox",inputProps:{"data-indeterminate":s,...l},icon:N.cloneElement(h,{fontSize:h.props.fontSize??c}),checkedIcon:N.cloneElement(m,{fontSize:m.props.fontSize??c}),ownerState:y,ref:t,className:ct(v.root,d),disableRipple:f,...p,classes:v})}),jhe=mce({createStyledComponent:Ye("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`maxWidth${ht(String(t.maxWidth))}`],t.fixed&&r.fixed,t.disableGutters&&r.disableGutters]}}),useThemeProps:e=>Jt({props:e,name:"MuiContainer"})}),eD=typeof xI({})=="function",$he=(e,r)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...r&&!e.vars&&{colorScheme:e.palette.mode}}),zhe=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),W7=(e,r=!1)=>{var i,a;const t={};r&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([s,u])=>{var c,f;const l=e.getColorSchemeSelector(s);l.startsWith("@")?t[l]={":root":{colorScheme:(c=u.palette)==null?void 0:c.mode}}:t[l.replace(/\s*&/,"")]={colorScheme:(f=u.palette)==null?void 0:f.mode}});let n={html:$he(e,r),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...zhe(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...t};const o=(a=(i=e.components)==null?void 0:i.MuiCssBaseline)==null?void 0:a.styleOverrides;return o&&(n=[n,o]),n},A_="mui-ecs",Whe=e=>{const r=W7(e,!1),t=Array.isArray(r)?r[0]:r;return!e.vars&&t&&(t.html[`:root:has(${A_})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([n,o])=>{var a,s;const i=e.getColorSchemeSelector(n);i.startsWith("@")?t[i]={[`:root:not(:has(.${A_}))`]:{colorScheme:(a=o.palette)==null?void 0:a.mode}}:t[i.replace(/\s*&/,"")]={[`&:not(:has(.${A_}))`]:{colorScheme:(s=o.palette)==null?void 0:s.mode}}}),r},Uhe=xI(eD?({theme:e,enableColorScheme:r})=>W7(e,r):({theme:e})=>Whe(e));function qhe(e){const r=Jt({props:e,name:"MuiCssBaseline"}),{children:t,enableColorScheme:n=!1}=r;return O.jsxs(N.Fragment,{children:[eD&&O.jsx(Uhe,{enableColorScheme:n}),!eD&&!n&&O.jsx("span",{className:A_,style:{display:"none"}}),t]})}function Hhe(e){const r=Ha(e);return r.body===e?tu(e).innerWidth>r.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ng(e,r){r?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function zB(e){return parseInt(tu(e).getComputedStyle(e).paddingRight,10)||0}function Vhe(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return t||n}function WB(e,r,t,n,o){const i=[r,t,...n];[].forEach.call(e.children,a=>{const s=!i.includes(a),u=!Vhe(a);s&&u&&Ng(a,o)})}function Ek(e,r){let t=-1;return e.some((n,o)=>r(n)?(t=o,!0):!1),t}function Ghe(e,r){const t=[],n=e.container;if(!r.disableScrollLock){if(Hhe(n)){const a=u7(tu(n));t.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${zB(n)+a}px`;const s=Ha(n).querySelectorAll(".mui-fixed");[].forEach.call(s,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${zB(u)+a}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=Ha(n).body;else{const a=n.parentElement,s=tu(n);i=(a==null?void 0:a.nodeName)==="HTML"&&s.getComputedStyle(a).overflowY==="scroll"?a:n}t.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{t.forEach(({value:i,el:a,property:s})=>{i?a.style.setProperty(s,i):a.style.removeProperty(s)})}}function Yhe(e){const r=[];return[].forEach.call(e.children,t=>{t.getAttribute("aria-hidden")==="true"&&r.push(t)}),r}class Khe{constructor(){this.modals=[],this.containers=[]}add(r,t){let n=this.modals.indexOf(r);if(n!==-1)return n;n=this.modals.length,this.modals.push(r),r.modalRef&&Ng(r.modalRef,!1);const o=Yhe(t);WB(t,r.mount,r.modalRef,o,!0);const i=Ek(this.containers,a=>a.container===t);return i!==-1?(this.containers[i].modals.push(r),n):(this.containers.push({modals:[r],container:t,restore:null,hiddenSiblings:o}),n)}mount(r,t){const n=Ek(this.containers,i=>i.modals.includes(r)),o=this.containers[n];o.restore||(o.restore=Ghe(o,t))}remove(r,t=!0){const n=this.modals.indexOf(r);if(n===-1)return n;const o=Ek(this.containers,a=>a.modals.includes(r)),i=this.containers[o];if(i.modals.splice(i.modals.indexOf(r),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),r.modalRef&&Ng(r.modalRef,t),WB(i.container,r.mount,r.modalRef,i.hiddenSiblings,!1),this.containers.splice(o,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&Ng(a.modalRef,!1)}return n}isTopModal(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}const Xhe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Qhe(e){const r=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(r)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:r}function Jhe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const r=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let t=r(`[name="${e.name}"]:checked`);return t||(t=r(`[name="${e.name}"]`)),t!==e}function Zhe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Jhe(e))}function eve(e){const r=[],t=[];return Array.from(e.querySelectorAll(Xhe)).forEach((n,o)=>{const i=Qhe(n);i===-1||!Zhe(n)||(i===0?r.push(n):t.push({documentOrder:o,tabIndex:i,node:n}))}),t.sort((n,o)=>n.tabIndex===o.tabIndex?n.documentOrder-o.documentOrder:n.tabIndex-o.tabIndex).map(n=>n.node).concat(r)}function tve(){return!0}function rve(e){const{children:r,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:o=!1,getTabbable:i=eve,isEnabled:a=tve,open:s}=e,u=N.useRef(!1),l=N.useRef(null),c=N.useRef(null),f=N.useRef(null),d=N.useRef(null),p=N.useRef(!1),h=N.useRef(null),m=Nn(Hd(r),h),y=N.useRef(null);N.useEffect(()=>{!s||!h.current||(p.current=!t)},[t,s]),N.useEffect(()=>{if(!s||!h.current)return;const x=Ha(h.current);return h.current.contains(x.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),p.current&&h.current.focus()),()=>{o||(f.current&&f.current.focus&&(u.current=!0,f.current.focus()),f.current=null)}},[s]),N.useEffect(()=>{if(!s||!h.current)return;const x=Ha(h.current),b=C=>{y.current=C,!(n||!a()||C.key!=="Tab")&&x.activeElement===h.current&&C.shiftKey&&(u.current=!0,c.current&&c.current.focus())},w=()=>{var T,k;const C=h.current;if(C===null)return;if(!x.hasFocus()||!a()||u.current){u.current=!1;return}if(C.contains(x.activeElement)||n&&x.activeElement!==l.current&&x.activeElement!==c.current)return;if(x.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!p.current)return;let S=[];if((x.activeElement===l.current||x.activeElement===c.current)&&(S=i(h.current)),S.length>0){const P=!!((T=y.current)!=null&&T.shiftKey&&((k=y.current)==null?void 0:k.key)==="Tab"),I=S[0],F=S[S.length-1];typeof I!="string"&&typeof F!="string"&&(P?F.focus():I.focus())}else C.focus()};x.addEventListener("focusin",w),x.addEventListener("keydown",b,!0);const E=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(E),x.removeEventListener("focusin",w),x.removeEventListener("keydown",b,!0)}},[t,n,o,a,s,i]);const v=x=>{f.current===null&&(f.current=x.relatedTarget),p.current=!0,d.current=x.target;const b=r.props.onFocus;b&&b(x)},g=x=>{f.current===null&&(f.current=x.relatedTarget),p.current=!0};return O.jsxs(N.Fragment,{children:[O.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:l,"data-testid":"sentinelStart"}),N.cloneElement(r,{ref:m,onFocus:v}),O.jsx("div",{tabIndex:s?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}function nve(e){return typeof e=="function"?e():e}function ove(e){return e?e.props.hasOwnProperty("in"):!1}const UB=()=>{},Mx=new Khe;function ive(e){const{container:r,disableEscapeKeyDown:t=!1,disableScrollLock:n=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:a,children:s,onClose:u,open:l,rootRef:c}=e,f=N.useRef({}),d=N.useRef(null),p=N.useRef(null),h=Nn(p,c),[m,y]=N.useState(!l),v=ove(s);let g=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(g=!1);const x=()=>Ha(d.current),b=()=>(f.current.modalRef=p.current,f.current.mount=d.current,f.current),w=()=>{Mx.mount(b(),{disableScrollLock:n}),p.current&&(p.current.scrollTop=0)},E=Jc(()=>{const D=nve(r)||x().body;Mx.add(b(),D),p.current&&w()}),C=()=>Mx.isTopModal(b()),S=Jc(D=>{d.current=D,D&&(l&&C()?w():p.current&&Ng(p.current,g))}),T=N.useCallback(()=>{Mx.remove(b(),g)},[g]);N.useEffect(()=>()=>{T()},[T]),N.useEffect(()=>{l?E():(!v||!o)&&T()},[l,T,v,o,E]);const k=D=>$=>{var B;(B=D.onKeyDown)==null||B.call(D,$),!($.key!=="Escape"||$.which===229||!C())&&(t||($.stopPropagation(),u&&u($,"escapeKeyDown")))},P=D=>$=>{var B;(B=D.onClick)==null||B.call(D,$),$.target===$.currentTarget&&u&&u($,"backdropClick")};return{getRootProps:(D={})=>{const $=c7(e);delete $.onTransitionEnter,delete $.onTransitionExited;const B={...$,...D};return{role:"presentation",...B,onKeyDown:k(B),ref:h}},getBackdropProps:(D={})=>{const $=D;return{"aria-hidden":!0,...$,onClick:P($),open:l}},getTransitionProps:()=>{const D=()=>{y(!1),i&&i()},$=()=>{y(!0),a&&a(),o&&T()};return{onEnter:jO(D,(s==null?void 0:s.props.onEnter)??UB),onExited:jO($,(s==null?void 0:s.props.onExited)??UB)}},rootRef:h,portalRef:S,isTopModal:C,exited:m,hasTransition:v}}function ave(e){return Ht("MuiModal",e)}Qt("MuiModal",["root","hidden","backdrop"]);const sve=e=>{const{open:r,exited:t,classes:n}=e;return Vt({root:["root",!r&&t&&"hidden"],backdrop:["backdrop"]},ave,n)},uve=Ye("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.open&&t.exited&&r.hidden]}})(nr(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:r})=>!r.open&&r.exited,style:{visibility:"hidden"}}]}))),lve=Ye(j7,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,r)=>r.backdrop})({zIndex:-1}),kv=N.forwardRef(function(r,t){const n=Jt({name:"MuiModal",props:r}),{BackdropComponent:o=lve,BackdropProps:i,classes:a,className:s,closeAfterTransition:u=!1,children:l,container:c,component:f,components:d={},componentsProps:p={},disableAutoFocus:h=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:y=!1,disablePortal:v=!1,disableRestoreFocus:g=!1,disableScrollLock:x=!1,hideBackdrop:b=!1,keepMounted:w=!1,onBackdropClick:E,onClose:C,onTransitionEnter:S,onTransitionExited:T,open:k,slotProps:P={},slots:I={},theme:F,...A}=n,D={...n,closeAfterTransition:u,disableAutoFocus:h,disableEnforceFocus:m,disableEscapeKeyDown:y,disablePortal:v,disableRestoreFocus:g,disableScrollLock:x,hideBackdrop:b,keepMounted:w},{getRootProps:$,getBackdropProps:B,getTransitionProps:W,portalRef:L,isTopModal:z,exited:U,hasTransition:Y}=ive({...D,rootRef:t}),q={...D,exited:U},V=sve(q),H={};if(l.props.tabIndex===void 0&&(H.tabIndex="-1"),Y){const{onEnter:J,onExited:se}=W();H.onEnter=J,H.onExited=se}const Z={...A,slots:{root:d.Root,backdrop:d.Backdrop,...I},slotProps:{...p,...P}},[ue,oe]=qr("root",{elementType:uve,externalForwardedProps:Z,getSlotProps:$,additionalProps:{ref:t,as:f},ownerState:q,className:ct(s,V==null?void 0:V.root,!q.open&&q.exited&&(V==null?void 0:V.hidden))}),[ee,ne]=qr("backdrop",{elementType:o,externalForwardedProps:Z,additionalProps:i,getSlotProps:J=>B({...J,onClick:se=>{E&&E(se),J!=null&&J.onClick&&J.onClick(se)}}),className:ct(i==null?void 0:i.className,V==null?void 0:V.backdrop),ownerState:q}),pe=Nn(i==null?void 0:i.ref,ne.ref);return!w&&!k&&(!Y||U)?null:O.jsx(L7,{ref:L,container:c,disablePortal:v,children:O.jsxs(ue,{...oe,children:[!b&&o?O.jsx(ee,{...ne,ref:pe}):null,O.jsx(rve,{disableEnforceFocus:m,disableAutoFocus:h,disableRestoreFocus:g,isEnabled:z,open:k,children:N.cloneElement(l,H)})]})})});function cve(e){return Ht("MuiDialog",e)}const kk=Qt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),U7=N.createContext({}),fve=Ye(j7,{name:"MuiDialog",slot:"Backdrop",overrides:(e,r)=>r.backdrop})({zIndex:-1}),dve=e=>{const{classes:r,scroll:t,maxWidth:n,fullWidth:o,fullScreen:i}=e,a={root:["root"],container:["container",`scroll${ht(t)}`],paper:["paper",`paperScroll${ht(t)}`,`paperWidth${ht(String(n))}`,o&&"paperFullWidth",i&&"paperFullScreen"]};return Vt(a,cve,r)},pve=Ye(kv,{name:"MuiDialog",slot:"Root",overridesResolver:(e,r)=>r.root})({"@media print":{position:"absolute !important"}}),hve=Ye("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.container,r[`scroll${ht(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),vve=Ye(zi,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`scrollPaper${ht(t.scroll)}`],r[`paperWidth${ht(String(t.maxWidth))}`],t.fullWidth&&r.paperFullWidth,t.fullScreen&&r.paperFullScreen]}})(nr(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:r})=>!r.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${kk.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(r=>r!=="xs").map(r=>({props:{maxWidth:r},style:{maxWidth:`${e.breakpoints.values[r]}${e.breakpoints.unit}`,[`&.${kk.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[r]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:r})=>r.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:r})=>r.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${kk.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_S=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDialog"}),o=Sr(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,"aria-modal":u=!0,BackdropComponent:l,BackdropProps:c,children:f,className:d,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:m=!1,maxWidth:y="sm",onBackdropClick:v,onClick:g,onClose:x,open:b,PaperComponent:w=zi,PaperProps:E={},scroll:C="paper",slots:S={},slotProps:T={},TransitionComponent:k=ZO,transitionDuration:P=i,TransitionProps:I,...F}=n,A={...n,disableEscapeKeyDown:p,fullScreen:h,fullWidth:m,maxWidth:y,scroll:C},D=dve(A),$=N.useRef(),B=j=>{$.current=j.target===j.currentTarget},W=j=>{g&&g(j),$.current&&($.current=null,v&&v(j),x&&x(j,"backdropClick"))},L=qd(s),z=N.useMemo(()=>({titleId:L}),[L]),U={transition:k,...S},Y={transition:I,paper:E,backdrop:c,...T},q={slots:U,slotProps:Y},[V,H]=qr("root",{elementType:pve,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:A,className:ct(D.root,d),ref:t}),[Z,ue]=qr("backdrop",{elementType:fve,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:A}),[oe,ee]=qr("paper",{elementType:vve,shouldForwardComponentProp:!0,externalForwardedProps:q,ownerState:A,className:ct(D.paper,E.className)}),[ne,pe]=qr("container",{elementType:hve,externalForwardedProps:q,ownerState:A,className:ct(D.container)}),[J,se]=qr("transition",{elementType:ZO,externalForwardedProps:q,ownerState:A,additionalProps:{appear:!0,in:b,timeout:P,role:"presentation"}});return O.jsx(V,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:P,as:l,...ue}},disableEscapeKeyDown:p,onClose:x,open:b,onClick:W,...H,...F,children:O.jsx(J,{...se,children:O.jsx(ne,{onMouseDown:B,...pe,children:O.jsx(oe,{as:w,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":L,"aria-modal":u,...ee,children:O.jsx(U7.Provider,{value:z,children:f})})})})})});function mve(e){return Ht("MuiDialogActions",e)}Qt("MuiDialogActions",["root","spacing"]);const gve=e=>{const{classes:r,disableSpacing:t}=e;return Vt({root:["root",!t&&"spacing"]},mve,r)},yve=Ye("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disableSpacing&&r.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),q7=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDialogActions"}),{className:o,disableSpacing:i=!1,...a}=n,s={...n,disableSpacing:i},u=gve(s);return O.jsx(yve,{className:ct(u.root,o),ownerState:s,ref:t,...a})});function xve(e){return Ht("MuiDialogContent",e)}Qt("MuiDialogContent",["root","dividers"]);function bve(e){return Ht("MuiDialogTitle",e)}const _ve=Qt("MuiDialogTitle",["root"]),wve=e=>{const{classes:r,dividers:t}=e;return Vt({root:["root",t&&"dividers"]},xve,r)},Sve=Ye("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.dividers&&r.dividers]}})(nr(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:r})=>r.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>!r.dividers,style:{[`.${_ve.root} + &`]:{paddingTop:0}}}]}))),wS=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDialogContent"}),{className:o,dividers:i=!1,...a}=n,s={...n,dividers:i},u=wve(s);return O.jsx(Sve,{className:ct(u.root,o),ownerState:s,ref:t,...a})}),Cve=e=>{const{classes:r}=e;return Vt({root:["root"]},bve,r)},Eve=Ye(it,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),PI=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDialogTitle"}),{className:o,id:i,...a}=n,s=n,u=Cve(s),{titleId:l=i}=N.useContext(U7);return O.jsx(Eve,{component:"h2",className:ct(u.root,o),ownerState:s,ref:t,variant:"h6",id:i??l,...a})});function kve(e){return Ht("MuiDivider",e)}const qB=Qt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Rve=e=>{const{absolute:r,children:t,classes:n,flexItem:o,light:i,orientation:a,textAlign:s,variant:u}=e;return Vt({root:["root",r&&"absolute",u,i&&"light",a==="vertical"&&"vertical",o&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",s==="right"&&a!=="vertical"&&"textAlignRight",s==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},kve,n)},Tve=Ye("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.absolute&&r.absolute,r[t.variant],t.light&&r.light,t.orientation==="vertical"&&r.vertical,t.flexItem&&r.flexItem,t.children&&r.withChildren,t.children&&t.orientation==="vertical"&&r.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&r.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&r.textAlignLeft]}})(nr(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:fr(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:r})=>!!r.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:r})=>r.children&&r.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:r})=>r.orientation==="vertical"&&r.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:r})=>r.textAlign==="right"&&r.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:r})=>r.textAlign==="left"&&r.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Ave=Ye("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.wrapper,t.orientation==="vertical"&&r.wrapperVertical]}})(nr(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Bo=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDivider"}),{absolute:o=!1,children:i,className:a,orientation:s="horizontal",component:u=i||s==="vertical"?"div":"hr",flexItem:l=!1,light:c=!1,role:f=u!=="hr"?"separator":void 0,textAlign:d="center",variant:p="fullWidth",...h}=n,m={...n,absolute:o,component:u,flexItem:l,light:c,orientation:s,role:f,textAlign:d,variant:p},y=Rve(m);return O.jsx(Tve,{as:u,className:ct(y.root,a),role:f,ref:t,ownerState:m,"aria-orientation":f==="separator"&&(u!=="hr"||s==="vertical")?s:void 0,...h,children:i?O.jsx(Ave,{className:y.wrapper,ownerState:m,children:i}):null})});Bo&&(Bo.muiSkipListHighlight=!0);function Ove(e,r,t){const n=r.getBoundingClientRect(),o=t&&t.getBoundingClientRect(),i=tu(r);let a;if(r.fakeTransform)a=r.fakeTransform;else{const l=i.getComputedStyle(r);a=l.getPropertyValue("-webkit-transform")||l.getPropertyValue("transform")}let s=0,u=0;if(a&&a!=="none"&&typeof a=="string"){const l=a.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),u=parseInt(l[5],10)}return e==="left"?o?`translateX(${o.right+s-n.left}px)`:`translateX(${i.innerWidth+s-n.left}px)`:e==="right"?o?`translateX(-${n.right-o.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:e==="up"?o?`translateY(${o.bottom+u-n.top}px)`:`translateY(${i.innerHeight+u-n.top}px)`:o?`translateY(-${n.top-o.top+n.height-u}px)`:`translateY(-${n.top+n.height-u}px)`}function Dve(e){return typeof e=="function"?e():e}function Fx(e,r,t){const n=Dve(t),o=Ove(e,r,n);o&&(r.style.webkitTransform=o,r.style.transform=o)}const Pve=N.forwardRef(function(r,t){const n=Sr(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:u,container:l,direction:c="down",easing:f=o,in:d,onEnter:p,onEntered:h,onEntering:m,onExit:y,onExited:v,onExiting:g,style:x,timeout:b=i,TransitionComponent:w=Os,...E}=r,C=N.useRef(null),S=Nn(Hd(u),C,t),T=W=>L=>{W&&(L===void 0?W(C.current):W(C.current,L))},k=T((W,L)=>{Fx(c,W,l),wI(W),p&&p(W,L)}),P=T((W,L)=>{const z=ff({timeout:b,style:x,easing:f},{mode:"enter"});W.style.webkitTransition=n.transitions.create("-webkit-transform",{...z}),W.style.transition=n.transitions.create("transform",{...z}),W.style.webkitTransform="none",W.style.transform="none",m&&m(W,L)}),I=T(h),F=T(g),A=T(W=>{const L=ff({timeout:b,style:x,easing:f},{mode:"exit"});W.style.webkitTransition=n.transitions.create("-webkit-transform",L),W.style.transition=n.transitions.create("transform",L),Fx(c,W,l),y&&y(W)}),D=T(W=>{W.style.webkitTransition="",W.style.transition="",v&&v(W)}),$=W=>{a&&a(C.current,W)},B=N.useCallback(()=>{C.current&&Fx(c,C.current,l)},[c,l]);return N.useEffect(()=>{if(d||c==="down"||c==="right")return;const W=pI(()=>{C.current&&Fx(c,C.current,l)}),L=tu(C.current);return L.addEventListener("resize",W),()=>{W.clear(),L.removeEventListener("resize",W)}},[c,d,l]),N.useEffect(()=>{d||B()},[d,B]),O.jsx(w,{nodeRef:C,onEnter:k,onEntered:I,onEntering:P,onExit:A,onExited:D,onExiting:F,addEndListener:$,appear:s,in:d,timeout:b,...E,children:(W,{ownerState:L,...z})=>N.cloneElement(u,{ref:S,style:{visibility:W==="exited"&&!d?"hidden":void 0,...x,...u.props.style},...z})})});function Ive(e){return Ht("MuiDrawer",e)}Qt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const H7=(e,r)=>{const{ownerState:t}=e;return[r.root,(t.variant==="permanent"||t.variant==="persistent")&&r.docked,r.modal]},Nve=e=>{const{classes:r,anchor:t,variant:n}=e,o={root:["root",`anchor${ht(t)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ht(t)}`,n!=="temporary"&&`paperAnchorDocked${ht(t)}`]};return Vt(o,Ive,r)},Mve=Ye(kv,{name:"MuiDrawer",slot:"Root",overridesResolver:H7})(nr(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),HB=Ye("div",{shouldForwardProp:Vo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:H7})({flex:"0 0 auto"}),Fve=Ye(zi,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.paper,r[`paperAnchor${ht(t.anchor)}`],t.variant!=="temporary"&&r[`paperAnchorDocked${ht(t.anchor)}`]]}})(nr(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:r})=>r.anchor==="left"&&r.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="top"&&r.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="right"&&r.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:r})=>r.anchor==="bottom"&&r.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),V7={left:"right",right:"left",top:"down",bottom:"up"};function Lve(e){return["left","right"].includes(e)}function Bve({direction:e},r){return e==="rtl"&&Lve(r)?V7[r]:r}const tD=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiDrawer"}),o=Sr(),i=q0(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:u,children:l,className:c,elevation:f=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:p,...h}={},onClose:m,open:y=!1,PaperProps:v={},SlideProps:g,TransitionComponent:x=Pve,transitionDuration:b=a,variant:w="temporary",...E}=n,C=N.useRef(!1);N.useEffect(()=>{C.current=!0},[]);const S=Bve({direction:i?"rtl":"ltr"},s),k={...n,anchor:s,elevation:f,open:y,variant:w,...E},P=Nve(k),I=O.jsx(Fve,{elevation:w==="temporary"?f:0,square:!0,...v,className:ct(P.paper,v.className),ownerState:k,children:l});if(w==="permanent")return O.jsx(HB,{className:ct(P.root,P.docked,c),ownerState:k,ref:t,...E,children:I});const F=O.jsx(x,{in:y,direction:V7[S],timeout:b,appear:C.current,...g,children:I});return w==="persistent"?O.jsx(HB,{className:ct(P.root,P.docked,c),ownerState:k,ref:t,...E,children:F}):O.jsx(Mve,{BackdropProps:{...u,...p,transitionDuration:b},className:ct(P.root,P.modal,c),open:y,ownerState:k,onClose:m,hideBackdrop:d,ref:t,...E,...h,children:F})}),jve=e=>{const{classes:r,disableUnderline:t,startAdornment:n,endAdornment:o,size:i,hiddenLabel:a,multiline:s}=e,u={root:["root",!t&&"underline",n&&"adornedStart",o&&"adornedEnd",i==="small"&&`size${ht(i)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},l=Vt(u,Zpe,r);return{...r,...l}},$ve=Ye(xS,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[...gS(e,r),!t.disableUnderline&&r.underline]}})(nr(({theme:e})=>{const r=e.palette.mode==="light",t=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n}},[`&.${Hf.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:n},[`&.${Hf.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:i},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Hf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Hf.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Hf.disabled}, .${Hf.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Hf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(_o()).map(([a])=>{var s;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(s=(e.vars||e).palette[a])==null?void 0:s.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:s})=>a.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),zve=Ye(bS,{name:"MuiFilledInput",slot:"Input",overridesResolver:yS})(nr(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:r})=>r.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:0}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:0}},{props:({ownerState:r})=>r.hiddenLabel&&r.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:r})=>r.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),II=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFilledInput"}),{disableUnderline:o=!1,components:i={},componentsProps:a,fullWidth:s=!1,hiddenLabel:u,inputComponent:l="input",multiline:c=!1,slotProps:f,slots:d={},type:p="text",...h}=n,m={...n,disableUnderline:o,fullWidth:s,inputComponent:l,multiline:c,type:p},y=jve(n),v={root:{ownerState:m},input:{ownerState:m}},g=f??a?zo(v,f??a):v,x=d.root??i.Root??$ve,b=d.input??i.Input??zve;return O.jsx(DI,{slots:{root:x,input:b},slotProps:g,fullWidth:s,inputComponent:l,multiline:c,ref:t,type:p,...h,classes:y})});II.muiName="Input";function Wve(e){return Ht("MuiFormControl",e)}Qt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Uve=e=>{const{classes:r,margin:t,fullWidth:n}=e,o={root:["root",t!=="none"&&`margin${ht(t)}`,n&&"fullWidth"]};return Vt(o,Wve,r)},qve=Ye("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`margin${ht(t.margin)}`],t.fullWidth&&r.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),xa=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFormControl"}),{children:o,className:i,color:a="primary",component:s="div",disabled:u=!1,error:l=!1,focused:c,fullWidth:f=!1,hiddenLabel:d=!1,margin:p="none",required:h=!1,size:m="medium",variant:y="outlined",...v}=n,g={...n,color:a,component:s,disabled:u,error:l,fullWidth:f,hiddenLabel:d,margin:p,required:h,size:m,variant:y},x=Uve(g),[b,w]=N.useState(()=>{let D=!1;return o&&N.Children.forEach(o,$=>{if(!Og($,["Input","Select"]))return;const B=Og($,["Select"])?$.props.input:$;B&&Ype(B.props)&&(D=!0)}),D}),[E,C]=N.useState(()=>{let D=!1;return o&&N.Children.forEach(o,$=>{Og($,["Input","Select"])&&(S2($.props,!0)||S2($.props.inputProps,!0))&&(D=!0)}),D}),[S,T]=N.useState(!1);u&&S&&T(!1);const k=c!==void 0&&!u?c:S;let P;N.useRef(!1);const I=N.useCallback(()=>{C(!0)},[]),F=N.useCallback(()=>{C(!1)},[]),A=N.useMemo(()=>({adornedStart:b,setAdornedStart:w,color:a,disabled:u,error:l,filled:E,focused:k,fullWidth:f,hiddenLabel:d,size:m,onBlur:()=>{T(!1)},onFocus:()=>{T(!0)},onEmpty:F,onFilled:I,registerEffect:P,required:h,variant:y}),[b,a,u,l,E,k,f,d,P,F,I,h,m,y]);return O.jsx(OI.Provider,{value:A,children:O.jsx(qve,{as:s,ownerState:g,className:ct(x.root,i),ref:t,...v,children:o})})});function Hve(e){return Ht("MuiFormControlLabel",e)}const vg=Qt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Vve=e=>{const{classes:r,disabled:t,labelPlacement:n,error:o,required:i}=e,a={root:["root",t&&"disabled",`labelPlacement${ht(n)}`,o&&"error",i&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",o&&"error"]};return Vt(a,Hve,r)},Gve=Ye("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${vg.label}`]:r.label},r.root,r[`labelPlacement${ht(t.labelPlacement)}`]]}})(nr(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${vg.disabled}`]:{cursor:"default"},[`& .${vg.label}`]:{[`&.${vg.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:r})=>r==="start"||r==="top"||r==="bottom",style:{marginLeft:16}}]}))),Yve=Ye("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,r)=>r.asterisk})(nr(({theme:e})=>({[`&.${vg.error}`]:{color:(e.vars||e).palette.error.main}}))),v0=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFormControlLabel"}),{checked:o,className:i,componentsProps:a={},control:s,disabled:u,disableTypography:l,inputRef:c,label:f,labelPlacement:d="end",name:p,onChange:h,required:m,slots:y={},slotProps:v={},value:g,...x}=n,b=ol(),w=u??s.props.disabled??(b==null?void 0:b.disabled),E=m??s.props.required,C={disabled:w,required:E};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof s.props[D]>"u"&&typeof n[D]<"u"&&(C[D]=n[D])});const S=wf({props:n,muiFormControl:b,states:["error"]}),T={...n,disabled:w,labelPlacement:d,required:E,error:S.error},k=Vve(T),P={slots:y,slotProps:{...a,...v}},[I,F]=qr("typography",{elementType:it,externalForwardedProps:P,ownerState:T});let A=f;return A!=null&&A.type!==it&&!l&&(A=O.jsx(I,{component:"span",...F,className:ct(k.label,F==null?void 0:F.className),children:A})),O.jsxs(Gve,{className:ct(k.root,i),ownerState:T,ref:t,...x,children:[N.cloneElement(s,C),E?O.jsxs("div",{children:[A,O.jsxs(Yve,{ownerState:T,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):A]})});function Kve(e){return Ht("MuiFormGroup",e)}Qt("MuiFormGroup",["root","row","error"]);const Xve=e=>{const{classes:r,row:t,error:n}=e;return Vt({root:["root",t&&"row",n&&"error"]},Kve,r)},Qve=Ye("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.row&&r.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),G7=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFormGroup"}),{className:o,row:i=!1,...a}=n,s=ol(),u=wf({props:n,muiFormControl:s,states:["error"]}),l={...n,row:i,error:u.error},c=Xve(l);return O.jsx(Qve,{className:ct(c.root,o),ownerState:l,ref:t,...a})});function Jve(e){return Ht("MuiFormHelperText",e)}const VB=Qt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var GB;const Zve=e=>{const{classes:r,contained:t,size:n,disabled:o,error:i,filled:a,focused:s,required:u}=e,l={root:["root",o&&"disabled",i&&"error",n&&`size${ht(n)}`,t&&"contained",s&&"focused",a&&"filled",u&&"required"]};return Vt(l,Jve,r)},eme=Ye("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size&&r[`size${ht(t.size)}`],t.contained&&r.contained,t.filled&&r.filled]}})(nr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${VB.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${VB.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:r})=>r.contained,style:{marginLeft:14,marginRight:14}}]}))),tme=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFormHelperText"}),{children:o,className:i,component:a="p",disabled:s,error:u,filled:l,focused:c,margin:f,required:d,variant:p,...h}=n,m=ol(),y=wf({props:n,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),v={...n,component:a,contained:y.variant==="filled"||y.variant==="outlined",variant:y.variant,size:y.size,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required};delete v.ownerState;const g=Zve(v);return O.jsx(eme,{as:a,className:ct(g.root,i),ref:t,...h,ownerState:v,children:o===" "?GB||(GB=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):o})});function rme(e){return Ht("MuiFormLabel",e)}const Mg=Qt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),nme=e=>{const{classes:r,color:t,focused:n,disabled:o,error:i,filled:a,required:s}=e,u={root:["root",`color${ht(t)}`,o&&"disabled",i&&"error",a&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return Vt(u,rme,r)},ome=Ye("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled]}})(nr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r},style:{[`&.${Mg.focused}`]:{color:(e.vars||e).palette[r].main}}})),{props:{},style:{[`&.${Mg.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Mg.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),ime=Ye("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,r)=>r.asterisk})(nr(({theme:e})=>({[`&.${Mg.error}`]:{color:(e.vars||e).palette.error.main}}))),Ja=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiFormLabel"}),{children:o,className:i,color:a,component:s="label",disabled:u,error:l,filled:c,focused:f,required:d,...p}=n,h=ol(),m=wf({props:n,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]}),y={...n,color:m.color||"primary",component:s,disabled:m.disabled,error:m.error,filled:m.filled,focused:m.focused,required:m.required},v=nme(y);return O.jsxs(ome,{as:s,ownerState:y,className:ct(v.root,i),ref:t,...p,children:[o,m.required&&O.jsxs(ime,{ownerState:y,"aria-hidden":!0,className:v.asterisk,children:[" ","*"]})]})}),ad=Dce({createStyledComponent:Ye("div",{name:"MuiGrid2",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.container&&r.container]}}),componentName:"MuiGrid2",useThemeProps:e=>Jt({props:e,name:"MuiGrid2"}),useTheme:Sr});function rD(e){return`scale(${e}, ${e**2})`}const ame={entering:{opacity:1,transform:rD(1)},entered:{opacity:1,transform:"none"}},Rk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),E2=N.forwardRef(function(r,t){const{addEndListener:n,appear:o=!0,children:i,easing:a,in:s,onEnter:u,onEntered:l,onEntering:c,onExit:f,onExited:d,onExiting:p,style:h,timeout:m="auto",TransitionComponent:y=Os,...v}=r,g=pd(),x=N.useRef(),b=Sr(),w=N.useRef(null),E=Nn(w,Hd(i),t),C=D=>$=>{if(D){const B=w.current;$===void 0?D(B):D(B,$)}},S=C(c),T=C((D,$)=>{wI(D);const{duration:B,delay:W,easing:L}=ff({style:h,timeout:m,easing:a},{mode:"enter"});let z;m==="auto"?(z=b.transitions.getAutoHeightDuration(D.clientHeight),x.current=z):z=B,D.style.transition=[b.transitions.create("opacity",{duration:z,delay:W}),b.transitions.create("transform",{duration:Rk?z:z*.666,delay:W,easing:L})].join(","),u&&u(D,$)}),k=C(l),P=C(p),I=C(D=>{const{duration:$,delay:B,easing:W}=ff({style:h,timeout:m,easing:a},{mode:"exit"});let L;m==="auto"?(L=b.transitions.getAutoHeightDuration(D.clientHeight),x.current=L):L=$,D.style.transition=[b.transitions.create("opacity",{duration:L,delay:B}),b.transitions.create("transform",{duration:Rk?L:L*.666,delay:Rk?B:B||L*.333,easing:W})].join(","),D.style.opacity=0,D.style.transform=rD(.75),f&&f(D)}),F=C(d),A=D=>{m==="auto"&&g.start(x.current||0,D),n&&n(w.current,D)};return O.jsx(y,{appear:o,in:s,nodeRef:w,onEnter:T,onEntered:k,onEntering:S,onExit:I,onExited:F,onExiting:P,addEndListener:A,timeout:m==="auto"?null:m,...v,children:(D,{ownerState:$,...B})=>N.cloneElement(i,{style:{opacity:0,transform:rD(.75),visibility:D==="exited"&&!s?"hidden":void 0,...ame[D],...h,...i.props.style},ref:E,...B})})});E2&&(E2.muiSupportAuto=!0);const O_=i7({themeId:Ks}),sme=e=>{const{classes:r,disableUnderline:t}=e,o=Vt({root:["root",!t&&"underline"],input:["input"]},Qpe,r);return{...r,...o}},ume=Ye(xS,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[...gS(e,r),!t.disableUnderline&&r.underline]}})(nr(({theme:e})=>{let t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Wm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Wm.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Wm.disabled}, .${Wm.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Wm.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(_o()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[n].main}`}}}))]}})),lme=Ye(bS,{name:"MuiInput",slot:"Input",overridesResolver:yS})({}),NI=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiInput"}),{disableUnderline:o=!1,components:i={},componentsProps:a,fullWidth:s=!1,inputComponent:u="input",multiline:l=!1,slotProps:c,slots:f={},type:d="text",...p}=n,h=sme(n),y={root:{ownerState:{disableUnderline:o}}},v=c??a?zo(c??a,y):y,g=f.root??i.Root??ume,x=f.input??i.Input??lme;return O.jsx(DI,{slots:{root:g,input:x},slotProps:v,fullWidth:s,inputComponent:u,multiline:l,ref:t,type:d,...p,classes:h})});NI.muiName="Input";function cme(e){return Ht("MuiInputLabel",e)}Qt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const fme=e=>{const{classes:r,formControl:t,size:n,shrink:o,disableAnimation:i,variant:a,required:s}=e,u={root:["root",t&&"formControl",!i&&"animated",o&&"shrink",n&&n!=="normal"&&`size${ht(n)}`,a],asterisk:[s&&"asterisk"]},l=Vt(u,cme,r);return{...r,...l}},dme=Ye(Ja,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${Mg.asterisk}`]:r.asterisk},r.root,t.formControl&&r.formControl,t.size==="small"&&r.sizeSmall,t.shrink&&r.shrink,!t.disableAnimation&&r.animated,t.focused&&r.focused,r[t.variant]]}})(nr(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:r})=>r.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:r})=>r.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:r})=>!r.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:r,ownerState:t,size:n})=>r==="filled"&&t.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:r,ownerState:t})=>r==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),pme=N.forwardRef(function(r,t){const n=Jt({name:"MuiInputLabel",props:r}),{disableAnimation:o=!1,margin:i,shrink:a,variant:s,className:u,...l}=n,c=ol();let f=a;typeof f>"u"&&c&&(f=c.filled||c.focused||c.adornedStart);const d=wf({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),p={...n,disableAnimation:o,formControl:c,shrink:f,size:d.size,variant:d.variant,required:d.required,focused:d.focused},h=fme(p);return O.jsx(dme,{"data-shrink":f,ref:t,className:ct(h.root,u),...l,ownerState:p,classes:h})});function hme(e){return Ht("MuiLink",e)}const vme=Qt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),mme=({theme:e,ownerState:r})=>{const t=r.color,n=$c(e,`palette.${t}.main`,!1)||$c(e,`palette.${t}`,!1)||r.color,o=$c(e,`palette.${t}.mainChannel`)||$c(e,`palette.${t}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:fr(n,.4)},YB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},gme=e=>{const{classes:r,component:t,focusVisible:n,underline:o}=e,i={root:["root",`underline${ht(o)}`,t==="button"&&"button",n&&"focusVisible"]};return Vt(i,hme,r)},yme=Ye(it,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[`underline${ht(t.underline)}`],t.component==="button"&&r.button]}})(nr(({theme:e})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:r,ownerState:t})=>r==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{underline:"always",color:r},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.4)`:fr(e.palette[r].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:fr(e.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":e.vars?`rgba(${e.vars.palette.text.secondaryChannel} / 0.4)`:fr(e.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(e.vars||e).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vme.focusVisible}`]:{outline:"auto"}}}]}))),Rv=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiLink"}),o=Sr(),{className:i,color:a="primary",component:s="a",onBlur:u,onFocus:l,TypographyClasses:c,underline:f="always",variant:d="inherit",sx:p,...h}=n,[m,y]=N.useState(!1),v=w=>{Qh(w.target)||y(!1),u&&u(w)},g=w=>{Qh(w.target)&&y(!0),l&&l(w)},x={...n,color:a,component:s,focusVisible:m,underline:f,variant:d},b=gme(x);return O.jsx(yme,{color:a,className:ct(b.root,i),classes:c,component:s,onBlur:v,onFocus:g,ref:t,ownerState:x,variant:d,...h,sx:[...YB[a]===void 0?[{color:a}]:[],...Array.isArray(p)?p:[p]],style:{...h.style,...f==="always"&&a!=="inherit"&&!YB[a]&&{"--Link-underlineColor":mme({theme:o,ownerState:x})}}})}),Xs=N.createContext({});function xme(e){return Ht("MuiList",e)}Qt("MuiList",["root","padding","dense","subheader"]);const bme=e=>{const{classes:r,disablePadding:t,dense:n,subheader:o}=e;return Vt({root:["root",!t&&"padding",n&&"dense",o&&"subheader"]},xme,r)},_me=Ye("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,!t.disablePadding&&r.padding,t.dense&&r.dense,t.subheader&&r.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),D_=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiList"}),{children:o,className:i,component:a="ul",dense:s=!1,disablePadding:u=!1,subheader:l,...c}=n,f=N.useMemo(()=>({dense:s}),[s]),d={...n,component:a,dense:s,disablePadding:u},p=bme(d);return O.jsx(Xs.Provider,{value:f,children:O.jsxs(_me,{as:a,className:ct(p.root,i),ref:t,ownerState:d,...c,children:[l,o]})})});function wme(e){return Ht("MuiListItem",e)}Qt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Sme(e){return Ht("MuiListItemButton",e)}const Gp=Qt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Cme=(e,r)=>{const{ownerState:t}=e;return[r.root,t.dense&&r.dense,t.alignItems==="flex-start"&&r.alignItemsFlexStart,t.divider&&r.divider,!t.disableGutters&&r.gutters]},Eme=e=>{const{alignItems:r,classes:t,dense:n,disabled:o,disableGutters:i,divider:a,selected:s}=e,l=Vt({root:["root",n&&"dense",!i&&"gutters",a&&"divider",o&&"disabled",r==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},Sme,t);return{...t,...l}},kme=Ye(Ev,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Cme})(nr(({theme:e})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gp.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Gp.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Gp.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Gp.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Gp.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:({ownerState:r})=>r.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:r})=>!r.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:r})=>r.dense,style:{paddingTop:4,paddingBottom:4}}]}))),mg=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:i=!1,component:a="div",children:s,dense:u=!1,disableGutters:l=!1,divider:c=!1,focusVisibleClassName:f,selected:d=!1,className:p,...h}=n,m=N.useContext(Xs),y=N.useMemo(()=>({dense:u||m.dense||!1,alignItems:o,disableGutters:l}),[o,m.dense,u,l]),v=N.useRef(null);qa(()=>{i&&v.current&&v.current.focus()},[i]);const g={...n,alignItems:o,dense:y.dense,disableGutters:l,divider:c,selected:d},x=Eme(g),b=Nn(v,t);return O.jsx(Xs.Provider,{value:y,children:O.jsx(kme,{ref:b,href:h.href||h.to,component:(h.href||h.to)&&a==="div"?"button":a,focusVisibleClassName:ct(x.focusVisible,f),ownerState:g,className:ct(x.root,p),...h,classes:x,children:s})})});function Rme(e){return Ht("MuiListItemSecondaryAction",e)}Qt("MuiListItemSecondaryAction",["root","disableGutters"]);const Tme=e=>{const{disableGutters:r,classes:t}=e;return Vt({root:["root",r&&"disableGutters"]},Rme,t)},Ame=Ye("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.disableGutters&&r.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Y7=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiListItemSecondaryAction"}),{className:o,...i}=n,a=N.useContext(Xs),s={...n,disableGutters:a.disableGutters},u=Tme(s);return O.jsx(Ame,{className:ct(u.root,o),ownerState:s,ref:t,...i})});Y7.muiName="ListItemSecondaryAction";const Ome=(e,r)=>{const{ownerState:t}=e;return[r.root,t.dense&&r.dense,t.alignItems==="flex-start"&&r.alignItemsFlexStart,t.divider&&r.divider,!t.disableGutters&&r.gutters,!t.disablePadding&&r.padding,t.hasSecondaryAction&&r.secondaryAction]},Dme=e=>{const{alignItems:r,classes:t,dense:n,disableGutters:o,disablePadding:i,divider:a,hasSecondaryAction:s}=e;return Vt({root:["root",n&&"dense",!o&&"gutters",!i&&"padding",a&&"divider",r==="flex-start"&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},wme,t)},Pme=Ye("div",{name:"MuiListItem",slot:"Root",overridesResolver:Ome})(nr(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:r})=>!r.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:r})=>!r.disablePadding&&r.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:r})=>!r.disablePadding&&!r.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:r})=>!r.disablePadding&&!!r.secondaryAction,style:{paddingRight:48}},{props:({ownerState:r})=>!!r.secondaryAction,style:{[`& > .${Gp.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:r})=>r.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:r})=>r.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:r})=>r.hasSecondaryAction,style:{paddingRight:48}}]}))),Ime=Ye("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,r)=>r.container})({position:"relative"}),Um=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiListItem"}),{alignItems:o="center",children:i,className:a,component:s,components:u={},componentsProps:l={},ContainerComponent:c="li",ContainerProps:{className:f,...d}={},dense:p=!1,disableGutters:h=!1,disablePadding:m=!1,divider:y=!1,secondaryAction:v,slotProps:g={},slots:x={},...b}=n,w=N.useContext(Xs),E=N.useMemo(()=>({dense:p||w.dense||!1,alignItems:o,disableGutters:h}),[o,w.dense,p,h]),C=N.useRef(null),S=N.Children.toArray(i),T=S.length&&Og(S[S.length-1],["ListItemSecondaryAction"]),k={...n,alignItems:o,dense:E.dense,disableGutters:h,disablePadding:m,divider:y,hasSecondaryAction:T},P=Dme(k),I=Nn(C,t),F=x.root||u.Root||Pme,A=g.root||l.root||{},D={className:ct(P.root,A.className,a),...b};let $=s||"li";return T?($=!D.component&&!s?"div":$,c==="li"&&($==="li"?$="div":D.component==="li"&&(D.component="div")),O.jsx(Xs.Provider,{value:E,children:O.jsxs(Ime,{as:c,className:ct(P.container,f),ref:I,ownerState:k,...d,children:[O.jsx(F,{...A,...!h0(F)&&{as:$,ownerState:{...k,...A.ownerState}},...D,children:S}),S.pop()]})})):O.jsx(Xs.Provider,{value:E,children:O.jsxs(F,{...A,as:$,ref:I,...!h0(F)&&{ownerState:{...k,...A.ownerState}},...D,children:[S,v&&O.jsx(Y7,{children:v})]})})});function Nme(e){return Ht("MuiListItemIcon",e)}const KB=Qt("MuiListItemIcon",["root","alignItemsFlexStart"]),Mme=e=>{const{alignItems:r,classes:t}=e;return Vt({root:["root",r==="flex-start"&&"alignItemsFlexStart"]},Nme,t)},Fme=Ye("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.alignItems==="flex-start"&&r.alignItemsFlexStart]}})(nr(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Mp=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiListItemIcon"}),{className:o,...i}=n,a=N.useContext(Xs),s={...n,alignItems:a.alignItems},u=Mme(s);return O.jsx(Fme,{className:ct(u.root,o),ownerState:s,ref:t,...i})});function Lme(e){return Ht("MuiListItemText",e)}const hh=Qt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Bme=e=>{const{classes:r,inset:t,primary:n,secondary:o,dense:i}=e;return Vt({root:["root",t&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},Lme,r)},jme=Ye("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${hh.primary}`]:r.primary},{[`& .${hh.secondary}`]:r.secondary},r.root,t.inset&&r.inset,t.primary&&t.secondary&&r.multiline,t.dense&&r.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${CB.root}:where(& .${hh.primary})`]:{display:"block"},[`.${CB.root}:where(& .${hh.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),Fp=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiListItemText"}),{children:o,className:i,disableTypography:a=!1,inset:s=!1,primary:u,primaryTypographyProps:l,secondary:c,secondaryTypographyProps:f,slots:d={},slotProps:p={},...h}=n,{dense:m}=N.useContext(Xs);let y=u??o,v=c;const g={...n,disableTypography:a,inset:s,primary:!!y,secondary:!!v,dense:m},x=Bme(g),b={slots:d,slotProps:{primary:l,secondary:f,...p}},[w,E]=qr("primary",{className:x.primary,elementType:it,externalForwardedProps:b,ownerState:g}),[C,S]=qr("secondary",{className:x.secondary,elementType:it,externalForwardedProps:b,ownerState:g});return y!=null&&y.type!==it&&!a&&(y=O.jsx(w,{variant:m?"body2":"body1",component:E!=null&&E.variant?void 0:"span",...E,children:y})),v!=null&&v.type!==it&&!a&&(v=O.jsx(C,{variant:"body2",color:"textSecondary",...S,children:v})),O.jsxs(jme,{className:ct(x.root,i),ownerState:g,ref:t,...h,children:[y,v]})});function Tk(e,r,t){return e===r?e.firstChild:r&&r.nextElementSibling?r.nextElementSibling:t?null:e.firstChild}function XB(e,r,t){return e===r?t?e.firstChild:e.lastChild:r&&r.previousElementSibling?r.previousElementSibling:t?null:e.lastChild}function K7(e,r){if(r===void 0)return!0;let t=e.innerText;return t===void 0&&(t=e.textContent),t=t.trim().toLowerCase(),t.length===0?!1:r.repeating?t[0]===r.keys[0]:t.startsWith(r.keys.join(""))}function qm(e,r,t,n,o,i){let a=!1,s=o(e,r,r?t:!1);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const u=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!K7(s,i)||u)s=o(e,s,t);else return s.focus(),!0}return!1}const $me=N.forwardRef(function(r,t){const{actions:n,autoFocus:o=!1,autoFocusItem:i=!1,children:a,className:s,disabledItemsFocusable:u=!1,disableListWrap:l=!1,onKeyDown:c,variant:f="selectedMenu",...d}=r,p=N.useRef(null),h=N.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});qa(()=>{o&&p.current.focus()},[o]),N.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(x,{direction:b})=>{const w=!p.current.style.width;if(x.clientHeight<p.current.clientHeight&&w){const E=`${u7(tu(x))}px`;p.current.style[b==="rtl"?"paddingLeft":"paddingRight"]=E,p.current.style.width=`calc(100% + ${E})`}return p.current}}),[]);const m=x=>{const b=p.current,w=x.key;if(x.ctrlKey||x.metaKey||x.altKey){c&&c(x);return}const C=Ha(b).activeElement;if(w==="ArrowDown")x.preventDefault(),qm(b,C,l,u,Tk);else if(w==="ArrowUp")x.preventDefault(),qm(b,C,l,u,XB);else if(w==="Home")x.preventDefault(),qm(b,null,l,u,Tk);else if(w==="End")x.preventDefault(),qm(b,null,l,u,XB);else if(w.length===1){const S=h.current,T=w.toLowerCase(),k=performance.now();S.keys.length>0&&(k-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&T!==S.keys[0]&&(S.repeating=!1)),S.lastTime=k,S.keys.push(T);const P=C&&!S.repeating&&K7(C,S);S.previousKeyMatched&&(P||qm(b,C,!1,u,Tk,S))?x.preventDefault():S.previousKeyMatched=!1}c&&c(x)},y=Nn(p,t);let v=-1;N.Children.forEach(a,(x,b)=>{if(!N.isValidElement(x)){v===b&&(v+=1,v>=a.length&&(v=-1));return}x.props.disabled||(f==="selectedMenu"&&x.props.selected||v===-1)&&(v=b),v===b&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(v+=1,v>=a.length&&(v=-1))});const g=N.Children.map(a,(x,b)=>{if(b===v){const w={};return i&&(w.autoFocus=!0),x.props.tabIndex===void 0&&f==="selectedMenu"&&(w.tabIndex=0),N.cloneElement(x,w)}return x});return O.jsx(D_,{role:"menu",ref:y,className:s,onKeyDown:m,tabIndex:o?0:-1,...d,children:g})});function zme(e){return Ht("MuiPopover",e)}Qt("MuiPopover",["root","paper"]);function QB(e,r){let t=0;return typeof r=="number"?t=r:r==="center"?t=e.height/2:r==="bottom"&&(t=e.height),t}function JB(e,r){let t=0;return typeof r=="number"?t=r:r==="center"?t=e.width/2:r==="right"&&(t=e.width),t}function ZB(e){return[e.horizontal,e.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}function Ak(e){return typeof e=="function"?e():e}const Wme=e=>{const{classes:r}=e;return Vt({root:["root"],paper:["paper"]},zme,r)},Ume=Ye(kv,{name:"MuiPopover",slot:"Root",overridesResolver:(e,r)=>r.root})({}),X7=Ye(zi,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qme=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiPopover"}),{action:o,anchorEl:i,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:u="anchorEl",children:l,className:c,container:f,elevation:d=8,marginThreshold:p=16,open:h,PaperProps:m={},slots:y={},slotProps:v={},transformOrigin:g={vertical:"top",horizontal:"left"},TransitionComponent:x=E2,transitionDuration:b="auto",TransitionProps:{onEntering:w,...E}={},disableScrollLock:C=!1,...S}=n,T=(v==null?void 0:v.paper)??m,k=N.useRef(),P={...n,anchorOrigin:a,anchorReference:u,elevation:d,marginThreshold:p,externalPaperSlotProps:T,transformOrigin:g,TransitionComponent:x,transitionDuration:b,TransitionProps:E},I=Wme(P),F=N.useCallback(()=>{if(u==="anchorPosition")return s;const ne=Ak(i),J=(ne&&ne.nodeType===1?ne:Ha(k.current).body).getBoundingClientRect();return{top:J.top+QB(J,a.vertical),left:J.left+JB(J,a.horizontal)}},[i,a.horizontal,a.vertical,s,u]),A=N.useCallback(ne=>({vertical:QB(ne,g.vertical),horizontal:JB(ne,g.horizontal)}),[g.horizontal,g.vertical]),D=N.useCallback(ne=>{const pe={width:ne.offsetWidth,height:ne.offsetHeight},J=A(pe);if(u==="none")return{top:null,left:null,transformOrigin:ZB(J)};const se=F();let j=se.top-J.vertical,ce=se.left-J.horizontal;const re=j+pe.height,Q=ce+pe.width,G=tu(Ak(i)),X=G.innerHeight-p,te=G.innerWidth-p;if(p!==null&&j<p){const de=j-p;j-=de,J.vertical+=de}else if(p!==null&&re>X){const de=re-X;j-=de,J.vertical+=de}if(p!==null&&ce<p){const de=ce-p;ce-=de,J.horizontal+=de}else if(Q>te){const de=Q-te;ce-=de,J.horizontal+=de}return{top:`${Math.round(j)}px`,left:`${Math.round(ce)}px`,transformOrigin:ZB(J)}},[i,u,F,A,p]),[$,B]=N.useState(h),W=N.useCallback(()=>{const ne=k.current;if(!ne)return;const pe=D(ne);pe.top!==null&&ne.style.setProperty("top",pe.top),pe.left!==null&&(ne.style.left=pe.left),ne.style.transformOrigin=pe.transformOrigin,B(!0)},[D]);N.useEffect(()=>(C&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[i,C,W]);const L=(ne,pe)=>{w&&w(ne,pe),W()},z=()=>{B(!1)};N.useEffect(()=>{h&&W()}),N.useImperativeHandle(o,()=>h?{updatePosition:()=>{W()}}:null,[h,W]),N.useEffect(()=>{if(!h)return;const ne=pI(()=>{W()}),pe=tu(i);return pe.addEventListener("resize",ne),()=>{ne.clear(),pe.removeEventListener("resize",ne)}},[i,h,W]);let U=b;b==="auto"&&!x.muiSupportAuto&&(U=void 0);const Y=f||(i?Ha(Ak(i)).body:void 0),q={slots:y,slotProps:{...v,paper:T}},[V,H]=qr("paper",{elementType:X7,externalForwardedProps:q,additionalProps:{elevation:d,className:ct(I.paper,T==null?void 0:T.className),style:$?T.style:{...T.style,opacity:0}},ownerState:P}),[Z,{slotProps:ue,...oe}]=qr("root",{elementType:Ume,externalForwardedProps:q,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Y,open:h},ownerState:P,className:ct(I.root,c)}),ee=Nn(k,H.ref);return O.jsx(Z,{...oe,...!h0(Z)&&{slotProps:ue,disableScrollLock:C},...S,ref:t,children:O.jsx(x,{appear:!0,in:h,onEntering:L,onExited:z,timeout:U,...E,children:O.jsx(V,{...H,ref:ee,children:l})})})});function Hme(e){return Ht("MuiMenu",e)}Qt("MuiMenu",["root","paper","list"]);const Vme={vertical:"top",horizontal:"right"},Gme={vertical:"top",horizontal:"left"},Yme=e=>{const{classes:r}=e;return Vt({root:["root"],paper:["paper"],list:["list"]},Hme,r)},Kme=Ye(qme,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,r)=>r.root})({}),Xme=Ye(X7,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Qme=Ye($me,{name:"MuiMenu",slot:"List",overridesResolver:(e,r)=>r.list})({outline:0}),Jme=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiMenu"}),{autoFocus:o=!0,children:i,className:a,disableAutoFocusItem:s=!1,MenuListProps:u={},onClose:l,open:c,PaperProps:f={},PopoverClasses:d,transitionDuration:p="auto",TransitionProps:{onEntering:h,...m}={},variant:y="selectedMenu",slots:v={},slotProps:g={},...x}=n,b=q0(),w={...n,autoFocus:o,disableAutoFocusItem:s,MenuListProps:u,onEntering:h,PaperProps:f,transitionDuration:p,TransitionProps:m,variant:y},E=Yme(w),C=o&&!s&&c,S=N.useRef(null),T=($,B)=>{S.current&&S.current.adjustStyleForScrollbar($,{direction:b?"rtl":"ltr"}),h&&h($,B)},k=$=>{$.key==="Tab"&&($.preventDefault(),l&&l($,"tabKeyDown"))};let P=-1;N.Children.map(i,($,B)=>{N.isValidElement($)&&($.props.disabled||(y==="selectedMenu"&&$.props.selected||P===-1)&&(P=B))});const I=v.paper??Xme,F=g.paper??f,A=zO({elementType:v.root,externalSlotProps:g.root,ownerState:w,className:[E.root,a]}),D=zO({elementType:I,externalSlotProps:F,ownerState:w,className:E.paper});return O.jsx(Kme,{onClose:l,anchorOrigin:{vertical:"bottom",horizontal:b?"right":"left"},transformOrigin:b?Vme:Gme,slots:{paper:I,root:v.root},slotProps:{root:A,paper:D},open:c,ref:t,transitionDuration:p,TransitionProps:{onEntering:T,...m},ownerState:w,...x,classes:d,children:O.jsx(Qme,{onKeyDown:k,actions:S,autoFocus:o&&(P===-1||s),autoFocusItem:C,variant:y,...u,className:ct(E.list,u.className),children:i})})});function Zme(e){return Ht("MuiMenuItem",e)}const Hm=Qt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ege=(e,r)=>{const{ownerState:t}=e;return[r.root,t.dense&&r.dense,t.divider&&r.divider,!t.disableGutters&&r.gutters]},tge=e=>{const{disabled:r,dense:t,divider:n,disableGutters:o,selected:i,classes:a}=e,u=Vt({root:["root",t&&"dense",r&&"disabled",!o&&"gutters",n&&"divider",i&&"selected"]},Zme,a);return{...a,...u}},rge=Ye(Ev,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ege})(nr(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hm.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Hm.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Hm.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Hm.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Hm.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${qB.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${qB.inset}`]:{marginLeft:52},[`& .${hh.root}`]:{marginTop:0,marginBottom:0},[`& .${hh.inset}`]:{paddingLeft:36},[`& .${KB.root}`]:{minWidth:36},variants:[{props:({ownerState:r})=>!r.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:r})=>r.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:r})=>!r.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:r})=>r.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${KB.root} svg`]:{fontSize:"1.25rem"}}}]}))),nv=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiMenuItem"}),{autoFocus:o=!1,component:i="li",dense:a=!1,divider:s=!1,disableGutters:u=!1,focusVisibleClassName:l,role:c="menuitem",tabIndex:f,className:d,...p}=n,h=N.useContext(Xs),m=N.useMemo(()=>({dense:a||h.dense||!1,disableGutters:u}),[h.dense,a,u]),y=N.useRef(null);qa(()=>{o&&y.current&&y.current.focus()},[o]);const v={...n,dense:m.dense,divider:s,disableGutters:u},g=tge(n),x=Nn(y,t);let b;return n.disabled||(b=f!==void 0?f:-1),O.jsx(Xs.Provider,{value:m,children:O.jsx(rge,{ref:x,role:c,tabIndex:b,component:i,focusVisibleClassName:ct(g.focusVisible,l),className:ct(g.root,d),...p,ownerState:v,classes:g})})});function nge(e){return Ht("MuiNativeSelect",e)}const MI=Qt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),oge=e=>{const{classes:r,variant:t,disabled:n,multiple:o,open:i,error:a}=e,s={select:["select",t,n&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${ht(t)}`,i&&"iconOpen",n&&"disabled"]};return Vt(s,nge,r)},Q7=Ye("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${MI.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:r})=>r.variant!=="filled"&&r.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),ige=Ye(Q7,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vo,overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.select,r[t.variant],t.error&&r.error,{[`&.${MI.multiple}`]:r.multiple}]}})({}),J7=Ye("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${MI.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:r})=>r.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),age=Ye(J7,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.icon,t.variant&&r[`icon${ht(t.variant)}`],t.open&&r.iconOpen]}})({}),sge=N.forwardRef(function(r,t){const{className:n,disabled:o,error:i,IconComponent:a,inputRef:s,variant:u="standard",...l}=r,c={...r,disabled:o,variant:u,error:i},f=oge(c);return O.jsxs(N.Fragment,{children:[O.jsx(ige,{ownerState:c,className:ct(f.select,n),disabled:o,ref:s||t,...l}),r.multiple?null:O.jsx(age,{as:a,ownerState:c,className:f.icon})]})});var ej;const uge=Ye("fieldset",{shouldForwardProp:Vo})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),lge=Ye("legend",{shouldForwardProp:Vo})(nr(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:r})=>!r.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:r})=>r.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:r})=>r.withLabel&&r.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function cge(e){const{children:r,classes:t,className:n,label:o,notched:i,...a}=e,s=o!=null&&o!=="",u={...e,notched:i,withLabel:s};return O.jsx(uge,{"aria-hidden":!0,className:n,ownerState:u,...a,children:O.jsx(lge,{ownerState:u,children:s?O.jsx("span",{children:o}):ej||(ej=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const fge=e=>{const{classes:r}=e,n=Vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Jpe,r);return{...r,...n}},dge=Ye(xS,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gS})(nr(({theme:e})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${wu.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${wu.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${wu.focused} .${wu.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(_o()).map(([t])=>({props:{color:t},style:{[`&.${wu.focused} .${wu.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${wu.error} .${wu.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${wu.disabled} .${wu.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),pge=Ye(cge,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,r)=>r.notchedOutline})(nr(({theme:e})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}})),hge=Ye(bS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:yS})(nr(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:r})=>r.multiline,style:{padding:0}},{props:({ownerState:r})=>r.startAdornment,style:{paddingLeft:0}},{props:({ownerState:r})=>r.endAdornment,style:{paddingRight:0}}]}))),FI=N.forwardRef(function(r,t){var n;const o=Jt({props:r,name:"MuiOutlinedInput"}),{components:i={},fullWidth:a=!1,inputComponent:s="input",label:u,multiline:l=!1,notched:c,slots:f={},type:d="text",...p}=o,h=fge(o),m=ol(),y=wf({props:o,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),v={...o,color:y.color||"primary",disabled:y.disabled,error:y.error,focused:y.focused,formControl:m,fullWidth:a,hiddenLabel:y.hiddenLabel,multiline:l,size:y.size,type:d},g=f.root??i.Root??dge,x=f.input??i.Input??hge;return O.jsx(DI,{slots:{root:g,input:x},renderSuffix:b=>O.jsx(pge,{ownerState:v,className:h.notchedOutline,label:u!=null&&u!==""&&y.required?n||(n=O.jsxs(N.Fragment,{children:[u," ","*"]})):u,notched:typeof c<"u"?c:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:a,inputComponent:s,multiline:l,ref:t,type:d,...p,classes:{...h,notchedOutline:null}})});FI.muiName="Input";function vge(e){return Ht("MuiPagination",e)}Qt("MuiPagination",["root","ul","outlined","text"]);function mge(e={}){const{boundaryCount:r=1,componentName:t="usePagination",count:n=1,defaultPage:o=1,disabled:i=!1,hideNextButton:a=!1,hidePrevButton:s=!1,onChange:u,page:l,showFirstButton:c=!1,showLastButton:f=!1,siblingCount:d=1,...p}=e,[h,m]=Xh({controlled:l,default:o,name:t,state:"page"}),y=(T,k)=>{l||m(k),u&&u(T,k)},v=(T,k)=>{const P=k-T+1;return Array.from({length:P},(I,F)=>T+F)},g=v(1,Math.min(r,n)),x=v(Math.max(n-r+1,r+1),n),b=Math.max(Math.min(h-d,n-r-d*2-1),r+2),w=Math.min(Math.max(h+d,r+d*2+2),n-r-1),E=[...c?["first"]:[],...s?[]:["previous"],...g,...b>r+2?["start-ellipsis"]:r+1<n-r?[r+1]:[],...v(b,w),...w<n-r-1?["end-ellipsis"]:n-r>r?[n-r]:[],...x,...a?[]:["next"],...f?["last"]:[]],C=T=>{switch(T){case"first":return 1;case"previous":return h-1;case"next":return h+1;case"last":return n;default:return null}};return{items:E.map(T=>typeof T=="number"?{onClick:k=>{y(k,T)},type:"page",page:T,selected:T===h,disabled:i,"aria-current":T===h?"page":void 0}:{onClick:k=>{y(k,C(T))},type:T,page:C(T),selected:!1,disabled:i||!T.includes("ellipsis")&&(T==="next"||T==="last"?h>=n:h<=1)}),...p}}function gge(e){return Ht("MuiPaginationItem",e)}const Bi=Qt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),yge=xr(O.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),xge=xr(O.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),bge=xr(O.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),_ge=xr(O.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),Z7=(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`size${ht(t.size)}`],t.variant==="text"&&r[`text${ht(t.color)}`],t.variant==="outlined"&&r[`outlined${ht(t.color)}`],t.shape==="rounded"&&r.rounded,t.type==="page"&&r.page,(t.type==="start-ellipsis"||t.type==="end-ellipsis")&&r.ellipsis,(t.type==="previous"||t.type==="next")&&r.previousNext,(t.type==="first"||t.type==="last")&&r.firstLast]},wge=e=>{const{classes:r,color:t,disabled:n,selected:o,size:i,shape:a,type:s,variant:u}=e,l={root:["root",`size${ht(i)}`,u,a,t!=="standard"&&`color${ht(t)}`,t!=="standard"&&`${u}${ht(t)}`,n&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]};return Vt(l,gge,r)},Sge=Ye("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:Z7})(nr(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,height:"auto",[`&.${Bi.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}}]}))),Cge=Ye(Ev,{name:"MuiPaginationItem",slot:"Root",overridesResolver:Z7})(nr(({theme:e})=>({...e.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(e.vars||e).palette.text.primary,[`&.${Bi.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Bi.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bi.selected}`]:{backgroundColor:(e.vars||e).palette.action.selected,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${Bi.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fr(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},[`&.${Bi.disabled}`]:{opacity:1,color:(e.vars||e).palette.action.disabled,backgroundColor:(e.vars||e).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:e.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"outlined"},style:{border:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Bi.selected}`]:{[`&.${Bi.disabled}`]:{borderColor:(e.vars||e).palette.action.disabledBackground,color:(e.vars||e).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Bi.selected}`]:{[`&.${Bi.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}},...Object.entries(e.palette).filter(_o(["dark","contrastText"])).map(([r])=>({props:{variant:"text",color:r},style:{[`&.${Bi.selected}`]:{color:(e.vars||e).palette[r].contrastText,backgroundColor:(e.vars||e).palette[r].main,"&:hover":{backgroundColor:(e.vars||e).palette[r].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[r].main}},[`&.${Bi.focusVisible}`]:{backgroundColor:(e.vars||e).palette[r].dark},[`&.${Bi.disabled}`]:{color:(e.vars||e).palette.action.disabled}}}})),...Object.entries(e.palette).filter(_o(["light"])).map(([r])=>({props:{variant:"outlined",color:r},style:{[`&.${Bi.selected}`]:{color:(e.vars||e).palette[r].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:fr(e.palette[r].main,.5)}`,backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.activatedOpacity})`:fr(e.palette[r].main,e.palette.action.activatedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fr(e.palette[r].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Bi.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / calc(${e.vars.palette.action.activatedOpacity} + ${e.vars.palette.action.focusOpacity}))`:fr(e.palette[r].main,e.palette.action.activatedOpacity+e.palette.action.focusOpacity)}}}}))]}))),Ege=Ye("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,r)=>r.icon})(nr(({theme:e})=>({fontSize:e.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(22)}}]}))),kge=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiPaginationItem"}),{className:o,color:i="standard",component:a,components:s={},disabled:u=!1,page:l,selected:c=!1,shape:f="circular",size:d="medium",slots:p={},slotProps:h={},type:m="page",variant:y="text",...v}=n,g={...n,color:i,disabled:u,selected:c,shape:f,size:d,type:m,variant:y},x=q0(),b=wge(g),w={slots:{previous:p.previous??s.previous,next:p.next??s.next,first:p.first??s.first,last:p.last??s.last},slotProps:h},[E,C]=qr("previous",{elementType:bge,externalForwardedProps:w,ownerState:g}),[S,T]=qr("next",{elementType:_ge,externalForwardedProps:w,ownerState:g}),[k,P]=qr("first",{elementType:yge,externalForwardedProps:w,ownerState:g}),[I,F]=qr("last",{elementType:xge,externalForwardedProps:w,ownerState:g}),A=x?{previous:"next",next:"previous",first:"last",last:"first"}[m]:m,D={previous:E,next:S,first:k,last:I}[A],$={previous:C,next:T,first:P,last:F}[A];return m==="start-ellipsis"||m==="end-ellipsis"?O.jsx(Sge,{ref:t,ownerState:g,className:ct(b.root,o),children:"…"}):O.jsxs(Cge,{ref:t,ownerState:g,component:a,disabled:u,className:ct(b.root,o),...v,children:[m==="page"&&l,D?O.jsx(Ege,{...$,className:b.icon,as:D}):null]})}),Rge=e=>{const{classes:r,variant:t}=e;return Vt({root:["root",t],ul:["ul"]},vge,r)},Tge=Ye("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant]]}})({}),Age=Ye("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,r)=>r.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Oge(e,r,t){return e==="page"?`${t?"":"Go to "}page ${r}`:`Go to ${e} page`}const Dge=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiPagination"}),{boundaryCount:o=1,className:i,color:a="standard",count:s=1,defaultPage:u=1,disabled:l=!1,getItemAriaLabel:c=Oge,hideNextButton:f=!1,hidePrevButton:d=!1,onChange:p,page:h,renderItem:m=k=>O.jsx(kge,{...k}),shape:y="circular",showFirstButton:v=!1,showLastButton:g=!1,siblingCount:x=1,size:b="medium",variant:w="text",...E}=n,{items:C}=mge({...n,componentName:"Pagination"}),S={...n,boundaryCount:o,color:a,count:s,defaultPage:u,disabled:l,getItemAriaLabel:c,hideNextButton:f,hidePrevButton:d,renderItem:m,shape:y,showFirstButton:v,showLastButton:g,siblingCount:x,size:b,variant:w},T=Rge(S);return O.jsx(Tge,{"aria-label":"pagination navigation",className:ct(T.root,i),ownerState:S,ref:t,...E,children:O.jsx(Age,{className:T.ul,ownerState:S,children:C.map((k,P)=>O.jsx("li",{children:m({...k,color:a,"aria-label":c(k.type,k.page,k.selected),shape:y,size:b,variant:w})},P))})})}),Pge=xr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Ige=xr(O.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Nge=Ye("span",{shouldForwardProp:Vo})({position:"relative",display:"flex"}),Mge=Ye(Pge)({transform:"scale(1)"}),Fge=Ye(Ige)(nr(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function eV(e){const{checked:r=!1,classes:t={},fontSize:n}=e,o={...e,checked:r};return O.jsxs(Nge,{className:t.root,ownerState:o,children:[O.jsx(Mge,{fontSize:n,className:t.background,ownerState:o}),O.jsx(Fge,{fontSize:n,className:t.dot,ownerState:o})]})}const tV=N.createContext(void 0);function Lge(){return N.useContext(tV)}function Bge(e){return Ht("MuiRadio",e)}const tj=Qt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),jge=e=>{const{classes:r,color:t,size:n}=e,o={root:["root",`color${ht(t)}`,n!=="medium"&&`size${ht(n)}`]};return{...r,...Vt(o,Bge,r)}},$ge=Ye(z7,{shouldForwardProp:e=>Vo(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.size!=="medium"&&r[`size${ht(t.size)}`],r[`color${ht(t.color)}`]]}})(nr(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${tj.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:fr(e.palette[r].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(_o()).map(([r])=>({props:{color:r,disabled:!1},style:{[`&.${tj.checked}`]:{color:(e.vars||e).palette[r].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function zge(e,r){return typeof r=="object"&&r!==null?e===r:String(e)===String(r)}const rj=O.jsx(eV,{checked:!0}),nj=O.jsx(eV,{}),Wge=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiRadio"}),{checked:o,checkedIcon:i=rj,color:a="primary",icon:s=nj,name:u,onChange:l,size:c="medium",className:f,disabled:d,disableRipple:p=!1,...h}=n,m=ol();let y=d;m&&typeof y>"u"&&(y=m.disabled),y??(y=!1);const v={...n,disabled:y,disableRipple:p,color:a,size:c},g=jge(v),x=Lge();let b=o;const w=jO(l,x&&x.onChange);let E=u;return x&&(typeof b>"u"&&(b=zge(x.value,n.value)),typeof E>"u"&&(E=x.name)),O.jsx($ge,{type:"radio",icon:N.cloneElement(s,{fontSize:nj.props.fontSize??c}),checkedIcon:N.cloneElement(i,{fontSize:rj.props.fontSize??c}),disabled:y,ownerState:v,classes:g,name:E,checked:b,onChange:w,ref:t,className:ct(g.root,f),...h})});function Uge(e){return Ht("MuiRadioGroup",e)}Qt("MuiRadioGroup",["root","row","error"]);const qge=e=>{const{classes:r,row:t,error:n}=e;return Vt({root:["root",t&&"row",n&&"error"]},Uge,r)},Hge=N.forwardRef(function(r,t){const{actions:n,children:o,className:i,defaultValue:a,name:s,onChange:u,value:l,...c}=r,f=N.useRef(null),d=qge(r),[p,h]=Xh({controlled:l,default:a,name:"RadioGroup"});N.useImperativeHandle(n,()=>({focus:()=>{let g=f.current.querySelector("input:not(:disabled):checked");g||(g=f.current.querySelector("input:not(:disabled)")),g&&g.focus()}}),[]);const m=Nn(t,f),y=qd(s),v=N.useMemo(()=>({name:y,onChange(g){h(g.target.value),u&&u(g,g.target.value)},value:p}),[y,u,h,p]);return O.jsx(tV.Provider,{value:v,children:O.jsx(G7,{role:"radiogroup",ref:m,className:ct(d.root,i),...c,children:o})})});function rV(e){return Ht("MuiSelect",e)}const Vm=Qt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var oj;const Vge=Ye(Q7,{name:"MuiSelect",slot:"Select",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`&.${Vm.select}`]:r.select},{[`&.${Vm.select}`]:r[t.variant]},{[`&.${Vm.error}`]:r.error},{[`&.${Vm.multiple}`]:r.multiple}]}})({[`&.${Vm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Gge=Ye(J7,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.icon,t.variant&&r[`icon${ht(t.variant)}`],t.open&&r.iconOpen]}})({}),Yge=Ye("input",{shouldForwardProp:e=>E7(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,r)=>r.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ij(e,r){return typeof r=="object"&&r!==null?e===r:String(e)===String(r)}function Kge(e){return e==null||typeof e=="string"&&!e.trim()}const Xge=e=>{const{classes:r,variant:t,disabled:n,multiple:o,open:i,error:a}=e,s={select:["select",t,n&&"disabled",o&&"multiple",a&&"error"],icon:["icon",`icon${ht(t)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Vt(s,rV,r)},Qge=N.forwardRef(function(r,t){var Le;const{"aria-describedby":n,"aria-label":o,autoFocus:i,autoWidth:a,children:s,className:u,defaultOpen:l,defaultValue:c,disabled:f,displayEmpty:d,error:p=!1,IconComponent:h,inputRef:m,labelId:y,MenuProps:v={},multiple:g,name:x,onBlur:b,onChange:w,onClose:E,onFocus:C,onOpen:S,open:T,readOnly:k,renderValue:P,required:I,SelectDisplayProps:F={},tabIndex:A,type:D,value:$,variant:B="standard",...W}=r,[L,z]=Xh({controlled:$,default:c,name:"Select"}),[U,Y]=Xh({controlled:T,default:l,name:"Select"}),q=N.useRef(null),V=N.useRef(null),[H,Z]=N.useState(null),{current:ue}=N.useRef(T!=null),[oe,ee]=N.useState(),ne=Nn(t,m),pe=N.useCallback(Fe=>{V.current=Fe,Fe&&Z(Fe)},[]),J=H==null?void 0:H.parentNode;N.useImperativeHandle(ne,()=>({focus:()=>{V.current.focus()},node:q.current,value:L}),[L]),N.useEffect(()=>{l&&U&&H&&!ue&&(ee(a?null:J.clientWidth),V.current.focus())},[H,a]),N.useEffect(()=>{i&&V.current.focus()},[i]),N.useEffect(()=>{if(!y)return;const Fe=Ha(V.current).getElementById(y);if(Fe){const He=()=>{getSelection().isCollapsed&&V.current.focus()};return Fe.addEventListener("click",He),()=>{Fe.removeEventListener("click",He)}}},[y]);const se=(Fe,He)=>{Fe?S&&S(He):E&&E(He),ue||(ee(a?null:J.clientWidth),Y(Fe))},j=Fe=>{Fe.button===0&&(Fe.preventDefault(),V.current.focus(),se(!0,Fe))},ce=Fe=>{se(!1,Fe)},re=N.Children.toArray(s),Q=Fe=>{const He=re.find(gt=>gt.props.value===Fe.target.value);He!==void 0&&(z(He.props.value),w&&w(Fe,He))},G=Fe=>He=>{let gt;if(He.currentTarget.hasAttribute("tabindex")){if(g){gt=Array.isArray(L)?L.slice():[];const _t=L.indexOf(Fe.props.value);_t===-1?gt.push(Fe.props.value):gt.splice(_t,1)}else gt=Fe.props.value;if(Fe.props.onClick&&Fe.props.onClick(He),L!==gt&&(z(gt),w)){const _t=He.nativeEvent||He,At=new _t.constructor(_t.type,_t);Object.defineProperty(At,"target",{writable:!0,value:{value:gt,name:x}}),w(At,Fe)}g||se(!1,He)}},X=Fe=>{k||[" ","ArrowUp","ArrowDown","Enter"].includes(Fe.key)&&(Fe.preventDefault(),se(!0,Fe))},te=H!==null&&U,de=Fe=>{!te&&b&&(Object.defineProperty(Fe,"target",{writable:!0,value:{value:L,name:x}}),b(Fe))};delete W["aria-invalid"];let ae,ye;const ie=[];let he=!1;(S2({value:L})||d)&&(P?ae=P(L):he=!0);const _e=re.map(Fe=>{if(!N.isValidElement(Fe))return null;let He;if(g){if(!Array.isArray(L))throw new Error(Jl(2));He=L.some(gt=>ij(gt,Fe.props.value)),He&&he&&ie.push(Fe.props.children)}else He=ij(L,Fe.props.value),He&&he&&(ye=Fe.props.children);return N.cloneElement(Fe,{"aria-selected":He?"true":"false",onClick:G(Fe),onKeyUp:gt=>{gt.key===" "&&gt.preventDefault(),Fe.props.onKeyUp&&Fe.props.onKeyUp(gt)},role:"option",selected:He,value:void 0,"data-value":Fe.props.value})});he&&(g?ie.length===0?ae=null:ae=ie.reduce((Fe,He,gt)=>(Fe.push(He),gt<ie.length-1&&Fe.push(", "),Fe),[]):ae=ye);let Se=oe;!a&&ue&&H&&(Se=J.clientWidth);let xe;typeof A<"u"?xe=A:xe=f?null:0;const De=F.id||(x?`mui-component-select-${x}`:void 0),$e={...r,variant:B,value:L,open:te,error:p},Be=Xge($e),we={...v.PaperProps,...(Le=v.slotProps)==null?void 0:Le.paper},Me=qd();return O.jsxs(N.Fragment,{children:[O.jsx(Vge,{as:"div",ref:pe,tabIndex:xe,role:"combobox","aria-controls":te?Me:void 0,"aria-disabled":f?"true":void 0,"aria-expanded":te?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[y,De].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":I?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:X,onMouseDown:f||k?null:j,onBlur:de,onFocus:C,...F,ownerState:$e,className:ct(F.className,Be.select,u),id:De,children:Kge(ae)?oj||(oj=O.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ae}),O.jsx(Yge,{"aria-invalid":p,value:Array.isArray(L)?L.join(","):L,name:x,ref:q,"aria-hidden":!0,onChange:Q,tabIndex:-1,disabled:f,className:Be.nativeInput,autoFocus:i,required:I,...W,ownerState:$e}),O.jsx(Gge,{as:h,className:Be.icon,ownerState:$e}),O.jsx(Jme,{id:`menu-${x||""}`,anchorEl:J,open:te,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...v,MenuListProps:{"aria-labelledby":y,role:"listbox","aria-multiselectable":g?"true":void 0,disableListWrap:!0,id:Me,...v.MenuListProps},slotProps:{...v.slotProps,paper:{...we,style:{minWidth:Se,...we!=null?we.style:null}}},children:_e})]})}),Jge=e=>{const{classes:r}=e,n=Vt({root:["root"]},rV,r);return{...r,...n}},LI={name:"MuiSelect",overridesResolver:(e,r)=>r.root,shouldForwardProp:e=>Vo(e)&&e!=="variant",slot:"Root"},Zge=Ye(NI,LI)(""),e0e=Ye(FI,LI)(""),t0e=Ye(II,LI)(""),G0=N.forwardRef(function(r,t){const n=Jt({name:"MuiSelect",props:r}),{autoWidth:o=!1,children:i,classes:a={},className:s,defaultOpen:u=!1,displayEmpty:l=!1,IconComponent:c=ehe,id:f,input:d,inputProps:p,label:h,labelId:m,MenuProps:y,multiple:v=!1,native:g=!1,onClose:x,onOpen:b,open:w,renderValue:E,SelectDisplayProps:C,variant:S="outlined",...T}=n,k=g?sge:Qge,P=ol(),I=wf({props:n,muiFormControl:P,states:["variant","error"]}),F=I.variant||S,A={...n,variant:F,classes:a},D=Jge(A),{root:$,...B}=D,W=d||{standard:O.jsx(Zge,{ownerState:A}),outlined:O.jsx(e0e,{label:h,ownerState:A}),filled:O.jsx(t0e,{ownerState:A})}[F],L=Nn(t,Hd(W));return O.jsx(N.Fragment,{children:N.cloneElement(W,{inputComponent:k,inputProps:{children:i,error:I.error,IconComponent:c,variant:F,type:void 0,multiple:v,...g?{id:f}:{autoWidth:o,defaultOpen:u,displayEmpty:l,labelId:m,MenuProps:y,onClose:x,onOpen:b,open:w,renderValue:E,SelectDisplayProps:{id:f,...C}},...p,classes:p?zo(B,p.classes):B,...d?d.props.inputProps:{}},...(v&&g||l)&&F==="outlined"?{notched:!0}:{},ref:L,className:ct(W.props.className,s,D.root),...!d&&{variant:F},...T})})});G0.muiName="Select";function r0e(e){return Ht("MuiTooltip",e)}const Zn=Qt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function n0e(e){return Math.round(e*1e5)/1e5}const o0e=e=>{const{classes:r,disableInteractive:t,arrow:n,touch:o,placement:i}=e,a={popper:["popper",!t&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",o&&"touch",`tooltipPlacement${ht(i.split("-")[0])}`],arrow:["arrow"]};return Vt(a,r0e,r)},i0e=Ye(B7,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.popper,!t.disableInteractive&&r.popperInteractive,t.arrow&&r.popperArrow,!t.open&&r.popperClose]}})(nr(({theme:e})=>({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:r})=>!r.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:r})=>!r,style:{pointerEvents:"none"}},{props:({ownerState:r})=>r.arrow,style:{[`&[data-popper-placement*="bottom"] .${Zn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Zn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Zn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${Zn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:r})=>r.arrow&&!r.isRtl,style:{[`&[data-popper-placement*="right"] .${Zn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:r})=>r.arrow&&!!r.isRtl,style:{[`&[data-popper-placement*="right"] .${Zn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:r})=>r.arrow&&!r.isRtl,style:{[`&[data-popper-placement*="left"] .${Zn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:r})=>r.arrow&&!!r.isRtl,style:{[`&[data-popper-placement*="left"] .${Zn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),a0e=Ye("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.tooltip,t.touch&&r.touch,t.arrow&&r.tooltipArrow,r[`tooltipPlacement${ht(t.placement.split("-")[0])}`]]}})(nr(({theme:e})=>({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:fr(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium,[`.${Zn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${Zn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${Zn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${Zn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:r})=>r.arrow,style:{position:"relative",margin:0}},{props:({ownerState:r})=>r.touch,style:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${n0e(16/14)}em`,fontWeight:e.typography.fontWeightRegular}},{props:({ownerState:r})=>!r.isRtl,style:{[`.${Zn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${Zn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:r})=>!r.isRtl&&r.touch,style:{[`.${Zn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${Zn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:r})=>!!r.isRtl,style:{[`.${Zn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${Zn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:r})=>!!r.isRtl&&r.touch,style:{[`.${Zn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${Zn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:r})=>r.touch,style:{[`.${Zn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:r})=>r.touch,style:{[`.${Zn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),s0e=Ye("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,r)=>r.arrow})(nr(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:fr(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Lx=!1;const aj=new pS;let Gm={x:0,y:0};function Bx(e,r){return(t,...n)=>{r&&r(t,...n),e(t,...n)}}const wd=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTooltip"}),{arrow:o=!1,children:i,classes:a,components:s={},componentsProps:u={},describeChild:l=!1,disableFocusListener:c=!1,disableHoverListener:f=!1,disableInteractive:d=!1,disableTouchListener:p=!1,enterDelay:h=100,enterNextDelay:m=0,enterTouchDelay:y=700,followCursor:v=!1,id:g,leaveDelay:x=0,leaveTouchDelay:b=1500,onClose:w,onOpen:E,open:C,placement:S="bottom",PopperComponent:T,PopperProps:k={},slotProps:P={},slots:I={},title:F,TransitionComponent:A,TransitionProps:D,...$}=n,B=N.isValidElement(i)?i:O.jsx("span",{children:i}),W=Sr(),L=q0(),[z,U]=N.useState(),[Y,q]=N.useState(null),V=N.useRef(!1),H=d||v,Z=pd(),ue=pd(),oe=pd(),ee=pd(),[ne,pe]=Xh({controlled:C,default:!1,name:"Tooltip",state:"open"});let J=ne;const se=qd(g),j=N.useRef(),ce=Jc(()=>{j.current!==void 0&&(document.body.style.WebkitUserSelect=j.current,j.current=void 0),ee.clear()});N.useEffect(()=>ce,[ce]);const re=$t=>{aj.clear(),Lx=!0,pe(!0),E&&!J&&E($t)},Q=Jc($t=>{aj.start(800+x,()=>{Lx=!1}),pe(!1),w&&J&&w($t),Z.start(W.transitions.duration.shortest,()=>{V.current=!1})}),G=$t=>{V.current&&$t.type!=="touchstart"||(z&&z.removeAttribute("title"),ue.clear(),oe.clear(),h||Lx&&m?ue.start(Lx?m:h,()=>{re($t)}):re($t))},X=$t=>{ue.clear(),oe.start(x,()=>{Q($t)})},[,te]=N.useState(!1),de=$t=>{Qh($t.target)||(te(!1),X($t))},ae=$t=>{z||U($t.currentTarget),Qh($t.target)&&(te(!0),G($t))},ye=$t=>{V.current=!0;const Xr=B.props;Xr.onTouchStart&&Xr.onTouchStart($t)},ie=$t=>{ye($t),oe.clear(),Z.clear(),ce(),j.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ee.start(y,()=>{document.body.style.WebkitUserSelect=j.current,G($t)})},he=$t=>{B.props.onTouchEnd&&B.props.onTouchEnd($t),ce(),oe.start(b,()=>{Q($t)})};N.useEffect(()=>{if(!J)return;function $t(Xr){Xr.key==="Escape"&&Q(Xr)}return document.addEventListener("keydown",$t),()=>{document.removeEventListener("keydown",$t)}},[Q,J]);const _e=Nn(Hd(B),U,t);!F&&F!==0&&(J=!1);const Se=N.useRef(),xe=$t=>{const Xr=B.props;Xr.onMouseMove&&Xr.onMouseMove($t),Gm={x:$t.clientX,y:$t.clientY},Se.current&&Se.current.update()},De={},$e=typeof F=="string";l?(De.title=!J&&$e&&!f?F:null,De["aria-describedby"]=J?se:null):(De["aria-label"]=$e?F:null,De["aria-labelledby"]=J&&!$e?se:null);const Be={...De,...$,...B.props,className:ct($.className,B.props.className),onTouchStart:ye,ref:_e,...v?{onMouseMove:xe}:{}},we={};p||(Be.onTouchStart=ie,Be.onTouchEnd=he),f||(Be.onMouseOver=Bx(G,Be.onMouseOver),Be.onMouseLeave=Bx(X,Be.onMouseLeave),H||(we.onMouseOver=G,we.onMouseLeave=X)),c||(Be.onFocus=Bx(ae,Be.onFocus),Be.onBlur=Bx(de,Be.onBlur),H||(we.onFocus=ae,we.onBlur=de));const Me={...n,isRtl:L,arrow:o,disableInteractive:H,placement:S,PopperComponentProp:T,touch:V.current},Le=typeof P.popper=="function"?P.popper(Me):P.popper,Fe=N.useMemo(()=>{var Xr,Mn;let $t=[{name:"arrow",enabled:!!Y,options:{element:Y,padding:4}}];return(Xr=k.popperOptions)!=null&&Xr.modifiers&&($t=$t.concat(k.popperOptions.modifiers)),(Mn=Le==null?void 0:Le.popperOptions)!=null&&Mn.modifiers&&($t=$t.concat(Le.popperOptions.modifiers)),{...k.popperOptions,...Le==null?void 0:Le.popperOptions,modifiers:$t}},[Y,k.popperOptions,Le==null?void 0:Le.popperOptions]),He=o0e(Me),gt=typeof P.transition=="function"?P.transition(Me):P.transition,_t={slots:{popper:s.Popper,transition:s.Transition??A,tooltip:s.Tooltip,arrow:s.Arrow,...I},slotProps:{arrow:P.arrow??u.arrow,popper:{...k,...Le??u.popper},tooltip:P.tooltip??u.tooltip,transition:{...D,...gt??u.transition}}},[At,or]=qr("popper",{elementType:i0e,externalForwardedProps:_t,ownerState:Me,className:ct(He.popper,k==null?void 0:k.className)}),[Cr,vr]=qr("transition",{elementType:E2,externalForwardedProps:_t,ownerState:Me}),[br,Lr]=qr("tooltip",{elementType:a0e,className:He.tooltip,externalForwardedProps:_t,ownerState:Me}),[Tr,Br]=qr("arrow",{elementType:s0e,className:He.arrow,externalForwardedProps:_t,ownerState:Me,ref:q});return O.jsxs(N.Fragment,{children:[N.cloneElement(B,Be),O.jsx(At,{as:T??B7,placement:S,anchorEl:v?{getBoundingClientRect:()=>({top:Gm.y,left:Gm.x,right:Gm.x,bottom:Gm.y,width:0,height:0})}:z,popperRef:Se,open:z?J:!1,id:se,transition:!0,...we,...or,popperOptions:Fe,children:({TransitionProps:$t})=>O.jsx(Cr,{timeout:W.transitions.duration.shorter,...$t,...vr,children:O.jsxs(br,{...Lr,children:[F,o?O.jsx(Tr,{...Br}):null]})})})]})}),nV=Bce({createStyledComponent:Ye("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,r)=>r.root}),useThemeProps:e=>Jt({props:e,name:"MuiStack"})}),oV=N.createContext();function u0e(e){return Ht("MuiTable",e)}Qt("MuiTable",["root","stickyHeader"]);const l0e=e=>{const{classes:r,stickyHeader:t}=e;return Vt({root:["root",t&&"stickyHeader"]},u0e,r)},c0e=Ye("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.stickyHeader&&r.stickyHeader]}})(nr(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:r})=>r.stickyHeader,style:{borderCollapse:"separate"}}]}))),sj="table",BI=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTable"}),{className:o,component:i=sj,padding:a="normal",size:s="medium",stickyHeader:u=!1,...l}=n,c={...n,component:i,padding:a,size:s,stickyHeader:u},f=l0e(c),d=N.useMemo(()=>({padding:a,size:s,stickyHeader:u}),[a,s,u]);return O.jsx(oV.Provider,{value:d,children:O.jsx(c0e,{as:i,role:i===sj?null:"table",ref:t,className:ct(f.root,o),ownerState:c,...l})})}),SS=N.createContext();function f0e(e){return Ht("MuiTableBody",e)}Qt("MuiTableBody",["root"]);const d0e=e=>{const{classes:r}=e;return Vt({root:["root"]},f0e,r)},p0e=Ye("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-row-group"}),h0e={variant:"body"},uj="tbody",jI=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTableBody"}),{className:o,component:i=uj,...a}=n,s={...n,component:i},u=d0e(s);return O.jsx(SS.Provider,{value:h0e,children:O.jsx(p0e,{className:ct(u.root,o),as:i,ref:t,role:i===uj?null:"rowgroup",ownerState:s,...a})})});function v0e(e){return Ht("MuiTableCell",e)}const m0e=Qt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),g0e=e=>{const{classes:r,variant:t,align:n,padding:o,size:i,stickyHeader:a}=e,s={root:["root",t,a&&"stickyHeader",n!=="inherit"&&`align${ht(n)}`,o!=="normal"&&`padding${ht(o)}`,`size${ht(i)}`]};return Vt(s,v0e,r)},y0e=Ye("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`size${ht(t.size)}`],t.padding!=="normal"&&r[`padding${ht(t.padding)}`],t.align!=="inherit"&&r[`align${ht(t.align)}`],t.stickyHeader&&r.stickyHeader]}})(nr(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?Kh(fr(e.palette.divider,1),.88):Yh(fr(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${m0e.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:r})=>r.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),Fo=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTableCell"}),{align:o="inherit",className:i,component:a,padding:s,scope:u,size:l,sortDirection:c,variant:f,...d}=n,p=N.useContext(oV),h=N.useContext(SS),m=h&&h.variant==="head";let y;a?y=a:y=m?"th":"td";let v=u;y==="td"?v=void 0:!v&&m&&(v="col");const g=f||h&&h.variant,x={...n,align:o,component:y,padding:s||(p&&p.padding?p.padding:"normal"),size:l||(p&&p.size?p.size:"medium"),sortDirection:c,stickyHeader:g==="head"&&p&&p.stickyHeader,variant:g},b=g0e(x);let w=null;return c&&(w=c==="asc"?"ascending":"descending"),O.jsx(y0e,{as:y,ref:t,className:ct(b.root,i),"aria-sort":w,scope:v,ownerState:x,...d})});function x0e(e){return Ht("MuiTableContainer",e)}Qt("MuiTableContainer",["root"]);const b0e=e=>{const{classes:r}=e;return Vt({root:["root"]},x0e,r)},_0e=Ye("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,r)=>r.root})({width:"100%",overflowX:"auto"}),iV=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTableContainer"}),{className:o,component:i="div",...a}=n,s={...n,component:i},u=b0e(s);return O.jsx(_0e,{ref:t,as:i,className:ct(u.root,o),ownerState:s,...a})});function w0e(e){return Ht("MuiTableHead",e)}Qt("MuiTableHead",["root"]);const S0e=e=>{const{classes:r}=e;return Vt({root:["root"]},w0e,r)},C0e=Ye("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"table-header-group"}),E0e={variant:"head"},lj="thead",aV=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTableHead"}),{className:o,component:i=lj,...a}=n,s={...n,component:i},u=S0e(s);return O.jsx(SS.Provider,{value:E0e,children:O.jsx(C0e,{as:i,className:ct(u.root,o),ref:t,role:i===lj?null:"rowgroup",ownerState:s,...a})})});function k0e(e){return Ht("MuiTableRow",e)}const cj=Qt("MuiTableRow",["root","selected","hover","head","footer"]),R0e=e=>{const{classes:r,selected:t,hover:n,head:o,footer:i}=e;return Vt({root:["root",t&&"selected",n&&"hover",o&&"head",i&&"footer"]},k0e,r)},T0e=Ye("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.head&&r.head,t.footer&&r.footer]}})(nr(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${cj.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${cj.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),fj="tr",ia=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTableRow"}),{className:o,component:i=fj,hover:a=!1,selected:s=!1,...u}=n,l=N.useContext(SS),c={...n,component:i,hover:a,selected:s,head:l&&l.variant==="head",footer:l&&l.variant==="footer"},f=R0e(c);return O.jsx(T0e,{as:i,ref:t,className:ct(f.root,o),role:i===fj?null:"row",ownerState:c,...u})});function A0e(e){return Ht("MuiTextField",e)}Qt("MuiTextField",["root"]);const O0e={standard:NI,filled:II,outlined:FI},D0e=e=>{const{classes:r}=e;return Vt({root:["root"]},A0e,r)},P0e=Ye(xa,{name:"MuiTextField",slot:"Root",overridesResolver:(e,r)=>r.root})({}),Ga=N.forwardRef(function(r,t){const n=Jt({props:r,name:"MuiTextField"}),{autoComplete:o,autoFocus:i=!1,children:a,className:s,color:u="primary",defaultValue:l,disabled:c=!1,error:f=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:h,id:m,InputLabelProps:y,inputProps:v,InputProps:g,inputRef:x,label:b,maxRows:w,minRows:E,multiline:C=!1,name:S,onBlur:T,onChange:k,onFocus:P,placeholder:I,required:F=!1,rows:A,select:D=!1,SelectProps:$,slots:B={},slotProps:W={},type:L,value:z,variant:U="outlined",...Y}=n,q={...n,autoFocus:i,color:u,disabled:c,error:f,fullWidth:p,multiline:C,required:F,select:D,variant:U},V=D0e(q),H=qd(m),Z=h&&H?`${H}-helper-text`:void 0,ue=b&&H?`${H}-label`:void 0,oe=O0e[U],ee={slots:B,slotProps:{input:g,inputLabel:y,htmlInput:v,formHelperText:d,select:$,...W}},ne={},pe=ee.slotProps.inputLabel;U==="outlined"&&(pe&&typeof pe.shrink<"u"&&(ne.notched=pe.shrink),ne.label=b),D&&((!$||!$.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const[J,se]=qr("input",{elementType:oe,externalForwardedProps:ee,additionalProps:ne,ownerState:q}),[j,ce]=qr("inputLabel",{elementType:pme,externalForwardedProps:ee,ownerState:q}),[re,Q]=qr("htmlInput",{elementType:"input",externalForwardedProps:ee,ownerState:q}),[G,X]=qr("formHelperText",{elementType:tme,externalForwardedProps:ee,ownerState:q}),[te,de]=qr("select",{elementType:G0,externalForwardedProps:ee,ownerState:q}),ae=O.jsx(J,{"aria-describedby":Z,autoComplete:o,autoFocus:i,defaultValue:l,fullWidth:p,multiline:C,name:S,rows:A,maxRows:w,minRows:E,type:L,value:z,id:H,inputRef:x,onBlur:T,onChange:k,onFocus:P,placeholder:I,inputProps:Q,slots:{input:B.htmlInput?re:void 0},...se});return O.jsxs(P0e,{className:ct(V.root,s),disabled:c,error:f,fullWidth:p,ref:t,required:F,color:u,variant:U,ownerState:q,...Y,children:[b!=null&&b!==""&&O.jsx(j,{htmlFor:H,id:ue,...ce,children:b}),D?O.jsx(te,{"aria-describedby":Z,id:H,labelId:ue,value:z,input:ae,...de,children:a}):ae,h&&O.jsx(G,{id:Z,...X,children:h})]})});var I0e=typeof Element<"u",N0e=typeof Map=="function",M0e=typeof Set=="function",F0e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function P_(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,n,o;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(n=t;n--!==0;)if(!P_(e[n],r[n]))return!1;return!0}var i;if(N0e&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!r.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!P_(n.value[1],r.get(n.value[0])))return!1;return!0}if(M0e&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!r.has(n.value[0]))return!1;return!0}if(F0e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(t=e.length,t!=r.length)return!1;for(n=t;n--!==0;)if(e[n]!==r[n])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof r.valueOf=="function")return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof r.toString=="function")return e.toString()===r.toString();if(o=Object.keys(e),t=o.length,t!==Object.keys(r).length)return!1;for(n=t;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;if(I0e&&e instanceof Element)return!1;for(n=t;n--!==0;)if(!((o[n]==="_owner"||o[n]==="__v"||o[n]==="__o")&&e.$$typeof)&&!P_(e[o[n]],r[o[n]]))return!1;return!0}return e!==e&&r!==r}var L0e=function(r,t){try{return P_(r,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const B0e=rl(L0e);var j0e=function(e,r,t,n,o,i,a,s){if(!e){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[t,n,o,i,a,s],c=0;u=new Error(r.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},$0e=j0e;const dj=rl($0e);var z0e=function(r,t,n,o){var i=n?n.call(o,r,t):void 0;if(i!==void 0)return!!i;if(r===t)return!0;if(typeof r!="object"||!r||typeof t!="object"||!t)return!1;var a=Object.keys(r),s=Object.keys(t);if(a.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!u(c))return!1;var f=r[c],d=t[c];if(i=n?n.call(o,f,d,c):void 0,i===!1||i===void 0&&f!==d)return!1}return!0};const W0e=rl(z0e);var sV=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(sV||{}),Ok={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},pj=Object.values(sV),$I={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},U0e=Object.entries($I).reduce((e,[r,t])=>(e[t]=r,e),{}),Hs="data-rh",Eh={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},kh=(e,r)=>{for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(Object.prototype.hasOwnProperty.call(n,r))return n[r]}return null},q0e=e=>{let r=kh(e,"title");const t=kh(e,Eh.TITLE_TEMPLATE);if(Array.isArray(r)&&(r=r.join("")),t&&r)return t.replace(/%s/g,()=>r);const n=kh(e,Eh.DEFAULT_TITLE);return r||n||void 0},H0e=e=>kh(e,Eh.ON_CHANGE_CLIENT_STATE)||(()=>{}),Dk=(e,r)=>r.filter(t=>typeof t[e]<"u").map(t=>t[e]).reduce((t,n)=>({...t,...n}),{}),V0e=(e,r)=>r.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,n)=>{if(!t.length){const o=Object.keys(n);for(let i=0;i<o.length;i+=1){const s=o[i].toLowerCase();if(e.indexOf(s)!==-1&&n[s])return t.concat(n)}}return t},[]),G0e=e=>console&&typeof console.warn=="function"&&console.warn(e),Ym=(e,r,t)=>{const n={};return t.filter(o=>Array.isArray(o[e])?!0:(typeof o[e]<"u"&&G0e(`Helmet: ${e} should be of type "Array". Instead found type "${typeof o[e]}"`),!1)).map(o=>o[e]).reverse().reduce((o,i)=>{const a={};i.filter(u=>{let l;const c=Object.keys(u);for(let d=0;d<c.length;d+=1){const p=c[d],h=p.toLowerCase();r.indexOf(h)!==-1&&!(l==="rel"&&u[l].toLowerCase()==="canonical")&&!(h==="rel"&&u[h].toLowerCase()==="stylesheet")&&(l=h),r.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(l=p)}if(!l||!u[l])return!1;const f=u[l].toLowerCase();return n[l]||(n[l]={}),a[l]||(a[l]={}),n[l][f]?!1:(a[l][f]=!0,!0)}).reverse().forEach(u=>o.push(u));const s=Object.keys(a);for(let u=0;u<s.length;u+=1){const l=s[u],c={...n[l],...a[l]};n[l]=c}return o},[]).reverse()},Y0e=(e,r)=>{if(Array.isArray(e)&&e.length){for(let t=0;t<e.length;t+=1)if(e[t][r])return!0}return!1},K0e=e=>({baseTag:V0e(["href"],e),bodyAttributes:Dk("bodyAttributes",e),defer:kh(e,Eh.DEFER),encode:kh(e,Eh.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Dk("htmlAttributes",e),linkTags:Ym("link",["rel","href"],e),metaTags:Ym("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ym("noscript",["innerHTML"],e),onChangeClientState:H0e(e),scriptTags:Ym("script",["src","innerHTML"],e),styleTags:Ym("style",["cssText"],e),title:q0e(e),titleAttributes:Dk("titleAttributes",e),prioritizeSeoTags:Y0e(e,Eh.PRIORITIZE_SEO_TAGS)}),uV=e=>Array.isArray(e)?e.join(""):e,X0e=(e,r)=>{const t=Object.keys(e);for(let n=0;n<t.length;n+=1)if(r[t[n]]&&r[t[n]].includes(e[t[n]]))return!0;return!1},Pk=(e,r)=>Array.isArray(e)?e.reduce((t,n)=>(X0e(n,r)?t.priority.push(n):t.default.push(n),t),{priority:[],default:[]}):{default:e,priority:[]},hj=(e,r)=>({...e,[r]:void 0}),Q0e=["noscript","script","style"],nD=(e,r=!0)=>r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),lV=e=>Object.keys(e).reduce((r,t)=>{const n=typeof e[t]<"u"?`${t}="${e[t]}"`:`${t}`;return r?`${r} ${n}`:n},""),J0e=(e,r,t,n)=>{const o=lV(t),i=uV(r);return o?`<${e} ${Hs}="true" ${o}>${nD(i,n)}</${e}>`:`<${e} ${Hs}="true">${nD(i,n)}</${e}>`},Z0e=(e,r,t=!0)=>r.reduce((n,o)=>{const i=o,a=Object.keys(i).filter(l=>!(l==="innerHTML"||l==="cssText")).reduce((l,c)=>{const f=typeof i[c]>"u"?c:`${c}="${nD(i[c],t)}"`;return l?`${l} ${f}`:f},""),s=i.innerHTML||i.cssText||"",u=Q0e.indexOf(e)===-1;return`${n}<${e} ${Hs}="true" ${a}${u?"/>":`>${s}</${e}>`}`},""),cV=(e,r={})=>Object.keys(e).reduce((t,n)=>{const o=$I[n];return t[o||n]=e[n],t},r),eye=(e,r,t)=>{const n={key:r,[Hs]:!0},o=cV(t,n);return[qe.createElement("title",o,r)]},I_=(e,r)=>r.map((t,n)=>{const o={key:n,[Hs]:!0};return Object.keys(t).forEach(i=>{const s=$I[i]||i;if(s==="innerHTML"||s==="cssText"){const u=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[s]=t[i]}),qe.createElement(e,o)}),ls=(e,r,t=!0)=>{switch(e){case"title":return{toComponent:()=>eye(e,r.title,r.titleAttributes),toString:()=>J0e(e,r.title,r.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>cV(r),toString:()=>lV(r)};default:return{toComponent:()=>I_(e,r),toString:()=>Z0e(e,r,t)}}},tye=({metaTags:e,linkTags:r,scriptTags:t,encode:n})=>{const o=Pk(e,Ok.meta),i=Pk(r,Ok.link),a=Pk(t,Ok.script);return{priorityMethods:{toComponent:()=>[...I_("meta",o.priority),...I_("link",i.priority),...I_("script",a.priority)],toString:()=>`${ls("meta",o.priority,n)} ${ls("link",i.priority,n)} ${ls("script",a.priority,n)}`},metaTags:o.default,linkTags:i.default,scriptTags:a.default}},rye=e=>{const{baseTag:r,bodyAttributes:t,encode:n=!0,htmlAttributes:o,noscriptTags:i,styleTags:a,title:s="",titleAttributes:u,prioritizeSeoTags:l}=e;let{linkTags:c,metaTags:f,scriptTags:d}=e,p={toComponent:()=>{},toString:()=>""};return l&&({priorityMethods:p,linkTags:c,metaTags:f,scriptTags:d}=tye(e)),{priority:p,base:ls("base",r,n),bodyAttributes:ls("bodyAttributes",t,n),htmlAttributes:ls("htmlAttributes",o,n),link:ls("link",c,n),meta:ls("meta",f,n),noscript:ls("noscript",i,n),script:ls("script",d,n),style:ls("style",a,n),title:ls("title",{title:s,titleAttributes:u},n)}},oD=rye,jx=[],fV=!!(typeof window<"u"&&window.document&&window.document.createElement),iD=class{constructor(e,r){bt(this,"instances",[]);bt(this,"canUseDOM",fV);bt(this,"context");bt(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?jx:this.instances,add:e=>{(this.canUseDOM?jx:this.instances).push(e)},remove:e=>{const r=(this.canUseDOM?jx:this.instances).indexOf(e);(this.canUseDOM?jx:this.instances).splice(r,1)}}});this.context=e,this.canUseDOM=r||!1,r||(e.helmet=oD({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},nye={},dV=qe.createContext(nye),yd,pV=(yd=class extends N.Component{constructor(t){super(t);bt(this,"helmetData");this.helmetData=new iD(this.props.context||{},yd.canUseDOM)}render(){return qe.createElement(dV.Provider,{value:this.helmetData.value},this.props.children)}},bt(yd,"canUseDOM",fV),yd),Lp=(e,r)=>{const t=document.head||document.querySelector("head"),n=t.querySelectorAll(`${e}[${Hs}]`),o=[].slice.call(n),i=[];let a;return r&&r.length&&r.forEach(s=>{const u=document.createElement(e);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l))if(l==="innerHTML")u.innerHTML=s.innerHTML;else if(l==="cssText")u.styleSheet?u.styleSheet.cssText=s.cssText:u.appendChild(document.createTextNode(s.cssText));else{const c=l,f=typeof s[c]>"u"?"":s[c];u.setAttribute(l,f)}u.setAttribute(Hs,"true"),o.some((l,c)=>(a=c,u.isEqualNode(l)))?o.splice(a,1):i.push(u)}),o.forEach(s=>{var u;return(u=s.parentNode)==null?void 0:u.removeChild(s)}),i.forEach(s=>t.appendChild(s)),{oldTags:o,newTags:i}},aD=(e,r)=>{const t=document.getElementsByTagName(e)[0];if(!t)return;const n=t.getAttribute(Hs),o=n?n.split(","):[],i=[...o],a=Object.keys(r);for(const s of a){const u=r[s]||"";t.getAttribute(s)!==u&&t.setAttribute(s,u),o.indexOf(s)===-1&&o.push(s);const l=i.indexOf(s);l!==-1&&i.splice(l,1)}for(let s=i.length-1;s>=0;s-=1)t.removeAttribute(i[s]);o.length===i.length?t.removeAttribute(Hs):t.getAttribute(Hs)!==a.join(",")&&t.setAttribute(Hs,a.join(","))},oye=(e,r)=>{typeof e<"u"&&document.title!==e&&(document.title=uV(e)),aD("title",r)},vj=(e,r)=>{const{baseTag:t,bodyAttributes:n,htmlAttributes:o,linkTags:i,metaTags:a,noscriptTags:s,onChangeClientState:u,scriptTags:l,styleTags:c,title:f,titleAttributes:d}=e;aD("body",n),aD("html",o),oye(f,d);const p={baseTag:Lp("base",t),linkTags:Lp("link",i),metaTags:Lp("meta",a),noscriptTags:Lp("noscript",s),scriptTags:Lp("script",l),styleTags:Lp("style",c)},h={},m={};Object.keys(p).forEach(y=>{const{newTags:v,oldTags:g}=p[y];v.length&&(h[y]=v),g.length&&(m[y]=p[y].oldTags)}),r&&r(),u(e,h,m)},Km=null,iye=e=>{Km&&cancelAnimationFrame(Km),e.defer?Km=requestAnimationFrame(()=>{vj(e,()=>{Km=null})}):(vj(e),Km=null)},aye=iye,mj=class extends N.Component{constructor(){super(...arguments);bt(this,"rendered",!1)}shouldComponentUpdate(r){return!W0e(r,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:r}=this.props.context;r.remove(this),this.emitChange()}emitChange(){const{helmetInstances:r,setHelmet:t}=this.props.context;let n=null;const o=K0e(r.get().map(i=>{const a={...i.props};return delete a.context,a}));pV.canUseDOM?aye(o):oD&&(n=oD(o)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:r}=this.props.context;r.add(this),this.emitChange()}render(){return this.init(),null}},MA,CS=(MA=class extends N.Component{shouldComponentUpdate(e){return!B0e(hj(this.props,"helmetData"),hj(e,"helmetData"))}mapNestedChildrenToProps(e,r){if(!r)return null;switch(e.type){case"script":case"noscript":return{innerHTML:r};case"style":return{cssText:r};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,r,t,n){return{...r,[e.type]:[...r[e.type]||[],{...t,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,r,t,n){switch(e.type){case"title":return{...r,[e.type]:n,titleAttributes:{...t}};case"body":return{...r,bodyAttributes:{...t}};case"html":return{...r,htmlAttributes:{...t}};default:return{...r,[e.type]:{...t}}}}mapArrayTypeChildrenToProps(e,r){let t={...r};return Object.keys(e).forEach(n=>{t={...t,[n]:e[n]}}),t}warnOnInvalidChildren(e,r){return dj(pj.some(t=>e.type===t),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${pj.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),dj(!r||typeof r=="string"||Array.isArray(r)&&!r.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,r){let t={};return qe.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:o,...i}=n.props,a=Object.keys(i).reduce((u,l)=>(u[U0e[l]||l]=i[l],u),{});let{type:s}=n;switch(typeof s=="symbol"?s=s.toString():this.warnOnInvalidChildren(n,o),s){case"Symbol(react.fragment)":r=this.mapChildrenToProps(o,r);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(n,t,a,o);break;default:r=this.mapObjectTypeChildren(n,r,a,o);break}}),this.mapArrayTypeChildrenToProps(t,r)}render(){const{children:e,...r}=this.props;let t={...r},{helmetData:n}=r;if(e&&(t=this.mapChildrenToProps(e,t)),n&&!(n instanceof iD)){const o=n;n=new iD(o.context,!0),delete t.helmetData}return n?qe.createElement(mj,{...t,context:n.value}):qe.createElement(dV.Consumer,null,o=>qe.createElement(mj,{...t,context:o}))}},bt(MA,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),MA);const tr=N.createContext({}),$x={SEND_OTP:"/v1/auth/send-otp",VERIFY_OTP:"/v1/auth/verify-otp",GET_TOKEN:"/v1/auth/get-token",REFRESH_TOKEN:"/v1/auth/refresh-token"},zx={"Content-Type":"application/json",accept:"application/json"};function Tv(){const{configData:e}=N.useContext(tr),r=async a=>{if(!a.ok&&a.status===401){const s=await a.json();throw new Error(s.message)}if(!a.ok&&a.status!==401)throw new Error("Failed to Send OTP! Contact the Administrator.");return a.json()};return{postSendOtp:async(a,s="")=>{const u=s?{contact_id:a,operation:s}:{contact_id:a},l=await fetch((e==null?void 0:e.api_path)+$x.SEND_OTP,{method:"POST",headers:zx,body:JSON.stringify(u)});return r(l)},postVerifyOtp:async(a,s,u)=>{const l=await fetch((e==null?void 0:e.api_path)+$x.VERIFY_OTP,{method:"POST",headers:zx,body:JSON.stringify({contact_id:a,otp:s,transaction_id:u})});return r(l)},getLyikUserToken:async(a,s)=>{const u=await fetch((e==null?void 0:e.api_path)+$x.GET_TOKEN,{method:"POST",headers:zx,body:JSON.stringify({contact_id:a,auth_code:s})});return r(u)},refreshToken:async a=>{const s=await fetch((e==null?void 0:e.api_path)+$x.REFRESH_TOKEN,{method:"POST",headers:{...zx,Authorization:`Bearer ${a}`},body:JSON.stringify({})});return r(s)}}}const Y0=()=>{const[e,r]=N.useState(null),[t,n]=N.useState(!0),[o,i]=N.useState(null),[a,s]=N.useState(null),u=async()=>{try{const d=await(await fetch("/defaults/config/config.json")).json();return s(d),sessionStorage.setItem("configData",JSON.stringify(d)),d}catch(f){console.error("Error fetching config data:",f)}},l=async()=>{try{n(!0),i(null);let f;if(a||(f=await u()),f){const d=(f==null?void 0:f.api_path)||"",p=await fetch(`${d}/v1/mgmt/organization/logo`,{method:"GET"});if(p.status===500)throw new Error("500");if(!p.ok)throw new Error("Failed to fetch organization logo! Internal Server Error! Please Try Again or Contact the Administrator!");const h=await p.blob(),m=new FileReader;m.onloadend=()=>{const y=m.result;r(y),n(!1)},m.readAsDataURL(h)}}catch(f){i(f.message),n(!1)}},c=()=>{l()};return N.useEffect(()=>{l()},[]),{logo:e,isLoading:t,error:o,refreshLogo:c}},zI=()=>{const[e,r]=N.useState(null),[t,n]=N.useState(!0),[o,i]=N.useState(null),[a,s]=N.useState(null),u=async()=>{try{const d=await(await fetch("/defaults/config/config.json")).json();return s(d),sessionStorage.setItem("configData",JSON.stringify(d)),d}catch(f){console.error("Error fetching config data:",f)}},l=async()=>{try{n(!0),i(null);let f;if(a||(f=await u()),f){const d=(f==null?void 0:f.api_path)||"",p=await fetch(`${d}/v1/mgmt/organization/logo?logo_type=small_logo`,{method:"GET"});if(!p.ok)throw new Error("Failed to fetch organization logo! Internal Server Error! Please Try Again or Contact the Administrator!");const h=await p.blob(),m=new FileReader;m.onloadend=()=>{const y=m.result;r(y),n(!1)},m.readAsDataURL(h)}}catch(f){i(f.message),n(!1)}},c=()=>{l()};return N.useEffect(()=>{l()},[]),{smallLogo:e,setIsSmallLogoLoading:n,setSmallLogoError:i,refreshLogo:c}},sye=xr(O.jsx("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance"),hV=xr(O.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),WI=xr([O.jsx("circle",{cx:"12",cy:"12",r:"3.2"},"0"),O.jsx("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),uye=xr(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined"),UI=xr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),lye=xr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M9.29 16.29 5.7 12.7a.996.996 0 0 1 0-1.41c.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0s.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0"}),"CheckCircleRounded"),Wx=xr(O.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle"),qI=xr(O.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),vV=xr(O.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),ES=xr(O.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline"),k2=xr(O.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),cye=xr(O.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),fye=xr(O.jsx("path",{d:"M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m-8 13c-2.76 0-5-2.24-5-5H5l2.5-2.5L10 13H8c0 2.21 1.79 4 4 4 .58 0 1.13-.13 1.62-.35l.74.74c-.71.37-1.5.61-2.36.61m4.5-2.5L14 13h2c0-2.21-1.79-4-4-4-.58 0-1.13.13-1.62.35l-.74-.73C10.35 8.24 11.14 8 12 8c2.76 0 5 2.24 5 5h2z"}),"FlipCameraIos"),dye=xr(O.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),HI=xr(O.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image"),Ik=xr(O.jsx("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined"),pye=xr(O.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"}),"KeyboardArrowDown"),mV=xr(O.jsx("path",{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z"}),"KeyboardArrowLeft"),sD=xr(O.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"}),"KeyboardArrowRight"),hye=xr(O.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),gV=xr(O.jsx("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace"),gj=xr(O.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout"),vye=xr(O.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),mye=xr(O.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),gye=xr(O.jsx("path",{d:"M14 2H6.01c-1.1 0-2 .89-2 2L4 20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-1 7V3.5L18.5 9zm1 5 2-1.06v4.12L14 16v1c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h4c.55 0 1 .45 1 1z"}),"VideoFile"),il=({message:e,handleClose:r,goBack:t,open:n,closeText:o="Close",type:i="Alert"})=>O.jsxs(_S,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,position:"relative"}},children:[O.jsx(PI,{children:O.jsxs(Re,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[i==="Alert"?O.jsx(it,{variant:"h6",children:"Alert"}):O.jsx(it,{variant:"h6",children:"Success"}),O.jsx(Uu,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:a=>a.palette.grey[500]},children:O.jsx(qI,{})})]})}),O.jsx(wS,{children:O.jsx(it,{children:e})}),O.jsxs(q7,{sx:{p:2,pt:0},children:[t&&O.jsx(Zt,{variant:"outlined",onClick:t,startIcon:O.jsx(gV,{}),sx:{mr:1},children:"Go Back"}),O.jsx(Zt,{variant:"contained",onClick:r,children:o})]})]});il.propTypes={open:fe.bool,message:fe.string,handleClose:fe.func,goBack:fe.func,closeText:fe.string,type:fe.string};const yj={width:350,marginY:1},yye={mt:2,width:150,borderRadius:10,textTransform:"none"};function xye(){const e=Sr(),r=Ki(),t=Tv(),{logo:n,loading:o,error:i}=Y0(),{smallLogo:a}=zI(),{setLyikToken:s,setConfigData:u,configData:l,setErrorMessage:c,setModalOpen:f,handleModalClose:d,modalOpen:p,errorMessage:h}=N.useContext(tr),[m,y]=N.useState(""),[v,g]=N.useState({username:"",otp:"",showOtpField:!1,transactionId:"",isLoading:!1,isResending:!1,isError:!1,errorMessage:"",isSuccess:!1,successMessage:""}),x=async(T=!1)=>{try{g(P=>({...P,isLoading:!T,isResending:T,isError:!1,errorMessage:"",isSuccess:!1,successMessage:"",...T&&{otp:""}}));const k=await t.postSendOtp(v.username,"login");g(P=>({...P,showOtpField:!0,transactionId:k.transaction_id,isSuccess:!0,successMessage:T?"OTP resent successfully!":"OTP sent successfully!"}))}catch(k){g(P=>({...P,isError:!0,errorMessage:k.message,isSuccess:!1,successMessage:""}))}finally{g(k=>({...k,isLoading:!1,isResending:!1}))}};N.useEffect(()=>{fetch("/defaults/config/config.json").then(T=>T.json()).then(T=>{u(T),sessionStorage.setItem("configData",JSON.stringify(T))}).catch(T=>console.error("Error: ",T))},[]),N.useEffect(()=>{i==500&&r("/404",{replace:!0,state:{errorCode:500,message:"Server issue, try later."}})},[i]);const b=T=>k=>{const P=T==="otp"?k.target.value.replace(/[^\d]/g,"").slice(0,6):k.target.value;g(I=>({...I,[T]:P,isError:!1,errorMessage:"",isSuccess:!1,successMessage:""}))},w=()=>x(!1),E=()=>x(!0),C=async()=>{try{g(P=>({...P,isLoading:!0,isError:!1,errorMessage:""}));const{auth_code:T}=await t.postVerifyOtp(v.username,v.otp,v.transactionId),k=await t.getLyikUserToken(v.username,T);s(k==null?void 0:k.token),localStorage.setItem("token",k==null?void 0:k.token),r("/home",{replace:!0})}catch(T){console.error("OTP Request Error: ",T.message),g(k=>({...k,isError:!0,errorMessage:"Login failed. Please check your OTP and try again."}))}finally{g(T=>({...T,isLoading:!1}))}};let S=JSON.parse(sessionStorage.getItem("configData"));return N.useEffect(()=>{if(a&&a.startsWith("data:")){const T=atob(a.split(",")[1]),k=new Array(T.length);for(let A=0;A<T.length;A++)k[A]=T.charCodeAt(A);const P=new Uint8Array(k),I=new Blob([P],{type:"image/png"}),F=URL.createObjectURL(I);y(F)}else y(a)},[a]),o&&S?O.jsx(Hi,{size:48,thickness:4,sx:{color:"primary.main"}}):O.jsxs(O.Fragment,{children:[O.jsxs(CS,{children:[O.jsx("title",{children:"Login | Form Filling"}),O.jsx("link",{rel:"icon",type:"image/x-icon",href:m})]}),O.jsxs(Re,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:l!=null&&l.loginBackground?`url(${l==null?void 0:l.loginBackground})`:'url("/defaults/assets/login_bg.png")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[O.jsx(zi,{sx:{width:650,height:"auto",p:4,borderRadius:10},children:O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[O.jsx(Re,{children:n&&O.jsx("img",{src:n,alt:"Logo",width:350})}),O.jsx(Bo,{sx:{color:"primary.black",width:350,my:3}}),O.jsxs(Re,{sx:yj,children:[O.jsx(it,{sx:{color:e.palette.text.brand,marginBottom:1,marginLeft:1,fontWeight:"bold"},children:"Mobile / Email ID"}),O.jsx(Ga,{fullWidth:!0,size:"small",value:v.username,onChange:b("username"),onKeyDown:T=>{T.key==="Enter"&&w()},sx:{"& .MuiOutlinedInput-root":{"& .MuiInputBase-input":{py:1.5,bgColor:"none",fontWeight:"500"},borderColor:v.isSuccess?e.palette.success.main:e.palette.border.secondary,borderRadius:4,bgColor:e.palette.primary.white}},error:v.isError,helperText:v.isError?v.errorMessage:v.isSuccess?v.successMessage:"",FormHelperTextProps:{sx:{color:v.isSuccess?e.palette.success.main:e.palette.error.main}},disabled:v.isLoading||v.isResending})]}),v.showOtpField&&O.jsxs(Re,{sx:yj,children:[O.jsx(it,{sx:{color:e.palette.text.brand,marginBottom:1,marginLeft:1,fontWeight:"bold"},children:"OTP"}),O.jsx(Ga,{fullWidth:!0,size:"small",value:v.otp,onChange:b("otp"),onKeyDown:T=>{T.key==="Enter"&&C()},sx:{"& .MuiOutlinedInput-root":{"& .MuiInputBase-input":{py:1.5,bgColor:"none",fontWeight:"500"},borderColor:v.isSuccess?e.palette.success.main:e.palette.border.secondary,borderRadius:4,bgColor:e.palette.primary.white}},inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},disabled:v.isLoading||v.isResending}),O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:O.jsx(Zt,{onClick:E,disabled:v.isLoading||v.isResending,sx:{textTransform:"none","&:hover":{backgroundColor:fr(e.palette.text.brand,.1)}},children:v.isResending?"Resending...":"Resend OTP"})})]}),O.jsx(Zt,{variant:"contained",onClick:v.showOtpField?C:w,disabled:v.isLoading||v.isResending||!v.username||v.showOtpField&&v.otp.length!==6,sx:{...yye,borderWidth:1},children:v.isLoading?"Loading...":v.showOtpField?"Login":"Send OTP"})]})}),O.jsx(il,{open:p,handleClose:d,message:h})]})]})}var bye=typeof wr=="object"&&wr&&wr.Object===Object&&wr,_ye=bye,wye=_ye,Sye=typeof self=="object"&&self&&self.Object===Object&&self,Cye=wye||Sye||Function("return this")(),VI=Cye,Eye=VI,kye=Eye.Symbol,GI=kye,xj=GI,yV=Object.prototype,Rye=yV.hasOwnProperty,Tye=yV.toString,Xm=xj?xj.toStringTag:void 0;function Aye(e){var r=Rye.call(e,Xm),t=e[Xm];try{e[Xm]=void 0;var n=!0}catch{}var o=Tye.call(e);return n&&(r?e[Xm]=t:delete e[Xm]),o}var Oye=Aye,Dye=Object.prototype,Pye=Dye.toString;function Iye(e){return Pye.call(e)}var Nye=Iye,bj=GI,Mye=Oye,Fye=Nye,Lye="[object Null]",Bye="[object Undefined]",_j=bj?bj.toStringTag:void 0;function jye(e){return e==null?e===void 0?Bye:Lye:_j&&_j in Object(e)?Mye(e):Fye(e)}var xV=jye;function $ye(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var YI=$ye,zye=xV,Wye=YI,Uye="[object AsyncFunction]",qye="[object Function]",Hye="[object GeneratorFunction]",Vye="[object Proxy]";function Gye(e){if(!Wye(e))return!1;var r=zye(e);return r==qye||r==Hye||r==Uye||r==Vye}var Yye=Gye,Kye=VI,Xye=Kye["__core-js_shared__"],Qye=Xye,Nk=Qye,wj=function(){var e=/[^.]+$/.exec(Nk&&Nk.keys&&Nk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jye(e){return!!wj&&wj in e}var Zye=Jye,exe=Function.prototype,txe=exe.toString;function rxe(e){if(e!=null){try{return txe.call(e)}catch{}try{return e+""}catch{}}return""}var nxe=rxe,oxe=Yye,ixe=Zye,axe=YI,sxe=nxe,uxe=/[\\^$.*+?()[\]{}|]/g,lxe=/^\[object .+?Constructor\]$/,cxe=Function.prototype,fxe=Object.prototype,dxe=cxe.toString,pxe=fxe.hasOwnProperty,hxe=RegExp("^"+dxe.call(pxe).replace(uxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vxe(e){if(!axe(e)||ixe(e))return!1;var r=oxe(e)?hxe:lxe;return r.test(sxe(e))}var mxe=vxe;function gxe(e,r){return e==null?void 0:e[r]}var yxe=gxe,xxe=mxe,bxe=yxe;function _xe(e,r){var t=bxe(e,r);return xxe(t)?t:void 0}var KI=_xe,wxe=KI,Sxe=function(){try{var e=wxe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Cxe=Sxe,Sj=Cxe;function Exe(e,r,t){r=="__proto__"&&Sj?Sj(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var kxe=Exe;function Rxe(e,r){return e===r||e!==e&&r!==r}var bV=Rxe,Txe=kxe,Axe=bV,Oxe=Object.prototype,Dxe=Oxe.hasOwnProperty;function Pxe(e,r,t){var n=e[r];(!(Dxe.call(e,r)&&Axe(n,t))||t===void 0&&!(r in e))&&Txe(e,r,t)}var Ixe=Pxe,Nxe=Array.isArray,XI=Nxe;function Mxe(e){return e!=null&&typeof e=="object"}var Fxe=Mxe,Lxe=xV,Bxe=Fxe,jxe="[object Symbol]";function $xe(e){return typeof e=="symbol"||Bxe(e)&&Lxe(e)==jxe}var QI=$xe,zxe=XI,Wxe=QI,Uxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qxe=/^\w*$/;function Hxe(e,r){if(zxe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Wxe(e)?!0:qxe.test(e)||!Uxe.test(e)||r!=null&&e in Object(r)}var Vxe=Hxe,Gxe=KI,Yxe=Gxe(Object,"create"),kS=Yxe,Cj=kS;function Kxe(){this.__data__=Cj?Cj(null):{},this.size=0}var Xxe=Kxe;function Qxe(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Jxe=Qxe,Zxe=kS,ebe="__lodash_hash_undefined__",tbe=Object.prototype,rbe=tbe.hasOwnProperty;function nbe(e){var r=this.__data__;if(Zxe){var t=r[e];return t===ebe?void 0:t}return rbe.call(r,e)?r[e]:void 0}var obe=nbe,ibe=kS,abe=Object.prototype,sbe=abe.hasOwnProperty;function ube(e){var r=this.__data__;return ibe?r[e]!==void 0:sbe.call(r,e)}var lbe=ube,cbe=kS,fbe="__lodash_hash_undefined__";function dbe(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=cbe&&r===void 0?fbe:r,this}var pbe=dbe,hbe=Xxe,vbe=Jxe,mbe=obe,gbe=lbe,ybe=pbe;function Av(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Av.prototype.clear=hbe;Av.prototype.delete=vbe;Av.prototype.get=mbe;Av.prototype.has=gbe;Av.prototype.set=ybe;var xbe=Av;function bbe(){this.__data__=[],this.size=0}var _be=bbe,wbe=bV;function Sbe(e,r){for(var t=e.length;t--;)if(wbe(e[t][0],r))return t;return-1}var RS=Sbe,Cbe=RS,Ebe=Array.prototype,kbe=Ebe.splice;function Rbe(e){var r=this.__data__,t=Cbe(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():kbe.call(r,t,1),--this.size,!0}var Tbe=Rbe,Abe=RS;function Obe(e){var r=this.__data__,t=Abe(r,e);return t<0?void 0:r[t][1]}var Dbe=Obe,Pbe=RS;function Ibe(e){return Pbe(this.__data__,e)>-1}var Nbe=Ibe,Mbe=RS;function Fbe(e,r){var t=this.__data__,n=Mbe(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var Lbe=Fbe,Bbe=_be,jbe=Tbe,$be=Dbe,zbe=Nbe,Wbe=Lbe;function Ov(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Ov.prototype.clear=Bbe;Ov.prototype.delete=jbe;Ov.prototype.get=$be;Ov.prototype.has=zbe;Ov.prototype.set=Wbe;var Ube=Ov,qbe=KI,Hbe=VI,Vbe=qbe(Hbe,"Map"),Gbe=Vbe,Ej=xbe,Ybe=Ube,Kbe=Gbe;function Xbe(){this.size=0,this.__data__={hash:new Ej,map:new(Kbe||Ybe),string:new Ej}}var Qbe=Xbe;function Jbe(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Zbe=Jbe,e1e=Zbe;function t1e(e,r){var t=e.__data__;return e1e(r)?t[typeof r=="string"?"string":"hash"]:t.map}var TS=t1e,r1e=TS;function n1e(e){var r=r1e(this,e).delete(e);return this.size-=r?1:0,r}var o1e=n1e,i1e=TS;function a1e(e){return i1e(this,e).get(e)}var s1e=a1e,u1e=TS;function l1e(e){return u1e(this,e).has(e)}var c1e=l1e,f1e=TS;function d1e(e,r){var t=f1e(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var p1e=d1e,h1e=Qbe,v1e=o1e,m1e=s1e,g1e=c1e,y1e=p1e;function Dv(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Dv.prototype.clear=h1e;Dv.prototype.delete=v1e;Dv.prototype.get=m1e;Dv.prototype.has=g1e;Dv.prototype.set=y1e;var x1e=Dv,_V=x1e,b1e="Expected a function";function JI(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(b1e);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return t.cache=i.set(o,a)||i,a};return t.cache=new(JI.Cache||_V),t}JI.Cache=_V;var _1e=JI,w1e=_1e,S1e=500;function C1e(e){var r=w1e(e,function(n){return t.size===S1e&&t.clear(),n}),t=r.cache;return r}var E1e=C1e,k1e=E1e,R1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T1e=/\\(\\)?/g,A1e=k1e(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(R1e,function(t,n,o,i){r.push(o?i.replace(T1e,"$1"):n||t)}),r}),O1e=A1e;function D1e(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var P1e=D1e,kj=GI,I1e=P1e,N1e=XI,M1e=QI,Rj=kj?kj.prototype:void 0,Tj=Rj?Rj.toString:void 0;function wV(e){if(typeof e=="string")return e;if(N1e(e))return I1e(e,wV)+"";if(M1e(e))return Tj?Tj.call(e):"";var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var F1e=wV,L1e=F1e;function B1e(e){return e==null?"":L1e(e)}var j1e=B1e,$1e=XI,z1e=Vxe,W1e=O1e,U1e=j1e;function q1e(e,r){return $1e(e)?e:z1e(e,r)?[e]:W1e(U1e(e))}var SV=q1e,H1e=9007199254740991,V1e=/^(?:0|[1-9]\d*)$/;function G1e(e,r){var t=typeof e;return r=r??H1e,!!r&&(t=="number"||t!="symbol"&&V1e.test(e))&&e>-1&&e%1==0&&e<r}var Y1e=G1e,K1e=QI;function X1e(e){if(typeof e=="string"||K1e(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}var CV=X1e,Q1e=Ixe,J1e=SV,Z1e=Y1e,Aj=YI,e_e=CV;function t_e(e,r,t,n){if(!Aj(e))return e;r=J1e(r,e);for(var o=-1,i=r.length,a=i-1,s=e;s!=null&&++o<i;){var u=e_e(r[o]),l=t;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(o!=a){var c=s[u];l=n?n(c,u,s):void 0,l===void 0&&(l=Aj(c)?c:Z1e(r[o+1])?[]:{})}Q1e(s,u,l),s=s[u]}return e}var r_e=t_e,n_e=r_e;function o_e(e,r,t){return e==null?e:n_e(e,r,t)}var i_e=o_e;const zl=rl(i_e);var a_e=SV,s_e=CV;function u_e(e,r){r=a_e(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[s_e(r[t++])];return t&&t==n?e:void 0}var l_e=u_e,c_e=l_e;function f_e(e,r,t){var n=e==null?void 0:c_e(e,r);return n===void 0?t:n}var d_e=f_e;const Zc=rl(d_e);var R2={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */R2.exports;(function(e,r){(function(){var t,n="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,d=2,p=4,h=1,m=2,y=1,v=2,g=4,x=8,b=16,w=32,E=64,C=128,S=256,T=512,k=30,P="...",I=800,F=16,A=1,D=2,$=3,B=1/0,W=9007199254740991,L=17976931348623157e292,z=NaN,U=4294967295,Y=U-1,q=U>>>1,V=[["ary",C],["bind",y],["bindKey",v],["curry",x],["curryRight",b],["flip",T],["partial",w],["partialRight",E],["rearg",S]],H="[object Arguments]",Z="[object Array]",ue="[object AsyncFunction]",oe="[object Boolean]",ee="[object Date]",ne="[object DOMException]",pe="[object Error]",J="[object Function]",se="[object GeneratorFunction]",j="[object Map]",ce="[object Number]",re="[object Null]",Q="[object Object]",G="[object Promise]",X="[object Proxy]",te="[object RegExp]",de="[object Set]",ae="[object String]",ye="[object Symbol]",ie="[object Undefined]",he="[object WeakMap]",_e="[object WeakSet]",Se="[object ArrayBuffer]",xe="[object DataView]",De="[object Float32Array]",$e="[object Float64Array]",Be="[object Int8Array]",we="[object Int16Array]",Me="[object Int32Array]",Le="[object Uint8Array]",Fe="[object Uint8ClampedArray]",He="[object Uint16Array]",gt="[object Uint32Array]",_t=/\b__p \+= '';/g,At=/\b(__p \+=) '' \+/g,or=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,vr=/[&<>"']/g,br=RegExp(Cr.source),Lr=RegExp(vr.source),Tr=/<%-([\s\S]+?)%>/g,Br=/<%([\s\S]+?)%>/g,$t=/<%=([\s\S]+?)%>/g,Xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mn=/^\w*$/,Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/[\\^$.*+?()[\]{}|]/g,Pe=RegExp(Ee.source),je=/^\s+/,nt=/\s/,yt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,It=/\{\n\/\* \[wrapped with (.+)\] \*/,Ut=/,? & /,wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Et=/[()=,{}\[\]\/\s]/,xt=/\\(\\)?/g,Lt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sr=/\w*$/,lr=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,Ar=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,zr=/^(?:0|[1-9]\d*)$/,Ai=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oi=/($^)/,Yo=/['\n\r\u2028\u2029\\]/g,ro="\\ud800-\\udfff",hu="\\u0300-\\u036f",Za="\\ufe20-\\ufe2f",Qi="\\u20d0-\\u20ff",Ae=hu+Za+Qi,ft="\\u2700-\\u27bf",Xe="a-z\\xdf-\\xf6\\xf8-\\xff",St="\\xac\\xb1\\xd7\\xf7",pt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Rt="\\u2000-\\u206f",Nt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ur="A-Z\\xc0-\\xd6\\xd8-\\xde",er="\\ufe0e\\ufe0f",Qr=St+pt+Rt+Nt,no="['’]",vo="["+ro+"]",Ko="["+Qr+"]",sn="["+Ae+"]",Ji="\\d+",Di="["+ft+"]",Pr="["+Xe+"]",Tn="[^"+ro+Qr+Ji+ft+Xe+ur+"]",ci="\\ud83c[\\udffb-\\udfff]",Er="(?:"+sn+"|"+ci+")",An="[^"+ro+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",Io="["+ur+"]",jr="\\u200d",io="(?:"+Pr+"|"+Tn+")",Vr="(?:"+Io+"|"+Tn+")",Pi="(?:"+no+"(?:d|ll|m|re|s|t|ve))?",jn="(?:"+no+"(?:D|LL|M|RE|S|T|VE))?",Ii=Er+"?",Zi="["+er+"]?",vc="(?:"+jr+"(?:"+[An,oo,Xo].join("|")+")"+Zi+Ii+")*",Qv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Jv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zv=Zi+Ii+vc,em="(?:"+[Di,oo,Xo].join("|")+")"+Zv,tm="(?:"+[An+sn+"?",sn,oo,Xo,vo].join("|")+")",LC=RegExp(no,"g"),Ey=RegExp(sn,"g"),If=RegExp(ci+"(?="+ci+")|"+tm+Zv,"g"),BC=RegExp([Io+"?"+Pr+"+"+Pi+"(?="+[Ko,Io,"$"].join("|")+")",Vr+"+"+jn+"(?="+[Ko,Io+io,"$"].join("|")+")",Io+"?"+io+"+"+Pi,Io+"+"+jn,Jv,Qv,Ji,em].join("|"),"g"),rm=RegExp("["+jr+ro+Ae+er+"]"),nm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jC=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],om=-1,un={};un[De]=un[$e]=un[Be]=un[we]=un[Me]=un[Le]=un[Fe]=un[He]=un[gt]=!0,un[H]=un[Z]=un[Se]=un[oe]=un[xe]=un[ee]=un[pe]=un[J]=un[j]=un[ce]=un[Q]=un[te]=un[de]=un[ae]=un[he]=!1;var ln={};ln[H]=ln[Z]=ln[Se]=ln[xe]=ln[oe]=ln[ee]=ln[De]=ln[$e]=ln[Be]=ln[we]=ln[Me]=ln[j]=ln[ce]=ln[Q]=ln[te]=ln[de]=ln[ae]=ln[ye]=ln[Le]=ln[Fe]=ln[He]=ln[gt]=!0,ln[pe]=ln[J]=ln[he]=!1;var ky={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},im={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ry={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},am={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},up=parseFloat,lp=parseInt,sm=typeof wr=="object"&&wr&&wr.Object===Object&&wr,$C=typeof self=="object"&&self&&self.Object===Object&&self,wo=sm||$C||Function("return this")(),xl=r&&!r.nodeType&&r,es=xl&&!0&&e&&!e.nodeType&&e,Ni=es&&es.exports===xl,ts=Ni&&sm.process,mo=function(){try{var Ie=es&&es.require&&es.require("util").types;return Ie||ts&&ts.binding&&ts.binding("util")}catch{}}(),vu=mo&&mo.isArrayBuffer,um=mo&&mo.isDate,cp=mo&&mo.isMap,lm=mo&&mo.isRegExp,cm=mo&&mo.isSet,fp=mo&&mo.isTypedArray;function fi(Ie,et,We){switch(We.length){case 0:return Ie.call(et);case 1:return Ie.call(et,We[0]);case 2:return Ie.call(et,We[0],We[1]);case 3:return Ie.call(et,We[0],We[1],We[2])}return Ie.apply(et,We)}function Nf(Ie,et,We,Bt){for(var pr=-1,Jr=Ie==null?0:Ie.length;++pr<Jr;){var So=Ie[pr];et(Bt,So,We(So),Ie)}return Bt}function di(Ie,et){for(var We=-1,Bt=Ie==null?0:Ie.length;++We<Bt&&et(Ie[We],We,Ie)!==!1;);return Ie}function fm(Ie,et){for(var We=Ie==null?0:Ie.length;We--&&et(Ie[We],We,Ie)!==!1;);return Ie}function dm(Ie,et){for(var We=-1,Bt=Ie==null?0:Ie.length;++We<Bt;)if(!et(Ie[We],We,Ie))return!1;return!0}function Is(Ie,et){for(var We=-1,Bt=Ie==null?0:Ie.length,pr=0,Jr=[];++We<Bt;){var So=Ie[We];et(So,We,Ie)&&(Jr[pr++]=So)}return Jr}function mc(Ie,et){var We=Ie==null?0:Ie.length;return!!We&&hp(Ie,et,0)>-1}function dp(Ie,et,We){for(var Bt=-1,pr=Ie==null?0:Ie.length;++Bt<pr;)if(We(et,Ie[Bt]))return!0;return!1}function xn(Ie,et){for(var We=-1,Bt=Ie==null?0:Ie.length,pr=Array(Bt);++We<Bt;)pr[We]=et(Ie[We],We,Ie);return pr}function rs(Ie,et){for(var We=-1,Bt=et.length,pr=Ie.length;++We<Bt;)Ie[pr+We]=et[We];return Ie}function Mf(Ie,et,We,Bt){var pr=-1,Jr=Ie==null?0:Ie.length;for(Bt&&Jr&&(We=Ie[++pr]);++pr<Jr;)We=et(We,Ie[pr],pr,Ie);return We}function zC(Ie,et,We,Bt){var pr=Ie==null?0:Ie.length;for(Bt&&pr&&(We=Ie[--pr]);pr--;)We=et(We,Ie[pr],pr,Ie);return We}function Ff(Ie,et){for(var We=-1,Bt=Ie==null?0:Ie.length;++We<Bt;)if(et(Ie[We],We,Ie))return!0;return!1}var pp=UC("length");function WC(Ie){return Ie.split("")}function Qo(Ie){return Ie.match(wt)||[]}function mu(Ie,et,We){var Bt;return We(Ie,function(pr,Jr,So){if(et(pr,Jr,So))return Bt=Jr,!1}),Bt}function gc(Ie,et,We,Bt){for(var pr=Ie.length,Jr=We+(Bt?1:-1);Bt?Jr--:++Jr<pr;)if(et(Ie[Jr],Jr,Ie))return Jr;return-1}function hp(Ie,et,We){return et===et?MX(Ie,et,We):gc(Ie,mM,We)}function CX(Ie,et,We,Bt){for(var pr=We-1,Jr=Ie.length;++pr<Jr;)if(Bt(Ie[pr],et))return pr;return-1}function mM(Ie){return Ie!==Ie}function gM(Ie,et){var We=Ie==null?0:Ie.length;return We?HC(Ie,et)/We:z}function UC(Ie){return function(et){return et==null?t:et[Ie]}}function qC(Ie){return function(et){return Ie==null?t:Ie[et]}}function yM(Ie,et,We,Bt,pr){return pr(Ie,function(Jr,So,bn){We=Bt?(Bt=!1,Jr):et(We,Jr,So,bn)}),We}function EX(Ie,et){var We=Ie.length;for(Ie.sort(et);We--;)Ie[We]=Ie[We].value;return Ie}function HC(Ie,et){for(var We,Bt=-1,pr=Ie.length;++Bt<pr;){var Jr=et(Ie[Bt]);Jr!==t&&(We=We===t?Jr:We+Jr)}return We}function VC(Ie,et){for(var We=-1,Bt=Array(Ie);++We<Ie;)Bt[We]=et(We);return Bt}function kX(Ie,et){return xn(et,function(We){return[We,Ie[We]]})}function xM(Ie){return Ie&&Ie.slice(0,SM(Ie)+1).replace(je,"")}function Ca(Ie){return function(et){return Ie(et)}}function GC(Ie,et){return xn(et,function(We){return Ie[We]})}function pm(Ie,et){return Ie.has(et)}function bM(Ie,et){for(var We=-1,Bt=Ie.length;++We<Bt&&hp(et,Ie[We],0)>-1;);return We}function _M(Ie,et){for(var We=Ie.length;We--&&hp(et,Ie[We],0)>-1;);return We}function RX(Ie,et){for(var We=Ie.length,Bt=0;We--;)Ie[We]===et&&++Bt;return Bt}var TX=qC(ky),AX=qC(im);function OX(Ie){return"\\"+am[Ie]}function DX(Ie,et){return Ie==null?t:Ie[et]}function vp(Ie){return rm.test(Ie)}function PX(Ie){return nm.test(Ie)}function IX(Ie){for(var et,We=[];!(et=Ie.next()).done;)We.push(et.value);return We}function YC(Ie){var et=-1,We=Array(Ie.size);return Ie.forEach(function(Bt,pr){We[++et]=[pr,Bt]}),We}function wM(Ie,et){return function(We){return Ie(et(We))}}function yc(Ie,et){for(var We=-1,Bt=Ie.length,pr=0,Jr=[];++We<Bt;){var So=Ie[We];(So===et||So===c)&&(Ie[We]=c,Jr[pr++]=We)}return Jr}function Ty(Ie){var et=-1,We=Array(Ie.size);return Ie.forEach(function(Bt){We[++et]=Bt}),We}function NX(Ie){var et=-1,We=Array(Ie.size);return Ie.forEach(function(Bt){We[++et]=[Bt,Bt]}),We}function MX(Ie,et,We){for(var Bt=We-1,pr=Ie.length;++Bt<pr;)if(Ie[Bt]===et)return Bt;return-1}function FX(Ie,et,We){for(var Bt=We+1;Bt--;)if(Ie[Bt]===et)return Bt;return Bt}function mp(Ie){return vp(Ie)?BX(Ie):pp(Ie)}function Ns(Ie){return vp(Ie)?jX(Ie):WC(Ie)}function SM(Ie){for(var et=Ie.length;et--&&nt.test(Ie.charAt(et)););return et}var LX=qC(Ry);function BX(Ie){for(var et=If.lastIndex=0;If.test(Ie);)++et;return et}function jX(Ie){return Ie.match(If)||[]}function $X(Ie){return Ie.match(BC)||[]}var zX=function Ie(et){et=et==null?wo:gp.defaults(wo.Object(),et,gp.pick(wo,jC));var We=et.Array,Bt=et.Date,pr=et.Error,Jr=et.Function,So=et.Math,bn=et.Object,KC=et.RegExp,WX=et.String,ns=et.TypeError,Ay=We.prototype,UX=Jr.prototype,yp=bn.prototype,Oy=et["__core-js_shared__"],Dy=UX.toString,cn=yp.hasOwnProperty,qX=0,CM=function(){var _=/[^.]+$/.exec(Oy&&Oy.keys&&Oy.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Py=yp.toString,HX=Dy.call(bn),VX=wo._,GX=KC("^"+Dy.call(cn).replace(Ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Iy=Ni?et.Buffer:t,xc=et.Symbol,Ny=et.Uint8Array,EM=Iy?Iy.allocUnsafe:t,My=wM(bn.getPrototypeOf,bn),kM=bn.create,RM=yp.propertyIsEnumerable,Fy=Ay.splice,TM=xc?xc.isConcatSpreadable:t,hm=xc?xc.iterator:t,Lf=xc?xc.toStringTag:t,Ly=function(){try{var _=Wf(bn,"defineProperty");return _({},"",{}),_}catch{}}(),YX=et.clearTimeout!==wo.clearTimeout&&et.clearTimeout,KX=Bt&&Bt.now!==wo.Date.now&&Bt.now,XX=et.setTimeout!==wo.setTimeout&&et.setTimeout,By=So.ceil,jy=So.floor,XC=bn.getOwnPropertySymbols,QX=Iy?Iy.isBuffer:t,AM=et.isFinite,JX=Ay.join,ZX=wM(bn.keys,bn),Co=So.max,pi=So.min,eQ=Bt.now,tQ=et.parseInt,OM=So.random,rQ=Ay.reverse,QC=Wf(et,"DataView"),vm=Wf(et,"Map"),JC=Wf(et,"Promise"),xp=Wf(et,"Set"),mm=Wf(et,"WeakMap"),gm=Wf(bn,"create"),$y=mm&&new mm,bp={},nQ=Uf(QC),oQ=Uf(vm),iQ=Uf(JC),aQ=Uf(xp),sQ=Uf(mm),zy=xc?xc.prototype:t,ym=zy?zy.valueOf:t,DM=zy?zy.toString:t;function ve(_){if(Kn(_)&&!mr(_)&&!(_ instanceof Fr)){if(_ instanceof os)return _;if(cn.call(_,"__wrapped__"))return PF(_)}return new os(_)}var _p=function(){function _(){}return function(R){if(!$n(R))return{};if(kM)return kM(R);_.prototype=R;var M=new _;return _.prototype=t,M}}();function Wy(){}function os(_,R){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!R,this.__index__=0,this.__values__=t}ve.templateSettings={escape:Tr,evaluate:Br,interpolate:$t,variable:"",imports:{_:ve}},ve.prototype=Wy.prototype,ve.prototype.constructor=ve,os.prototype=_p(Wy.prototype),os.prototype.constructor=os;function Fr(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function uQ(){var _=new Fr(this.__wrapped__);return _.__actions__=ea(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=ea(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=ea(this.__views__),_}function lQ(){if(this.__filtered__){var _=new Fr(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function cQ(){var _=this.__wrapped__.value(),R=this.__dir__,M=mr(_),K=R<0,le=M?_.length:0,me=wJ(0,le,this.__views__),Ce=me.start,Te=me.end,Ne=Te-Ce,at=K?Te:Ce-1,st=this.__iteratees__,lt=st.length,kt=0,Gt=pi(Ne,this.__takeCount__);if(!M||!K&&le==Ne&&Gt==Ne)return tF(_,this.__actions__);var ir=[];e:for(;Ne--&&kt<Gt;){at+=R;for(var _r=-1,ar=_[at];++_r<lt;){var Ir=st[_r],$r=Ir.iteratee,Ra=Ir.type,Li=$r(ar);if(Ra==D)ar=Li;else if(!Li){if(Ra==A)continue e;break e}}ir[kt++]=ar}return ir}Fr.prototype=_p(Wy.prototype),Fr.prototype.constructor=Fr;function Bf(_){var R=-1,M=_==null?0:_.length;for(this.clear();++R<M;){var K=_[R];this.set(K[0],K[1])}}function fQ(){this.__data__=gm?gm(null):{},this.size=0}function dQ(_){var R=this.has(_)&&delete this.__data__[_];return this.size-=R?1:0,R}function pQ(_){var R=this.__data__;if(gm){var M=R[_];return M===u?t:M}return cn.call(R,_)?R[_]:t}function hQ(_){var R=this.__data__;return gm?R[_]!==t:cn.call(R,_)}function vQ(_,R){var M=this.__data__;return this.size+=this.has(_)?0:1,M[_]=gm&&R===t?u:R,this}Bf.prototype.clear=fQ,Bf.prototype.delete=dQ,Bf.prototype.get=pQ,Bf.prototype.has=hQ,Bf.prototype.set=vQ;function bl(_){var R=-1,M=_==null?0:_.length;for(this.clear();++R<M;){var K=_[R];this.set(K[0],K[1])}}function mQ(){this.__data__=[],this.size=0}function gQ(_){var R=this.__data__,M=Uy(R,_);if(M<0)return!1;var K=R.length-1;return M==K?R.pop():Fy.call(R,M,1),--this.size,!0}function yQ(_){var R=this.__data__,M=Uy(R,_);return M<0?t:R[M][1]}function xQ(_){return Uy(this.__data__,_)>-1}function bQ(_,R){var M=this.__data__,K=Uy(M,_);return K<0?(++this.size,M.push([_,R])):M[K][1]=R,this}bl.prototype.clear=mQ,bl.prototype.delete=gQ,bl.prototype.get=yQ,bl.prototype.has=xQ,bl.prototype.set=bQ;function _l(_){var R=-1,M=_==null?0:_.length;for(this.clear();++R<M;){var K=_[R];this.set(K[0],K[1])}}function _Q(){this.size=0,this.__data__={hash:new Bf,map:new(vm||bl),string:new Bf}}function wQ(_){var R=tx(this,_).delete(_);return this.size-=R?1:0,R}function SQ(_){return tx(this,_).get(_)}function CQ(_){return tx(this,_).has(_)}function EQ(_,R){var M=tx(this,_),K=M.size;return M.set(_,R),this.size+=M.size==K?0:1,this}_l.prototype.clear=_Q,_l.prototype.delete=wQ,_l.prototype.get=SQ,_l.prototype.has=CQ,_l.prototype.set=EQ;function jf(_){var R=-1,M=_==null?0:_.length;for(this.__data__=new _l;++R<M;)this.add(_[R])}function kQ(_){return this.__data__.set(_,u),this}function RQ(_){return this.__data__.has(_)}jf.prototype.add=jf.prototype.push=kQ,jf.prototype.has=RQ;function Ms(_){var R=this.__data__=new bl(_);this.size=R.size}function TQ(){this.__data__=new bl,this.size=0}function AQ(_){var R=this.__data__,M=R.delete(_);return this.size=R.size,M}function OQ(_){return this.__data__.get(_)}function DQ(_){return this.__data__.has(_)}function PQ(_,R){var M=this.__data__;if(M instanceof bl){var K=M.__data__;if(!vm||K.length<o-1)return K.push([_,R]),this.size=++M.size,this;M=this.__data__=new _l(K)}return M.set(_,R),this.size=M.size,this}Ms.prototype.clear=TQ,Ms.prototype.delete=AQ,Ms.prototype.get=OQ,Ms.prototype.has=DQ,Ms.prototype.set=PQ;function PM(_,R){var M=mr(_),K=!M&&qf(_),le=!M&&!K&&Cc(_),me=!M&&!K&&!le&&Ep(_),Ce=M||K||le||me,Te=Ce?VC(_.length,WX):[],Ne=Te.length;for(var at in _)(R||cn.call(_,at))&&!(Ce&&(at=="length"||le&&(at=="offset"||at=="parent")||me&&(at=="buffer"||at=="byteLength"||at=="byteOffset")||El(at,Ne)))&&Te.push(at);return Te}function IM(_){var R=_.length;return R?_[lE(0,R-1)]:t}function IQ(_,R){return rx(ea(_),$f(R,0,_.length))}function NQ(_){return rx(ea(_))}function ZC(_,R,M){(M!==t&&!Fs(_[R],M)||M===t&&!(R in _))&&wl(_,R,M)}function xm(_,R,M){var K=_[R];(!(cn.call(_,R)&&Fs(K,M))||M===t&&!(R in _))&&wl(_,R,M)}function Uy(_,R){for(var M=_.length;M--;)if(Fs(_[M][0],R))return M;return-1}function MQ(_,R,M,K){return bc(_,function(le,me,Ce){R(K,le,M(le),Ce)}),K}function NM(_,R){return _&&yu(R,No(R),_)}function FQ(_,R){return _&&yu(R,ra(R),_)}function wl(_,R,M){R=="__proto__"&&Ly?Ly(_,R,{configurable:!0,enumerable:!0,value:M,writable:!0}):_[R]=M}function eE(_,R){for(var M=-1,K=R.length,le=We(K),me=_==null;++M<K;)le[M]=me?t:NE(_,R[M]);return le}function $f(_,R,M){return _===_&&(M!==t&&(_=_<=M?_:M),R!==t&&(_=_>=R?_:R)),_}function is(_,R,M,K,le,me){var Ce,Te=R&f,Ne=R&d,at=R&p;if(M&&(Ce=le?M(_,K,le,me):M(_)),Ce!==t)return Ce;if(!$n(_))return _;var st=mr(_);if(st){if(Ce=CJ(_),!Te)return ea(_,Ce)}else{var lt=hi(_),kt=lt==J||lt==se;if(Cc(_))return oF(_,Te);if(lt==Q||lt==H||kt&&!le){if(Ce=Ne||kt?{}:SF(_),!Te)return Ne?pJ(_,FQ(Ce,_)):dJ(_,NM(Ce,_))}else{if(!ln[lt])return le?_:{};Ce=EJ(_,lt,Te)}}me||(me=new Ms);var Gt=me.get(_);if(Gt)return Gt;me.set(_,Ce),JF(_)?_.forEach(function(ar){Ce.add(is(ar,R,M,ar,_,me))}):XF(_)&&_.forEach(function(ar,Ir){Ce.set(Ir,is(ar,R,M,Ir,_,me))});var ir=at?Ne?bE:xE:Ne?ra:No,_r=st?t:ir(_);return di(_r||_,function(ar,Ir){_r&&(Ir=ar,ar=_[Ir]),xm(Ce,Ir,is(ar,R,M,Ir,_,me))}),Ce}function LQ(_){var R=No(_);return function(M){return MM(M,_,R)}}function MM(_,R,M){var K=M.length;if(_==null)return!K;for(_=bn(_);K--;){var le=M[K],me=R[le],Ce=_[le];if(Ce===t&&!(le in _)||!me(Ce))return!1}return!0}function FM(_,R,M){if(typeof _!="function")throw new ns(a);return km(function(){_.apply(t,M)},R)}function bm(_,R,M,K){var le=-1,me=mc,Ce=!0,Te=_.length,Ne=[],at=R.length;if(!Te)return Ne;M&&(R=xn(R,Ca(M))),K?(me=dp,Ce=!1):R.length>=o&&(me=pm,Ce=!1,R=new jf(R));e:for(;++le<Te;){var st=_[le],lt=M==null?st:M(st);if(st=K||st!==0?st:0,Ce&&lt===lt){for(var kt=at;kt--;)if(R[kt]===lt)continue e;Ne.push(st)}else me(R,lt,K)||Ne.push(st)}return Ne}var bc=lF(gu),LM=lF(rE,!0);function BQ(_,R){var M=!0;return bc(_,function(K,le,me){return M=!!R(K,le,me),M}),M}function qy(_,R,M){for(var K=-1,le=_.length;++K<le;){var me=_[K],Ce=R(me);if(Ce!=null&&(Te===t?Ce===Ce&&!ka(Ce):M(Ce,Te)))var Te=Ce,Ne=me}return Ne}function jQ(_,R,M,K){var le=_.length;for(M=gr(M),M<0&&(M=-M>le?0:le+M),K=K===t||K>le?le:gr(K),K<0&&(K+=le),K=M>K?0:eL(K);M<K;)_[M++]=R;return _}function BM(_,R){var M=[];return bc(_,function(K,le,me){R(K,le,me)&&M.push(K)}),M}function Jo(_,R,M,K,le){var me=-1,Ce=_.length;for(M||(M=RJ),le||(le=[]);++me<Ce;){var Te=_[me];R>0&&M(Te)?R>1?Jo(Te,R-1,M,K,le):rs(le,Te):K||(le[le.length]=Te)}return le}var tE=cF(),jM=cF(!0);function gu(_,R){return _&&tE(_,R,No)}function rE(_,R){return _&&jM(_,R,No)}function Hy(_,R){return Is(R,function(M){return kl(_[M])})}function zf(_,R){R=wc(R,_);for(var M=0,K=R.length;_!=null&&M<K;)_=_[xu(R[M++])];return M&&M==K?_:t}function $M(_,R,M){var K=R(_);return mr(_)?K:rs(K,M(_))}function Mi(_){return _==null?_===t?ie:re:Lf&&Lf in bn(_)?_J(_):NJ(_)}function nE(_,R){return _>R}function $Q(_,R){return _!=null&&cn.call(_,R)}function zQ(_,R){return _!=null&&R in bn(_)}function WQ(_,R,M){return _>=pi(R,M)&&_<Co(R,M)}function oE(_,R,M){for(var K=M?dp:mc,le=_[0].length,me=_.length,Ce=me,Te=We(me),Ne=1/0,at=[];Ce--;){var st=_[Ce];Ce&&R&&(st=xn(st,Ca(R))),Ne=pi(st.length,Ne),Te[Ce]=!M&&(R||le>=120&&st.length>=120)?new jf(Ce&&st):t}st=_[0];var lt=-1,kt=Te[0];e:for(;++lt<le&&at.length<Ne;){var Gt=st[lt],ir=R?R(Gt):Gt;if(Gt=M||Gt!==0?Gt:0,!(kt?pm(kt,ir):K(at,ir,M))){for(Ce=me;--Ce;){var _r=Te[Ce];if(!(_r?pm(_r,ir):K(_[Ce],ir,M)))continue e}kt&&kt.push(ir),at.push(Gt)}}return at}function UQ(_,R,M,K){return gu(_,function(le,me,Ce){R(K,M(le),me,Ce)}),K}function _m(_,R,M){R=wc(R,_),_=RF(_,R);var K=_==null?_:_[xu(ss(R))];return K==null?t:fi(K,_,M)}function zM(_){return Kn(_)&&Mi(_)==H}function qQ(_){return Kn(_)&&Mi(_)==Se}function HQ(_){return Kn(_)&&Mi(_)==ee}function wm(_,R,M,K,le){return _===R?!0:_==null||R==null||!Kn(_)&&!Kn(R)?_!==_&&R!==R:VQ(_,R,M,K,wm,le)}function VQ(_,R,M,K,le,me){var Ce=mr(_),Te=mr(R),Ne=Ce?Z:hi(_),at=Te?Z:hi(R);Ne=Ne==H?Q:Ne,at=at==H?Q:at;var st=Ne==Q,lt=at==Q,kt=Ne==at;if(kt&&Cc(_)){if(!Cc(R))return!1;Ce=!0,st=!1}if(kt&&!st)return me||(me=new Ms),Ce||Ep(_)?bF(_,R,M,K,le,me):xJ(_,R,Ne,M,K,le,me);if(!(M&h)){var Gt=st&&cn.call(_,"__wrapped__"),ir=lt&&cn.call(R,"__wrapped__");if(Gt||ir){var _r=Gt?_.value():_,ar=ir?R.value():R;return me||(me=new Ms),le(_r,ar,M,K,me)}}return kt?(me||(me=new Ms),bJ(_,R,M,K,le,me)):!1}function GQ(_){return Kn(_)&&hi(_)==j}function iE(_,R,M,K){var le=M.length,me=le,Ce=!K;if(_==null)return!me;for(_=bn(_);le--;){var Te=M[le];if(Ce&&Te[2]?Te[1]!==_[Te[0]]:!(Te[0]in _))return!1}for(;++le<me;){Te=M[le];var Ne=Te[0],at=_[Ne],st=Te[1];if(Ce&&Te[2]){if(at===t&&!(Ne in _))return!1}else{var lt=new Ms;if(K)var kt=K(at,st,Ne,_,R,lt);if(!(kt===t?wm(st,at,h|m,K,lt):kt))return!1}}return!0}function WM(_){if(!$n(_)||AJ(_))return!1;var R=kl(_)?GX:Ar;return R.test(Uf(_))}function YQ(_){return Kn(_)&&Mi(_)==te}function KQ(_){return Kn(_)&&hi(_)==de}function XQ(_){return Kn(_)&&ux(_.length)&&!!un[Mi(_)]}function UM(_){return typeof _=="function"?_:_==null?na:typeof _=="object"?mr(_)?VM(_[0],_[1]):HM(_):fL(_)}function aE(_){if(!Em(_))return ZX(_);var R=[];for(var M in bn(_))cn.call(_,M)&&M!="constructor"&&R.push(M);return R}function QQ(_){if(!$n(_))return IJ(_);var R=Em(_),M=[];for(var K in _)K=="constructor"&&(R||!cn.call(_,K))||M.push(K);return M}function sE(_,R){return _<R}function qM(_,R){var M=-1,K=ta(_)?We(_.length):[];return bc(_,function(le,me,Ce){K[++M]=R(le,me,Ce)}),K}function HM(_){var R=wE(_);return R.length==1&&R[0][2]?EF(R[0][0],R[0][1]):function(M){return M===_||iE(M,_,R)}}function VM(_,R){return CE(_)&&CF(R)?EF(xu(_),R):function(M){var K=NE(M,_);return K===t&&K===R?ME(M,_):wm(R,K,h|m)}}function Vy(_,R,M,K,le){_!==R&&tE(R,function(me,Ce){if(le||(le=new Ms),$n(me))JQ(_,R,Ce,M,Vy,K,le);else{var Te=K?K(kE(_,Ce),me,Ce+"",_,R,le):t;Te===t&&(Te=me),ZC(_,Ce,Te)}},ra)}function JQ(_,R,M,K,le,me,Ce){var Te=kE(_,M),Ne=kE(R,M),at=Ce.get(Ne);if(at){ZC(_,M,at);return}var st=me?me(Te,Ne,M+"",_,R,Ce):t,lt=st===t;if(lt){var kt=mr(Ne),Gt=!kt&&Cc(Ne),ir=!kt&&!Gt&&Ep(Ne);st=Ne,kt||Gt||ir?mr(Te)?st=Te:ao(Te)?st=ea(Te):Gt?(lt=!1,st=oF(Ne,!0)):ir?(lt=!1,st=iF(Ne,!0)):st=[]:Rm(Ne)||qf(Ne)?(st=Te,qf(Te)?st=tL(Te):(!$n(Te)||kl(Te))&&(st=SF(Ne))):lt=!1}lt&&(Ce.set(Ne,st),le(st,Ne,K,me,Ce),Ce.delete(Ne)),ZC(_,M,st)}function GM(_,R){var M=_.length;if(M)return R+=R<0?M:0,El(R,M)?_[R]:t}function YM(_,R,M){R.length?R=xn(R,function(me){return mr(me)?function(Ce){return zf(Ce,me.length===1?me[0]:me)}:me}):R=[na];var K=-1;R=xn(R,Ca(rr()));var le=qM(_,function(me,Ce,Te){var Ne=xn(R,function(at){return at(me)});return{criteria:Ne,index:++K,value:me}});return EX(le,function(me,Ce){return fJ(me,Ce,M)})}function ZQ(_,R){return KM(_,R,function(M,K){return ME(_,K)})}function KM(_,R,M){for(var K=-1,le=R.length,me={};++K<le;){var Ce=R[K],Te=zf(_,Ce);M(Te,Ce)&&Sm(me,wc(Ce,_),Te)}return me}function eJ(_){return function(R){return zf(R,_)}}function uE(_,R,M,K){var le=K?CX:hp,me=-1,Ce=R.length,Te=_;for(_===R&&(R=ea(R)),M&&(Te=xn(_,Ca(M)));++me<Ce;)for(var Ne=0,at=R[me],st=M?M(at):at;(Ne=le(Te,st,Ne,K))>-1;)Te!==_&&Fy.call(Te,Ne,1),Fy.call(_,Ne,1);return _}function XM(_,R){for(var M=_?R.length:0,K=M-1;M--;){var le=R[M];if(M==K||le!==me){var me=le;El(le)?Fy.call(_,le,1):dE(_,le)}}return _}function lE(_,R){return _+jy(OM()*(R-_+1))}function tJ(_,R,M,K){for(var le=-1,me=Co(By((R-_)/(M||1)),0),Ce=We(me);me--;)Ce[K?me:++le]=_,_+=M;return Ce}function cE(_,R){var M="";if(!_||R<1||R>W)return M;do R%2&&(M+=_),R=jy(R/2),R&&(_+=_);while(R);return M}function kr(_,R){return RE(kF(_,R,na),_+"")}function rJ(_){return IM(kp(_))}function nJ(_,R){var M=kp(_);return rx(M,$f(R,0,M.length))}function Sm(_,R,M,K){if(!$n(_))return _;R=wc(R,_);for(var le=-1,me=R.length,Ce=me-1,Te=_;Te!=null&&++le<me;){var Ne=xu(R[le]),at=M;if(Ne==="__proto__"||Ne==="constructor"||Ne==="prototype")return _;if(le!=Ce){var st=Te[Ne];at=K?K(st,Ne,Te):t,at===t&&(at=$n(st)?st:El(R[le+1])?[]:{})}xm(Te,Ne,at),Te=Te[Ne]}return _}var QM=$y?function(_,R){return $y.set(_,R),_}:na,oJ=Ly?function(_,R){return Ly(_,"toString",{configurable:!0,enumerable:!1,value:LE(R),writable:!0})}:na;function iJ(_){return rx(kp(_))}function as(_,R,M){var K=-1,le=_.length;R<0&&(R=-R>le?0:le+R),M=M>le?le:M,M<0&&(M+=le),le=R>M?0:M-R>>>0,R>>>=0;for(var me=We(le);++K<le;)me[K]=_[K+R];return me}function aJ(_,R){var M;return bc(_,function(K,le,me){return M=R(K,le,me),!M}),!!M}function Gy(_,R,M){var K=0,le=_==null?K:_.length;if(typeof R=="number"&&R===R&&le<=q){for(;K<le;){var me=K+le>>>1,Ce=_[me];Ce!==null&&!ka(Ce)&&(M?Ce<=R:Ce<R)?K=me+1:le=me}return le}return fE(_,R,na,M)}function fE(_,R,M,K){var le=0,me=_==null?0:_.length;if(me===0)return 0;R=M(R);for(var Ce=R!==R,Te=R===null,Ne=ka(R),at=R===t;le<me;){var st=jy((le+me)/2),lt=M(_[st]),kt=lt!==t,Gt=lt===null,ir=lt===lt,_r=ka(lt);if(Ce)var ar=K||ir;else at?ar=ir&&(K||kt):Te?ar=ir&&kt&&(K||!Gt):Ne?ar=ir&&kt&&!Gt&&(K||!_r):Gt||_r?ar=!1:ar=K?lt<=R:lt<R;ar?le=st+1:me=st}return pi(me,Y)}function JM(_,R){for(var M=-1,K=_.length,le=0,me=[];++M<K;){var Ce=_[M],Te=R?R(Ce):Ce;if(!M||!Fs(Te,Ne)){var Ne=Te;me[le++]=Ce===0?0:Ce}}return me}function ZM(_){return typeof _=="number"?_:ka(_)?z:+_}function Ea(_){if(typeof _=="string")return _;if(mr(_))return xn(_,Ea)+"";if(ka(_))return DM?DM.call(_):"";var R=_+"";return R=="0"&&1/_==-1/0?"-0":R}function _c(_,R,M){var K=-1,le=mc,me=_.length,Ce=!0,Te=[],Ne=Te;if(M)Ce=!1,le=dp;else if(me>=o){var at=R?null:gJ(_);if(at)return Ty(at);Ce=!1,le=pm,Ne=new jf}else Ne=R?[]:Te;e:for(;++K<me;){var st=_[K],lt=R?R(st):st;if(st=M||st!==0?st:0,Ce&&lt===lt){for(var kt=Ne.length;kt--;)if(Ne[kt]===lt)continue e;R&&Ne.push(lt),Te.push(st)}else le(Ne,lt,M)||(Ne!==Te&&Ne.push(lt),Te.push(st))}return Te}function dE(_,R){return R=wc(R,_),_=RF(_,R),_==null||delete _[xu(ss(R))]}function eF(_,R,M,K){return Sm(_,R,M(zf(_,R)),K)}function Yy(_,R,M,K){for(var le=_.length,me=K?le:-1;(K?me--:++me<le)&&R(_[me],me,_););return M?as(_,K?0:me,K?me+1:le):as(_,K?me+1:0,K?le:me)}function tF(_,R){var M=_;return M instanceof Fr&&(M=M.value()),Mf(R,function(K,le){return le.func.apply(le.thisArg,rs([K],le.args))},M)}function pE(_,R,M){var K=_.length;if(K<2)return K?_c(_[0]):[];for(var le=-1,me=We(K);++le<K;)for(var Ce=_[le],Te=-1;++Te<K;)Te!=le&&(me[le]=bm(me[le]||Ce,_[Te],R,M));return _c(Jo(me,1),R,M)}function rF(_,R,M){for(var K=-1,le=_.length,me=R.length,Ce={};++K<le;){var Te=K<me?R[K]:t;M(Ce,_[K],Te)}return Ce}function hE(_){return ao(_)?_:[]}function vE(_){return typeof _=="function"?_:na}function wc(_,R){return mr(_)?_:CE(_,R)?[_]:DF(nn(_))}var sJ=kr;function Sc(_,R,M){var K=_.length;return M=M===t?K:M,!R&&M>=K?_:as(_,R,M)}var nF=YX||function(_){return wo.clearTimeout(_)};function oF(_,R){if(R)return _.slice();var M=_.length,K=EM?EM(M):new _.constructor(M);return _.copy(K),K}function mE(_){var R=new _.constructor(_.byteLength);return new Ny(R).set(new Ny(_)),R}function uJ(_,R){var M=R?mE(_.buffer):_.buffer;return new _.constructor(M,_.byteOffset,_.byteLength)}function lJ(_){var R=new _.constructor(_.source,sr.exec(_));return R.lastIndex=_.lastIndex,R}function cJ(_){return ym?bn(ym.call(_)):{}}function iF(_,R){var M=R?mE(_.buffer):_.buffer;return new _.constructor(M,_.byteOffset,_.length)}function aF(_,R){if(_!==R){var M=_!==t,K=_===null,le=_===_,me=ka(_),Ce=R!==t,Te=R===null,Ne=R===R,at=ka(R);if(!Te&&!at&&!me&&_>R||me&&Ce&&Ne&&!Te&&!at||K&&Ce&&Ne||!M&&Ne||!le)return 1;if(!K&&!me&&!at&&_<R||at&&M&&le&&!K&&!me||Te&&M&&le||!Ce&&le||!Ne)return-1}return 0}function fJ(_,R,M){for(var K=-1,le=_.criteria,me=R.criteria,Ce=le.length,Te=M.length;++K<Ce;){var Ne=aF(le[K],me[K]);if(Ne){if(K>=Te)return Ne;var at=M[K];return Ne*(at=="desc"?-1:1)}}return _.index-R.index}function sF(_,R,M,K){for(var le=-1,me=_.length,Ce=M.length,Te=-1,Ne=R.length,at=Co(me-Ce,0),st=We(Ne+at),lt=!K;++Te<Ne;)st[Te]=R[Te];for(;++le<Ce;)(lt||le<me)&&(st[M[le]]=_[le]);for(;at--;)st[Te++]=_[le++];return st}function uF(_,R,M,K){for(var le=-1,me=_.length,Ce=-1,Te=M.length,Ne=-1,at=R.length,st=Co(me-Te,0),lt=We(st+at),kt=!K;++le<st;)lt[le]=_[le];for(var Gt=le;++Ne<at;)lt[Gt+Ne]=R[Ne];for(;++Ce<Te;)(kt||le<me)&&(lt[Gt+M[Ce]]=_[le++]);return lt}function ea(_,R){var M=-1,K=_.length;for(R||(R=We(K));++M<K;)R[M]=_[M];return R}function yu(_,R,M,K){var le=!M;M||(M={});for(var me=-1,Ce=R.length;++me<Ce;){var Te=R[me],Ne=K?K(M[Te],_[Te],Te,M,_):t;Ne===t&&(Ne=_[Te]),le?wl(M,Te,Ne):xm(M,Te,Ne)}return M}function dJ(_,R){return yu(_,SE(_),R)}function pJ(_,R){return yu(_,_F(_),R)}function Ky(_,R){return function(M,K){var le=mr(M)?Nf:MQ,me=R?R():{};return le(M,_,rr(K,2),me)}}function wp(_){return kr(function(R,M){var K=-1,le=M.length,me=le>1?M[le-1]:t,Ce=le>2?M[2]:t;for(me=_.length>3&&typeof me=="function"?(le--,me):t,Ce&&Fi(M[0],M[1],Ce)&&(me=le<3?t:me,le=1),R=bn(R);++K<le;){var Te=M[K];Te&&_(R,Te,K,me)}return R})}function lF(_,R){return function(M,K){if(M==null)return M;if(!ta(M))return _(M,K);for(var le=M.length,me=R?le:-1,Ce=bn(M);(R?me--:++me<le)&&K(Ce[me],me,Ce)!==!1;);return M}}function cF(_){return function(R,M,K){for(var le=-1,me=bn(R),Ce=K(R),Te=Ce.length;Te--;){var Ne=Ce[_?Te:++le];if(M(me[Ne],Ne,me)===!1)break}return R}}function hJ(_,R,M){var K=R&y,le=Cm(_);function me(){var Ce=this&&this!==wo&&this instanceof me?le:_;return Ce.apply(K?M:this,arguments)}return me}function fF(_){return function(R){R=nn(R);var M=vp(R)?Ns(R):t,K=M?M[0]:R.charAt(0),le=M?Sc(M,1).join(""):R.slice(1);return K[_]()+le}}function Sp(_){return function(R){return Mf(lL(uL(R).replace(LC,"")),_,"")}}function Cm(_){return function(){var R=arguments;switch(R.length){case 0:return new _;case 1:return new _(R[0]);case 2:return new _(R[0],R[1]);case 3:return new _(R[0],R[1],R[2]);case 4:return new _(R[0],R[1],R[2],R[3]);case 5:return new _(R[0],R[1],R[2],R[3],R[4]);case 6:return new _(R[0],R[1],R[2],R[3],R[4],R[5]);case 7:return new _(R[0],R[1],R[2],R[3],R[4],R[5],R[6])}var M=_p(_.prototype),K=_.apply(M,R);return $n(K)?K:M}}function vJ(_,R,M){var K=Cm(_);function le(){for(var me=arguments.length,Ce=We(me),Te=me,Ne=Cp(le);Te--;)Ce[Te]=arguments[Te];var at=me<3&&Ce[0]!==Ne&&Ce[me-1]!==Ne?[]:yc(Ce,Ne);if(me-=at.length,me<M)return mF(_,R,Xy,le.placeholder,t,Ce,at,t,t,M-me);var st=this&&this!==wo&&this instanceof le?K:_;return fi(st,this,Ce)}return le}function dF(_){return function(R,M,K){var le=bn(R);if(!ta(R)){var me=rr(M,3);R=No(R),M=function(Te){return me(le[Te],Te,le)}}var Ce=_(R,M,K);return Ce>-1?le[me?R[Ce]:Ce]:t}}function pF(_){return Cl(function(R){var M=R.length,K=M,le=os.prototype.thru;for(_&&R.reverse();K--;){var me=R[K];if(typeof me!="function")throw new ns(a);if(le&&!Ce&&ex(me)=="wrapper")var Ce=new os([],!0)}for(K=Ce?K:M;++K<M;){me=R[K];var Te=ex(me),Ne=Te=="wrapper"?_E(me):t;Ne&&EE(Ne[0])&&Ne[1]==(C|x|w|S)&&!Ne[4].length&&Ne[9]==1?Ce=Ce[ex(Ne[0])].apply(Ce,Ne[3]):Ce=me.length==1&&EE(me)?Ce[Te]():Ce.thru(me)}return function(){var at=arguments,st=at[0];if(Ce&&at.length==1&&mr(st))return Ce.plant(st).value();for(var lt=0,kt=M?R[lt].apply(this,at):st;++lt<M;)kt=R[lt].call(this,kt);return kt}})}function Xy(_,R,M,K,le,me,Ce,Te,Ne,at){var st=R&C,lt=R&y,kt=R&v,Gt=R&(x|b),ir=R&T,_r=kt?t:Cm(_);function ar(){for(var Ir=arguments.length,$r=We(Ir),Ra=Ir;Ra--;)$r[Ra]=arguments[Ra];if(Gt)var Li=Cp(ar),Ta=RX($r,Li);if(K&&($r=sF($r,K,le,Gt)),me&&($r=uF($r,me,Ce,Gt)),Ir-=Ta,Gt&&Ir<at){var so=yc($r,Li);return mF(_,R,Xy,ar.placeholder,M,$r,so,Te,Ne,at-Ir)}var Ls=lt?M:this,Tl=kt?Ls[_]:_;return Ir=$r.length,Te?$r=MJ($r,Te):ir&&Ir>1&&$r.reverse(),st&&Ne<Ir&&($r.length=Ne),this&&this!==wo&&this instanceof ar&&(Tl=_r||Cm(Tl)),Tl.apply(Ls,$r)}return ar}function hF(_,R){return function(M,K){return UQ(M,_,R(K),{})}}function Qy(_,R){return function(M,K){var le;if(M===t&&K===t)return R;if(M!==t&&(le=M),K!==t){if(le===t)return K;typeof M=="string"||typeof K=="string"?(M=Ea(M),K=Ea(K)):(M=ZM(M),K=ZM(K)),le=_(M,K)}return le}}function gE(_){return Cl(function(R){return R=xn(R,Ca(rr())),kr(function(M){var K=this;return _(R,function(le){return fi(le,K,M)})})})}function Jy(_,R){R=R===t?" ":Ea(R);var M=R.length;if(M<2)return M?cE(R,_):R;var K=cE(R,By(_/mp(R)));return vp(R)?Sc(Ns(K),0,_).join(""):K.slice(0,_)}function mJ(_,R,M,K){var le=R&y,me=Cm(_);function Ce(){for(var Te=-1,Ne=arguments.length,at=-1,st=K.length,lt=We(st+Ne),kt=this&&this!==wo&&this instanceof Ce?me:_;++at<st;)lt[at]=K[at];for(;Ne--;)lt[at++]=arguments[++Te];return fi(kt,le?M:this,lt)}return Ce}function vF(_){return function(R,M,K){return K&&typeof K!="number"&&Fi(R,M,K)&&(M=K=t),R=Rl(R),M===t?(M=R,R=0):M=Rl(M),K=K===t?R<M?1:-1:Rl(K),tJ(R,M,K,_)}}function Zy(_){return function(R,M){return typeof R=="string"&&typeof M=="string"||(R=us(R),M=us(M)),_(R,M)}}function mF(_,R,M,K,le,me,Ce,Te,Ne,at){var st=R&x,lt=st?Ce:t,kt=st?t:Ce,Gt=st?me:t,ir=st?t:me;R|=st?w:E,R&=~(st?E:w),R&g||(R&=-4);var _r=[_,R,le,Gt,lt,ir,kt,Te,Ne,at],ar=M.apply(t,_r);return EE(_)&&TF(ar,_r),ar.placeholder=K,AF(ar,_,R)}function yE(_){var R=So[_];return function(M,K){if(M=us(M),K=K==null?0:pi(gr(K),292),K&&AM(M)){var le=(nn(M)+"e").split("e"),me=R(le[0]+"e"+(+le[1]+K));return le=(nn(me)+"e").split("e"),+(le[0]+"e"+(+le[1]-K))}return R(M)}}var gJ=xp&&1/Ty(new xp([,-0]))[1]==B?function(_){return new xp(_)}:$E;function gF(_){return function(R){var M=hi(R);return M==j?YC(R):M==de?NX(R):kX(R,_(R))}}function Sl(_,R,M,K,le,me,Ce,Te){var Ne=R&v;if(!Ne&&typeof _!="function")throw new ns(a);var at=K?K.length:0;if(at||(R&=-97,K=le=t),Ce=Ce===t?Ce:Co(gr(Ce),0),Te=Te===t?Te:gr(Te),at-=le?le.length:0,R&E){var st=K,lt=le;K=le=t}var kt=Ne?t:_E(_),Gt=[_,R,M,K,le,st,lt,me,Ce,Te];if(kt&&PJ(Gt,kt),_=Gt[0],R=Gt[1],M=Gt[2],K=Gt[3],le=Gt[4],Te=Gt[9]=Gt[9]===t?Ne?0:_.length:Co(Gt[9]-at,0),!Te&&R&(x|b)&&(R&=-25),!R||R==y)var ir=hJ(_,R,M);else R==x||R==b?ir=vJ(_,R,Te):(R==w||R==(y|w))&&!le.length?ir=mJ(_,R,M,K):ir=Xy.apply(t,Gt);var _r=kt?QM:TF;return AF(_r(ir,Gt),_,R)}function yF(_,R,M,K){return _===t||Fs(_,yp[M])&&!cn.call(K,M)?R:_}function xF(_,R,M,K,le,me){return $n(_)&&$n(R)&&(me.set(R,_),Vy(_,R,t,xF,me),me.delete(R)),_}function yJ(_){return Rm(_)?t:_}function bF(_,R,M,K,le,me){var Ce=M&h,Te=_.length,Ne=R.length;if(Te!=Ne&&!(Ce&&Ne>Te))return!1;var at=me.get(_),st=me.get(R);if(at&&st)return at==R&&st==_;var lt=-1,kt=!0,Gt=M&m?new jf:t;for(me.set(_,R),me.set(R,_);++lt<Te;){var ir=_[lt],_r=R[lt];if(K)var ar=Ce?K(_r,ir,lt,R,_,me):K(ir,_r,lt,_,R,me);if(ar!==t){if(ar)continue;kt=!1;break}if(Gt){if(!Ff(R,function(Ir,$r){if(!pm(Gt,$r)&&(ir===Ir||le(ir,Ir,M,K,me)))return Gt.push($r)})){kt=!1;break}}else if(!(ir===_r||le(ir,_r,M,K,me))){kt=!1;break}}return me.delete(_),me.delete(R),kt}function xJ(_,R,M,K,le,me,Ce){switch(M){case xe:if(_.byteLength!=R.byteLength||_.byteOffset!=R.byteOffset)return!1;_=_.buffer,R=R.buffer;case Se:return!(_.byteLength!=R.byteLength||!me(new Ny(_),new Ny(R)));case oe:case ee:case ce:return Fs(+_,+R);case pe:return _.name==R.name&&_.message==R.message;case te:case ae:return _==R+"";case j:var Te=YC;case de:var Ne=K&h;if(Te||(Te=Ty),_.size!=R.size&&!Ne)return!1;var at=Ce.get(_);if(at)return at==R;K|=m,Ce.set(_,R);var st=bF(Te(_),Te(R),K,le,me,Ce);return Ce.delete(_),st;case ye:if(ym)return ym.call(_)==ym.call(R)}return!1}function bJ(_,R,M,K,le,me){var Ce=M&h,Te=xE(_),Ne=Te.length,at=xE(R),st=at.length;if(Ne!=st&&!Ce)return!1;for(var lt=Ne;lt--;){var kt=Te[lt];if(!(Ce?kt in R:cn.call(R,kt)))return!1}var Gt=me.get(_),ir=me.get(R);if(Gt&&ir)return Gt==R&&ir==_;var _r=!0;me.set(_,R),me.set(R,_);for(var ar=Ce;++lt<Ne;){kt=Te[lt];var Ir=_[kt],$r=R[kt];if(K)var Ra=Ce?K($r,Ir,kt,R,_,me):K(Ir,$r,kt,_,R,me);if(!(Ra===t?Ir===$r||le(Ir,$r,M,K,me):Ra)){_r=!1;break}ar||(ar=kt=="constructor")}if(_r&&!ar){var Li=_.constructor,Ta=R.constructor;Li!=Ta&&"constructor"in _&&"constructor"in R&&!(typeof Li=="function"&&Li instanceof Li&&typeof Ta=="function"&&Ta instanceof Ta)&&(_r=!1)}return me.delete(_),me.delete(R),_r}function Cl(_){return RE(kF(_,t,MF),_+"")}function xE(_){return $M(_,No,SE)}function bE(_){return $M(_,ra,_F)}var _E=$y?function(_){return $y.get(_)}:$E;function ex(_){for(var R=_.name+"",M=bp[R],K=cn.call(bp,R)?M.length:0;K--;){var le=M[K],me=le.func;if(me==null||me==_)return le.name}return R}function Cp(_){var R=cn.call(ve,"placeholder")?ve:_;return R.placeholder}function rr(){var _=ve.iteratee||BE;return _=_===BE?UM:_,arguments.length?_(arguments[0],arguments[1]):_}function tx(_,R){var M=_.__data__;return TJ(R)?M[typeof R=="string"?"string":"hash"]:M.map}function wE(_){for(var R=No(_),M=R.length;M--;){var K=R[M],le=_[K];R[M]=[K,le,CF(le)]}return R}function Wf(_,R){var M=DX(_,R);return WM(M)?M:t}function _J(_){var R=cn.call(_,Lf),M=_[Lf];try{_[Lf]=t;var K=!0}catch{}var le=Py.call(_);return K&&(R?_[Lf]=M:delete _[Lf]),le}var SE=XC?function(_){return _==null?[]:(_=bn(_),Is(XC(_),function(R){return RM.call(_,R)}))}:zE,_F=XC?function(_){for(var R=[];_;)rs(R,SE(_)),_=My(_);return R}:zE,hi=Mi;(QC&&hi(new QC(new ArrayBuffer(1)))!=xe||vm&&hi(new vm)!=j||JC&&hi(JC.resolve())!=G||xp&&hi(new xp)!=de||mm&&hi(new mm)!=he)&&(hi=function(_){var R=Mi(_),M=R==Q?_.constructor:t,K=M?Uf(M):"";if(K)switch(K){case nQ:return xe;case oQ:return j;case iQ:return G;case aQ:return de;case sQ:return he}return R});function wJ(_,R,M){for(var K=-1,le=M.length;++K<le;){var me=M[K],Ce=me.size;switch(me.type){case"drop":_+=Ce;break;case"dropRight":R-=Ce;break;case"take":R=pi(R,_+Ce);break;case"takeRight":_=Co(_,R-Ce);break}}return{start:_,end:R}}function SJ(_){var R=_.match(It);return R?R[1].split(Ut):[]}function wF(_,R,M){R=wc(R,_);for(var K=-1,le=R.length,me=!1;++K<le;){var Ce=xu(R[K]);if(!(me=_!=null&&M(_,Ce)))break;_=_[Ce]}return me||++K!=le?me:(le=_==null?0:_.length,!!le&&ux(le)&&El(Ce,le)&&(mr(_)||qf(_)))}function CJ(_){var R=_.length,M=new _.constructor(R);return R&&typeof _[0]=="string"&&cn.call(_,"index")&&(M.index=_.index,M.input=_.input),M}function SF(_){return typeof _.constructor=="function"&&!Em(_)?_p(My(_)):{}}function EJ(_,R,M){var K=_.constructor;switch(R){case Se:return mE(_);case oe:case ee:return new K(+_);case xe:return uJ(_,M);case De:case $e:case Be:case we:case Me:case Le:case Fe:case He:case gt:return iF(_,M);case j:return new K;case ce:case ae:return new K(_);case te:return lJ(_);case de:return new K;case ye:return cJ(_)}}function kJ(_,R){var M=R.length;if(!M)return _;var K=M-1;return R[K]=(M>1?"& ":"")+R[K],R=R.join(M>2?", ":" "),_.replace(yt,`{
/* [wrapped with `+R+`] */
`)}function RJ(_){return mr(_)||qf(_)||!!(TM&&_&&_[TM])}function El(_,R){var M=typeof _;return R=R??W,!!R&&(M=="number"||M!="symbol"&&zr.test(_))&&_>-1&&_%1==0&&_<R}function Fi(_,R,M){if(!$n(M))return!1;var K=typeof R;return(K=="number"?ta(M)&&El(R,M.length):K=="string"&&R in M)?Fs(M[R],_):!1}function CE(_,R){if(mr(_))return!1;var M=typeof _;return M=="number"||M=="symbol"||M=="boolean"||_==null||ka(_)?!0:Mn.test(_)||!Xr.test(_)||R!=null&&_ in bn(R)}function TJ(_){var R=typeof _;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?_!=="__proto__":_===null}function EE(_){var R=ex(_),M=ve[R];if(typeof M!="function"||!(R in Fr.prototype))return!1;if(_===M)return!0;var K=_E(M);return!!K&&_===K[0]}function AJ(_){return!!CM&&CM in _}var OJ=Oy?kl:WE;function Em(_){var R=_&&_.constructor,M=typeof R=="function"&&R.prototype||yp;return _===M}function CF(_){return _===_&&!$n(_)}function EF(_,R){return function(M){return M==null?!1:M[_]===R&&(R!==t||_ in bn(M))}}function DJ(_){var R=ax(_,function(K){return M.size===l&&M.clear(),K}),M=R.cache;return R}function PJ(_,R){var M=_[1],K=R[1],le=M|K,me=le<(y|v|C),Ce=K==C&&M==x||K==C&&M==S&&_[7].length<=R[8]||K==(C|S)&&R[7].length<=R[8]&&M==x;if(!(me||Ce))return _;K&y&&(_[2]=R[2],le|=M&y?0:g);var Te=R[3];if(Te){var Ne=_[3];_[3]=Ne?sF(Ne,Te,R[4]):Te,_[4]=Ne?yc(_[3],c):R[4]}return Te=R[5],Te&&(Ne=_[5],_[5]=Ne?uF(Ne,Te,R[6]):Te,_[6]=Ne?yc(_[5],c):R[6]),Te=R[7],Te&&(_[7]=Te),K&C&&(_[8]=_[8]==null?R[8]:pi(_[8],R[8])),_[9]==null&&(_[9]=R[9]),_[0]=R[0],_[1]=le,_}function IJ(_){var R=[];if(_!=null)for(var M in bn(_))R.push(M);return R}function NJ(_){return Py.call(_)}function kF(_,R,M){return R=Co(R===t?_.length-1:R,0),function(){for(var K=arguments,le=-1,me=Co(K.length-R,0),Ce=We(me);++le<me;)Ce[le]=K[R+le];le=-1;for(var Te=We(R+1);++le<R;)Te[le]=K[le];return Te[R]=M(Ce),fi(_,this,Te)}}function RF(_,R){return R.length<2?_:zf(_,as(R,0,-1))}function MJ(_,R){for(var M=_.length,K=pi(R.length,M),le=ea(_);K--;){var me=R[K];_[K]=El(me,M)?le[me]:t}return _}function kE(_,R){if(!(R==="constructor"&&typeof _[R]=="function")&&R!="__proto__")return _[R]}var TF=OF(QM),km=XX||function(_,R){return wo.setTimeout(_,R)},RE=OF(oJ);function AF(_,R,M){var K=R+"";return RE(_,kJ(K,FJ(SJ(K),M)))}function OF(_){var R=0,M=0;return function(){var K=eQ(),le=F-(K-M);if(M=K,le>0){if(++R>=I)return arguments[0]}else R=0;return _.apply(t,arguments)}}function rx(_,R){var M=-1,K=_.length,le=K-1;for(R=R===t?K:R;++M<R;){var me=lE(M,le),Ce=_[me];_[me]=_[M],_[M]=Ce}return _.length=R,_}var DF=DJ(function(_){var R=[];return _.charCodeAt(0)===46&&R.push(""),_.replace(Yn,function(M,K,le,me){R.push(le?me.replace(xt,"$1"):K||M)}),R});function xu(_){if(typeof _=="string"||ka(_))return _;var R=_+"";return R=="0"&&1/_==-1/0?"-0":R}function Uf(_){if(_!=null){try{return Dy.call(_)}catch{}try{return _+""}catch{}}return""}function FJ(_,R){return di(V,function(M){var K="_."+M[0];R&M[1]&&!mc(_,K)&&_.push(K)}),_.sort()}function PF(_){if(_ instanceof Fr)return _.clone();var R=new os(_.__wrapped__,_.__chain__);return R.__actions__=ea(_.__actions__),R.__index__=_.__index__,R.__values__=_.__values__,R}function LJ(_,R,M){(M?Fi(_,R,M):R===t)?R=1:R=Co(gr(R),0);var K=_==null?0:_.length;if(!K||R<1)return[];for(var le=0,me=0,Ce=We(By(K/R));le<K;)Ce[me++]=as(_,le,le+=R);return Ce}function BJ(_){for(var R=-1,M=_==null?0:_.length,K=0,le=[];++R<M;){var me=_[R];me&&(le[K++]=me)}return le}function jJ(){var _=arguments.length;if(!_)return[];for(var R=We(_-1),M=arguments[0],K=_;K--;)R[K-1]=arguments[K];return rs(mr(M)?ea(M):[M],Jo(R,1))}var $J=kr(function(_,R){return ao(_)?bm(_,Jo(R,1,ao,!0)):[]}),zJ=kr(function(_,R){var M=ss(R);return ao(M)&&(M=t),ao(_)?bm(_,Jo(R,1,ao,!0),rr(M,2)):[]}),WJ=kr(function(_,R){var M=ss(R);return ao(M)&&(M=t),ao(_)?bm(_,Jo(R,1,ao,!0),t,M):[]});function UJ(_,R,M){var K=_==null?0:_.length;return K?(R=M||R===t?1:gr(R),as(_,R<0?0:R,K)):[]}function qJ(_,R,M){var K=_==null?0:_.length;return K?(R=M||R===t?1:gr(R),R=K-R,as(_,0,R<0?0:R)):[]}function HJ(_,R){return _&&_.length?Yy(_,rr(R,3),!0,!0):[]}function VJ(_,R){return _&&_.length?Yy(_,rr(R,3),!0):[]}function GJ(_,R,M,K){var le=_==null?0:_.length;return le?(M&&typeof M!="number"&&Fi(_,R,M)&&(M=0,K=le),jQ(_,R,M,K)):[]}function IF(_,R,M){var K=_==null?0:_.length;if(!K)return-1;var le=M==null?0:gr(M);return le<0&&(le=Co(K+le,0)),gc(_,rr(R,3),le)}function NF(_,R,M){var K=_==null?0:_.length;if(!K)return-1;var le=K-1;return M!==t&&(le=gr(M),le=M<0?Co(K+le,0):pi(le,K-1)),gc(_,rr(R,3),le,!0)}function MF(_){var R=_==null?0:_.length;return R?Jo(_,1):[]}function YJ(_){var R=_==null?0:_.length;return R?Jo(_,B):[]}function KJ(_,R){var M=_==null?0:_.length;return M?(R=R===t?1:gr(R),Jo(_,R)):[]}function XJ(_){for(var R=-1,M=_==null?0:_.length,K={};++R<M;){var le=_[R];K[le[0]]=le[1]}return K}function FF(_){return _&&_.length?_[0]:t}function QJ(_,R,M){var K=_==null?0:_.length;if(!K)return-1;var le=M==null?0:gr(M);return le<0&&(le=Co(K+le,0)),hp(_,R,le)}function JJ(_){var R=_==null?0:_.length;return R?as(_,0,-1):[]}var ZJ=kr(function(_){var R=xn(_,hE);return R.length&&R[0]===_[0]?oE(R):[]}),eZ=kr(function(_){var R=ss(_),M=xn(_,hE);return R===ss(M)?R=t:M.pop(),M.length&&M[0]===_[0]?oE(M,rr(R,2)):[]}),tZ=kr(function(_){var R=ss(_),M=xn(_,hE);return R=typeof R=="function"?R:t,R&&M.pop(),M.length&&M[0]===_[0]?oE(M,t,R):[]});function rZ(_,R){return _==null?"":JX.call(_,R)}function ss(_){var R=_==null?0:_.length;return R?_[R-1]:t}function nZ(_,R,M){var K=_==null?0:_.length;if(!K)return-1;var le=K;return M!==t&&(le=gr(M),le=le<0?Co(K+le,0):pi(le,K-1)),R===R?FX(_,R,le):gc(_,mM,le,!0)}function oZ(_,R){return _&&_.length?GM(_,gr(R)):t}var iZ=kr(LF);function LF(_,R){return _&&_.length&&R&&R.length?uE(_,R):_}function aZ(_,R,M){return _&&_.length&&R&&R.length?uE(_,R,rr(M,2)):_}function sZ(_,R,M){return _&&_.length&&R&&R.length?uE(_,R,t,M):_}var uZ=Cl(function(_,R){var M=_==null?0:_.length,K=eE(_,R);return XM(_,xn(R,function(le){return El(le,M)?+le:le}).sort(aF)),K});function lZ(_,R){var M=[];if(!(_&&_.length))return M;var K=-1,le=[],me=_.length;for(R=rr(R,3);++K<me;){var Ce=_[K];R(Ce,K,_)&&(M.push(Ce),le.push(K))}return XM(_,le),M}function TE(_){return _==null?_:rQ.call(_)}function cZ(_,R,M){var K=_==null?0:_.length;return K?(M&&typeof M!="number"&&Fi(_,R,M)?(R=0,M=K):(R=R==null?0:gr(R),M=M===t?K:gr(M)),as(_,R,M)):[]}function fZ(_,R){return Gy(_,R)}function dZ(_,R,M){return fE(_,R,rr(M,2))}function pZ(_,R){var M=_==null?0:_.length;if(M){var K=Gy(_,R);if(K<M&&Fs(_[K],R))return K}return-1}function hZ(_,R){return Gy(_,R,!0)}function vZ(_,R,M){return fE(_,R,rr(M,2),!0)}function mZ(_,R){var M=_==null?0:_.length;if(M){var K=Gy(_,R,!0)-1;if(Fs(_[K],R))return K}return-1}function gZ(_){return _&&_.length?JM(_):[]}function yZ(_,R){return _&&_.length?JM(_,rr(R,2)):[]}function xZ(_){var R=_==null?0:_.length;return R?as(_,1,R):[]}function bZ(_,R,M){return _&&_.length?(R=M||R===t?1:gr(R),as(_,0,R<0?0:R)):[]}function _Z(_,R,M){var K=_==null?0:_.length;return K?(R=M||R===t?1:gr(R),R=K-R,as(_,R<0?0:R,K)):[]}function wZ(_,R){return _&&_.length?Yy(_,rr(R,3),!1,!0):[]}function SZ(_,R){return _&&_.length?Yy(_,rr(R,3)):[]}var CZ=kr(function(_){return _c(Jo(_,1,ao,!0))}),EZ=kr(function(_){var R=ss(_);return ao(R)&&(R=t),_c(Jo(_,1,ao,!0),rr(R,2))}),kZ=kr(function(_){var R=ss(_);return R=typeof R=="function"?R:t,_c(Jo(_,1,ao,!0),t,R)});function RZ(_){return _&&_.length?_c(_):[]}function TZ(_,R){return _&&_.length?_c(_,rr(R,2)):[]}function AZ(_,R){return R=typeof R=="function"?R:t,_&&_.length?_c(_,t,R):[]}function AE(_){if(!(_&&_.length))return[];var R=0;return _=Is(_,function(M){if(ao(M))return R=Co(M.length,R),!0}),VC(R,function(M){return xn(_,UC(M))})}function BF(_,R){if(!(_&&_.length))return[];var M=AE(_);return R==null?M:xn(M,function(K){return fi(R,t,K)})}var OZ=kr(function(_,R){return ao(_)?bm(_,R):[]}),DZ=kr(function(_){return pE(Is(_,ao))}),PZ=kr(function(_){var R=ss(_);return ao(R)&&(R=t),pE(Is(_,ao),rr(R,2))}),IZ=kr(function(_){var R=ss(_);return R=typeof R=="function"?R:t,pE(Is(_,ao),t,R)}),NZ=kr(AE);function MZ(_,R){return rF(_||[],R||[],xm)}function FZ(_,R){return rF(_||[],R||[],Sm)}var LZ=kr(function(_){var R=_.length,M=R>1?_[R-1]:t;return M=typeof M=="function"?(_.pop(),M):t,BF(_,M)});function jF(_){var R=ve(_);return R.__chain__=!0,R}function BZ(_,R){return R(_),_}function nx(_,R){return R(_)}var jZ=Cl(function(_){var R=_.length,M=R?_[0]:0,K=this.__wrapped__,le=function(me){return eE(me,_)};return R>1||this.__actions__.length||!(K instanceof Fr)||!El(M)?this.thru(le):(K=K.slice(M,+M+(R?1:0)),K.__actions__.push({func:nx,args:[le],thisArg:t}),new os(K,this.__chain__).thru(function(me){return R&&!me.length&&me.push(t),me}))});function $Z(){return jF(this)}function zZ(){return new os(this.value(),this.__chain__)}function WZ(){this.__values__===t&&(this.__values__=ZF(this.value()));var _=this.__index__>=this.__values__.length,R=_?t:this.__values__[this.__index__++];return{done:_,value:R}}function UZ(){return this}function qZ(_){for(var R,M=this;M instanceof Wy;){var K=PF(M);K.__index__=0,K.__values__=t,R?le.__wrapped__=K:R=K;var le=K;M=M.__wrapped__}return le.__wrapped__=_,R}function HZ(){var _=this.__wrapped__;if(_ instanceof Fr){var R=_;return this.__actions__.length&&(R=new Fr(this)),R=R.reverse(),R.__actions__.push({func:nx,args:[TE],thisArg:t}),new os(R,this.__chain__)}return this.thru(TE)}function VZ(){return tF(this.__wrapped__,this.__actions__)}var GZ=Ky(function(_,R,M){cn.call(_,M)?++_[M]:wl(_,M,1)});function YZ(_,R,M){var K=mr(_)?dm:BQ;return M&&Fi(_,R,M)&&(R=t),K(_,rr(R,3))}function KZ(_,R){var M=mr(_)?Is:BM;return M(_,rr(R,3))}var XZ=dF(IF),QZ=dF(NF);function JZ(_,R){return Jo(ox(_,R),1)}function ZZ(_,R){return Jo(ox(_,R),B)}function eee(_,R,M){return M=M===t?1:gr(M),Jo(ox(_,R),M)}function $F(_,R){var M=mr(_)?di:bc;return M(_,rr(R,3))}function zF(_,R){var M=mr(_)?fm:LM;return M(_,rr(R,3))}var tee=Ky(function(_,R,M){cn.call(_,M)?_[M].push(R):wl(_,M,[R])});function ree(_,R,M,K){_=ta(_)?_:kp(_),M=M&&!K?gr(M):0;var le=_.length;return M<0&&(M=Co(le+M,0)),lx(_)?M<=le&&_.indexOf(R,M)>-1:!!le&&hp(_,R,M)>-1}var nee=kr(function(_,R,M){var K=-1,le=typeof R=="function",me=ta(_)?We(_.length):[];return bc(_,function(Ce){me[++K]=le?fi(R,Ce,M):_m(Ce,R,M)}),me}),oee=Ky(function(_,R,M){wl(_,M,R)});function ox(_,R){var M=mr(_)?xn:qM;return M(_,rr(R,3))}function iee(_,R,M,K){return _==null?[]:(mr(R)||(R=R==null?[]:[R]),M=K?t:M,mr(M)||(M=M==null?[]:[M]),YM(_,R,M))}var aee=Ky(function(_,R,M){_[M?0:1].push(R)},function(){return[[],[]]});function see(_,R,M){var K=mr(_)?Mf:yM,le=arguments.length<3;return K(_,rr(R,4),M,le,bc)}function uee(_,R,M){var K=mr(_)?zC:yM,le=arguments.length<3;return K(_,rr(R,4),M,le,LM)}function lee(_,R){var M=mr(_)?Is:BM;return M(_,sx(rr(R,3)))}function cee(_){var R=mr(_)?IM:rJ;return R(_)}function fee(_,R,M){(M?Fi(_,R,M):R===t)?R=1:R=gr(R);var K=mr(_)?IQ:nJ;return K(_,R)}function dee(_){var R=mr(_)?NQ:iJ;return R(_)}function pee(_){if(_==null)return 0;if(ta(_))return lx(_)?mp(_):_.length;var R=hi(_);return R==j||R==de?_.size:aE(_).length}function hee(_,R,M){var K=mr(_)?Ff:aJ;return M&&Fi(_,R,M)&&(R=t),K(_,rr(R,3))}var vee=kr(function(_,R){if(_==null)return[];var M=R.length;return M>1&&Fi(_,R[0],R[1])?R=[]:M>2&&Fi(R[0],R[1],R[2])&&(R=[R[0]]),YM(_,Jo(R,1),[])}),ix=KX||function(){return wo.Date.now()};function mee(_,R){if(typeof R!="function")throw new ns(a);return _=gr(_),function(){if(--_<1)return R.apply(this,arguments)}}function WF(_,R,M){return R=M?t:R,R=_&&R==null?_.length:R,Sl(_,C,t,t,t,t,R)}function UF(_,R){var M;if(typeof R!="function")throw new ns(a);return _=gr(_),function(){return--_>0&&(M=R.apply(this,arguments)),_<=1&&(R=t),M}}var OE=kr(function(_,R,M){var K=y;if(M.length){var le=yc(M,Cp(OE));K|=w}return Sl(_,K,R,M,le)}),qF=kr(function(_,R,M){var K=y|v;if(M.length){var le=yc(M,Cp(qF));K|=w}return Sl(R,K,_,M,le)});function HF(_,R,M){R=M?t:R;var K=Sl(_,x,t,t,t,t,t,R);return K.placeholder=HF.placeholder,K}function VF(_,R,M){R=M?t:R;var K=Sl(_,b,t,t,t,t,t,R);return K.placeholder=VF.placeholder,K}function GF(_,R,M){var K,le,me,Ce,Te,Ne,at=0,st=!1,lt=!1,kt=!0;if(typeof _!="function")throw new ns(a);R=us(R)||0,$n(M)&&(st=!!M.leading,lt="maxWait"in M,me=lt?Co(us(M.maxWait)||0,R):me,kt="trailing"in M?!!M.trailing:kt);function Gt(so){var Ls=K,Tl=le;return K=le=t,at=so,Ce=_.apply(Tl,Ls),Ce}function ir(so){return at=so,Te=km(Ir,R),st?Gt(so):Ce}function _r(so){var Ls=so-Ne,Tl=so-at,dL=R-Ls;return lt?pi(dL,me-Tl):dL}function ar(so){var Ls=so-Ne,Tl=so-at;return Ne===t||Ls>=R||Ls<0||lt&&Tl>=me}function Ir(){var so=ix();if(ar(so))return $r(so);Te=km(Ir,_r(so))}function $r(so){return Te=t,kt&&K?Gt(so):(K=le=t,Ce)}function Ra(){Te!==t&&nF(Te),at=0,K=Ne=le=Te=t}function Li(){return Te===t?Ce:$r(ix())}function Ta(){var so=ix(),Ls=ar(so);if(K=arguments,le=this,Ne=so,Ls){if(Te===t)return ir(Ne);if(lt)return nF(Te),Te=km(Ir,R),Gt(Ne)}return Te===t&&(Te=km(Ir,R)),Ce}return Ta.cancel=Ra,Ta.flush=Li,Ta}var gee=kr(function(_,R){return FM(_,1,R)}),yee=kr(function(_,R,M){return FM(_,us(R)||0,M)});function xee(_){return Sl(_,T)}function ax(_,R){if(typeof _!="function"||R!=null&&typeof R!="function")throw new ns(a);var M=function(){var K=arguments,le=R?R.apply(this,K):K[0],me=M.cache;if(me.has(le))return me.get(le);var Ce=_.apply(this,K);return M.cache=me.set(le,Ce)||me,Ce};return M.cache=new(ax.Cache||_l),M}ax.Cache=_l;function sx(_){if(typeof _!="function")throw new ns(a);return function(){var R=arguments;switch(R.length){case 0:return!_.call(this);case 1:return!_.call(this,R[0]);case 2:return!_.call(this,R[0],R[1]);case 3:return!_.call(this,R[0],R[1],R[2])}return!_.apply(this,R)}}function bee(_){return UF(2,_)}var _ee=sJ(function(_,R){R=R.length==1&&mr(R[0])?xn(R[0],Ca(rr())):xn(Jo(R,1),Ca(rr()));var M=R.length;return kr(function(K){for(var le=-1,me=pi(K.length,M);++le<me;)K[le]=R[le].call(this,K[le]);return fi(_,this,K)})}),DE=kr(function(_,R){var M=yc(R,Cp(DE));return Sl(_,w,t,R,M)}),YF=kr(function(_,R){var M=yc(R,Cp(YF));return Sl(_,E,t,R,M)}),wee=Cl(function(_,R){return Sl(_,S,t,t,t,R)});function See(_,R){if(typeof _!="function")throw new ns(a);return R=R===t?R:gr(R),kr(_,R)}function Cee(_,R){if(typeof _!="function")throw new ns(a);return R=R==null?0:Co(gr(R),0),kr(function(M){var K=M[R],le=Sc(M,0,R);return K&&rs(le,K),fi(_,this,le)})}function Eee(_,R,M){var K=!0,le=!0;if(typeof _!="function")throw new ns(a);return $n(M)&&(K="leading"in M?!!M.leading:K,le="trailing"in M?!!M.trailing:le),GF(_,R,{leading:K,maxWait:R,trailing:le})}function kee(_){return WF(_,1)}function Ree(_,R){return DE(vE(R),_)}function Tee(){if(!arguments.length)return[];var _=arguments[0];return mr(_)?_:[_]}function Aee(_){return is(_,p)}function Oee(_,R){return R=typeof R=="function"?R:t,is(_,p,R)}function Dee(_){return is(_,f|p)}function Pee(_,R){return R=typeof R=="function"?R:t,is(_,f|p,R)}function Iee(_,R){return R==null||MM(_,R,No(R))}function Fs(_,R){return _===R||_!==_&&R!==R}var Nee=Zy(nE),Mee=Zy(function(_,R){return _>=R}),qf=zM(function(){return arguments}())?zM:function(_){return Kn(_)&&cn.call(_,"callee")&&!RM.call(_,"callee")},mr=We.isArray,Fee=vu?Ca(vu):qQ;function ta(_){return _!=null&&ux(_.length)&&!kl(_)}function ao(_){return Kn(_)&&ta(_)}function Lee(_){return _===!0||_===!1||Kn(_)&&Mi(_)==oe}var Cc=QX||WE,Bee=um?Ca(um):HQ;function jee(_){return Kn(_)&&_.nodeType===1&&!Rm(_)}function $ee(_){if(_==null)return!0;if(ta(_)&&(mr(_)||typeof _=="string"||typeof _.splice=="function"||Cc(_)||Ep(_)||qf(_)))return!_.length;var R=hi(_);if(R==j||R==de)return!_.size;if(Em(_))return!aE(_).length;for(var M in _)if(cn.call(_,M))return!1;return!0}function zee(_,R){return wm(_,R)}function Wee(_,R,M){M=typeof M=="function"?M:t;var K=M?M(_,R):t;return K===t?wm(_,R,t,M):!!K}function PE(_){if(!Kn(_))return!1;var R=Mi(_);return R==pe||R==ne||typeof _.message=="string"&&typeof _.name=="string"&&!Rm(_)}function Uee(_){return typeof _=="number"&&AM(_)}function kl(_){if(!$n(_))return!1;var R=Mi(_);return R==J||R==se||R==ue||R==X}function KF(_){return typeof _=="number"&&_==gr(_)}function ux(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=W}function $n(_){var R=typeof _;return _!=null&&(R=="object"||R=="function")}function Kn(_){return _!=null&&typeof _=="object"}var XF=cp?Ca(cp):GQ;function qee(_,R){return _===R||iE(_,R,wE(R))}function Hee(_,R,M){return M=typeof M=="function"?M:t,iE(_,R,wE(R),M)}function Vee(_){return QF(_)&&_!=+_}function Gee(_){if(OJ(_))throw new pr(i);return WM(_)}function Yee(_){return _===null}function Kee(_){return _==null}function QF(_){return typeof _=="number"||Kn(_)&&Mi(_)==ce}function Rm(_){if(!Kn(_)||Mi(_)!=Q)return!1;var R=My(_);if(R===null)return!0;var M=cn.call(R,"constructor")&&R.constructor;return typeof M=="function"&&M instanceof M&&Dy.call(M)==HX}var IE=lm?Ca(lm):YQ;function Xee(_){return KF(_)&&_>=-9007199254740991&&_<=W}var JF=cm?Ca(cm):KQ;function lx(_){return typeof _=="string"||!mr(_)&&Kn(_)&&Mi(_)==ae}function ka(_){return typeof _=="symbol"||Kn(_)&&Mi(_)==ye}var Ep=fp?Ca(fp):XQ;function Qee(_){return _===t}function Jee(_){return Kn(_)&&hi(_)==he}function Zee(_){return Kn(_)&&Mi(_)==_e}var ete=Zy(sE),tte=Zy(function(_,R){return _<=R});function ZF(_){if(!_)return[];if(ta(_))return lx(_)?Ns(_):ea(_);if(hm&&_[hm])return IX(_[hm]());var R=hi(_),M=R==j?YC:R==de?Ty:kp;return M(_)}function Rl(_){if(!_)return _===0?_:0;if(_=us(_),_===B||_===-1/0){var R=_<0?-1:1;return R*L}return _===_?_:0}function gr(_){var R=Rl(_),M=R%1;return R===R?M?R-M:R:0}function eL(_){return _?$f(gr(_),0,U):0}function us(_){if(typeof _=="number")return _;if(ka(_))return z;if($n(_)){var R=typeof _.valueOf=="function"?_.valueOf():_;_=$n(R)?R+"":R}if(typeof _!="string")return _===0?_:+_;_=xM(_);var M=an.test(_);return M||mt.test(_)?lp(_.slice(2),M?2:8):lr.test(_)?z:+_}function tL(_){return yu(_,ra(_))}function rte(_){return _?$f(gr(_),-9007199254740991,W):_===0?_:0}function nn(_){return _==null?"":Ea(_)}var nte=wp(function(_,R){if(Em(R)||ta(R)){yu(R,No(R),_);return}for(var M in R)cn.call(R,M)&&xm(_,M,R[M])}),rL=wp(function(_,R){yu(R,ra(R),_)}),cx=wp(function(_,R,M,K){yu(R,ra(R),_,K)}),ote=wp(function(_,R,M,K){yu(R,No(R),_,K)}),ite=Cl(eE);function ate(_,R){var M=_p(_);return R==null?M:NM(M,R)}var ste=kr(function(_,R){_=bn(_);var M=-1,K=R.length,le=K>2?R[2]:t;for(le&&Fi(R[0],R[1],le)&&(K=1);++M<K;)for(var me=R[M],Ce=ra(me),Te=-1,Ne=Ce.length;++Te<Ne;){var at=Ce[Te],st=_[at];(st===t||Fs(st,yp[at])&&!cn.call(_,at))&&(_[at]=me[at])}return _}),ute=kr(function(_){return _.push(t,xF),fi(nL,t,_)});function lte(_,R){return mu(_,rr(R,3),gu)}function cte(_,R){return mu(_,rr(R,3),rE)}function fte(_,R){return _==null?_:tE(_,rr(R,3),ra)}function dte(_,R){return _==null?_:jM(_,rr(R,3),ra)}function pte(_,R){return _&&gu(_,rr(R,3))}function hte(_,R){return _&&rE(_,rr(R,3))}function vte(_){return _==null?[]:Hy(_,No(_))}function mte(_){return _==null?[]:Hy(_,ra(_))}function NE(_,R,M){var K=_==null?t:zf(_,R);return K===t?M:K}function gte(_,R){return _!=null&&wF(_,R,$Q)}function ME(_,R){return _!=null&&wF(_,R,zQ)}var yte=hF(function(_,R,M){R!=null&&typeof R.toString!="function"&&(R=Py.call(R)),_[R]=M},LE(na)),xte=hF(function(_,R,M){R!=null&&typeof R.toString!="function"&&(R=Py.call(R)),cn.call(_,R)?_[R].push(M):_[R]=[M]},rr),bte=kr(_m);function No(_){return ta(_)?PM(_):aE(_)}function ra(_){return ta(_)?PM(_,!0):QQ(_)}function _te(_,R){var M={};return R=rr(R,3),gu(_,function(K,le,me){wl(M,R(K,le,me),K)}),M}function wte(_,R){var M={};return R=rr(R,3),gu(_,function(K,le,me){wl(M,le,R(K,le,me))}),M}var Ste=wp(function(_,R,M){Vy(_,R,M)}),nL=wp(function(_,R,M,K){Vy(_,R,M,K)}),Cte=Cl(function(_,R){var M={};if(_==null)return M;var K=!1;R=xn(R,function(me){return me=wc(me,_),K||(K=me.length>1),me}),yu(_,bE(_),M),K&&(M=is(M,f|d|p,yJ));for(var le=R.length;le--;)dE(M,R[le]);return M});function Ete(_,R){return oL(_,sx(rr(R)))}var kte=Cl(function(_,R){return _==null?{}:ZQ(_,R)});function oL(_,R){if(_==null)return{};var M=xn(bE(_),function(K){return[K]});return R=rr(R),KM(_,M,function(K,le){return R(K,le[0])})}function Rte(_,R,M){R=wc(R,_);var K=-1,le=R.length;for(le||(le=1,_=t);++K<le;){var me=_==null?t:_[xu(R[K])];me===t&&(K=le,me=M),_=kl(me)?me.call(_):me}return _}function Tte(_,R,M){return _==null?_:Sm(_,R,M)}function Ate(_,R,M,K){return K=typeof K=="function"?K:t,_==null?_:Sm(_,R,M,K)}var iL=gF(No),aL=gF(ra);function Ote(_,R,M){var K=mr(_),le=K||Cc(_)||Ep(_);if(R=rr(R,4),M==null){var me=_&&_.constructor;le?M=K?new me:[]:$n(_)?M=kl(me)?_p(My(_)):{}:M={}}return(le?di:gu)(_,function(Ce,Te,Ne){return R(M,Ce,Te,Ne)}),M}function Dte(_,R){return _==null?!0:dE(_,R)}function Pte(_,R,M){return _==null?_:eF(_,R,vE(M))}function Ite(_,R,M,K){return K=typeof K=="function"?K:t,_==null?_:eF(_,R,vE(M),K)}function kp(_){return _==null?[]:GC(_,No(_))}function Nte(_){return _==null?[]:GC(_,ra(_))}function Mte(_,R,M){return M===t&&(M=R,R=t),M!==t&&(M=us(M),M=M===M?M:0),R!==t&&(R=us(R),R=R===R?R:0),$f(us(_),R,M)}function Fte(_,R,M){return R=Rl(R),M===t?(M=R,R=0):M=Rl(M),_=us(_),WQ(_,R,M)}function Lte(_,R,M){if(M&&typeof M!="boolean"&&Fi(_,R,M)&&(R=M=t),M===t&&(typeof R=="boolean"?(M=R,R=t):typeof _=="boolean"&&(M=_,_=t)),_===t&&R===t?(_=0,R=1):(_=Rl(_),R===t?(R=_,_=0):R=Rl(R)),_>R){var K=_;_=R,R=K}if(M||_%1||R%1){var le=OM();return pi(_+le*(R-_+up("1e-"+((le+"").length-1))),R)}return lE(_,R)}var Bte=Sp(function(_,R,M){return R=R.toLowerCase(),_+(M?sL(R):R)});function sL(_){return FE(nn(_).toLowerCase())}function uL(_){return _=nn(_),_&&_.replace(Ai,TX).replace(Ey,"")}function jte(_,R,M){_=nn(_),R=Ea(R);var K=_.length;M=M===t?K:$f(gr(M),0,K);var le=M;return M-=R.length,M>=0&&_.slice(M,le)==R}function $te(_){return _=nn(_),_&&Lr.test(_)?_.replace(vr,AX):_}function zte(_){return _=nn(_),_&&Pe.test(_)?_.replace(Ee,"\\$&"):_}var Wte=Sp(function(_,R,M){return _+(M?"-":"")+R.toLowerCase()}),Ute=Sp(function(_,R,M){return _+(M?" ":"")+R.toLowerCase()}),qte=fF("toLowerCase");function Hte(_,R,M){_=nn(_),R=gr(R);var K=R?mp(_):0;if(!R||K>=R)return _;var le=(R-K)/2;return Jy(jy(le),M)+_+Jy(By(le),M)}function Vte(_,R,M){_=nn(_),R=gr(R);var K=R?mp(_):0;return R&&K<R?_+Jy(R-K,M):_}function Gte(_,R,M){_=nn(_),R=gr(R);var K=R?mp(_):0;return R&&K<R?Jy(R-K,M)+_:_}function Yte(_,R,M){return M||R==null?R=0:R&&(R=+R),tQ(nn(_).replace(je,""),R||0)}function Kte(_,R,M){return(M?Fi(_,R,M):R===t)?R=1:R=gr(R),cE(nn(_),R)}function Xte(){var _=arguments,R=nn(_[0]);return _.length<3?R:R.replace(_[1],_[2])}var Qte=Sp(function(_,R,M){return _+(M?"_":"")+R.toLowerCase()});function Jte(_,R,M){return M&&typeof M!="number"&&Fi(_,R,M)&&(R=M=t),M=M===t?U:M>>>0,M?(_=nn(_),_&&(typeof R=="string"||R!=null&&!IE(R))&&(R=Ea(R),!R&&vp(_))?Sc(Ns(_),0,M):_.split(R,M)):[]}var Zte=Sp(function(_,R,M){return _+(M?" ":"")+FE(R)});function ere(_,R,M){return _=nn(_),M=M==null?0:$f(gr(M),0,_.length),R=Ea(R),_.slice(M,M+R.length)==R}function tre(_,R,M){var K=ve.templateSettings;M&&Fi(_,R,M)&&(R=t),_=nn(_),R=cx({},R,K,yF);var le=cx({},R.imports,K.imports,yF),me=No(le),Ce=GC(le,me),Te,Ne,at=0,st=R.interpolate||Oi,lt="__p += '",kt=KC((R.escape||Oi).source+"|"+st.source+"|"+(st===$t?Lt:Oi).source+"|"+(R.evaluate||Oi).source+"|$","g"),Gt="//# sourceURL="+(cn.call(R,"sourceURL")?(R.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++om+"]")+`
`;_.replace(kt,function(ar,Ir,$r,Ra,Li,Ta){return $r||($r=Ra),lt+=_.slice(at,Ta).replace(Yo,OX),Ir&&(Te=!0,lt+=`' +
__e(`+Ir+`) +
'`),Li&&(Ne=!0,lt+=`';
`+Li+`;
__p += '`),$r&&(lt+=`' +
((__t = (`+$r+`)) == null ? '' : __t) +
'`),at=Ta+ar.length,ar}),lt+=`';
`;var ir=cn.call(R,"variable")&&R.variable;if(!ir)lt=`with (obj) {
`+lt+`
}
`;else if(Et.test(ir))throw new pr(s);lt=(Ne?lt.replace(_t,""):lt).replace(At,"$1").replace(or,"$1;"),lt="function("+(ir||"obj")+`) {
`+(ir?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Te?", __e = _.escape":"")+(Ne?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var _r=cL(function(){return Jr(me,Gt+"return "+lt).apply(t,Ce)});if(_r.source=lt,PE(_r))throw _r;return _r}function rre(_){return nn(_).toLowerCase()}function nre(_){return nn(_).toUpperCase()}function ore(_,R,M){if(_=nn(_),_&&(M||R===t))return xM(_);if(!_||!(R=Ea(R)))return _;var K=Ns(_),le=Ns(R),me=bM(K,le),Ce=_M(K,le)+1;return Sc(K,me,Ce).join("")}function ire(_,R,M){if(_=nn(_),_&&(M||R===t))return _.slice(0,SM(_)+1);if(!_||!(R=Ea(R)))return _;var K=Ns(_),le=_M(K,Ns(R))+1;return Sc(K,0,le).join("")}function are(_,R,M){if(_=nn(_),_&&(M||R===t))return _.replace(je,"");if(!_||!(R=Ea(R)))return _;var K=Ns(_),le=bM(K,Ns(R));return Sc(K,le).join("")}function sre(_,R){var M=k,K=P;if($n(R)){var le="separator"in R?R.separator:le;M="length"in R?gr(R.length):M,K="omission"in R?Ea(R.omission):K}_=nn(_);var me=_.length;if(vp(_)){var Ce=Ns(_);me=Ce.length}if(M>=me)return _;var Te=M-mp(K);if(Te<1)return K;var Ne=Ce?Sc(Ce,0,Te).join(""):_.slice(0,Te);if(le===t)return Ne+K;if(Ce&&(Te+=Ne.length-Te),IE(le)){if(_.slice(Te).search(le)){var at,st=Ne;for(le.global||(le=KC(le.source,nn(sr.exec(le))+"g")),le.lastIndex=0;at=le.exec(st);)var lt=at.index;Ne=Ne.slice(0,lt===t?Te:lt)}}else if(_.indexOf(Ea(le),Te)!=Te){var kt=Ne.lastIndexOf(le);kt>-1&&(Ne=Ne.slice(0,kt))}return Ne+K}function ure(_){return _=nn(_),_&&br.test(_)?_.replace(Cr,LX):_}var lre=Sp(function(_,R,M){return _+(M?" ":"")+R.toUpperCase()}),FE=fF("toUpperCase");function lL(_,R,M){return _=nn(_),R=M?t:R,R===t?PX(_)?$X(_):Qo(_):_.match(R)||[]}var cL=kr(function(_,R){try{return fi(_,t,R)}catch(M){return PE(M)?M:new pr(M)}}),cre=Cl(function(_,R){return di(R,function(M){M=xu(M),wl(_,M,OE(_[M],_))}),_});function fre(_){var R=_==null?0:_.length,M=rr();return _=R?xn(_,function(K){if(typeof K[1]!="function")throw new ns(a);return[M(K[0]),K[1]]}):[],kr(function(K){for(var le=-1;++le<R;){var me=_[le];if(fi(me[0],this,K))return fi(me[1],this,K)}})}function dre(_){return LQ(is(_,f))}function LE(_){return function(){return _}}function pre(_,R){return _==null||_!==_?R:_}var hre=pF(),vre=pF(!0);function na(_){return _}function BE(_){return UM(typeof _=="function"?_:is(_,f))}function mre(_){return HM(is(_,f))}function gre(_,R){return VM(_,is(R,f))}var yre=kr(function(_,R){return function(M){return _m(M,_,R)}}),xre=kr(function(_,R){return function(M){return _m(_,M,R)}});function jE(_,R,M){var K=No(R),le=Hy(R,K);M==null&&!($n(R)&&(le.length||!K.length))&&(M=R,R=_,_=this,le=Hy(R,No(R)));var me=!($n(M)&&"chain"in M)||!!M.chain,Ce=kl(_);return di(le,function(Te){var Ne=R[Te];_[Te]=Ne,Ce&&(_.prototype[Te]=function(){var at=this.__chain__;if(me||at){var st=_(this.__wrapped__),lt=st.__actions__=ea(this.__actions__);return lt.push({func:Ne,args:arguments,thisArg:_}),st.__chain__=at,st}return Ne.apply(_,rs([this.value()],arguments))})}),_}function bre(){return wo._===this&&(wo._=VX),this}function $E(){}function _re(_){return _=gr(_),kr(function(R){return GM(R,_)})}var wre=gE(xn),Sre=gE(dm),Cre=gE(Ff);function fL(_){return CE(_)?UC(xu(_)):eJ(_)}function Ere(_){return function(R){return _==null?t:zf(_,R)}}var kre=vF(),Rre=vF(!0);function zE(){return[]}function WE(){return!1}function Tre(){return{}}function Are(){return""}function Ore(){return!0}function Dre(_,R){if(_=gr(_),_<1||_>W)return[];var M=U,K=pi(_,U);R=rr(R),_-=U;for(var le=VC(K,R);++M<_;)R(M);return le}function Pre(_){return mr(_)?xn(_,xu):ka(_)?[_]:ea(DF(nn(_)))}function Ire(_){var R=++qX;return nn(_)+R}var Nre=Qy(function(_,R){return _+R},0),Mre=yE("ceil"),Fre=Qy(function(_,R){return _/R},1),Lre=yE("floor");function Bre(_){return _&&_.length?qy(_,na,nE):t}function jre(_,R){return _&&_.length?qy(_,rr(R,2),nE):t}function $re(_){return gM(_,na)}function zre(_,R){return gM(_,rr(R,2))}function Wre(_){return _&&_.length?qy(_,na,sE):t}function Ure(_,R){return _&&_.length?qy(_,rr(R,2),sE):t}var qre=Qy(function(_,R){return _*R},1),Hre=yE("round"),Vre=Qy(function(_,R){return _-R},0);function Gre(_){return _&&_.length?HC(_,na):0}function Yre(_,R){return _&&_.length?HC(_,rr(R,2)):0}return ve.after=mee,ve.ary=WF,ve.assign=nte,ve.assignIn=rL,ve.assignInWith=cx,ve.assignWith=ote,ve.at=ite,ve.before=UF,ve.bind=OE,ve.bindAll=cre,ve.bindKey=qF,ve.castArray=Tee,ve.chain=jF,ve.chunk=LJ,ve.compact=BJ,ve.concat=jJ,ve.cond=fre,ve.conforms=dre,ve.constant=LE,ve.countBy=GZ,ve.create=ate,ve.curry=HF,ve.curryRight=VF,ve.debounce=GF,ve.defaults=ste,ve.defaultsDeep=ute,ve.defer=gee,ve.delay=yee,ve.difference=$J,ve.differenceBy=zJ,ve.differenceWith=WJ,ve.drop=UJ,ve.dropRight=qJ,ve.dropRightWhile=HJ,ve.dropWhile=VJ,ve.fill=GJ,ve.filter=KZ,ve.flatMap=JZ,ve.flatMapDeep=ZZ,ve.flatMapDepth=eee,ve.flatten=MF,ve.flattenDeep=YJ,ve.flattenDepth=KJ,ve.flip=xee,ve.flow=hre,ve.flowRight=vre,ve.fromPairs=XJ,ve.functions=vte,ve.functionsIn=mte,ve.groupBy=tee,ve.initial=JJ,ve.intersection=ZJ,ve.intersectionBy=eZ,ve.intersectionWith=tZ,ve.invert=yte,ve.invertBy=xte,ve.invokeMap=nee,ve.iteratee=BE,ve.keyBy=oee,ve.keys=No,ve.keysIn=ra,ve.map=ox,ve.mapKeys=_te,ve.mapValues=wte,ve.matches=mre,ve.matchesProperty=gre,ve.memoize=ax,ve.merge=Ste,ve.mergeWith=nL,ve.method=yre,ve.methodOf=xre,ve.mixin=jE,ve.negate=sx,ve.nthArg=_re,ve.omit=Cte,ve.omitBy=Ete,ve.once=bee,ve.orderBy=iee,ve.over=wre,ve.overArgs=_ee,ve.overEvery=Sre,ve.overSome=Cre,ve.partial=DE,ve.partialRight=YF,ve.partition=aee,ve.pick=kte,ve.pickBy=oL,ve.property=fL,ve.propertyOf=Ere,ve.pull=iZ,ve.pullAll=LF,ve.pullAllBy=aZ,ve.pullAllWith=sZ,ve.pullAt=uZ,ve.range=kre,ve.rangeRight=Rre,ve.rearg=wee,ve.reject=lee,ve.remove=lZ,ve.rest=See,ve.reverse=TE,ve.sampleSize=fee,ve.set=Tte,ve.setWith=Ate,ve.shuffle=dee,ve.slice=cZ,ve.sortBy=vee,ve.sortedUniq=gZ,ve.sortedUniqBy=yZ,ve.split=Jte,ve.spread=Cee,ve.tail=xZ,ve.take=bZ,ve.takeRight=_Z,ve.takeRightWhile=wZ,ve.takeWhile=SZ,ve.tap=BZ,ve.throttle=Eee,ve.thru=nx,ve.toArray=ZF,ve.toPairs=iL,ve.toPairsIn=aL,ve.toPath=Pre,ve.toPlainObject=tL,ve.transform=Ote,ve.unary=kee,ve.union=CZ,ve.unionBy=EZ,ve.unionWith=kZ,ve.uniq=RZ,ve.uniqBy=TZ,ve.uniqWith=AZ,ve.unset=Dte,ve.unzip=AE,ve.unzipWith=BF,ve.update=Pte,ve.updateWith=Ite,ve.values=kp,ve.valuesIn=Nte,ve.without=OZ,ve.words=lL,ve.wrap=Ree,ve.xor=DZ,ve.xorBy=PZ,ve.xorWith=IZ,ve.zip=NZ,ve.zipObject=MZ,ve.zipObjectDeep=FZ,ve.zipWith=LZ,ve.entries=iL,ve.entriesIn=aL,ve.extend=rL,ve.extendWith=cx,jE(ve,ve),ve.add=Nre,ve.attempt=cL,ve.camelCase=Bte,ve.capitalize=sL,ve.ceil=Mre,ve.clamp=Mte,ve.clone=Aee,ve.cloneDeep=Dee,ve.cloneDeepWith=Pee,ve.cloneWith=Oee,ve.conformsTo=Iee,ve.deburr=uL,ve.defaultTo=pre,ve.divide=Fre,ve.endsWith=jte,ve.eq=Fs,ve.escape=$te,ve.escapeRegExp=zte,ve.every=YZ,ve.find=XZ,ve.findIndex=IF,ve.findKey=lte,ve.findLast=QZ,ve.findLastIndex=NF,ve.findLastKey=cte,ve.floor=Lre,ve.forEach=$F,ve.forEachRight=zF,ve.forIn=fte,ve.forInRight=dte,ve.forOwn=pte,ve.forOwnRight=hte,ve.get=NE,ve.gt=Nee,ve.gte=Mee,ve.has=gte,ve.hasIn=ME,ve.head=FF,ve.identity=na,ve.includes=ree,ve.indexOf=QJ,ve.inRange=Fte,ve.invoke=bte,ve.isArguments=qf,ve.isArray=mr,ve.isArrayBuffer=Fee,ve.isArrayLike=ta,ve.isArrayLikeObject=ao,ve.isBoolean=Lee,ve.isBuffer=Cc,ve.isDate=Bee,ve.isElement=jee,ve.isEmpty=$ee,ve.isEqual=zee,ve.isEqualWith=Wee,ve.isError=PE,ve.isFinite=Uee,ve.isFunction=kl,ve.isInteger=KF,ve.isLength=ux,ve.isMap=XF,ve.isMatch=qee,ve.isMatchWith=Hee,ve.isNaN=Vee,ve.isNative=Gee,ve.isNil=Kee,ve.isNull=Yee,ve.isNumber=QF,ve.isObject=$n,ve.isObjectLike=Kn,ve.isPlainObject=Rm,ve.isRegExp=IE,ve.isSafeInteger=Xee,ve.isSet=JF,ve.isString=lx,ve.isSymbol=ka,ve.isTypedArray=Ep,ve.isUndefined=Qee,ve.isWeakMap=Jee,ve.isWeakSet=Zee,ve.join=rZ,ve.kebabCase=Wte,ve.last=ss,ve.lastIndexOf=nZ,ve.lowerCase=Ute,ve.lowerFirst=qte,ve.lt=ete,ve.lte=tte,ve.max=Bre,ve.maxBy=jre,ve.mean=$re,ve.meanBy=zre,ve.min=Wre,ve.minBy=Ure,ve.stubArray=zE,ve.stubFalse=WE,ve.stubObject=Tre,ve.stubString=Are,ve.stubTrue=Ore,ve.multiply=qre,ve.nth=oZ,ve.noConflict=bre,ve.noop=$E,ve.now=ix,ve.pad=Hte,ve.padEnd=Vte,ve.padStart=Gte,ve.parseInt=Yte,ve.random=Lte,ve.reduce=see,ve.reduceRight=uee,ve.repeat=Kte,ve.replace=Xte,ve.result=Rte,ve.round=Hre,ve.runInContext=Ie,ve.sample=cee,ve.size=pee,ve.snakeCase=Qte,ve.some=hee,ve.sortedIndex=fZ,ve.sortedIndexBy=dZ,ve.sortedIndexOf=pZ,ve.sortedLastIndex=hZ,ve.sortedLastIndexBy=vZ,ve.sortedLastIndexOf=mZ,ve.startCase=Zte,ve.startsWith=ere,ve.subtract=Vre,ve.sum=Gre,ve.sumBy=Yre,ve.template=tre,ve.times=Dre,ve.toFinite=Rl,ve.toInteger=gr,ve.toLength=eL,ve.toLower=rre,ve.toNumber=us,ve.toSafeInteger=rte,ve.toString=nn,ve.toUpper=nre,ve.trim=ore,ve.trimEnd=ire,ve.trimStart=are,ve.truncate=sre,ve.unescape=ure,ve.uniqueId=Ire,ve.upperCase=lre,ve.upperFirst=FE,ve.each=$F,ve.eachRight=zF,ve.first=FF,jE(ve,function(){var _={};return gu(ve,function(R,M){cn.call(ve.prototype,M)||(_[M]=R)}),_}(),{chain:!1}),ve.VERSION=n,di(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){ve[_].placeholder=ve}),di(["drop","take"],function(_,R){Fr.prototype[_]=function(M){M=M===t?1:Co(gr(M),0);var K=this.__filtered__&&!R?new Fr(this):this.clone();return K.__filtered__?K.__takeCount__=pi(M,K.__takeCount__):K.__views__.push({size:pi(M,U),type:_+(K.__dir__<0?"Right":"")}),K},Fr.prototype[_+"Right"]=function(M){return this.reverse()[_](M).reverse()}}),di(["filter","map","takeWhile"],function(_,R){var M=R+1,K=M==A||M==$;Fr.prototype[_]=function(le){var me=this.clone();return me.__iteratees__.push({iteratee:rr(le,3),type:M}),me.__filtered__=me.__filtered__||K,me}}),di(["head","last"],function(_,R){var M="take"+(R?"Right":"");Fr.prototype[_]=function(){return this[M](1).value()[0]}}),di(["initial","tail"],function(_,R){var M="drop"+(R?"":"Right");Fr.prototype[_]=function(){return this.__filtered__?new Fr(this):this[M](1)}}),Fr.prototype.compact=function(){return this.filter(na)},Fr.prototype.find=function(_){return this.filter(_).head()},Fr.prototype.findLast=function(_){return this.reverse().find(_)},Fr.prototype.invokeMap=kr(function(_,R){return typeof _=="function"?new Fr(this):this.map(function(M){return _m(M,_,R)})}),Fr.prototype.reject=function(_){return this.filter(sx(rr(_)))},Fr.prototype.slice=function(_,R){_=gr(_);var M=this;return M.__filtered__&&(_>0||R<0)?new Fr(M):(_<0?M=M.takeRight(-_):_&&(M=M.drop(_)),R!==t&&(R=gr(R),M=R<0?M.dropRight(-R):M.take(R-_)),M)},Fr.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},Fr.prototype.toArray=function(){return this.take(U)},gu(Fr.prototype,function(_,R){var M=/^(?:filter|find|map|reject)|While$/.test(R),K=/^(?:head|last)$/.test(R),le=ve[K?"take"+(R=="last"?"Right":""):R],me=K||/^find/.test(R);le&&(ve.prototype[R]=function(){var Ce=this.__wrapped__,Te=K?[1]:arguments,Ne=Ce instanceof Fr,at=Te[0],st=Ne||mr(Ce),lt=function(Ir){var $r=le.apply(ve,rs([Ir],Te));return K&&kt?$r[0]:$r};st&&M&&typeof at=="function"&&at.length!=1&&(Ne=st=!1);var kt=this.__chain__,Gt=!!this.__actions__.length,ir=me&&!kt,_r=Ne&&!Gt;if(!me&&st){Ce=_r?Ce:new Fr(this);var ar=_.apply(Ce,Te);return ar.__actions__.push({func:nx,args:[lt],thisArg:t}),new os(ar,kt)}return ir&&_r?_.apply(this,Te):(ar=this.thru(lt),ir?K?ar.value()[0]:ar.value():ar)})}),di(["pop","push","shift","sort","splice","unshift"],function(_){var R=Ay[_],M=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",K=/^(?:pop|shift)$/.test(_);ve.prototype[_]=function(){var le=arguments;if(K&&!this.__chain__){var me=this.value();return R.apply(mr(me)?me:[],le)}return this[M](function(Ce){return R.apply(mr(Ce)?Ce:[],le)})}}),gu(Fr.prototype,function(_,R){var M=ve[R];if(M){var K=M.name+"";cn.call(bp,K)||(bp[K]=[]),bp[K].push({name:R,func:M})}}),bp[Xy(t,v).name]=[{name:"wrapper",func:t}],Fr.prototype.clone=uQ,Fr.prototype.reverse=lQ,Fr.prototype.value=cQ,ve.prototype.at=jZ,ve.prototype.chain=$Z,ve.prototype.commit=zZ,ve.prototype.next=WZ,ve.prototype.plant=qZ,ve.prototype.reverse=HZ,ve.prototype.toJSON=ve.prototype.valueOf=ve.prototype.value=VZ,ve.prototype.first=ve.prototype.head,hm&&(ve.prototype[hm]=UZ),ve},gp=zX();es?((es.exports=gp)._=gp,xl._=gp):wo._=gp}).call(wr)})(R2,R2.exports);var EV=R2.exports;function m0(e){const r={};return uD(e,"",r),r}const uD=(e,r="",t={})=>{if(!e)return t;const n=r===""?r:r+".";return e.forEach((o,i)=>{let a=n+o.derived_field_name;if(!["tab_break","section_break","column_break","display_field"].includes(o.display_type))if(o.field_type===512){if(zl(t,a,[]),o.fields){const s={};uD(o.fields,"",s),zl(t,a,[s])}}else["dropdown","radiobutton","textbox","fileoption","textbox.row-4","imgcapture","vidcapture","liveness.readout","geoloc","checkbox","hidden","datebox","data_display"].includes(o.display_type)&&zl(t,a,null),o.fields&&uD(o.fields,a,t)}),t},kV=(e,r,t="FLD",n={},o=!1,i="form_fields")=>{const a=t,s=i;e==null||e.forEach((u,l)=>{i=s+"["+l+"].fields";const c=["tab_break","section_break","column_break","display_field"].includes(u.display_type);if(c?o=!1:u.field_type===512?(o=!0,t=a+"."+u.derived_field_name):(t=o?a+"["+l+"]."+u.derived_field_name:a+"."+u.derived_field_name,o=!1),o&&!c){const f=a+"."+u.derived_field_name,d=Zc(n,f.replace("FLD.",""));if(d!==void 0&&Array.isArray(d)&&Array.isArray(r)){const p=s+"["+l+"].fields",m=u.display_type==="table_row"?[p,d.length,p]:[p,d.length,p+"[0]"];r.push(m)}else d===void 0&&console.error("Error in savedResponse",f,s)}kV(u.fields,r,t,n,o,i)})},p_e=(e,r,t)=>{const n=Zc(e,r);return n?(zl(e,t,n),!0):!1},RV=(e,r,t,n,o)=>{const i=Zc(o,n),a=Zc(e,r);i.splice(t,1),a.splice(t,1)},ZI=(e,r,t,n,o,i)=>{if(t<=1)return;const a=Zc(e,n),s=n.replace(/\.fields$/,""),u=Zc(o,i),l=Zc(e,s),c=m0([a]);if(Array.isArray(u)&&u.push(c),(l==null?void 0:l.display_type)==="table_row"){l.meta||(l.meta={}),l.meta.child_elements=t;return}const f=[];for(let d=0;d<t;d++)f.push(EV.cloneDeep(a));zl(e,r,f),zl(o,i,u)},TV=(e,r)=>{var t=[];if(kV(e.form_fields,t,"FLD",r),Array.isArray(t))for(var n=t.length-1;n>=0;n--)ZI(e,t[n][0],t[n][1],t[n][2]);return e},dt=(e,r,t)=>(!e||!r||zl(e,r,t),e),Ze=(e,r)=>!e||!r?"":Zc(e,r,""),K0=e=>{try{const r=e.split(".");if(r.length!==3)throw new Error("Invalid JWT format");const n=r[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(n).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(o)}catch(r){return console.error("Error decoding JWT:",r),null}},jo=async()=>{try{const e=sessionStorage.getItem("configData");return e?JSON.parse(e):await(await fetch("/defaults/config/config.json")).json()}catch(e){throw console.error("Error fetching config:",e),e}},h_e=e=>{const[r,t]=N.useState(null),[n,o]=N.useState(!0),[i,a]=N.useState(null);return N.useEffect(()=>{(async()=>{try{const u=await jo();if(u){const l=await fetch((u==null?void 0:u.api_path)+"/v1/mgmt/forms",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();t(c),o(!1)}}catch(u){a(u.message),o(!1)}})()},[]),{data:r,loading:n,error:i}},AV=e=>{const[r,t]=N.useState(null),[n,o]=N.useState(!1),[i,a]=N.useState(null),s=localStorage.getItem("token"),u=e==null?void 0:e.split("/").pop(),l=sessionStorage.getItem("id"),{setResponseObject:c}=N.useContext(tr);return{uploadForm:N.useCallback(async({payload:d,files:p,pg_response:h})=>{var m;o(!0),a(null);try{const y=d,v=new FormData,g=await jo();if(v.append("payload",JSON.stringify(y)),(m=p[0])==null||m.map(x=>v.append("files",x==null?void 0:x.file,x==null?void 0:x.filename)),h&&v.append("pg_response",h),g){const x=`${g==null?void 0:g.api_path}/v1/forms/${u}?action=SAVE`,b=l?`${x}&id=${l}`:x,w=await fetch(b,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:v,redirect:"follow"});if(!w.ok){const C=await w.json();throw new Error(C.message)}const E=await w.json();return sessionStorage.setItem("id",E==null?void 0:E.record_id),c(E==null?void 0:E.record),sessionStorage.setItem("formResponse",JSON.stringify(E==null?void 0:E.record)),t(E),o(!1),E}}catch(y){throw console.error("Detailed error:",y),a(y.message),o(!1),y}},[e,s,l]),data:r,loading:n,error:i}},v_e=e=>{const[r,t]=N.useState(null),[n,o]=N.useState(!1),[i,a]=N.useState(null),s=localStorage.getItem("token"),u=e==null?void 0:e.split("/").pop(),l=sessionStorage.getItem("id");return{generatePdf:N.useCallback(async({payload:f})=>{if(o(!0),a(null),!l)throw a("Record ID is required to generate PDF"),o(!1),new Error("Record ID is required to generate PDF");try{const d=await jo();if(d){const p=`${d==null?void 0:d.api_path}/v1/forms/${u}?action=PDF&id=${l}`,h=new FormData;h.append("payload",JSON.stringify(f));const m=await fetch(p,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:h,redirect:"follow"});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const y=await m.blob(),v=window.URL.createObjectURL(y);return window.open(v,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(v),100),t({success:!0}),o(!1),{success:!0}}}catch(d){throw console.error("PDF Generation error:",d),a(d.message),o(!1),d}},[e,s,l]),data:r,loading:n,error:i}},m_e=(e,r)=>{const[t,n]=N.useState(null),[o,i]=N.useState(!0),[a,s]=N.useState(null),u=localStorage.getItem("token"),{lyikForm:l}=N.useContext(tr),c=N.useCallback(async()=>{try{const f=await jo();if(f){const d=await fetch(`${f==null?void 0:f.api_path}/v1/mgmt/forms/${e}/${r}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return await d.json()}}catch(f){throw f}},[e,r,u]);return N.useEffect(()=>{e&&r&&(async()=>{try{if(!sessionStorage.getItem("formResponse")){const p=await c();n(p),sessionStorage.setItem("formResponse",JSON.stringify(p)),i(!1)}i(!1)}catch(d){s(d.message),i(!1)}})()},[e,r,c]),{data:t,loading:o,error:a,fetchRecordData:c}},g_e=e=>{const[r,t]=N.useState(null),[n,o]=N.useState(!1),[i,a]=N.useState(null),s=localStorage.getItem("token"),u=e==null?void 0:e.split("/").pop(),l=sessionStorage.getItem("id");return{submitForm:N.useCallback(async({payload:f,files:d})=>{var p,h,m,y,v;o(!0),a(null);try{let g=function(P){let I=!1;function F(A){if(!I){if(Array.isArray(A)){A.forEach(D=>F(D));return}if(typeof A=="object"&&A!==null)for(const D in A){if(D.includes("check_status")&&A[D].status==="rejected"){I=!0;return}F(A[D])}}}return F(P),I};const{...x}=f,b=g(x),w=new FormData,E=await jo();w.append("payload",JSON.stringify(x)),(p=d[0])==null||p.map(P=>w.append("files",P==null?void 0:P.file,P==null?void 0:P.fileName));const C=b&&((m=(h=E==null?void 0:E.permissions)==null?void 0:h.persona)!=null&&m.includes("CKR"))?`${E==null?void 0:E.api_path}/v1/forms/${u}/action=REJECT`:(v=(y=E==null?void 0:E.permissions)==null?void 0:y.persona)!=null&&v.includes("CKR")?`${E==null?void 0:E.api_path}/v1/forms/${u}/action=APPROVE`:`${E==null?void 0:E.api_path}/v1/forms/${u}`,S=l?`${C}?id=${l}`:C,T=await fetch(S,{method:"POST",headers:{Authorization:`Bearer ${s}`},body:w,redirect:"follow"});if(!T.ok){const P=await T.json();throw new Error(P.message)}const k=await T.json();return t(k),o(!1),k}catch(g){throw console.error("Detailed error:",g),a(g.message),o(!1),g}},[e,s,l]),data:r,loading:n,error:i}},AS=()=>{const[e,r]=N.useState(null),[t,n]=N.useState(!1),[o,i]=N.useState(null),a=localStorage.getItem("token");return{getDocument:N.useCallback(async(u,l)=>{n(!0),i(null);try{const c=await jo(),f=u==null?void 0:u.split("/").pop(),d=`${c.api_path}/v1/forms/${f}/doc/${l}`,p=await fetch(d,{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!p.ok)throw new Error("Cannot Fetch Document: contact the administrator");const h=await p.blob(),m=window.URL.createObjectURL(h);return r(!0),n(!1),m}catch(c){throw console.error("Document fetch error:",c),i(c.message),n(!1),c}},[a]),data:e,loading:t,error:o}},OV=()=>{const{setLinkedRecords:e}=N.useContext(tr),r=localStorage.getItem("token");return{getLinkedRecords:async(n=1,o=10,i="")=>{try{const a=await jo();if(a){const s=`${a==null?void 0:a.api_path}/v1/forms/linkrecord?page=${n}&page_size=${o}`,u=i?`${s}&search_text=${i}`:s,l=await fetch(u,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!l.ok)return{records:null,totalRecords:0};const c=await l.json();e(c.link_records||[]);const f=c.total_record_count||0;return{records:c.link_records,totalRecords:f}}}catch(a){throw console.error("Error fetching linked records:",a),a}}}},y_e=500,x_e=e=>e.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),b_e=e=>{if(!e||e.length===0)return[];const r=e[0],t=Object.keys(r).filter(n=>!n.startsWith("_")&&n!=="_form_uri"&&n!=="_record_id").map(n=>({field:n,headerName:x_e(n)}));return t.unshift({field:"actions",headerName:"Actions",isAction:!0}),t},__e=({data:e,stripedRows:r,startIndex:t,columns:n})=>{const o=Ki();Sr();const{linkedRecords:i,setLyikForm:a,setResponseObject:s,setCode:u,setDigiToken:l,setAadhaar:c,setUploadedFiles:f,setPan:d,setModalOpen:p,setErrorMessage:h,setOperationStatus:m,setTrusted:y,setTrustedApiFailure:v}=N.useContext(tr),g=()=>{sessionStorage.removeItem("formResponse"),sessionStorage.removeItem("lyikForm"),sessionStorage.removeItem("id"),sessionStorage.removeItem("section"),sessionStorage.removeItem("form_id"),sessionStorage.removeItem("digilocker_data"),sessionStorage.removeItem("record_id"),a({}),s({}),u(""),l(""),c({}),f([]),d({}),p(!1),h(""),m({inProgress:!1,message:"",success:!1,hasAttempted:!1}),y({}),v({})},x=(b,w)=>{g(),sessionStorage.setItem("record_id",w),o(`/form_id/${b}`)};return O.jsx(jI,{children:(e==null?void 0:e.length)>0?e.map((b,w)=>{const E=t+w;return O.jsx(ia,{sx:r?{"&:nth-of-type(odd)":{backgroundColor:"action.hover"}}:{},children:n.map(C=>O.jsx(Fo,{children:C.isAction?O.jsx(Zt,{variant:"contained",size:"small",onClick:()=>x(b._form_uri,b._record_id),sx:{textTransform:"none",borderRadius:10},children:"Open Form"}):b[C.field]},`cell-${E}-${C.field}-${b._record_id||Date.now()}`))},`row-${E}-${b._record_id||Date.now()}`)}):O.jsx(ia,{children:O.jsx(Fo,{colSpan:n.length,align:"center",children:"No records found"})})},`table-body-${t}`)},w_e=({rowsPerPage:e=10,title:r="Customer Applications",searchPlaceholder:t="",headerBackgroundColor:n="primary.main",stripedRows:o=!0,showPagination:i=!0,showResultCount:a=!0,currentPage:s,totalRecords:u,onPageChange:l,setTotalRecords:c,filteredRecords:f,setFilteredRecords:d,searchTerm:p,setSearchTerm:h})=>{const{linkedRecords:m,configData:y}=N.useContext(tr),{getLinkedRecords:v}=OV(),[g,x]=N.useState(""),[b,w]=N.useState(!0),E=Sr(),C=y==null?void 0:y.show_csv_export,S=N.useMemo(()=>b_e(m),[m]),T=N.useMemo(()=>{if(!g.trim()&&m)return[...m];const L=g.replaceAll('"',"").toLowerCase();let z=m;return b||(z=m==null?void 0:m.filter(U=>Object.entries(U).filter(([Y])=>!Y.startsWith("_")||Y==="_form_uri"||Y==="_record_id").some(([Y,q])=>String(q).toLowerCase().includes(L)))),b||d((z==null?void 0:z.length)||u),z},[m,g]),k=Math.ceil(Math.min(f,u)/e),P=(s-1)*e,I=Math.min(P+e,u,f),F=L=>{if(L==null)return"";const z=String(L);return z.includes(",")||z.includes('"')||z.includes(`
`)?`"${z.replace(/"/g,'""')}"`:z},A=N.useCallback(async()=>{const{records:L,totalRecords:z}=await v(1,y_e,p);if(z===0){console.warn("No data or columns to export.");return}const U=S.map(ue=>F(ue.headerName)).join(","),Y=L.map(ue=>S.map(oe=>oe.isAction?"View Details":F(ue[oe.field])).join(",")),q=[U,...Y].join(`
`),V=new Blob([q],{type:"text/csv;charset=utf-8;"}),H=URL.createObjectURL(V),Z=document.createElement("a");Z.href=H,Z.setAttribute("download","records.csv"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(H)},[f]),D=L=>{const z=L.target.value;h(L.target.value),z.trim()||(l(null,1),x(z),d((T==null?void 0:T.length)||u))},$=async(L=!1)=>{if(x(p),b||L){d(0);const z=await v(1,e,p);z!=null&&z.totalRecords&&d(z==null?void 0:z.totalRecords)}},B=a&&u>0,W=i&&k>1;return O.jsxs(O.Fragment,{children:[O.jsxs(Re,{sx:{display:"flex",gap:1,width:"100%",mb:3,mt:2,marginLeft:"auto"},children:[r&&O.jsx(it,{variant:"h5",mt:0,mb:0,mx:2,children:r}),O.jsx(Ga,{label:"Search Applications",variant:"outlined",value:p,onChange:D,placeholder:t,size:"small",sx:{mb:1,flex:.5,borderRadius:"15px",backgroundColor:E.palette.primary.white,marginLeft:"auto","& .MuiOutlinedInput-root":{borderRadius:"15px"}}}),O.jsx(Zt,{variant:"contained",size:"small",sx:{width:{xs:"100px",sm:"auto"},whiteSpace:"nowrap",borderRadius:10,px:2,mb:1,backgroundColor:"#262d64",color:"primary.white"},onClick:$,children:"Search"})]}),O.jsx(iV,{component:zi,sx:{flex:1,mb:2,overflowX:"auto",maxHeight:"calc(88vh - 180px)",border:"1px solid #F1F1F1)",boxShadow:"5px 2.5px 12.1px 0px rgba(0, 0, 0, 0.08)",borderRadius:2},children:O.jsxs(BI,{stickyHeader:!0,children:[O.jsx(aV,{children:O.jsx(ia,{children:S.map(L=>O.jsx(Fo,{sx:{backgroundColor:"#3BB9EB",color:"primary.contrastText",fontWeight:"bold",maxWidth:"400px",minWidth:"200px",whiteSpace:"pre-wrap",wordBreak:"normal",overflowX:"scroll",lineHeight:"1.2em",height:"4em",overflow:"hidden",textOverflow:"ellipsis"},children:L.headerName},`header-${L.field}`))})}),O.jsx(__e,{data:T,columns:S,stripedRows:o,startIndex:P})]})}),O.jsxs(Re,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},justifyContent:{xs:"center",lg:B?"space-between":"center"},alignItems:"center",gap:{xs:2,lg:3},mt:"auto",py:2},children:[B&&O.jsxs(it,{variant:"body2",color:"text.secondary",children:["Showing ",P+1," - ",I," of ",f," ","applications"]}),C?O.jsx(Zt,{variant:"contained",size:"small",sx:{width:{xs:"140px",sm:"160px"},whiteSpace:"nowrap",borderRadius:10,px:2},onClick:A,children:"Export as CSV"}):O.jsx(O.Fragment,{}),W&&O.jsx(Dge,{count:k,page:s,onChange:l,color:"primary",shape:"rounded"})]})]})};function S_e(){const{setErrorMessage:e,setModalOpen:r,handleModalClose:t,modalOpen:n,errorMessage:o,setLinkedRecords:i,setLyikToken:a}=N.useContext(tr),{getLinkedRecords:s}=OV(),[u,l]=N.useState(!0),[c,f]=N.useState(!1),[d,p]=N.useState(1),[h,m]=N.useState(0),y=10,[v]=Nw(),g=v==null?void 0:v.get("token"),[x,b]=N.useState(0),[w,E]=N.useState("");N.useEffect(()=>{c||(async()=>{try{if(localStorage.getItem("token")){const{records:k,totalRecords:P}=await s(d,y,w);k||e("Error Fetching Records!"),i(k),m(P),b(P)}}catch(T){console.error("Error fetching records:",T),e("Error Fetching Records!")}finally{l(!1),f(!0)}})()},[d,c,s,i,e,r]);const C=(S,T)=>{p(T),f(!1)};if(g){const S=atob(g);return a(S),localStorage.setItem("token",S),O.jsx(DO,{to:"/home",replace:!0})}return u?O.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:O.jsx(Hi,{})}):O.jsxs(O.Fragment,{children:[O.jsx(CS,{children:O.jsx("title",{children:"Home Page"})}),O.jsx(w_e,{rowsPerPage:y,title:"Visa Applications",currentPage:d,totalRecords:h,onPageChange:C,setTotalRecords:m,filteredRecords:x,setFilteredRecords:b,searchTerm:w,setSearchTerm:E}),O.jsx(il,{open:n,message:o,handleClose:t})]})}function DV(){const e=s=>s.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");async function r(s){const u=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(s)),l=Array.from(new Uint8Array(u)),c=String.fromCharCode(...l),f=btoa(c);return e(f)}async function t(s){const u=await jo();if(u){const l=await r(u.digilocker_codeVerifier||"1QTIzQ~~tMgU.AVpL6.FF5Hdu4ytsG0~_uv0x7GY5j5g-Z~p7vtuI3KaOPQT7~wVAi"),c="LYIKTEST";return Math.floor(new Date().getTime()/1e3)+60,`${u==null?void 0:u.digilocker_api_path}/public/oauth2/1/authorize?response_type=code&client_id=${u==null?void 0:u.digilocker_clientId}&redirect_uri=${encodeURIComponent(u==null?void 0:u.digilocker_callbackUrl)}&state=${c}&code_challenge=${l}&code_challenge_method=S256&purpose=kyc&pla=Y`}}async function n(){const s=await t();window.location.href=s}async function o(s){const u=await jo(),l=localStorage.getItem("token");if(u){const c=await fetch(`${u.api_path}/v1/digilocker?action=token&authorization_code=${s}&client_id=${u==null?void 0:u.digilocker_clientId}&client_secret=${u==null?void 0:u.digilocker_clientSecret}&redirect_uri=${u==null?void 0:u.digilocker_callbackUrl}&code_verifier=${u==null?void 0:u.digilocker_codeVerifier}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`}});if(c.ok)return(await c.json()).access_token;throw console.error("Error fetching token",c.status,c.statusText),new Error(`Failed to fetch token: ${c.statusText}! Internal Server Error! Please Try Again or Contact the Administrator!`)}}async function i(s,u){const l=await jo(),c=localStorage.getItem("token");if(l){const f=await fetch(`${l.api_path}/v1/digilocker?action=revoke&authorization_code=${s}&client_id=${l==null?void 0:l.digilocker_clientId}&client_secret=${l==null?void 0:l.digilocker_clientSecret}&redirect_uri=${l==null?void 0:l.digilocker_callbackUrl}&code_verifier=${l==null?void 0:l.digilocker_codeVerifier}&access_token=${u}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}});if(f.ok)return(await f.json()).access_token;throw console.error("Error fetching token",f.status,f.statusText),new Error(`Failed to fetch token: ${f.statusText}! Internal Server Error! Please Try Again or Contact the Administrator!`)}}async function a(s){const u=await jo(),l=localStorage.getItem("token");if(u){const c=await fetch(`${u.api_path}/v1/digilocker?action=eaadhaar&access_token=${s}`,{headers:{Authorization:`Bearer ${l}`}});if(c.ok)return await c.json();throw console.error("Error fetching Aadhaar",c.status,c.statusText),new Error(`Failed to fetch Aadhaar: ${c.statusText}! Internal Server Error! Please Try Again or Contact the Administrator!`)}}return{fetchAuthUrl:n,fetchToken:o,fetchAadhaarXML:a,revokeToken:i}}function lD(e,r="",t={}){if(!e)return t;const n=r===""?r:r+".";return e.forEach(o=>{let i=n+o.derived_field_name;if(o.default_value&&(o.default_value.startsWith("@")||o.default_value.startsWith("$"))&&zl(t,i,o.default_value),o.field_type===512){if(o.fields){const a=[];o.fields.forEach(s=>{const u=lD([s],"",{});Object.keys(u).length>0&&a.push(u)}),a.length>0&&zl(t,i,a)}}else o.fields&&lD(o.fields,i,t)}),t}function PV(e,r,t,n,o,i="",a=""){let s=o;for(const u in e){const l=i?Array.isArray(e)?`${i}[${u}]`:`${i}.${u}`:u;if(typeof e[u]=="object"&&e[u]!==null)s=PV(e[u],r,t,n,s,l,a);else if(typeof e[u]=="string"&&e[u].includes(t)){if(e[u].startsWith("@")){const c=e[u].substring(1);(c.includes(";")?c.split(";"):[c]).forEach(d=>{if(d.includes(t)){const p=n+d.replace("@",""),h=Ze(r,p);l!=null&&l.includes(n)&&h&&(s=dt(s,l,h))}})}else if(typeof e[u]=="string"&&e[u].startsWith("$..")){const c=e[u].substring(3),[f,d]=c.split("."),p=cD(r,f,d);p&&(s=dt(s,l,p))}else if(e[u].startsWith("$")){const c=e[u].substring(1);(c.includes(";")?c.split(";"):[c]).forEach(d=>{if(d.includes(t)){const p=d.replace(".",""),h=Ze(r,p);h&&(s=dt(s,l,h))}})}}else typeof e[u]=="string"&&e[u].startsWith("$..")&&console.error("$.. Notation is available",e[u])}return s}function cD(e,r,t){if(Array.isArray(e))for(const n of e){const o=cD(n,r,t);if(o!==void 0)return o}else if(typeof e=="object"&&e!==null){if(e[r]&&e[r][t])return e[r][t];for(const n in e){const o=cD(e[n],r,t);if(o!==void 0)return o}}}const eN=(e,r,t="",n,o,i)=>{const a=JSON.parse(sessionStorage.getItem("lyikForm"));let s=n;if(a&&a.form_fields){const u=lD(a.form_fields);if(t&&e.includes(t)){const l=e.split(t)[0]+t;s=PV(u,r,o,l,n,"",t),i(s),sessionStorage.setItem("formResponse",JSON.stringify(s))}}return s};function IV({section:e,isActive:r,isCompleted:t,onClick:n,isEditable:o,isRejected:i,isApproved:a,isInReview:s}){const{setAadhaar:u,setPan:l}=N.useContext(tr),c=Sr(),f=()=>{l(null),(t||r||o)&&n(e.section_derived_field_name,e==null?void 0:e.section_parent_index)};return O.jsxs(Re,{onClick:f,sx:{display:"flex",alignItems:"center",justifyContent:"center",my:1,mx:1,px:1,borderRadius:2,border:r?`1px solid ${c.palette.secondary.main}`:"none",cursor:t||r||o?"pointer":"not-allowed",opacity:t||r||o?1:.6,"&:hover":{backgroundColor:c.palette.grey[100]}},children:[O.jsx(it,{sx:{fontSize:{xs:16,md:"16px",sm:"16px"},fontWeight:r?"bold":"500",flexGrow:1},children:e.section_title}),O.jsx(Re,{sx:{py:1,display:"flex",alignItems:"center",justifyContent:"center"},children:i?O.jsx(Wx,{sx:{fontSize:"20px",color:"#f44336"}}):t&&!a?O.jsx(lye,{sx:{fontSize:"20px",color:"#4CAF50"}}):r&&!a?O.jsx(Wx,{sx:{fontSize:"20px",color:"#1970C8"}}):a?O.jsx(Wx,{sx:{fontSize:"20px",color:"#4CAF50"}}):s&&!a?O.jsx(Wx,{sx:{fontSize:"20px",color:"warning.main"}}):O.jsx(mye,{sx:{fontSize:"20px",color:c.palette.primary.grey}})})]},e.section_derived_field_name+(e==null?void 0:e.section_parent_index))}IV.propTypes={section:fe.object.isRequired,isActive:fe.bool.isRequired,isCompleted:fe.bool.isRequired,isEditable:fe.bool.isRequired,onClick:fe.func.isRequired,isRejected:fe.bool};function C_e(e){const r=[];let t=null,n=0;const o="form_fields";if(e==null||e.forEach((i,a)=>{var s,u;if((i==null?void 0:i.display_type)==="tab_break")n=0,t={tab_title:i.title,tab_description:i.description,tab_hidden:i.hidden,tab_mandatory:i.mandatory,tab_editable:i.editable,hasExtendButton:!1,sections:[]},r.push(t);else if((i==null?void 0:i.display_type)==="groupbox"&&(i==null?void 0:i.field_type)===512){t.hasExtendButton=!0;const l={type:"groupbox",group_title:i.title+" "+(n+1),group_description:i.description,group_hidden:i.hidden,group_mandatory:i.mandatory,group_editable:i.editable,group_derived_field_name:i.derived_field_name,field_type:i==null?void 0:i.field_type,form_path:o+"["+a+"]",sections:[],parent_list_index:n};(s=i.fields)==null||s.forEach((c,f)=>{var d;if((c==null?void 0:c.display_type)==="groupbox"&&(c==null?void 0:c.field_type)!=512){const p={type:"groupbox",group_title:c.title+" "+(n+1),group_description:c.description,group_hidden:c.hidden,group_mandatory:c.mandatory,group_editable:c.editable,group_derived_field_name:c.derived_field_name,field_type:c==null?void 0:c.field_type,parent_group:l,form_path:o+"["+a+"].fields["+f+"]",sections:[],parent_list_index:n};l.sections.push(p),(d=c.fields)==null||d.forEach(h=>{var m;if((h==null?void 0:h.display_type)==="section_break"){const y=Mk(h,n),v=(m=h.fields)==null?void 0:m.find(g=>g.display_type==="info_pane"&&g.derived_field_name===h.derived_field_name);v&&(y.info_pane=v),p.sections.push(y)}}),t&&p.sections.length>0&&t.sections.push(p)}n++})}else if((i==null?void 0:i.display_type)==="groupbox"&&(i==null?void 0:i.field_type)!=512){const l={type:"groupbox",group_title:i.title,group_description:i.description,group_hidden:i.hidden,group_mandatory:i.mandatory,group_editable:i.editable,group_derived_field_name:i.derived_field_name,field_type:i==null?void 0:i.field_type,parent_list_index:null,sections:[]};(u=i.fields)==null||u.forEach(c=>{var f;if((c==null?void 0:c.display_type)==="section_break"){const d=Mk(c),p=(f=i.fields)==null?void 0:f.find(h=>h.display_type==="info_pane"&&h.derived_field_name===c.derived_field_name);p&&(d.info_pane=p),l.sections.push(d)}}),t&&l.sections.length>0&&t.sections.push(l)}else if((i==null?void 0:i.display_type)==="section_break"&&t){const l=Mk(i,n),c=e==null?void 0:e.find((f,d)=>{const p=e[d+1];return(p==null?void 0:p.display_type)==="info_pane"&&f.derived_field_name===i.derived_field_name});c&&(l.info_pane=c),t.sections.push(l)}}),r.length==0){t={tab_title:"Sections",tab_description:"",tab_hidden:!1,tab_mandatory:!1,tab_editable:!0,hasExtendButton:!1,sections:[]},r.push(t);const i={type:"section",section_title:"New Section",section_description:"This layout expects a section with an info-pane",section_hidden:!1,section_mandatory:!1,section_editable:!0,section_meta:{},section_derived_field_name:"missing_section",section_parent_index:null};t.sections.push(i)}return r}function Mk(e,r=0){return{type:"section",section_title:e.title,section_description:e.description,section_hidden:e.hidden,section_mandatory:e.mandatory,section_editable:e.editable,section_meta:e.meta,section_derived_field_name:e.derived_field_name,section_parent_index:r}}function NV(e,r,t="",n=""){if(!e||!r)return null;if(t){const i=(l,c)=>{if(!l||typeof l!="object")return null;if(c in l)return l[c];for(const f in l)if(typeof l[f]=="object"&&l[f]!==null){const d=i(l[f],c);if(d)return d}return null},a=i(e,t);if(!a)return null;const s=(l,c,f="")=>{if(!l||typeof l!="object")return null;if(f&&f in l){const d=s(l[f],c);return d?`${f}.${d}`:null}if(c in l)return c;for(const d in l){const p=l[d];if(typeof p=="object"&&p!==null){if(f&&d!==f)continue;if(c in p)return`${d}.${c}`;const h=s(p,c);if(h)return`${d}.${h}`}}return null},u=s(a,r,n);if(u){const l=(f,d,p="")=>{if(!f||typeof f!="object")return null;if(d in f)return p+d;for(const h in f)if(typeof f[h]=="object"&&f[h]!==null){const m=l(f[h],d,p?`${p}${h}.`:`${h}.`);if(m)return m}return null},c=l(e,t);return c?`${c}.${u}`:`${t}.${u}`}return null}if(r.includes("."))return r.replace("FLD.","");if(r in e)return r;const o=i=>{if(!i||typeof i!="object")return null;for(const a in i)if(typeof i[a]=="object"&&i[a]!==null){if(n&&a!==n)continue;if(r in i[a])return`${a}.${r}`;const s=o(i[a]);if(s)return`${a}.${s}`}return null};return o(e)}const E_e=(e,r,t="",n="")=>{if(!e||!r)return"";const o=NV(e,r,t,n);if(!o)return"";const i=o.split(".");let a=e;for(const s of i)if(a=a==null?void 0:a[s],a===void 0)return"";return a},k_e=(e,r,t)=>{if(!e||!r)return e;let n=JSON.parse(JSON.stringify(e)),o=n;const i=r.split(".");for(let s=0;s<i.length-1;s++){const u=i[s];o[u]||(o[u]={}),o=o[u]}const a=i[i.length-1];return o[a]=t,n};function Fg(e,r,t=0){let n=null,o=null,i="",a="form_fields";const s=l=>(l==null?void 0:l.display_type)==="section_break"||(l==null?void 0:l.display_type)==="tab_break"||(l==null?void 0:l.display_type)==="groupbox"&&(l==null?void 0:l.field_type)!==512;return(l=>{if(!l||!Array.isArray(l))return!1;for(let c=0;c<l.length;c++){const f=l[c];if(i="",(f==null?void 0:f.display_type)==="groupbox"&&(f==null?void 0:f.field_type)===512){i=f==null?void 0:f.derived_field_name;const d=f.fields||[];for(let p=0;p<d.length;p++){const h=d[p];if((h==null?void 0:h.display_type)==="groupbox"&&(h==null?void 0:h.field_type)!==512){const m=h==null?void 0:h.derived_field_name,y=h.fields;for(let v=0;v<y.length;v++){const g=y[v];if(g.display_type==="section_break"&&g.derived_field_name===r&&p===t){n=g,i=i+"["+t+"]."+m+".",a=a+"["+t+"].fields";for(let x=v+1;x<y.length;x++){const b=y[x];if(b.display_type==="info_pane")return o=b,!0;if(s(b))break}for(let x=c+1;x<l.length;x++){const b=l[x];if(b.display_type==="info_pane")return o=b,!0;if(s(b))break}return!0}}}}}else if(f.display_type==="section_break"&&f.derived_field_name===r){n=f;for(let d=c+1;d<l.length;d++){const p=l[d];if(p.display_type==="info_pane"){o=p,a=a+"["+d+"]";break}if(s(p))break}return!0}}return!1})(e),n===null&&(o={derived_field_name:"infopane_builder",display_type:"info_pane",fields:e}),{section:n,infoPane:o,parentResponsePath:i,formPath:a}}const R_e=(e,r,t)=>{var a;const n=(a=r==null?void 0:r.fields)==null?void 0:a.find(s=>s.derived_field_name==="_defaults");if(!(n!=null&&n.options)||!e)return e;let o={...e};const i=s=>{if(!s.derived_field_name||["section_break","column_break","display_field"].includes(s.display_type))return;if(s.display_type==="card"&&Array.isArray(s.fields)){s.fields.forEach(i);return}const u=n.options[s.derived_field_name];if(u===void 0)return;const l=NV(e,s.derived_field_name,t);if(l){const c=E_e(e,s.derived_field_name,t);(c===""||c===void 0)&&(o=k_e(o,l,u))}};return r.fields.forEach(i),o};var Ju={},OS={},tN={},rN={},MV={exports:{}};(function(e){function r(t){return t&&t.__esModule?t:{default:t}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(MV);var Ge=MV.exports,Fk={exports:{}},Oj;function Ke(){return Oj||(Oj=1,function(e){function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(Fk)),Fk.exports}var Lk={exports:{}},Bk={exports:{}},jk={exports:{}},Dj;function tt(){return Dj||(Dj=1,function(e){function r(t){"@babel/helpers - typeof";return e.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(jk)),jk.exports}var $k={exports:{}},Pj;function T_e(){return Pj||(Pj=1,function(e){var r=tt().default;function t(n,o){if(r(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var a=i.call(n,o||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}($k)),$k.exports}var Ij;function A_e(){return Ij||(Ij=1,function(e){var r=tt().default,t=T_e();function n(o){var i=t(o,"string");return r(i)=="symbol"?i:i+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Bk)),Bk.exports}var Nj;function rt(){return Nj||(Nj=1,function(e){var r=A_e();function t(o,i){for(var a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,r(s.key),s)}}function n(o,i,a){return i&&t(o.prototype,i),a&&t(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Lk)),Lk.exports}var zk={exports:{}},Wk={},Uk={},qk={},Hk,Mj;function nN(){return Mj||(Mj=1,Hk=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;r[t]=o;for(var i in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(r,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(r,t);if(s.value!==o||s.enumerable!==!0)return!1}return!0}),Hk}var Vk,Fj;function DS(){if(Fj)return Vk;Fj=1;var e=nN();return Vk=function(){return e()&&!!Symbol.toStringTag},Vk}var Gk,Lj;function oN(){return Lj||(Lj=1,Gk=Object),Gk}var Yk,Bj;function O_e(){return Bj||(Bj=1,Yk=Error),Yk}var Kk,jj;function D_e(){return jj||(jj=1,Kk=EvalError),Kk}var Xk,$j;function P_e(){return $j||($j=1,Xk=RangeError),Xk}var Qk,zj;function I_e(){return zj||(zj=1,Qk=ReferenceError),Qk}var Jk,Wj;function FV(){return Wj||(Wj=1,Jk=SyntaxError),Jk}var Zk,Uj;function X0(){return Uj||(Uj=1,Zk=TypeError),Zk}var eR,qj;function N_e(){return qj||(qj=1,eR=URIError),eR}var tR,Hj;function M_e(){return Hj||(Hj=1,tR=Math.abs),tR}var rR,Vj;function F_e(){return Vj||(Vj=1,rR=Math.floor),rR}var nR,Gj;function L_e(){return Gj||(Gj=1,nR=Math.max),nR}var oR,Yj;function B_e(){return Yj||(Yj=1,oR=Math.min),oR}var iR,Kj;function j_e(){return Kj||(Kj=1,iR=Math.pow),iR}var aR,Xj;function $_e(){return Xj||(Xj=1,aR=Math.round),aR}var sR,Qj;function z_e(){return Qj||(Qj=1,sR=Number.isNaN||function(r){return r!==r}),sR}var uR,Jj;function W_e(){if(Jj)return uR;Jj=1;var e=z_e();return uR=function(t){return e(t)||t===0?t:t<0?-1:1},uR}var lR,Zj;function U_e(){return Zj||(Zj=1,lR=Object.getOwnPropertyDescriptor),lR}var cR,e$;function Pv(){if(e$)return cR;e$=1;var e=U_e();if(e)try{e([],"length")}catch{e=null}return cR=e,cR}var fR,t$;function PS(){if(t$)return fR;t$=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return fR=e,fR}var dR,r$;function q_e(){if(r$)return dR;r$=1;var e=typeof Symbol<"u"&&Symbol,r=nN();return dR=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()},dR}var pR,n$;function LV(){return n$||(n$=1,pR=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),pR}var hR,o$;function BV(){if(o$)return hR;o$=1;var e=oN();return hR=e.getPrototypeOf||null,hR}var vR,i$;function H_e(){if(i$)return vR;i$=1;var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,t=Math.max,n="[object Function]",o=function(u,l){for(var c=[],f=0;f<u.length;f+=1)c[f]=u[f];for(var d=0;d<l.length;d+=1)c[d+u.length]=l[d];return c},i=function(u,l){for(var c=[],f=l,d=0;f<u.length;f+=1,d+=1)c[d]=u[f];return c},a=function(s,u){for(var l="",c=0;c<s.length;c+=1)l+=s[c],c+1<s.length&&(l+=u);return l};return vR=function(u){var l=this;if(typeof l!="function"||r.apply(l)!==n)throw new TypeError(e+l);for(var c=i(arguments,1),f,d=function(){if(this instanceof f){var v=l.apply(this,o(c,arguments));return Object(v)===v?v:this}return l.apply(u,o(c,arguments))},p=t(0,l.length-c.length),h=[],m=0;m<p;m++)h[m]="$"+m;if(f=Function("binder","return function ("+a(h,",")+"){ return binder.apply(this,arguments); }")(d),l.prototype){var y=function(){};y.prototype=l.prototype,f.prototype=new y,y.prototype=null}return f},vR}var mR,a$;function Q0(){if(a$)return mR;a$=1;var e=H_e();return mR=Function.prototype.bind||e,mR}var gR,s$;function iN(){return s$||(s$=1,gR=Function.prototype.call),gR}var yR,u$;function aN(){return u$||(u$=1,yR=Function.prototype.apply),yR}var xR,l$;function V_e(){return l$||(l$=1,xR=typeof Reflect<"u"&&Reflect&&Reflect.apply),xR}var bR,c$;function jV(){if(c$)return bR;c$=1;var e=Q0(),r=aN(),t=iN(),n=V_e();return bR=n||e.call(t,r),bR}var _R,f$;function sN(){if(f$)return _R;f$=1;var e=Q0(),r=X0(),t=iN(),n=jV();return _R=function(i){if(i.length<1||typeof i[0]!="function")throw new r("a function is required");return n(e,t,i)},_R}var wR,d$;function G_e(){if(d$)return wR;d$=1;var e=sN(),r=Pv(),t;try{t=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!t&&r&&r(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return wR=n&&typeof n.get=="function"?e([n.get]):typeof i=="function"?function(s){return i(s==null?s:o(s))}:!1,wR}var SR,p$;function $V(){if(p$)return SR;p$=1;var e=LV(),r=BV(),t=G_e();return SR=e?function(o){return e(o)}:r?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return r(o)}:t?function(o){return t(o)}:null,SR}var CR,h$;function zV(){if(h$)return CR;h$=1;var e=Function.prototype.call,r=Object.prototype.hasOwnProperty,t=Q0();return CR=t.call(e,r),CR}var ER,v$;function uN(){if(v$)return ER;v$=1;var e,r=oN(),t=O_e(),n=D_e(),o=P_e(),i=I_e(),a=FV(),s=X0(),u=N_e(),l=M_e(),c=F_e(),f=L_e(),d=B_e(),p=j_e(),h=$_e(),m=W_e(),y=Function,v=function(ee){try{return y('"use strict"; return ('+ee+").constructor;")()}catch{}},g=Pv(),x=PS(),b=function(){throw new s},w=g?function(){try{return arguments.callee,b}catch{try{return g(arguments,"callee").get}catch{return b}}}():b,E=q_e()(),C=$V(),S=BV(),T=LV(),k=aN(),P=iN(),I={},F=typeof Uint8Array>"u"||!C?e:C(Uint8Array),A={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":E&&C?C([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":I,"%AsyncGenerator%":I,"%AsyncGeneratorFunction%":I,"%AsyncIteratorPrototype%":I,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":I,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&C?C(C([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!E||!C?e:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":g,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!E||!C?e:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&C?C(""[Symbol.iterator]()):e,"%Symbol%":E?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":w,"%TypedArray%":F,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":k,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":S,"%Math.abs%":l,"%Math.floor%":c,"%Math.max%":f,"%Math.min%":d,"%Math.pow%":p,"%Math.round%":h,"%Math.sign%":m,"%Reflect.getPrototypeOf%":T};if(C)try{null.error}catch(ee){var D=C(C(ee));A["%Error.prototype%"]=D}var $=function ee(ne){var pe;if(ne==="%AsyncFunction%")pe=v("async function () {}");else if(ne==="%GeneratorFunction%")pe=v("function* () {}");else if(ne==="%AsyncGeneratorFunction%")pe=v("async function* () {}");else if(ne==="%AsyncGenerator%"){var J=ee("%AsyncGeneratorFunction%");J&&(pe=J.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var se=ee("%AsyncGenerator%");se&&C&&(pe=C(se.prototype))}return A[ne]=pe,pe},B={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=Q0(),L=zV(),z=W.call(P,Array.prototype.concat),U=W.call(k,Array.prototype.splice),Y=W.call(P,String.prototype.replace),q=W.call(P,String.prototype.slice),V=W.call(P,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,ue=function(ne){var pe=q(ne,0,1),J=q(ne,-1);if(pe==="%"&&J!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&pe!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var se=[];return Y(ne,H,function(j,ce,re,Q){se[se.length]=re?Y(Q,Z,"$1"):ce||j}),se},oe=function(ne,pe){var J=ne,se;if(L(B,J)&&(se=B[J],J="%"+se[0]+"%"),L(A,J)){var j=A[J];if(j===I&&(j=$(J)),typeof j>"u"&&!pe)throw new s("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:se,name:J,value:j}}throw new a("intrinsic "+ne+" does not exist!")};return ER=function(ne,pe){if(typeof ne!="string"||ne.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof pe!="boolean")throw new s('"allowMissing" argument must be a boolean');if(V(/^%?[^%]*%?$/,ne)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=ue(ne),se=J.length>0?J[0]:"",j=oe("%"+se+"%",pe),ce=j.name,re=j.value,Q=!1,G=j.alias;G&&(se=G[0],U(J,z([0,1],G)));for(var X=1,te=!0;X<J.length;X+=1){var de=J[X],ae=q(de,0,1),ye=q(de,-1);if((ae==='"'||ae==="'"||ae==="`"||ye==='"'||ye==="'"||ye==="`")&&ae!==ye)throw new a("property names with quotes must have matching quotes");if((de==="constructor"||!te)&&(Q=!0),se+="."+de,ce="%"+se+"%",L(A,ce))re=A[ce];else if(re!=null){if(!(de in re)){if(!pe)throw new s("base intrinsic for "+ne+" exists, but the property is not available.");return}if(g&&X+1>=J.length){var ie=g(re,de);te=!!ie,te&&"get"in ie&&!("originalValue"in ie.get)?re=ie.get:re=re[de]}else te=L(re,de),re=re[de];te&&!Q&&(A[ce]=re)}}return re},ER}var kR,m$;function Iv(){if(m$)return kR;m$=1;var e=uN(),r=sN(),t=r([e("%String.prototype.indexOf%")]);return kR=function(o,i){var a=e(o,!!i);return typeof a=="function"&&t(o,".prototype.")>-1?r([a]):a},kR}var RR,g$;function Y_e(){if(g$)return RR;g$=1;var e=DS()(),r=Iv(),t=r("Object.prototype.toString"),n=function(s){return e&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:t(s)==="[object Arguments]"},o=function(s){return n(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&t(s)!=="[object Array]"&&"callee"in s&&t(s.callee)==="[object Function]"},i=function(){return n(arguments)}();return n.isLegacyArguments=o,RR=i?n:o,RR}var TR,y$;function K_e(){if(y$)return TR;y$=1;var e=Iv(),r=DS()(),t=zV(),n=Pv(),o;if(r){var i=e("RegExp.prototype.exec"),a={},s=function(){throw a},u={toString:s,valueOf:s};typeof Symbol.toPrimitive=="symbol"&&(u[Symbol.toPrimitive]=s),o=function(d){if(!d||typeof d!="object")return!1;var p=n(d,"lastIndex"),h=p&&t(p,"value");if(!h)return!1;try{i(d,u)}catch(m){return m===a}}}else{var l=e("Object.prototype.toString"),c="[object RegExp]";o=function(d){return!d||typeof d!="object"&&typeof d!="function"?!1:l(d)===c}}return TR=o,TR}var AR,x$;function X_e(){if(x$)return AR;x$=1;var e=Iv(),r=K_e(),t=e("RegExp.prototype.exec"),n=X0();return AR=function(i){if(!r(i))throw new n("`regex` must be a RegExp");return function(s){return t(i,s)!==null}},AR}var OR,b$;function Q_e(){if(b$)return OR;b$=1;var e=Iv(),r=X_e(),t=r(/^\s*(?:function)?\*/),n=DS()(),o=$V(),i=e("Object.prototype.toString"),a=e("Function.prototype.toString"),s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},u;return OR=function(c){if(typeof c!="function")return!1;if(t(a(c)))return!0;if(!n){var f=i(c);return f==="[object GeneratorFunction]"}if(!o)return!1;if(typeof u>"u"){var d=s();u=d?o(d):!1}return o(c)===u},OR}var DR,_$;function J_e(){if(_$)return DR;_$=1;var e=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r(function(){throw 42},null,t)}catch(g){g!==n&&(r=null)}else r=null;var o=/^\s*class\b/,i=function(x){try{var b=e.call(x);return o.test(b)}catch{return!1}},a=function(x){try{return i(x)?!1:(e.call(x),!0)}catch{return!1}},s=Object.prototype.toString,u="[object Object]",l="[object Function]",c="[object GeneratorFunction]",f="[object HTMLAllCollection]",d="[object HTML document.all class]",p="[object HTMLCollection]",h=typeof Symbol=="function"&&!!Symbol.toStringTag,m=!(0 in[,]),y=function(){return!1};if(typeof document=="object"){var v=document.all;s.call(v)===s.call(document.all)&&(y=function(x){if((m||!x)&&(typeof x>"u"||typeof x=="object"))try{var b=s.call(x);return(b===f||b===d||b===p||b===u)&&x("")==null}catch{}return!1})}return DR=r?function(x){if(y(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{r(x,null,t)}catch(b){if(b!==n)return!1}return!i(x)&&a(x)}:function(x){if(y(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(h)return a(x);if(i(x))return!1;var b=s.call(x);return b!==l&&b!==c&&!/^\[object HTML/.test(b)?!1:a(x)},DR}var PR,w$;function Z_e(){if(w$)return PR;w$=1;var e=J_e(),r=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,l,c){for(var f=0,d=u.length;f<d;f++)t.call(u,f)&&(c==null?l(u[f],f,u):l.call(c,u[f],f,u))},o=function(u,l,c){for(var f=0,d=u.length;f<d;f++)c==null?l(u.charAt(f),f,u):l.call(c,u.charAt(f),f,u)},i=function(u,l,c){for(var f in u)t.call(u,f)&&(c==null?l(u[f],f,u):l.call(c,u[f],f,u))};function a(s){return r.call(s)==="[object Array]"}return PR=function(u,l,c){if(!e(l))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=c),a(u)?n(u,l,f):typeof u=="string"?o(u,l,f):i(u,l,f)},PR}var IR,S$;function e2e(){return S$||(S$=1,IR=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),IR}var NR,C$;function t2e(){if(C$)return NR;C$=1;var e=e2e(),r=typeof globalThis>"u"?wr:globalThis;return NR=function(){for(var n=[],o=0;o<e.length;o++)typeof r[e[o]]=="function"&&(n[n.length]=e[o]);return n},NR}var MR={exports:{}},FR,E$;function WV(){if(E$)return FR;E$=1;var e=PS(),r=FV(),t=X0(),n=Pv();return FR=function(i,a,s){if(!i||typeof i!="object"&&typeof i!="function")throw new t("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!n&&n(i,a);if(e)e(i,a,{configurable:c===null&&d?d.configurable:!c,enumerable:u===null&&d?d.enumerable:!u,value:s,writable:l===null&&d?d.writable:!l});else if(f||!u&&!l&&!c)i[a]=s;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},FR}var LR,k$;function UV(){if(k$)return LR;k$=1;var e=PS(),r=function(){return!!e};return r.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},LR=r,LR}var BR,R$;function r2e(){if(R$)return BR;R$=1;var e=uN(),r=WV(),t=UV()(),n=Pv(),o=X0(),i=e("%Math.floor%");return BR=function(s,u){if(typeof s!="function")throw new o("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||i(u)!==u)throw new o("`length` must be a positive 32-bit integer");var l=arguments.length>2&&!!arguments[2],c=!0,f=!0;if("length"in s&&n){var d=n(s,"length");d&&!d.configurable&&(c=!1),d&&!d.writable&&(f=!1)}return(c||f||!l)&&(t?r(s,"length",u,!0,!0):r(s,"length",u)),s},BR}var jR,T$;function n2e(){if(T$)return jR;T$=1;var e=Q0(),r=aN(),t=jV();return jR=function(){return t(e,r,arguments)},jR}var A$;function IS(){return A$||(A$=1,function(e){var r=r2e(),t=PS(),n=sN(),o=n2e();e.exports=function(a){var s=n(arguments),u=a.length-(arguments.length-1);return r(s,1+(u>0?u:0),!0)},t?t(e.exports,"apply",{value:o}):e.exports.apply=o}(MR)),MR.exports}var $R,O$;function qV(){if(O$)return $R;O$=1;var e=Z_e(),r=t2e(),t=IS(),n=Iv(),o=Pv(),i=n("Object.prototype.toString"),a=DS()(),s=typeof globalThis>"u"?wr:globalThis,u=r(),l=n("String.prototype.slice"),c=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(y,v){for(var g=0;g<y.length;g+=1)if(y[g]===v)return g;return-1},d={__proto__:null};a&&o&&c?e(u,function(m){var y=new s[m];if(Symbol.toStringTag in y){var v=c(y),g=o(v,Symbol.toStringTag);if(!g){var x=c(v);g=o(x,Symbol.toStringTag)}d["$"+m]=t(g.get)}}):e(u,function(m){var y=new s[m],v=y.slice||y.set;v&&(d["$"+m]=t(v))});var p=function(y){var v=!1;return e(d,function(g,x){if(!v)try{"$"+g(y)===x&&(v=l(x,1))}catch{}}),v},h=function(y){var v=!1;return e(d,function(g,x){if(!v)try{g(y),v=l(x,1)}catch{}}),v};return $R=function(y){if(!y||typeof y!="object")return!1;if(!a){var v=l(i(y),8,-1);return f(u,v)>-1?v:v!=="Object"?!1:h(y)}return o?p(y):null},$R}var zR,D$;function o2e(){if(D$)return zR;D$=1;var e=qV();return zR=function(t){return!!e(t)},zR}var P$;function i2e(){return P$||(P$=1,function(e){var r=Y_e(),t=Q_e(),n=qV(),o=o2e();function i(X){return X.call.bind(X)}var a=typeof BigInt<"u",s=typeof Symbol<"u",u=i(Object.prototype.toString),l=i(Number.prototype.valueOf),c=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(a)var d=i(BigInt.prototype.valueOf);if(s)var p=i(Symbol.prototype.valueOf);function h(X,te){if(typeof X!="object")return!1;try{return te(X),!0}catch{return!1}}e.isArgumentsObject=r,e.isGeneratorFunction=t,e.isTypedArray=o;function m(X){return typeof Promise<"u"&&X instanceof Promise||X!==null&&typeof X=="object"&&typeof X.then=="function"&&typeof X.catch=="function"}e.isPromise=m;function y(X){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(X):o(X)||q(X)}e.isArrayBufferView=y;function v(X){return n(X)==="Uint8Array"}e.isUint8Array=v;function g(X){return n(X)==="Uint8ClampedArray"}e.isUint8ClampedArray=g;function x(X){return n(X)==="Uint16Array"}e.isUint16Array=x;function b(X){return n(X)==="Uint32Array"}e.isUint32Array=b;function w(X){return n(X)==="Int8Array"}e.isInt8Array=w;function E(X){return n(X)==="Int16Array"}e.isInt16Array=E;function C(X){return n(X)==="Int32Array"}e.isInt32Array=C;function S(X){return n(X)==="Float32Array"}e.isFloat32Array=S;function T(X){return n(X)==="Float64Array"}e.isFloat64Array=T;function k(X){return n(X)==="BigInt64Array"}e.isBigInt64Array=k;function P(X){return n(X)==="BigUint64Array"}e.isBigUint64Array=P;function I(X){return u(X)==="[object Map]"}I.working=typeof Map<"u"&&I(new Map);function F(X){return typeof Map>"u"?!1:I.working?I(X):X instanceof Map}e.isMap=F;function A(X){return u(X)==="[object Set]"}A.working=typeof Set<"u"&&A(new Set);function D(X){return typeof Set>"u"?!1:A.working?A(X):X instanceof Set}e.isSet=D;function $(X){return u(X)==="[object WeakMap]"}$.working=typeof WeakMap<"u"&&$(new WeakMap);function B(X){return typeof WeakMap>"u"?!1:$.working?$(X):X instanceof WeakMap}e.isWeakMap=B;function W(X){return u(X)==="[object WeakSet]"}W.working=typeof WeakSet<"u"&&W(new WeakSet);function L(X){return W(X)}e.isWeakSet=L;function z(X){return u(X)==="[object ArrayBuffer]"}z.working=typeof ArrayBuffer<"u"&&z(new ArrayBuffer);function U(X){return typeof ArrayBuffer>"u"?!1:z.working?z(X):X instanceof ArrayBuffer}e.isArrayBuffer=U;function Y(X){return u(X)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function q(X){return typeof DataView>"u"?!1:Y.working?Y(X):X instanceof DataView}e.isDataView=q;var V=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(X){return u(X)==="[object SharedArrayBuffer]"}function Z(X){return typeof V>"u"?!1:(typeof H.working>"u"&&(H.working=H(new V)),H.working?H(X):X instanceof V)}e.isSharedArrayBuffer=Z;function ue(X){return u(X)==="[object AsyncFunction]"}e.isAsyncFunction=ue;function oe(X){return u(X)==="[object Map Iterator]"}e.isMapIterator=oe;function ee(X){return u(X)==="[object Set Iterator]"}e.isSetIterator=ee;function ne(X){return u(X)==="[object Generator]"}e.isGeneratorObject=ne;function pe(X){return u(X)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=pe;function J(X){return h(X,l)}e.isNumberObject=J;function se(X){return h(X,c)}e.isStringObject=se;function j(X){return h(X,f)}e.isBooleanObject=j;function ce(X){return a&&h(X,d)}e.isBigIntObject=ce;function re(X){return s&&h(X,p)}e.isSymbolObject=re;function Q(X){return J(X)||se(X)||j(X)||ce(X)||re(X)}e.isBoxedPrimitive=Q;function G(X){return typeof Uint8Array<"u"&&(U(X)||Z(X))}e.isAnyArrayBuffer=G,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(X){Object.defineProperty(e,X,{enumerable:!1,value:function(){throw new Error(X+" is not supported in userland")}})})}(qk)),qk}var WR,I$;function a2e(){return I$||(I$=1,WR=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}),WR}var Ux={exports:{}},N$;function s2e(){return N$||(N$=1,typeof Object.create=="function"?Ux.exports=function(r,t){t&&(r.super_=t,r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Ux.exports=function(r,t){if(t){r.super_=t;var n=function(){};n.prototype=t.prototype,r.prototype=new n,r.prototype.constructor=r}}),Ux.exports}var M$;function ov(){return M$||(M$=1,function(e){var r={},t=Object.getOwnPropertyDescriptors||function(V){for(var H=Object.keys(V),Z={},ue=0;ue<H.length;ue++)Z[H[ue]]=Object.getOwnPropertyDescriptor(V,H[ue]);return Z},n=/%[sdj%]/g;e.format=function(q){if(!E(q)){for(var V=[],H=0;H<arguments.length;H++)V.push(s(arguments[H]));return V.join(" ")}for(var H=1,Z=arguments,ue=Z.length,oe=String(q).replace(n,function(ne){if(ne==="%%")return"%";if(H>=ue)return ne;switch(ne){case"%s":return String(Z[H++]);case"%d":return Number(Z[H++]);case"%j":try{return JSON.stringify(Z[H++])}catch{return"[Circular]"}default:return ne}}),ee=Z[H];H<ue;ee=Z[++H])x(ee)||!k(ee)?oe+=" "+ee:oe+=" "+s(ee);return oe},e.deprecate=function(q,V){if(typeof process<"u"&&process.noDeprecation===!0)return q;if(typeof process>"u")return function(){return e.deprecate(q,V).apply(this,arguments)};var H=!1;function Z(){if(!H){if(process.throwDeprecation)throw new Error(V);process.traceDeprecation?console.trace(V):console.error(V),H=!0}return q.apply(this,arguments)}return Z};var o={},i=/^$/;if(r.NODE_DEBUG){var a=r.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+a+"$","i")}e.debuglog=function(q){if(q=q.toUpperCase(),!o[q])if(i.test(q)){var V=process.pid;o[q]=function(){var H=e.format.apply(e,arguments);console.error("%s %d: %s",q,V,H)}}else o[q]=function(){};return o[q]};function s(q,V){var H={seen:[],stylize:l};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),g(V)?H.showHidden=V:V&&e._extend(H,V),S(H.showHidden)&&(H.showHidden=!1),S(H.depth)&&(H.depth=2),S(H.colors)&&(H.colors=!1),S(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=u),f(H,q,H.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(q,V){var H=s.styles[V];return H?"\x1B["+s.colors[H][0]+"m"+q+"\x1B["+s.colors[H][1]+"m":q}function l(q,V){return q}function c(q){var V={};return q.forEach(function(H,Z){V[H]=!0}),V}function f(q,V,H){if(q.customInspect&&V&&F(V.inspect)&&V.inspect!==e.inspect&&!(V.constructor&&V.constructor.prototype===V)){var Z=V.inspect(H,q);return E(Z)||(Z=f(q,Z,H)),Z}var ue=d(q,V);if(ue)return ue;var oe=Object.keys(V),ee=c(oe);if(q.showHidden&&(oe=Object.getOwnPropertyNames(V)),I(V)&&(oe.indexOf("message")>=0||oe.indexOf("description")>=0))return p(V);if(oe.length===0){if(F(V)){var ne=V.name?": "+V.name:"";return q.stylize("[Function"+ne+"]","special")}if(T(V))return q.stylize(RegExp.prototype.toString.call(V),"regexp");if(P(V))return q.stylize(Date.prototype.toString.call(V),"date");if(I(V))return p(V)}var pe="",J=!1,se=["{","}"];if(v(V)&&(J=!0,se=["[","]"]),F(V)){var j=V.name?": "+V.name:"";pe=" [Function"+j+"]"}if(T(V)&&(pe=" "+RegExp.prototype.toString.call(V)),P(V)&&(pe=" "+Date.prototype.toUTCString.call(V)),I(V)&&(pe=" "+p(V)),oe.length===0&&(!J||V.length==0))return se[0]+pe+se[1];if(H<0)return T(V)?q.stylize(RegExp.prototype.toString.call(V),"regexp"):q.stylize("[Object]","special");q.seen.push(V);var ce;return J?ce=h(q,V,H,ee,oe):ce=oe.map(function(re){return m(q,V,H,ee,re,J)}),q.seen.pop(),y(ce,pe,se)}function d(q,V){if(S(V))return q.stylize("undefined","undefined");if(E(V)){var H="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(H,"string")}if(w(V))return q.stylize(""+V,"number");if(g(V))return q.stylize(""+V,"boolean");if(x(V))return q.stylize("null","null")}function p(q){return"["+Error.prototype.toString.call(q)+"]"}function h(q,V,H,Z,ue){for(var oe=[],ee=0,ne=V.length;ee<ne;++ee)L(V,String(ee))?oe.push(m(q,V,H,Z,String(ee),!0)):oe.push("");return ue.forEach(function(pe){pe.match(/^\d+$/)||oe.push(m(q,V,H,Z,pe,!0))}),oe}function m(q,V,H,Z,ue,oe){var ee,ne,pe;if(pe=Object.getOwnPropertyDescriptor(V,ue)||{value:V[ue]},pe.get?pe.set?ne=q.stylize("[Getter/Setter]","special"):ne=q.stylize("[Getter]","special"):pe.set&&(ne=q.stylize("[Setter]","special")),L(Z,ue)||(ee="["+ue+"]"),ne||(q.seen.indexOf(pe.value)<0?(x(H)?ne=f(q,pe.value,null):ne=f(q,pe.value,H-1),ne.indexOf(`
`)>-1&&(oe?ne=ne.split(`
`).map(function(J){return"  "+J}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(J){return"   "+J}).join(`
`))):ne=q.stylize("[Circular]","special")),S(ee)){if(oe&&ue.match(/^\d+$/))return ne;ee=JSON.stringify(""+ue),ee.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ee=ee.slice(1,-1),ee=q.stylize(ee,"name")):(ee=ee.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ee=q.stylize(ee,"string"))}return ee+": "+ne}function y(q,V,H){var Z=q.reduce(function(ue,oe){return oe.indexOf(`
`)>=0,ue+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?H[0]+(V===""?"":V+`
 `)+" "+q.join(`,
  `)+" "+H[1]:H[0]+V+" "+q.join(", ")+" "+H[1]}e.types=i2e();function v(q){return Array.isArray(q)}e.isArray=v;function g(q){return typeof q=="boolean"}e.isBoolean=g;function x(q){return q===null}e.isNull=x;function b(q){return q==null}e.isNullOrUndefined=b;function w(q){return typeof q=="number"}e.isNumber=w;function E(q){return typeof q=="string"}e.isString=E;function C(q){return typeof q=="symbol"}e.isSymbol=C;function S(q){return q===void 0}e.isUndefined=S;function T(q){return k(q)&&D(q)==="[object RegExp]"}e.isRegExp=T,e.types.isRegExp=T;function k(q){return typeof q=="object"&&q!==null}e.isObject=k;function P(q){return k(q)&&D(q)==="[object Date]"}e.isDate=P,e.types.isDate=P;function I(q){return k(q)&&(D(q)==="[object Error]"||q instanceof Error)}e.isError=I,e.types.isNativeError=I;function F(q){return typeof q=="function"}e.isFunction=F;function A(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}e.isPrimitive=A,e.isBuffer=a2e();function D(q){return Object.prototype.toString.call(q)}function $(q){return q<10?"0"+q.toString(10):q.toString(10)}var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function W(){var q=new Date,V=[$(q.getHours()),$(q.getMinutes()),$(q.getSeconds())].join(":");return[q.getDate(),B[q.getMonth()],V].join(" ")}e.log=function(){console.log("%s - %s",W(),e.format.apply(e,arguments))},e.inherits=s2e(),e._extend=function(q,V){if(!V||!k(V))return q;for(var H=Object.keys(V),Z=H.length;Z--;)q[H[Z]]=V[H[Z]];return q};function L(q,V){return Object.prototype.hasOwnProperty.call(q,V)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&V[z]){var H=V[z];if(typeof H!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(H,z,{value:H,enumerable:!1,writable:!1,configurable:!0}),H}function H(){for(var Z,ue,oe=new Promise(function(pe,J){Z=pe,ue=J}),ee=[],ne=0;ne<arguments.length;ne++)ee.push(arguments[ne]);ee.push(function(pe,J){pe?ue(pe):Z(J)});try{V.apply(this,ee)}catch(pe){ue(pe)}return oe}return Object.setPrototypeOf(H,Object.getPrototypeOf(V)),z&&Object.defineProperty(H,z,{value:H,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(H,t(V))},e.promisify.custom=z;function U(q,V){if(!q){var H=new Error("Promise was rejected with a falsy value");H.reason=q,q=H}return V(q)}function Y(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var H=[],Z=0;Z<arguments.length;Z++)H.push(arguments[Z]);var ue=H.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var oe=this,ee=function(){return ue.apply(oe,arguments)};q.apply(this,H).then(function(ne){process.nextTick(ee.bind(null,null,ne))},function(ne){process.nextTick(U.bind(null,ne,ee))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(q)),Object.defineProperties(V,t(q)),V}e.callbackify=Y}(Uk)),Uk}var F$;function HV(){if(F$)return Wk;F$=1;function e(g){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(g)}function r(g,x,b){return Object.defineProperty(g,"prototype",{writable:!1}),g}function t(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function n(g,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(x&&x.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),x&&o(g,x)}function o(g,x){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,E){return w.__proto__=E,w},o(g,x)}function i(g){var x=u();return function(){var w=l(g),E;if(x){var C=l(this).constructor;E=Reflect.construct(w,arguments,C)}else E=w.apply(this,arguments);return a(this,E)}}function a(g,x){if(x&&(e(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(g)}function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l(g){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},l(g)}var c={},f,d;function p(g,x,b){b||(b=Error);function w(C,S,T){return typeof x=="string"?x:x(C,S,T)}var E=function(C){n(T,C);var S=i(T);function T(k,P,I){var F;return t(this,T),F=S.call(this,w(k,P,I)),F.code=g,F}return r(T)}(b);c[g]=E}function h(g,x){if(Array.isArray(g)){var b=g.length;return g=g.map(function(w){return String(w)}),b>2?"one of ".concat(x," ").concat(g.slice(0,b-1).join(", "),", or ")+g[b-1]:b===2?"one of ".concat(x," ").concat(g[0]," or ").concat(g[1]):"of ".concat(x," ").concat(g[0])}else return"of ".concat(x," ").concat(String(g))}function m(g,x,b){return g.substr(0,x.length)===x}function y(g,x,b){return(b===void 0||b>g.length)&&(b=g.length),g.substring(b-x.length,b)===x}function v(g,x,b){return typeof b!="number"&&(b=0),b+x.length>g.length?!1:g.indexOf(x,b)!==-1}return p("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),p("ERR_INVALID_ARG_TYPE",function(g,x,b){f===void 0&&(f=Vi()),f(typeof g=="string","'name' must be a string");var w;typeof x=="string"&&m(x,"not ")?(w="must not be",x=x.replace(/^not /,"")):w="must be";var E;if(y(g," argument"))E="The ".concat(g," ").concat(w," ").concat(h(x,"type"));else{var C=v(g,".")?"property":"argument";E='The "'.concat(g,'" ').concat(C," ").concat(w," ").concat(h(x,"type"))}return E+=". Received type ".concat(e(b)),E},TypeError),p("ERR_INVALID_ARG_VALUE",function(g,x){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";d===void 0&&(d=ov());var w=d.inspect(x);return w.length>128&&(w="".concat(w.slice(0,128),"...")),"The argument '".concat(g,"' ").concat(b,". Received ").concat(w)},TypeError),p("ERR_INVALID_RETURN_VALUE",function(g,x,b){var w;return b&&b.constructor&&b.constructor.name?w="instance of ".concat(b.constructor.name):w="type ".concat(e(b)),"Expected ".concat(g,' to be returned from the "').concat(x,'"')+" function but got ".concat(w,".")},TypeError),p("ERR_MISSING_ARGS",function(){for(var g=arguments.length,x=new Array(g),b=0;b<g;b++)x[b]=arguments[b];f===void 0&&(f=Vi()),f(x.length>0,"At least one arg needs to be specified");var w="The ",E=x.length;switch(x=x.map(function(C){return'"'.concat(C,'"')}),E){case 1:w+="".concat(x[0]," argument");break;case 2:w+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:w+=x.slice(0,E-1).join(", "),w+=", and ".concat(x[E-1]," arguments");break}return"".concat(w," must be specified")},TypeError),Wk.codes=c,Wk}var UR,L$;function u2e(){if(L$)return UR;L$=1;function e(L,z){var U=Object.keys(L);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(L);z&&(Y=Y.filter(function(q){return Object.getOwnPropertyDescriptor(L,q).enumerable})),U.push.apply(U,Y)}return U}function r(L){for(var z=1;z<arguments.length;z++){var U=arguments[z]!=null?arguments[z]:{};z%2?e(Object(U),!0).forEach(function(Y){t(L,Y,U[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(U)):e(Object(U)).forEach(function(Y){Object.defineProperty(L,Y,Object.getOwnPropertyDescriptor(U,Y))})}return L}function t(L,z,U){return z=a(z),z in L?Object.defineProperty(L,z,{value:U,enumerable:!0,configurable:!0,writable:!0}):L[z]=U,L}function n(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function o(L,z){for(var U=0;U<z.length;U++){var Y=z[U];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(L,a(Y.key),Y)}}function i(L,z,U){return z&&o(L.prototype,z),Object.defineProperty(L,"prototype",{writable:!1}),L}function a(L){var z=s(L,"string");return g(z)==="symbol"?z:String(z)}function s(L,z){if(g(L)!=="object"||L===null)return L;var U=L[Symbol.toPrimitive];if(U!==void 0){var Y=U.call(L,z);if(g(Y)!=="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}function u(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),z&&y(L,z)}function l(L){var z=h();return function(){var Y=v(L),q;if(z){var V=v(this).constructor;q=Reflect.construct(Y,arguments,V)}else q=Y.apply(this,arguments);return c(this,q)}}function c(L,z){if(z&&(g(z)==="object"||typeof z=="function"))return z;if(z!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(L)}function f(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function d(L){var z=typeof Map=="function"?new Map:void 0;return d=function(Y){if(Y===null||!m(Y))return Y;if(typeof Y!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z<"u"){if(z.has(Y))return z.get(Y);z.set(Y,q)}function q(){return p(Y,arguments,v(this).constructor)}return q.prototype=Object.create(Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),y(q,Y)},d(L)}function p(L,z,U){return h()?p=Reflect.construct.bind():p=function(q,V,H){var Z=[null];Z.push.apply(Z,V);var ue=Function.bind.apply(q,Z),oe=new ue;return H&&y(oe,H.prototype),oe},p.apply(null,arguments)}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m(L){return Function.toString.call(L).indexOf("[native code]")!==-1}function y(L,z){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,q){return Y.__proto__=q,Y},y(L,z)}function v(L){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},v(L)}function g(L){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},g(L)}var x=ov(),b=x.inspect,w=HV(),E=w.codes.ERR_INVALID_ARG_TYPE;function C(L,z,U){return(U===void 0||U>L.length)&&(U=L.length),L.substring(U-z.length,U)===z}function S(L,z){if(z=Math.floor(z),L.length==0||z==0)return"";var U=L.length*z;for(z=Math.floor(Math.log(z)/Math.log(2));z;)L+=L,z--;return L+=L.substring(0,U-L.length),L}var T="",k="",P="",I="",F={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},A=10;function D(L){var z=Object.keys(L),U=Object.create(Object.getPrototypeOf(L));return z.forEach(function(Y){U[Y]=L[Y]}),Object.defineProperty(U,"message",{value:L.message}),U}function $(L){return b(L,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function B(L,z,U){var Y="",q="",V=0,H="",Z=!1,ue=$(L),oe=ue.split(`
`),ee=$(z).split(`
`),ne=0,pe="";if(U==="strictEqual"&&g(L)==="object"&&g(z)==="object"&&L!==null&&z!==null&&(U="strictEqualObject"),oe.length===1&&ee.length===1&&oe[0]!==ee[0]){var J=oe[0].length+ee[0].length;if(J<=A){if((g(L)!=="object"||L===null)&&(g(z)!=="object"||z===null)&&(L!==0||z!==0))return"".concat(F[U],`

`)+"".concat(oe[0]," !== ").concat(ee[0],`
`)}else if(U!=="strictEqualObject"){var se=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(J<se){for(;oe[0][ne]===ee[0][ne];)ne++;ne>2&&(pe=`
  `.concat(S(" ",ne),"^"),ne=0)}}}for(var j=oe[oe.length-1],ce=ee[ee.length-1];j===ce&&(ne++<2?H=`
  `.concat(j).concat(H):Y=j,oe.pop(),ee.pop(),!(oe.length===0||ee.length===0));)j=oe[oe.length-1],ce=ee[ee.length-1];var re=Math.max(oe.length,ee.length);if(re===0){var Q=ue.split(`
`);if(Q.length>30)for(Q[26]="".concat(T,"...").concat(I);Q.length>27;)Q.pop();return"".concat(F.notIdentical,`

`).concat(Q.join(`
`),`
`)}ne>3&&(H=`
`.concat(T,"...").concat(I).concat(H),Z=!0),Y!==""&&(H=`
  `.concat(Y).concat(H),Y="");var G=0,X=F[U]+`
`.concat(k,"+ actual").concat(I," ").concat(P,"- expected").concat(I),te=" ".concat(T,"...").concat(I," Lines skipped");for(ne=0;ne<re;ne++){var de=ne-V;if(oe.length<ne+1)de>1&&ne>2&&(de>4?(q+=`
`.concat(T,"...").concat(I),Z=!0):de>3&&(q+=`
  `.concat(ee[ne-2]),G++),q+=`
  `.concat(ee[ne-1]),G++),V=ne,Y+=`
`.concat(P,"-").concat(I," ").concat(ee[ne]),G++;else if(ee.length<ne+1)de>1&&ne>2&&(de>4?(q+=`
`.concat(T,"...").concat(I),Z=!0):de>3&&(q+=`
  `.concat(oe[ne-2]),G++),q+=`
  `.concat(oe[ne-1]),G++),V=ne,q+=`
`.concat(k,"+").concat(I," ").concat(oe[ne]),G++;else{var ae=ee[ne],ye=oe[ne],ie=ye!==ae&&(!C(ye,",")||ye.slice(0,-1)!==ae);ie&&C(ae,",")&&ae.slice(0,-1)===ye&&(ie=!1,ye+=","),ie?(de>1&&ne>2&&(de>4?(q+=`
`.concat(T,"...").concat(I),Z=!0):de>3&&(q+=`
  `.concat(oe[ne-2]),G++),q+=`
  `.concat(oe[ne-1]),G++),V=ne,q+=`
`.concat(k,"+").concat(I," ").concat(ye),Y+=`
`.concat(P,"-").concat(I," ").concat(ae),G+=2):(q+=Y,Y="",(de===1||ne===0)&&(q+=`
  `.concat(ye),G++))}if(G>20&&ne<re-2)return"".concat(X).concat(te,`
`).concat(q,`
`).concat(T,"...").concat(I).concat(Y,`
`)+"".concat(T,"...").concat(I)}return"".concat(X).concat(Z?te:"",`
`).concat(q).concat(Y).concat(H).concat(pe)}var W=function(L,z){u(Y,L);var U=l(Y);function Y(q){var V;if(n(this,Y),g(q)!=="object"||q===null)throw new E("options","Object",q);var H=q.message,Z=q.operator,ue=q.stackStartFn,oe=q.actual,ee=q.expected,ne=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)V=U.call(this,String(H));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(T="\x1B[34m",k="\x1B[32m",I="\x1B[39m",P="\x1B[31m"):(T="",k="",I="",P="")),g(oe)==="object"&&oe!==null&&g(ee)==="object"&&ee!==null&&"stack"in oe&&oe instanceof Error&&"stack"in ee&&ee instanceof Error&&(oe=D(oe),ee=D(ee)),Z==="deepStrictEqual"||Z==="strictEqual")V=U.call(this,B(oe,ee,Z));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var pe=F[Z],J=$(oe).split(`
`);if(Z==="notStrictEqual"&&g(oe)==="object"&&oe!==null&&(pe=F.notStrictEqualObject),J.length>30)for(J[26]="".concat(T,"...").concat(I);J.length>27;)J.pop();J.length===1?V=U.call(this,"".concat(pe," ").concat(J[0])):V=U.call(this,"".concat(pe,`

`).concat(J.join(`
`),`
`))}else{var se=$(oe),j="",ce=F[Z];Z==="notDeepEqual"||Z==="notEqual"?(se="".concat(F[Z],`

`).concat(se),se.length>1024&&(se="".concat(se.slice(0,1021),"..."))):(j="".concat($(ee)),se.length>512&&(se="".concat(se.slice(0,509),"...")),j.length>512&&(j="".concat(j.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?se="".concat(ce,`

`).concat(se,`

should equal

`):j=" ".concat(Z," ").concat(j)),V=U.call(this,"".concat(se).concat(j))}return Error.stackTraceLimit=ne,V.generatedMessage=!H,Object.defineProperty(f(V),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),V.code="ERR_ASSERTION",V.actual=oe,V.expected=ee,V.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(f(V),ue),V.stack,V.name="AssertionError",c(V)}return i(Y,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:z,value:function(V,H){return b(this,r(r({},H),{},{customInspect:!1,depth:0}))}}]),Y}(d(Error),b.custom);return UR=W,UR}var qR,B$;function VV(){if(B$)return qR;B$=1;var e=Object.prototype.toString;return qR=function(t){var n=e.call(t),o=n==="[object Arguments]";return o||(o=n!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&e.call(t.callee)==="[object Function]"),o},qR}var HR,j$;function l2e(){if(j$)return HR;j$=1;var e;if(!Object.keys){var r=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=VV(),o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(d){var p=d.constructor;return p&&p.prototype===d},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!l["$"+d]&&r.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{u(window[d])}catch{return!0}}catch{return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return u(d);try{return u(d)}catch{return!1}};e=function(p){var h=p!==null&&typeof p=="object",m=t.call(p)==="[object Function]",y=n(p),v=h&&t.call(p)==="[object String]",g=[];if(!h&&!m&&!y)throw new TypeError("Object.keys called on a non-object");var x=a&&m;if(v&&p.length>0&&!r.call(p,0))for(var b=0;b<p.length;++b)g.push(String(b));if(y&&p.length>0)for(var w=0;w<p.length;++w)g.push(String(w));else for(var E in p)!(x&&E==="prototype")&&r.call(p,E)&&g.push(String(E));if(i)for(var C=f(p),S=0;S<s.length;++S)!(C&&s[S]==="constructor")&&r.call(p,s[S])&&g.push(s[S]);return g}}return HR=e,HR}var VR,$$;function GV(){if($$)return VR;$$=1;var e=Array.prototype.slice,r=VV(),t=Object.keys,n=t?function(a){return t(a)}:l2e(),o=Object.keys;return n.shim=function(){if(Object.keys){var a=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);a||(Object.keys=function(u){return r(u)?o(e.call(u)):o(u)})}else Object.keys=n;return Object.keys||n},VR=n,VR}var GR,z$;function c2e(){if(z$)return GR;z$=1;var e=GV(),r=nN()(),t=Iv(),n=oN(),o=t("Array.prototype.push"),i=t("Object.prototype.propertyIsEnumerable"),a=r?n.getOwnPropertySymbols:null;return GR=function(u,l){if(u==null)throw new TypeError("target must be an object");var c=n(u);if(arguments.length===1)return c;for(var f=1;f<arguments.length;++f){var d=n(arguments[f]),p=e(d),h=r&&(n.getOwnPropertySymbols||a);if(h)for(var m=h(d),y=0;y<m.length;++y){var v=m[y];i(d,v)&&o(p,v)}for(var g=0;g<p.length;++g){var x=p[g];if(i(d,x)){var b=d[x];c[x]=b}}}return c},GR}var YR,W$;function f2e(){if(W$)return YR;W$=1;var e=c2e(),r=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",o=n.split(""),i={},a=0;a<o.length;++a)i[o[a]]=o[a];var s=Object.assign({},i),u="";for(var l in s)u+=l;return n!==u},t=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return YR=function(){return!Object.assign||r()||t()?e:Object.assign},YR}var KR,U$;function YV(){if(U$)return KR;U$=1;var e=function(r){return r!==r};return KR=function(t,n){return t===0&&n===0?1/t===1/n:!!(t===n||e(t)&&e(n))},KR}var XR,q$;function lN(){if(q$)return XR;q$=1;var e=YV();return XR=function(){return typeof Object.is=="function"?Object.is:e},XR}var QR,H$;function d2e(){if(H$)return QR;H$=1;var e=uN(),r=IS(),t=r(e("String.prototype.indexOf"));return QR=function(o,i){var a=e(o,!!i);return typeof a=="function"&&t(o,".prototype.")>-1?r(a):a},QR}var JR,V$;function NS(){if(V$)return JR;V$=1;var e=GV(),r=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",t=Object.prototype.toString,n=Array.prototype.concat,o=WV(),i=function(l){return typeof l=="function"&&t.call(l)==="[object Function]"},a=UV()(),s=function(l,c,f,d){if(c in l){if(d===!0){if(l[c]===f)return}else if(!i(d)||!d())return}a?o(l,c,f,!0):o(l,c,f)},u=function(l,c){var f=arguments.length>2?arguments[2]:{},d=e(c);r&&(d=n.call(d,Object.getOwnPropertySymbols(c)));for(var p=0;p<d.length;p+=1)s(l,d[p],c[d[p]],f[d[p]])};return u.supportsDescriptors=!!a,JR=u,JR}var ZR,G$;function p2e(){if(G$)return ZR;G$=1;var e=lN(),r=NS();return ZR=function(){var n=e();return r(Object,{is:n},{is:function(){return Object.is!==n}}),n},ZR}var eT,Y$;function h2e(){if(Y$)return eT;Y$=1;var e=NS(),r=IS(),t=YV(),n=lN(),o=p2e(),i=r(n(),Object);return e(i,{getPolyfill:n,implementation:t,shim:o}),eT=i,eT}var tT,K$;function KV(){return K$||(K$=1,tT=function(r){return r!==r}),tT}var rT,X$;function XV(){if(X$)return rT;X$=1;var e=KV();return rT=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},rT}var nT,Q$;function v2e(){if(Q$)return nT;Q$=1;var e=NS(),r=XV();return nT=function(){var n=r();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},nT}var oT,J$;function m2e(){if(J$)return oT;J$=1;var e=IS(),r=NS(),t=KV(),n=XV(),o=v2e(),i=e(n(),Number);return r(i,{getPolyfill:n,implementation:t,shim:o}),oT=i,oT}var iT,Z$;function g2e(){if(Z$)return iT;Z$=1;function e(ie,he){return i(ie)||o(ie,he)||t(ie,he)||r()}function r(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(ie,he){if(ie){if(typeof ie=="string")return n(ie,he);var _e=Object.prototype.toString.call(ie).slice(8,-1);if(_e==="Object"&&ie.constructor&&(_e=ie.constructor.name),_e==="Map"||_e==="Set")return Array.from(ie);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return n(ie,he)}}function n(ie,he){(he==null||he>ie.length)&&(he=ie.length);for(var _e=0,Se=new Array(he);_e<he;_e++)Se[_e]=ie[_e];return Se}function o(ie,he){var _e=ie==null?null:typeof Symbol<"u"&&ie[Symbol.iterator]||ie["@@iterator"];if(_e!=null){var Se,xe,De,$e,Be=[],we=!0,Me=!1;try{if(De=(_e=_e.call(ie)).next,he!==0)for(;!(we=(Se=De.call(_e)).done)&&(Be.push(Se.value),Be.length!==he);we=!0);}catch(Le){Me=!0,xe=Le}finally{try{if(!we&&_e.return!=null&&($e=_e.return(),Object($e)!==$e))return}finally{if(Me)throw xe}}return Be}}function i(ie){if(Array.isArray(ie))return ie}function a(ie){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},a(ie)}var s=/a/g.flags!==void 0,u=function(he){var _e=[];return he.forEach(function(Se){return _e.push(Se)}),_e},l=function(he){var _e=[];return he.forEach(function(Se,xe){return _e.push([xe,Se])}),_e},c=Object.is?Object.is:h2e(),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},d=Number.isNaN?Number.isNaN:m2e();function p(ie){return ie.call.bind(ie)}var h=p(Object.prototype.hasOwnProperty),m=p(Object.prototype.propertyIsEnumerable),y=p(Object.prototype.toString),v=ov().types,g=v.isAnyArrayBuffer,x=v.isArrayBufferView,b=v.isDate,w=v.isMap,E=v.isRegExp,C=v.isSet,S=v.isNativeError,T=v.isBoxedPrimitive,k=v.isNumberObject,P=v.isStringObject,I=v.isBooleanObject,F=v.isBigIntObject,A=v.isSymbolObject,D=v.isFloat32Array,$=v.isFloat64Array;function B(ie){if(ie.length===0||ie.length>10)return!0;for(var he=0;he<ie.length;he++){var _e=ie.charCodeAt(he);if(_e<48||_e>57)return!0}return ie.length===10&&ie>=Math.pow(2,32)}function W(ie){return Object.keys(ie).filter(B).concat(f(ie).filter(Object.prototype.propertyIsEnumerable.bind(ie)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function L(ie,he){if(ie===he)return 0;for(var _e=ie.length,Se=he.length,xe=0,De=Math.min(_e,Se);xe<De;++xe)if(ie[xe]!==he[xe]){_e=ie[xe],Se=he[xe];break}return _e<Se?-1:Se<_e?1:0}var z=!0,U=!1,Y=0,q=1,V=2,H=3;function Z(ie,he){return s?ie.source===he.source&&ie.flags===he.flags:RegExp.prototype.toString.call(ie)===RegExp.prototype.toString.call(he)}function ue(ie,he){if(ie.byteLength!==he.byteLength)return!1;for(var _e=0;_e<ie.byteLength;_e++)if(ie[_e]!==he[_e])return!1;return!0}function oe(ie,he){return ie.byteLength!==he.byteLength?!1:L(new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength),new Uint8Array(he.buffer,he.byteOffset,he.byteLength))===0}function ee(ie,he){return ie.byteLength===he.byteLength&&L(new Uint8Array(ie),new Uint8Array(he))===0}function ne(ie,he){return k(ie)?k(he)&&c(Number.prototype.valueOf.call(ie),Number.prototype.valueOf.call(he)):P(ie)?P(he)&&String.prototype.valueOf.call(ie)===String.prototype.valueOf.call(he):I(ie)?I(he)&&Boolean.prototype.valueOf.call(ie)===Boolean.prototype.valueOf.call(he):F(ie)?F(he)&&BigInt.prototype.valueOf.call(ie)===BigInt.prototype.valueOf.call(he):A(he)&&Symbol.prototype.valueOf.call(ie)===Symbol.prototype.valueOf.call(he)}function pe(ie,he,_e,Se){if(ie===he)return ie!==0?!0:_e?c(ie,he):!0;if(_e){if(a(ie)!=="object")return typeof ie=="number"&&d(ie)&&d(he);if(a(he)!=="object"||ie===null||he===null||Object.getPrototypeOf(ie)!==Object.getPrototypeOf(he))return!1}else{if(ie===null||a(ie)!=="object")return he===null||a(he)!=="object"?ie==he:!1;if(he===null||a(he)!=="object")return!1}var xe=y(ie),De=y(he);if(xe!==De)return!1;if(Array.isArray(ie)){if(ie.length!==he.length)return!1;var $e=W(ie),Be=W(he);return $e.length!==Be.length?!1:se(ie,he,_e,Se,q,$e)}if(xe==="[object Object]"&&(!w(ie)&&w(he)||!C(ie)&&C(he)))return!1;if(b(ie)){if(!b(he)||Date.prototype.getTime.call(ie)!==Date.prototype.getTime.call(he))return!1}else if(E(ie)){if(!E(he)||!Z(ie,he))return!1}else if(S(ie)||ie instanceof Error){if(ie.message!==he.message||ie.name!==he.name)return!1}else if(x(ie)){if(!_e&&(D(ie)||$(ie))){if(!ue(ie,he))return!1}else if(!oe(ie,he))return!1;var we=W(ie),Me=W(he);return we.length!==Me.length?!1:se(ie,he,_e,Se,Y,we)}else{if(C(ie))return!C(he)||ie.size!==he.size?!1:se(ie,he,_e,Se,V);if(w(ie))return!w(he)||ie.size!==he.size?!1:se(ie,he,_e,Se,H);if(g(ie)){if(!ee(ie,he))return!1}else if(T(ie)&&!ne(ie,he))return!1}return se(ie,he,_e,Se,Y)}function J(ie,he){return he.filter(function(_e){return m(ie,_e)})}function se(ie,he,_e,Se,xe,De){if(arguments.length===5){De=Object.keys(ie);var $e=Object.keys(he);if(De.length!==$e.length)return!1}for(var Be=0;Be<De.length;Be++)if(!h(he,De[Be]))return!1;if(_e&&arguments.length===5){var we=f(ie);if(we.length!==0){var Me=0;for(Be=0;Be<we.length;Be++){var Le=we[Be];if(m(ie,Le)){if(!m(he,Le))return!1;De.push(Le),Me++}else if(m(he,Le))return!1}var Fe=f(he);if(we.length!==Fe.length&&J(he,Fe).length!==Me)return!1}else{var He=f(he);if(He.length!==0&&J(he,He).length!==0)return!1}}if(De.length===0&&(xe===Y||xe===q&&ie.length===0||ie.size===0))return!0;if(Se===void 0)Se={val1:new Map,val2:new Map,position:0};else{var gt=Se.val1.get(ie);if(gt!==void 0){var _t=Se.val2.get(he);if(_t!==void 0)return gt===_t}Se.position++}Se.val1.set(ie,Se.position),Se.val2.set(he,Se.position);var At=de(ie,he,_e,De,Se,xe);return Se.val1.delete(ie),Se.val2.delete(he),At}function j(ie,he,_e,Se){for(var xe=u(ie),De=0;De<xe.length;De++){var $e=xe[De];if(pe(he,$e,_e,Se))return ie.delete($e),!0}return!1}function ce(ie){switch(a(ie)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ie=+ie;case"number":if(d(ie))return!1}return!0}function re(ie,he,_e){var Se=ce(_e);return Se??(he.has(Se)&&!ie.has(Se))}function Q(ie,he,_e,Se,xe){var De=ce(_e);if(De!=null)return De;var $e=he.get(De);return $e===void 0&&!he.has(De)||!pe(Se,$e,!1,xe)?!1:!ie.has(De)&&pe(Se,$e,!1,xe)}function G(ie,he,_e,Se){for(var xe=null,De=u(ie),$e=0;$e<De.length;$e++){var Be=De[$e];if(a(Be)==="object"&&Be!==null)xe===null&&(xe=new Set),xe.add(Be);else if(!he.has(Be)){if(_e||!re(ie,he,Be))return!1;xe===null&&(xe=new Set),xe.add(Be)}}if(xe!==null){for(var we=u(he),Me=0;Me<we.length;Me++){var Le=we[Me];if(a(Le)==="object"&&Le!==null){if(!j(xe,Le,_e,Se))return!1}else if(!_e&&!ie.has(Le)&&!j(xe,Le,_e,Se))return!1}return xe.size===0}return!0}function X(ie,he,_e,Se,xe,De){for(var $e=u(ie),Be=0;Be<$e.length;Be++){var we=$e[Be];if(pe(_e,we,xe,De)&&pe(Se,he.get(we),xe,De))return ie.delete(we),!0}return!1}function te(ie,he,_e,Se){for(var xe=null,De=l(ie),$e=0;$e<De.length;$e++){var Be=e(De[$e],2),we=Be[0],Me=Be[1];if(a(we)==="object"&&we!==null)xe===null&&(xe=new Set),xe.add(we);else{var Le=he.get(we);if(Le===void 0&&!he.has(we)||!pe(Me,Le,_e,Se)){if(_e||!Q(ie,he,we,Me,Se))return!1;xe===null&&(xe=new Set),xe.add(we)}}}if(xe!==null){for(var Fe=l(he),He=0;He<Fe.length;He++){var gt=e(Fe[He],2),_t=gt[0],At=gt[1];if(a(_t)==="object"&&_t!==null){if(!X(xe,ie,_t,At,_e,Se))return!1}else if(!_e&&(!ie.has(_t)||!pe(ie.get(_t),At,!1,Se))&&!X(xe,ie,_t,At,!1,Se))return!1}return xe.size===0}return!0}function de(ie,he,_e,Se,xe,De){var $e=0;if(De===V){if(!G(ie,he,_e,xe))return!1}else if(De===H){if(!te(ie,he,_e,xe))return!1}else if(De===q)for(;$e<ie.length;$e++)if(h(ie,$e)){if(!h(he,$e)||!pe(ie[$e],he[$e],_e,xe))return!1}else{if(h(he,$e))return!1;for(var Be=Object.keys(ie);$e<Be.length;$e++){var we=Be[$e];if(!h(he,we)||!pe(ie[we],he[we],_e,xe))return!1}return Be.length===Object.keys(he).length}for($e=0;$e<Se.length;$e++){var Me=Se[$e];if(!pe(ie[Me],he[Me],_e,xe))return!1}return!0}function ae(ie,he){return pe(ie,he,U)}function ye(ie,he){return pe(ie,he,z)}return iT={isDeepEqual:ae,isDeepStrictEqual:ye},iT}var e5;function Vi(){if(e5)return zk.exports;e5=1;function e(V){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},e(V)}function r(V,H,Z){return Object.defineProperty(V,"prototype",{writable:!1}),V}function t(V,H){if(!(V instanceof H))throw new TypeError("Cannot call a class as a function")}var n=HV(),o=n.codes,i=o.ERR_AMBIGUOUS_ARGUMENT,a=o.ERR_INVALID_ARG_TYPE,s=o.ERR_INVALID_ARG_VALUE,u=o.ERR_INVALID_RETURN_VALUE,l=o.ERR_MISSING_ARGS,c=u2e(),f=ov(),d=f.inspect,p=ov().types,h=p.isPromise,m=p.isRegExp,y=f2e()(),v=lN()(),g=d2e()("RegExp.prototype.test"),x,b;function w(){var V=g2e();x=V.isDeepEqual,b=V.isDeepStrictEqual}var E=!1,C=zk.exports=I,S={};function T(V){throw V.message instanceof Error?V.message:new c(V)}function k(V,H,Z,ue,oe){var ee=arguments.length,ne;if(ee===0)ne="Failed";else if(ee===1)Z=V,V=void 0;else{if(E===!1){E=!0;var pe=process.emitWarning?process.emitWarning:console.warn.bind(console);pe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}ee===2&&(ue="!=")}if(Z instanceof Error)throw Z;var J={actual:V,expected:H,operator:ue===void 0?"fail":ue,stackStartFn:oe||k};Z!==void 0&&(J.message=Z);var se=new c(J);throw ne&&(se.message=ne,se.generatedMessage=!0),se}C.fail=k,C.AssertionError=c;function P(V,H,Z,ue){if(!Z){var oe=!1;if(H===0)oe=!0,ue="No value argument passed to `assert.ok()`";else if(ue instanceof Error)throw ue;var ee=new c({actual:Z,expected:!0,message:ue,operator:"==",stackStartFn:V});throw ee.generatedMessage=oe,ee}}function I(){for(var V=arguments.length,H=new Array(V),Z=0;Z<V;Z++)H[Z]=arguments[Z];P.apply(void 0,[I,H.length].concat(H))}C.ok=I,C.equal=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");H!=Z&&T({actual:H,expected:Z,message:ue,operator:"==",stackStartFn:V})},C.notEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");H==Z&&T({actual:H,expected:Z,message:ue,operator:"!=",stackStartFn:V})},C.deepEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");x===void 0&&w(),x(H,Z)||T({actual:H,expected:Z,message:ue,operator:"deepEqual",stackStartFn:V})},C.notDeepEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");x===void 0&&w(),x(H,Z)&&T({actual:H,expected:Z,message:ue,operator:"notDeepEqual",stackStartFn:V})},C.deepStrictEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");x===void 0&&w(),b(H,Z)||T({actual:H,expected:Z,message:ue,operator:"deepStrictEqual",stackStartFn:V})},C.notDeepStrictEqual=F;function F(V,H,Z){if(arguments.length<2)throw new l("actual","expected");x===void 0&&w(),b(V,H)&&T({actual:V,expected:H,message:Z,operator:"notDeepStrictEqual",stackStartFn:F})}C.strictEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");v(H,Z)||T({actual:H,expected:Z,message:ue,operator:"strictEqual",stackStartFn:V})},C.notStrictEqual=function V(H,Z,ue){if(arguments.length<2)throw new l("actual","expected");v(H,Z)&&T({actual:H,expected:Z,message:ue,operator:"notStrictEqual",stackStartFn:V})};var A=r(function V(H,Z,ue){var oe=this;t(this,V),Z.forEach(function(ee){ee in H&&(ue!==void 0&&typeof ue[ee]=="string"&&m(H[ee])&&g(H[ee],ue[ee])?oe[ee]=ue[ee]:oe[ee]=H[ee])})});function D(V,H,Z,ue,oe,ee){if(!(Z in V)||!b(V[Z],H[Z])){if(!ue){var ne=new A(V,oe),pe=new A(H,oe,V),J=new c({actual:ne,expected:pe,operator:"deepStrictEqual",stackStartFn:ee});throw J.actual=V,J.expected=H,J.operator=ee.name,J}T({actual:V,expected:H,message:ue,operator:ee.name,stackStartFn:ee})}}function $(V,H,Z,ue){if(typeof H!="function"){if(m(H))return g(H,V);if(arguments.length===2)throw new a("expected",["Function","RegExp"],H);if(e(V)!=="object"||V===null){var oe=new c({actual:V,expected:H,message:Z,operator:"deepStrictEqual",stackStartFn:ue});throw oe.operator=ue.name,oe}var ee=Object.keys(H);if(H instanceof Error)ee.push("name","message");else if(ee.length===0)throw new s("error",H,"may not be an empty object");return x===void 0&&w(),ee.forEach(function(ne){typeof V[ne]=="string"&&m(H[ne])&&g(H[ne],V[ne])||D(V,H,ne,Z,ee,ue)}),!0}return H.prototype!==void 0&&V instanceof H?!0:Error.isPrototypeOf(H)?!1:H.call({},V)===!0}function B(V){if(typeof V!="function")throw new a("fn","Function",V);try{V()}catch(H){return H}return S}function W(V){return h(V)||V!==null&&e(V)==="object"&&typeof V.then=="function"&&typeof V.catch=="function"}function L(V){return Promise.resolve().then(function(){var H;if(typeof V=="function"){if(H=V(),!W(H))throw new u("instance of Promise","promiseFn",H)}else if(W(V))H=V;else throw new a("promiseFn",["Function","Promise"],V);return Promise.resolve().then(function(){return H}).then(function(){return S}).catch(function(Z){return Z})})}function z(V,H,Z,ue){if(typeof Z=="string"){if(arguments.length===4)throw new a("error",["Object","Error","Function","RegExp"],Z);if(e(H)==="object"&&H!==null){if(H.message===Z)throw new i("error/message",'The error message "'.concat(H.message,'" is identical to the message.'))}else if(H===Z)throw new i("error/message",'The error "'.concat(H,'" is identical to the message.'));ue=Z,Z=void 0}else if(Z!=null&&e(Z)!=="object"&&typeof Z!="function")throw new a("error",["Object","Error","Function","RegExp"],Z);if(H===S){var oe="";Z&&Z.name&&(oe+=" (".concat(Z.name,")")),oe+=ue?": ".concat(ue):".";var ee=V.name==="rejects"?"rejection":"exception";T({actual:void 0,expected:Z,operator:V.name,message:"Missing expected ".concat(ee).concat(oe),stackStartFn:V})}if(Z&&!$(H,Z,ue,V))throw H}function U(V,H,Z,ue){if(H!==S){if(typeof Z=="string"&&(ue=Z,Z=void 0),!Z||$(H,Z)){var oe=ue?": ".concat(ue):".",ee=V.name==="doesNotReject"?"rejection":"exception";T({actual:H,expected:Z,operator:V.name,message:"Got unwanted ".concat(ee).concat(oe,`
`)+'Actual message: "'.concat(H&&H.message,'"'),stackStartFn:V})}throw H}}C.throws=function V(H){for(var Z=arguments.length,ue=new Array(Z>1?Z-1:0),oe=1;oe<Z;oe++)ue[oe-1]=arguments[oe];z.apply(void 0,[V,B(H)].concat(ue))},C.rejects=function V(H){for(var Z=arguments.length,ue=new Array(Z>1?Z-1:0),oe=1;oe<Z;oe++)ue[oe-1]=arguments[oe];return L(H).then(function(ee){return z.apply(void 0,[V,ee].concat(ue))})},C.doesNotThrow=function V(H){for(var Z=arguments.length,ue=new Array(Z>1?Z-1:0),oe=1;oe<Z;oe++)ue[oe-1]=arguments[oe];U.apply(void 0,[V,B(H)].concat(ue))},C.doesNotReject=function V(H){for(var Z=arguments.length,ue=new Array(Z>1?Z-1:0),oe=1;oe<Z;oe++)ue[oe-1]=arguments[oe];return L(H).then(function(ee){return U.apply(void 0,[V,ee].concat(ue))})},C.ifError=function V(H){if(H!=null){var Z="ifError got unwanted exception: ";e(H)==="object"&&typeof H.message=="string"?H.message.length===0&&H.constructor?Z+=H.constructor.name:Z+=H.message:Z+=d(H);var ue=new c({actual:H,expected:null,operator:"ifError",message:Z,stackStartFn:V}),oe=H.stack;if(typeof oe=="string"){var ee=oe.split(`
`);ee.shift();for(var ne=ue.stack.split(`
`),pe=0;pe<ee.length;pe++){var J=ne.indexOf(ee[pe]);if(J!==-1){ne=ne.slice(0,J);break}}ue.stack="".concat(ne.join(`
`),`
`).concat(ee.join(`
`))}throw ue}};function Y(V,H,Z,ue,oe){if(!m(H))throw new a("regexp","RegExp",H);var ee=oe==="match";if(typeof V!="string"||g(H,V)!==ee){if(Z instanceof Error)throw Z;var ne=!Z;Z=Z||(typeof V!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(V)," (").concat(d(V),")"):(ee?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(d(H),`. Input:

`).concat(d(V),`
`));var pe=new c({actual:V,expected:H,message:Z,operator:oe,stackStartFn:ue});throw pe.generatedMessage=ne,pe}}C.match=function V(H,Z,ue){Y(H,Z,ue,V,"match")},C.doesNotMatch=function V(H,Z,ue){Y(H,Z,ue,V,"doesNotMatch")};function q(){for(var V=arguments.length,H=new Array(V),Z=0;Z<V;Z++)H[Z]=arguments[Z];P.apply(void 0,[q,H.length].concat(H))}return C.strict=y(q,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict,zk.exports}var Gf={},t5;function ot(){if(t5)return Gf;t5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Gf,"__esModule",{value:!0});function e(o,i,a){}Gf.NotNull=e;function r(o,i,a){}Gf.Nullable=r;function t(o,i,a){}Gf.Override=t;function n(o){return function(i,a,s){}}return Gf.SuppressWarnings=n,Gf}var ac={};(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),function(r){r.EOF=-1,r.UNKNOWN_SOURCE_NAME="<unknown>"}(e.IntStream||(e.IntStream={}))})(ac);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var cN=Ge,y2e=cN(Ke()),x2e=cN(rt()),b2e=cN(tt()),al=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,b2e.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(rN,"__esModule",{value:!0});var _2e=Vi(),sl=ot(),qx=ac,iu=function(){function e(r){(0,y2e.default)(this,e),this.p=0,this.data=r,this.n=r.length}return(0,x2e.default)(e,[{key:"reset",value:function(){this.p=0}},{key:"consume",value:function(){if(this.p>=this.n)throw _2e(this.LA(1)===qx.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}},{key:"LA",value:function(t){return t===0?0:t<0&&(t++,this.p+t-1<0)||this.p+t-1>=this.n?qx.IntStream.EOF:this.data.charCodeAt(this.p+t-1)}},{key:"LT",value:function(t){return this.LA(t)}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){if(t<=this.p){this.p=t;return}for(t=Math.min(t,this.n);this.p<t;)this.consume()}},{key:"getText",value:function(t){var n=t.a,o=t.b;o>=this.n&&(o=this.n-1);var i=o-n+1;return n>=this.n?"":this.data.substr(n,i)}},{key:"toString",value:function(){return this.data}},{key:"index",get:function(){return this.p}},{key:"size",get:function(){return this.n}},{key:"sourceName",get:function(){return this.name?this.name:qx.IntStream.UNKNOWN_SOURCE_NAME}}]),e}();al([sl.Override],iu.prototype,"consume",null);al([sl.Override],iu.prototype,"LA",null);al([sl.Override],iu.prototype,"index",null);al([sl.Override],iu.prototype,"size",null);al([sl.Override],iu.prototype,"mark",null);al([sl.Override],iu.prototype,"release",null);al([sl.Override],iu.prototype,"seek",null);al([sl.Override],iu.prototype,"getText",null);al([sl.Override],iu.prototype,"sourceName",null);al([sl.Override],iu.prototype,"toString",null);rN.ANTLRInputStream=iu;var Hx={},aT={exports:{}},sT={exports:{}},r5;function Nv(){return r5||(r5=1,function(e){function r(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(sT)),sT.exports}var n5;function Dt(){return n5||(n5=1,function(e){var r=tt().default,t=Nv();function n(o,i){if(i&&(r(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(aT)),aT.exports}var uT={exports:{}},o5;function Tt(){return o5||(o5=1,function(e){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(uT)),uT.exports}var lT={exports:{}},cT={exports:{}},i5;function fN(){return i5||(i5=1,function(e){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,i){return o.__proto__=i,o},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(cT)),cT.exports}var a5;function Pt(){return a5||(a5=1,function(e){var r=fN();function t(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&r(n,o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(lT)),lT.exports}var Vx={},fT={},s5;function sc(){return s5||(s5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p};Object.defineProperty(e,"__esModule",{value:!0});var a=ot(),s=function(){function u(){(0,t.default)(this,u),this.stateNumber=u.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}return(0,n.default)(u,[{key:"getStateNumber",value:function(){return this.stateNumber}},{key:"hashCode",value:function(){return this.stateNumber}},{key:"equals",value:function(c){return c instanceof u?this.stateNumber===c.stateNumber:!1}},{key:"toString",value:function(){return String(this.stateNumber)}},{key:"getTransitions",value:function(){return this.transitions.slice(0)}},{key:"addTransition",value:function(c,f){if(this.transitions.length===0)this.epsilonOnlyTransitions=c.isEpsilon;else if(this.epsilonOnlyTransitions!==c.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(f!==void 0?f:this.transitions.length,0,c)}},{key:"transition",value:function(c){return this.transitions[c]}},{key:"setTransition",value:function(c,f){this.transitions[c]=f}},{key:"removeTransition",value:function(c){return this.transitions.splice(c,1)[0]}},{key:"setRuleIndex",value:function(c){this.ruleIndex=c}},{key:"getOptimizedTransition",value:function(c){return this.optimizedTransitions[c]}},{key:"addOptimizedTransition",value:function(c){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(c)}},{key:"setOptimizedTransition",value:function(c,f){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[c]=f}},{key:"removeOptimizedTransition",value:function(c){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(c,1)}},{key:"nonStopStateNumber",get:function(){return this.getStateNumber()}},{key:"isNonGreedyExitState",get:function(){return!1}},{key:"numberOfTransitions",get:function(){return this.transitions.length}},{key:"onlyHasEpsilonTransitions",get:function(){return this.epsilonOnlyTransitions}},{key:"isOptimized",get:function(){return this.optimizedTransitions!==this.transitions}},{key:"numberOfOptimizedTransitions",get:function(){return this.optimizedTransitions.length}}]),u}();i([a.Override],s.prototype,"hashCode",null),i([a.Override],s.prototype,"equals",null),i([a.Override],s.prototype,"toString",null),e.ATNState=s,function(u){u.INVALID_STATE_NUMBER=-1}(s=e.ATNState||(e.ATNState={}))}(fT)),fT}var dT={},u5;function li(){return u5||(u5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),function(r){r[r.INVALID_TYPE=0]="INVALID_TYPE",r[r.BASIC=1]="BASIC",r[r.RULE_START=2]="RULE_START",r[r.BLOCK_START=3]="BLOCK_START",r[r.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",r[r.STAR_BLOCK_START=5]="STAR_BLOCK_START",r[r.TOKEN_START=6]="TOKEN_START",r[r.RULE_STOP=7]="RULE_STOP",r[r.BLOCK_END=8]="BLOCK_END",r[r.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",r[r.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",r[r.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",r[r.LOOP_END=12]="LOOP_END"}(e.ATNStateType||(e.ATNStateType={}))}(dT)),dT}var J0={},pT={exports:{}},hT={exports:{}},l5;function w2e(){return l5||(l5=1,function(e){var r=Tt();function t(n,o){for(;!{}.hasOwnProperty.call(n,o)&&(n=r(n))!==null;);return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(hT)),hT.exports}var c5;function Vd(){return c5||(c5=1,function(e){var r=w2e();function t(){return e.exports=t=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,o,i){var a=r(n,o);if(a){var s=Object.getOwnPropertyDescriptor(a,o);return s.get?s.get.call(arguments.length<3?n:i):s.value}},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(pT)),pT.exports}var ul={},vT={exports:{}},mT={exports:{}},f5;function S2e(){return f5||(f5=1,function(e){function r(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(mT)),mT.exports}var gT={exports:{}},yT={exports:{}},d5;function C2e(){return d5||(d5=1,function(e){function r(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=r=function(){return!!t},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(yT)),yT.exports}var p5;function QV(){return p5||(p5=1,function(e){var r=C2e(),t=fN();function n(o,i,a){if(r())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,i);var u=new(o.bind.apply(o,s));return a&&t(u,a.prototype),u}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(gT)),gT.exports}var h5;function MS(){return h5||(h5=1,function(e){var r=Tt(),t=fN(),n=S2e(),o=QV();function i(a){var s=typeof Map=="function"?new Map:void 0;return e.exports=i=function(l){if(l===null||!n(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(l))return s.get(l);s.set(l,c)}function c(){return o(l,arguments,r(this).constructor)}return c.prototype=Object.create(l.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t(c,l)},e.exports.__esModule=!0,e.exports.default=e.exports,i(a)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(vT)),vT.exports}/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Mv=Ge,E2e=Mv(Ke()),k2e=Mv(rt()),R2e=Mv(Dt()),T2e=Mv(Tt()),A2e=Mv(Pt()),O2e=Mv(MS());Object.defineProperty(ul,"__esModule",{value:!0});var D2e=function(e){(0,A2e.default)(r,e);function r(t,n,o,i){var a;return(0,E2e.default)(this,r),a=(0,R2e.default)(this,(0,T2e.default)(r).call(this,i)),a._offendingState=-1,a._recognizer=t,a.input=n,a.ctx=o,t&&(a._offendingState=t.state),a}return(0,k2e.default)(r,[{key:"setOffendingState",value:function(n){this._offendingState=n}},{key:"getOffendingToken",value:function(n){if(!(n&&n!==this._recognizer))return this.offendingToken}},{key:"setOffendingToken",value:function(n,o){n===this._recognizer&&(this.offendingToken=o)}},{key:"offendingState",get:function(){return this._offendingState}},{key:"expectedTokens",get:function(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}},{key:"context",get:function(){return this.ctx}},{key:"inputStream",get:function(){return this.input}},{key:"recognizer",get:function(){return this._recognizer}}]),r}((0,O2e.default)(Error));ul.RecognitionException=D2e;var Gx={},Yx={},Kx={},v5;function Sf(){if(v5)return Kx;v5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p},i=function(u,l){return function(c,f){l(c,f,u)}};Object.defineProperty(Kx,"__esModule",{value:!0});var a=ot(),s=function(){function u(l){if((0,r.default)(this,u),l==null)throw new Error("target cannot be null.");this.target=l}return(0,t.default)(u,[{key:"isEpsilon",get:function(){return!1}},{key:"label",get:function(){}}]),u}();return s.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],o([a.NotNull],s.prototype,"target",void 0),s=o([i(0,a.NotNull)],s),Kx.Transition=s,Kx}var m5;function dN(){if(m5)return Yx;m5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt());Object.defineProperty(Yx,"__esModule",{value:!0});var i=Sf(),a=function(s){(0,o.default)(u,s);function u(l){return(0,r.default)(this,u),(0,t.default)(this,(0,n.default)(u).call(this,l))}return u}(i.Transition);return Yx.AbstractPredicateTransition=a,Yx}var xT={},Xx={},bT={exports:{}},g5;function P2e(){return g5||(g5=1,function(e){var r=tt().default;function t(){e.exports=t=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(L,z,U){L[z]=U.value},u=typeof Symbol=="function"?Symbol:{},l=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function d(L,z,U){return Object.defineProperty(L,z,{value:U,enumerable:!0,configurable:!0,writable:!0}),L[z]}try{d({},"")}catch{d=function(U,Y,q){return U[Y]=q}}function p(L,z,U,Y){var q=z&&z.prototype instanceof b?z:b,V=Object.create(q.prototype),H=new B(Y||[]);return s(V,"_invoke",{value:F(L,U,H)}),V}function h(L,z,U){try{return{type:"normal",arg:L.call(z,U)}}catch(Y){return{type:"throw",arg:Y}}}o.wrap=p;var m="suspendedStart",y="suspendedYield",v="executing",g="completed",x={};function b(){}function w(){}function E(){}var C={};d(C,l,function(){return this});var S=Object.getPrototypeOf,T=S&&S(S(W([])));T&&T!==i&&a.call(T,l)&&(C=T);var k=E.prototype=b.prototype=Object.create(C);function P(L){["next","throw","return"].forEach(function(z){d(L,z,function(U){return this._invoke(z,U)})})}function I(L,z){function U(q,V,H,Z){var ue=h(L[q],L,V);if(ue.type!=="throw"){var oe=ue.arg,ee=oe.value;return ee&&r(ee)=="object"&&a.call(ee,"__await")?z.resolve(ee.__await).then(function(ne){U("next",ne,H,Z)},function(ne){U("throw",ne,H,Z)}):z.resolve(ee).then(function(ne){oe.value=ne,H(oe)},function(ne){return U("throw",ne,H,Z)})}Z(ue.arg)}var Y;s(this,"_invoke",{value:function(V,H){function Z(){return new z(function(ue,oe){U(V,H,ue,oe)})}return Y=Y?Y.then(Z,Z):Z()}})}function F(L,z,U){var Y=m;return function(q,V){if(Y===v)throw Error("Generator is already running");if(Y===g){if(q==="throw")throw V;return{value:n,done:!0}}for(U.method=q,U.arg=V;;){var H=U.delegate;if(H){var Z=A(H,U);if(Z){if(Z===x)continue;return Z}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(Y===m)throw Y=g,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);Y=v;var ue=h(L,z,U);if(ue.type==="normal"){if(Y=U.done?g:y,ue.arg===x)continue;return{value:ue.arg,done:U.done}}ue.type==="throw"&&(Y=g,U.method="throw",U.arg=ue.arg)}}}function A(L,z){var U=z.method,Y=L.iterator[U];if(Y===n)return z.delegate=null,U==="throw"&&L.iterator.return&&(z.method="return",z.arg=n,A(L,z),z.method==="throw")||U!=="return"&&(z.method="throw",z.arg=new TypeError("The iterator does not provide a '"+U+"' method")),x;var q=h(Y,L.iterator,z.arg);if(q.type==="throw")return z.method="throw",z.arg=q.arg,z.delegate=null,x;var V=q.arg;return V?V.done?(z[L.resultName]=V.value,z.next=L.nextLoc,z.method!=="return"&&(z.method="next",z.arg=n),z.delegate=null,x):V:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,x)}function D(L){var z={tryLoc:L[0]};1 in L&&(z.catchLoc=L[1]),2 in L&&(z.finallyLoc=L[2],z.afterLoc=L[3]),this.tryEntries.push(z)}function $(L){var z=L.completion||{};z.type="normal",delete z.arg,L.completion=z}function B(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(D,this),this.reset(!0)}function W(L){if(L||L===""){var z=L[l];if(z)return z.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var U=-1,Y=function q(){for(;++U<L.length;)if(a.call(L,U))return q.value=L[U],q.done=!1,q;return q.value=n,q.done=!0,q};return Y.next=Y}}throw new TypeError(r(L)+" is not iterable")}return w.prototype=E,s(k,"constructor",{value:E,configurable:!0}),s(E,"constructor",{value:w,configurable:!0}),w.displayName=d(E,f,"GeneratorFunction"),o.isGeneratorFunction=function(L){var z=typeof L=="function"&&L.constructor;return!!z&&(z===w||(z.displayName||z.name)==="GeneratorFunction")},o.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,E):(L.__proto__=E,d(L,f,"GeneratorFunction")),L.prototype=Object.create(k),L},o.awrap=function(L){return{__await:L}},P(I.prototype),d(I.prototype,c,function(){return this}),o.AsyncIterator=I,o.async=function(L,z,U,Y,q){q===void 0&&(q=Promise);var V=new I(p(L,z,U,Y),q);return o.isGeneratorFunction(z)?V:V.next().then(function(H){return H.done?H.value:V.next()})},P(k),d(k,f,"Generator"),d(k,l,function(){return this}),d(k,"toString",function(){return"[object Generator]"}),o.keys=function(L){var z=Object(L),U=[];for(var Y in z)U.push(Y);return U.reverse(),function q(){for(;U.length;){var V=U.pop();if(V in z)return q.value=V,q.done=!1,q}return q.done=!0,q}},o.values=W,B.prototype={constructor:B,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach($),!z)for(var U in this)U.charAt(0)==="t"&&a.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=n)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var U=this;function Y(oe,ee){return H.type="throw",H.arg=z,U.next=oe,ee&&(U.method="next",U.arg=n),!!ee}for(var q=this.tryEntries.length-1;q>=0;--q){var V=this.tryEntries[q],H=V.completion;if(V.tryLoc==="root")return Y("end");if(V.tryLoc<=this.prev){var Z=a.call(V,"catchLoc"),ue=a.call(V,"finallyLoc");if(Z&&ue){if(this.prev<V.catchLoc)return Y(V.catchLoc,!0);if(this.prev<V.finallyLoc)return Y(V.finallyLoc)}else if(Z){if(this.prev<V.catchLoc)return Y(V.catchLoc,!0)}else{if(!ue)throw Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return Y(V.finallyLoc)}}}},abrupt:function(z,U){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var q=this.tryEntries[Y];if(q.tryLoc<=this.prev&&a.call(q,"finallyLoc")&&this.prev<q.finallyLoc){var V=q;break}}V&&(z==="break"||z==="continue")&&V.tryLoc<=U&&U<=V.finallyLoc&&(V=null);var H=V?V.completion:{};return H.type=z,H.arg=U,V?(this.method="next",this.next=V.finallyLoc,x):this.complete(H)},complete:function(z,U){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&U&&(this.next=U),x},finish:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var Y=this.tryEntries[U];if(Y.finallyLoc===z)return this.complete(Y.completion,Y.afterLoc),$(Y),x}},catch:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var Y=this.tryEntries[U];if(Y.tryLoc===z){var q=Y.completion;if(q.type==="throw"){var V=q.arg;$(Y)}return V}}throw Error("illegal catch attempt")},delegateYield:function(z,U,Y){return this.delegate={iterator:W(z),resultName:U,nextLoc:Y},this.method==="next"&&(this.arg=n),x}},o}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(bT)),bT.exports}var _T,y5;function pN(){if(y5)return _T;y5=1;var e=P2e()();_T=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return _T}var Qx={},wT={},x5;function ho(){return x5||(x5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(tt());Object.defineProperty(e,"__esModule",{value:!0}),function(n){var o=0;function i(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o;return c}n.initialize=i;function a(c,f){var d=3432918353,p=461845907,h=15,m=13,y=5,v=3864292196;f==null?f=0:typeof f=="string"?f=l(f):(0,t.default)(f)==="object"&&(f=f.hashCode());var g=f;return g=Math.imul(g,d),g=g<<h|g>>>32-h,g=Math.imul(g,p),c=c^g,c=c<<m|c>>>32-m,c=Math.imul(c,y)+v,c&4294967295}n.update=a;function s(c,f){return c=c^f*4,c=c^c>>>16,c=Math.imul(c,2246822507),c=c^c>>>13,c=Math.imul(c,3266489909),c=c^c>>>16,c}n.finish=s;function u(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,d=i(f),p=0,h=!0,m=!1,y=void 0;try{for(var v=c[Symbol.iterator](),g;!(h=(g=v.next()).done);h=!0){var x=g.value;d=a(d,x),p++}}catch(b){m=!0,y=b}finally{try{!h&&v.return!=null&&v.return()}finally{if(m)throw y}}return d=s(d,p),d}n.hashCode=u;function l(c){var f=c.length;if(f===0)return 0;for(var d=0,p=0;p<f;p++){var h=c.charCodeAt(p);d=(d<<5>>>0)-d+h,d|=0}return d}}(e.MurmurHash||(e.MurmurHash={}))}(wT)),wT}var Jx={},b5;function ll(){if(b5)return Jx;b5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d};Object.defineProperty(Jx,"__esModule",{value:!0});var i=ot(),a=function(){function s(){(0,r.default)(this,s)}return(0,t.default)(s,[{key:"hashCode",value:function(l){return l==null?0:l.hashCode()}},{key:"equals",value:function(l,c){return l==null?c==null:l.equals(c)}}]),s}();return a.INSTANCE=new a,o([i.Override],a.prototype,"hashCode",null),o([i.Override],a.prototype,"equals",null),Jx.ObjectEqualityComparator=a,Jx}var _5;function I2e(){if(_5)return Qx;_5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h};Object.defineProperty(Qx,"__esModule",{value:!0});var i=ot(),a=ho(),s=ll(),u=function(){function l(){(0,r.default)(this,l)}return(0,t.default)(l,[{key:"hashCode",value:function(f){return f==null?0:typeof f=="string"||typeof f=="number"?a.MurmurHash.hashCode([f]):s.ObjectEqualityComparator.INSTANCE.hashCode(f)}},{key:"equals",value:function(f,d){return f==null?d==null:typeof f=="string"||typeof f=="number"?f===d:s.ObjectEqualityComparator.INSTANCE.equals(f,d)}}]),l}();return u.INSTANCE=new u,o([i.Override],u.prototype,"hashCode",null),o([i.Override],u.prototype,"equals",null),Qx.DefaultEqualityComparator=u,Qx}var w5;function Cf(){if(w5)return Xx;w5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(pN()),t=e(Ke()),n=e(rt()),o=e(tt()),i=function(h,m,y,v){var g=arguments.length,x=g<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,y):v,b;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,m,y,v);else for(var w=h.length-1;w>=0;w--)(b=h[w])&&(x=(g<3?b(x):g>3?b(m,y,x):b(m,y))||x);return g>3&&x&&Object.defineProperty(m,y,x),x},a=function(h,m){return function(y,v){m(y,v,h)}};Object.defineProperty(Xx,"__esModule",{value:!0});var s=Vi(),u=I2e(),l=ot(),c=ho(),f=16,d=.75,p=function(){function h(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;if((0,t.default)(this,h),this.n=0,this.threshold=Math.floor(f*d),m instanceof h){this.comparator=m.comparator,this.buckets=m.buckets.slice(0);for(var v=0;v<this.buckets.length;v++){var g=this.buckets[v];g&&(this.buckets[v]=g.slice(0))}this.n=m.n,this.threshold=m.threshold}else this.comparator=m||u.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(y)}return(0,n.default)(h,[{key:"getOrAdd",value:function(y){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(y)}},{key:"getOrAddImpl",value:function(y){var v=this.getBucket(y),g=this.buckets[v];if(!g)return g=[y],this.buckets[v]=g,this.n++,y;var x=!0,b=!1,w=void 0;try{for(var E=g[Symbol.iterator](),C;!(x=(C=E.next()).done);x=!0){var S=C.value;if(this.comparator.equals(S,y))return S}}catch(T){b=!0,w=T}finally{try{!x&&E.return!=null&&E.return()}finally{if(b)throw w}}return g.push(y),this.n++,y}},{key:"get",value:function(y){if(y==null)return y;var v=this.getBucket(y),g=this.buckets[v];if(g){var x=!0,b=!1,w=void 0;try{for(var E=g[Symbol.iterator](),C;!(x=(C=E.next()).done);x=!0){var S=C.value;if(this.comparator.equals(S,y))return S}}catch(T){b=!0,w=T}finally{try{!x&&E.return!=null&&E.return()}finally{if(b)throw w}}}}},{key:"getBucket",value:function(y){var v=this.comparator.hashCode(y),g=v&this.buckets.length-1;return g}},{key:"hashCode",value:function(){var y=c.MurmurHash.initialize(),v=!0,g=!1,x=void 0;try{for(var b=this.buckets[Symbol.iterator](),w;!(v=(w=b.next()).done);v=!0){var E=w.value;if(E!=null){var C=!0,S=!1,T=void 0;try{for(var k=E[Symbol.iterator](),P;!(C=(P=k.next()).done);C=!0){var I=P.value;if(I==null)break;y=c.MurmurHash.update(y,this.comparator.hashCode(I))}}catch(F){S=!0,T=F}finally{try{!C&&k.return!=null&&k.return()}finally{if(S)throw T}}}}}catch(F){g=!0,x=F}finally{try{!v&&b.return!=null&&b.return()}finally{if(g)throw x}}return y=c.MurmurHash.finish(y,this.size),y}},{key:"equals",value:function(y){if(y===this)return!0;if(!(y instanceof h)||y.size!==this.size)return!1;var v=this.containsAll(y);return v}},{key:"expand",value:function(){var y=this.buckets,v=this.buckets.length*2,g=this.createBuckets(v);this.buckets=g,this.threshold=Math.floor(v*d);var x=this.size,b=!0,w=!1,E=void 0;try{for(var C=y[Symbol.iterator](),S;!(b=(S=C.next()).done);b=!0){var T=S.value;if(T){var k=!0,P=!1,I=void 0;try{for(var F=T[Symbol.iterator](),A;!(k=(A=F.next()).done);k=!0){var D=A.value,$=this.getBucket(D),B=this.buckets[$];B||(B=[],this.buckets[$]=B),B.push(D)}}catch(W){P=!0,I=W}finally{try{!k&&F.return!=null&&F.return()}finally{if(P)throw I}}}}}catch(W){w=!0,E=W}finally{try{!b&&C.return!=null&&C.return()}finally{if(w)throw E}}s(this.n===x)}},{key:"add",value:function(y){var v=this.getOrAdd(y);return v===y}},{key:"contains",value:function(y){return this.containsFast(this.asElementType(y))}},{key:"containsFast",value:function(y){return y==null?!1:this.get(y)!=null}},{key:Symbol.iterator,value:r.default.mark(function m(){return r.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.delegateYield(this.toArray(),"t0",1);case 1:case"end":return v.stop()}},m,this)})},{key:"toArray",value:function(){var y=new Array(this.size),v=0,g=!0,x=!1,b=void 0;try{for(var w=this.buckets[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C!=null){var S=!0,T=!1,k=void 0;try{for(var P=C[Symbol.iterator](),I;!(S=(I=P.next()).done);S=!0){var F=I.value;if(F==null)break;y[v++]=F}}catch(A){T=!0,k=A}finally{try{!S&&P.return!=null&&P.return()}finally{if(T)throw k}}}}}catch(A){x=!0,b=A}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return y}},{key:"containsAll",value:function(y){if(y instanceof h){var v=y,g=!0,x=!1,b=void 0;try{for(var w=v.buckets[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C!=null){var S=!0,T=!1,k=void 0;try{for(var P=C[Symbol.iterator](),I;!(S=(I=P.next()).done);S=!0){var F=I.value;if(F==null)break;if(!this.containsFast(this.asElementType(F)))return!1}}catch(z){T=!0,k=z}finally{try{!S&&P.return!=null&&P.return()}finally{if(T)throw k}}}}}catch(z){x=!0,b=z}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}}else{var A=!0,D=!1,$=void 0;try{for(var B=y[Symbol.iterator](),W;!(A=(W=B.next()).done);A=!0){var L=W.value;if(!this.containsFast(this.asElementType(L)))return!1}}catch(z){D=!0,$=z}finally{try{!A&&B.return!=null&&B.return()}finally{if(D)throw $}}}return!0}},{key:"addAll",value:function(y){var v=!1,g=!0,x=!1,b=void 0;try{for(var w=y[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value,S=this.getOrAdd(C);S!==C&&(v=!0)}}catch(T){x=!0,b=T}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return v}},{key:"clear",value:function(){this.buckets=this.createBuckets(f),this.n=0,this.threshold=Math.floor(f*d)}},{key:"toString",value:function(){if(this.size===0)return"{}";var y="{",v=!0,g=!0,x=!1,b=void 0;try{for(var w=this.buckets[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C!=null){var S=!0,T=!1,k=void 0;try{for(var P=C[Symbol.iterator](),I;!(S=(I=P.next()).done);S=!0){var F=I.value;if(F==null)break;v?v=!1:y+=", ",y+=F.toString()}}catch(A){T=!0,k=A}finally{try{!S&&P.return!=null&&P.return()}finally{if(T)throw k}}}}}catch(A){x=!0,b=A}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return y+="}",y}},{key:"toTableString",value:function(){var y="",v=!0,g=!1,x=void 0;try{for(var b=this.buckets[Symbol.iterator](),w;!(v=(w=b.next()).done);v=!0){var E=w.value;if(E==null){y+=`null
`;continue}y+="[";var C=!0,S=!0,T=!1,k=void 0;try{for(var P=E[Symbol.iterator](),I;!(S=(I=P.next()).done);S=!0){var F=I.value;C?C=!1:y+=" ",F==null?y+="_":y+=F.toString()}}catch(A){T=!0,k=A}finally{try{!S&&P.return!=null&&P.return()}finally{if(T)throw k}}y+=`]
`}}catch(A){g=!0,x=A}finally{try{!v&&b.return!=null&&b.return()}finally{if(g)throw x}}return y}},{key:"asElementType",value:function(y){return y}},{key:"createBuckets",value:function(y){return new Array(y)}},{key:"size",get:function(){return this.n}},{key:"isEmpty",get:function(){return this.n===0}}]),h}();return i([l.NotNull],p.prototype,"comparator",void 0),i([l.Override],p.prototype,"hashCode",null),i([l.Override],p.prototype,"equals",null),i([l.Override],p.prototype,"add",null),i([l.Override],p.prototype,"size",null),i([l.Override],p.prototype,"isEmpty",null),i([l.Override],p.prototype,"contains",null),i([a(0,l.Nullable)],p.prototype,"containsFast",null),i([l.Override],p.prototype,Symbol.iterator,null),i([l.Override],p.prototype,"toArray",null),i([l.Override],p.prototype,"containsAll",null),i([l.Override],p.prototype,"addAll",null),i([l.Override],p.prototype,"clear",null),i([l.Override],p.prototype,"toString",null),i([l.SuppressWarnings("unchecked")],p.prototype,"asElementType",null),i([l.SuppressWarnings("unchecked")],p.prototype,"createBuckets",null),Xx.Array2DHashSet=p,Xx}var Zx={},S5;function FS(){if(S5)return Zx;S5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h};Object.defineProperty(Zx,"__esModule",{value:!0});var i=ot(),a=ho(),s=ll(),u=function(){function l(){(0,r.default)(this,l)}return(0,t.default)(l,[{key:"hashCode",value:function(f){return f==null?0:a.MurmurHash.hashCode(f,0)}},{key:"equals",value:function(f,d){if(f==null)return d==null;if(d==null||f.length!==d.length)return!1;for(var p=0;p<f.length;p++)if(!s.ObjectEqualityComparator.INSTANCE.equals(f[p],d[p]))return!1;return!0}}]),l}();return u.INSTANCE=new u,o([i.Override],u.prototype,"hashCode",null),o([i.Override],u.prototype,"equals",null),Zx.ArrayEqualityComparator=u,Zx}var Ri={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Ri,"__esModule",{value:!0});function N2e(e,r){return r?e.replace(/ /,"·"):e.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")}Ri.escapeWhitespace=N2e;function M2e(e,r){var t="",n=!0,o=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var l=u.value;n?n=!1:t+=r,t+=l}}catch(c){i=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw a}}return t}Ri.join=M2e;function F2e(e,r){return e===r?!0:e===void 0||r===void 0?!1:e.equals(r)}Ri.equals=F2e;function L2e(e){for(var r=new Map,t=0;t<e.length;t++)r.set(e[t],t);return r}Ri.toMap=L2e;function B2e(e){if(typeof e=="string"){for(var r=new Uint16Array(e.length),t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}else return e.toCharArray()}Ri.toCharArray=B2e;var C5;function Fv(){return C5||(C5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Dt()),n=r(Tt()),o=r(Pt()),i=r(Ke()),a=r(rt()),s=r(tt()),u=function(x,b,w,E){var C=arguments.length,S=C<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,w):E,T;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(x,b,w,E);else for(var k=x.length-1;k>=0;k--)(T=x[k])&&(S=(C<3?T(S):C>3?T(b,w,S):T(b,w))||S);return C>3&&S&&Object.defineProperty(b,w,S),S},l=function(x,b){return function(w,E){b(w,E,x)}};Object.defineProperty(e,"__esModule",{value:!0});var c=Cf(),f=FS(),d=ho(),p=ot(),h=ll(),m=Ri;function y(x){var b,w=!0,E=!1,C=void 0;try{for(var S=x[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;if(b===void 0){b=k;continue}var P=b.compareTo(k);P<0&&(b=k)}}catch(I){E=!0,C=I}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}return b}function v(x){var b,w=!0,E=!1,C=void 0;try{for(var S=x[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;if(b===void 0){b=k;continue}var P=b.compareTo(k);P>0&&(b=k)}}catch(I){E=!0,C=I}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}return b}var g=function(){function x(){(0,i.default)(this,x)}return(0,a.default)(x,[{key:"evalPrecedence",value:function(w,E){return this}}],[{key:"and",value:function(w,E){if(!w||w===x.NONE)return E;if(E===x.NONE)return w;var C=new x.AND(w,E);return C.opnds.length===1?C.opnds[0]:C}},{key:"or",value:function(w,E){if(!w)return E;if(w===x.NONE||E===x.NONE)return x.NONE;var C=new x.OR(w,E);return C.opnds.length===1?C.opnds[0]:C}},{key:"NONE",get:function(){return x._NONE===void 0&&(x._NONE=new x.Predicate),x._NONE}}]),x}();e.SemanticContext=g,function(x){var b=40363613,w=486279973;function E(I){for(var F=[],A=0;A<I.length;A++){var D=I[A];D instanceof x.PrecedencePredicate&&(F.push(D),I.splice(A,1),A--)}return F}var C=function(I){(0,o.default)(F,I);function F(){var A,D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:-1,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return(0,i.default)(this,F),A=(0,t.default)(this,(0,n.default)(F).call(this)),A.ruleIndex=D,A.predIndex=$,A.isCtxDependent=B,A}return(0,a.default)(F,[{key:"eval",value:function(D,$){var B=this.isCtxDependent?$:void 0;return D.sempred(B,this.ruleIndex,this.predIndex)}},{key:"hashCode",value:function(){var D=d.MurmurHash.initialize();return D=d.MurmurHash.update(D,this.ruleIndex),D=d.MurmurHash.update(D,this.predIndex),D=d.MurmurHash.update(D,this.isCtxDependent?1:0),D=d.MurmurHash.finish(D,3),D}},{key:"equals",value:function(D){return D instanceof F?this===D?!0:this.ruleIndex===D.ruleIndex&&this.predIndex===D.predIndex&&this.isCtxDependent===D.isCtxDependent:!1}},{key:"toString",value:function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}]),F}(x);u([p.Override],C.prototype,"eval",null),u([p.Override],C.prototype,"hashCode",null),u([p.Override],C.prototype,"equals",null),u([p.Override],C.prototype,"toString",null),x.Predicate=C;var S=function(I){(0,o.default)(F,I);function F(A){var D;return(0,i.default)(this,F),D=(0,t.default)(this,(0,n.default)(F).call(this)),D.precedence=A,D}return(0,a.default)(F,[{key:"eval",value:function(D,$){return D.precpred($,this.precedence)}},{key:"evalPrecedence",value:function(D,$){if(D.precpred($,this.precedence))return x.NONE}},{key:"compareTo",value:function(D){return this.precedence-D.precedence}},{key:"hashCode",value:function(){var D=1;return D=31*D+this.precedence,D}},{key:"equals",value:function(D){return D instanceof F?this===D?!0:this.precedence===D.precedence:!1}},{key:"toString",value:function(){return"{"+this.precedence+">=prec}?"}}]),F}(x);u([p.Override],S.prototype,"eval",null),u([p.Override],S.prototype,"evalPrecedence",null),u([p.Override],S.prototype,"compareTo",null),u([p.Override],S.prototype,"hashCode",null),u([p.Override],S.prototype,"equals",null),u([p.Override],S.prototype,"toString",null),x.PrecedencePredicate=S;var T=function(I){(0,o.default)(F,I);function F(){return(0,i.default)(this,F),(0,t.default)(this,(0,n.default)(F).apply(this,arguments))}return F}(x);x.Operator=T;var k=function(I){(0,o.default)(F,I);function F(A,D){var $;(0,i.default)(this,F),$=(0,t.default)(this,(0,n.default)(F).call(this));var B=new c.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);A instanceof F?B.addAll(A.opnds):B.add(A),D instanceof F?B.addAll(D.opnds):B.add(D),$.opnds=B.toArray();var W=E($.opnds),L=v(W);return L&&$.opnds.push(L),$}return(0,a.default)(F,[{key:"equals",value:function(D){return this===D?!0:D instanceof F?f.ArrayEqualityComparator.INSTANCE.equals(this.opnds,D.opnds):!1}},{key:"hashCode",value:function(){return d.MurmurHash.hashCode(this.opnds,b)}},{key:"eval",value:function(D,$){var B=!0,W=!1,L=void 0;try{for(var z=this.opnds[Symbol.iterator](),U;!(B=(U=z.next()).done);B=!0){var Y=U.value;if(!Y.eval(D,$))return!1}}catch(q){W=!0,L=q}finally{try{!B&&z.return!=null&&z.return()}finally{if(W)throw L}}return!0}},{key:"evalPrecedence",value:function(D,$){var B=!1,W=[],L=!0,z=!1,U=void 0;try{for(var Y=this.opnds[Symbol.iterator](),q;!(L=(q=Y.next()).done);L=!0){var V=q.value,H=V.evalPrecedence(D,$);if(B=B||H!==V,H==null)return;H!==x.NONE&&W.push(H)}}catch(oe){z=!0,U=oe}finally{try{!L&&Y.return!=null&&Y.return()}finally{if(z)throw U}}if(!B)return this;if(W.length===0)return x.NONE;for(var Z=W[0],ue=1;ue<W.length;ue++)Z=x.and(Z,W[ue]);return Z}},{key:"toString",value:function(){return m.join(this.opnds,"&&")}},{key:"operands",get:function(){return this.opnds}}]),F}(T);u([p.Override],k.prototype,"operands",null),u([p.Override],k.prototype,"equals",null),u([p.Override],k.prototype,"hashCode",null),u([p.Override],k.prototype,"eval",null),u([p.Override],k.prototype,"evalPrecedence",null),u([p.Override],k.prototype,"toString",null),k=u([l(0,p.NotNull),l(1,p.NotNull)],k),x.AND=k;var P=function(I){(0,o.default)(F,I);function F(A,D){var $;(0,i.default)(this,F),$=(0,t.default)(this,(0,n.default)(F).call(this));var B=new c.Array2DHashSet(h.ObjectEqualityComparator.INSTANCE);A instanceof F?B.addAll(A.opnds):B.add(A),D instanceof F?B.addAll(D.opnds):B.add(D),$.opnds=B.toArray();var W=E($.opnds),L=y(W);return L&&$.opnds.push(L),$}return(0,a.default)(F,[{key:"equals",value:function(D){return this===D?!0:D instanceof F?f.ArrayEqualityComparator.INSTANCE.equals(this.opnds,D.opnds):!1}},{key:"hashCode",value:function(){return d.MurmurHash.hashCode(this.opnds,w)}},{key:"eval",value:function(D,$){var B=!0,W=!1,L=void 0;try{for(var z=this.opnds[Symbol.iterator](),U;!(B=(U=z.next()).done);B=!0){var Y=U.value;if(Y.eval(D,$))return!0}}catch(q){W=!0,L=q}finally{try{!B&&z.return!=null&&z.return()}finally{if(W)throw L}}return!1}},{key:"evalPrecedence",value:function(D,$){var B=!1,W=[],L=!0,z=!1,U=void 0;try{for(var Y=this.opnds[Symbol.iterator](),q;!(L=(q=Y.next()).done);L=!0){var V=q.value,H=V.evalPrecedence(D,$);if(B=B||H!==V,H===x.NONE)return x.NONE;H&&W.push(H)}}catch(oe){z=!0,U=oe}finally{try{!L&&Y.return!=null&&Y.return()}finally{if(z)throw U}}if(!B)return this;if(W.length!==0){for(var Z=W[0],ue=1;ue<W.length;ue++)Z=x.or(Z,W[ue]);return Z}}},{key:"toString",value:function(){return m.join(this.opnds,"||")}},{key:"operands",get:function(){return this.opnds}}]),F}(T);u([p.Override],P.prototype,"operands",null),u([p.Override],P.prototype,"equals",null),u([p.Override],P.prototype,"hashCode",null),u([p.Override],P.prototype,"eval",null),u([p.Override],P.prototype,"evalPrecedence",null),u([p.Override],P.prototype,"toString",null),P=u([l(0,p.NotNull),l(1,p.NotNull)],P),x.OR=P}(g=e.SemanticContext||(e.SemanticContext={}))}(xT)),xT}var E5;function JV(){if(E5)return Gx;E5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},u=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(Gx,"__esModule",{value:!0});var l=dN(),c=ot(),f=Fv(),d=function(p){(0,i.default)(h,p);function h(m,y,v,g){var x;return(0,r.default)(this,h),x=(0,n.default)(this,(0,o.default)(h).call(this,m)),x.ruleIndex=y,x.predIndex=v,x.isCtxDependent=g,x}return(0,t.default)(h,[{key:"matches",value:function(y,v,g){return!1}},{key:"toString",value:function(){return"pred_"+this.ruleIndex+":"+this.predIndex}},{key:"serializationType",get:function(){return 4}},{key:"isEpsilon",get:function(){return!0}},{key:"predicate",get:function(){return new f.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}}]),h}(l.AbstractPredicateTransition);return s([c.Override],d.prototype,"serializationType",null),s([c.Override],d.prototype,"isEpsilon",null),s([c.Override],d.prototype,"matches",null),s([c.Override,c.NotNull],d.prototype,"toString",null),d=s([u(0,c.NotNull)],d),Gx.PredicateTransition=d,Gx}/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Ef=Ge,j2e=Ef(Ke()),$2e=Ef(rt()),z2e=Ef(Dt()),k5=Ef(Nv()),W2e=Ef(Pt()),R5=Ef(Tt()),U2e=Ef(Vd()),q2e=Ef(tt()),ZV=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,q2e.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},H2e=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(J0,"__esModule",{value:!0});var V2e=ul,e9=ot(),G2e=JV(),T2=function(e){(0,W2e.default)(r,e);function r(t,n,o){var i;(0,j2e.default)(this,r),i=(0,z2e.default)(this,(0,R5.default)(r).call(this,t,t.inputStream,t.context,r.formatMessage(n,o)));var a=t.interpreter.atn.states[t.state],s=a.transition(0);return s instanceof G2e.PredicateTransition?(i._ruleIndex=s.ruleIndex,i._predicateIndex=s.predIndex):(i._ruleIndex=0,i._predicateIndex=0),i._predicate=n,(0,U2e.default)((0,R5.default)(r.prototype),"setOffendingToken",(0,k5.default)(i)).call((0,k5.default)(i),t,t.currentToken),i}return(0,$2e.default)(r,[{key:"ruleIndex",get:function(){return this._ruleIndex}},{key:"predicateIndex",get:function(){return this._predicateIndex}},{key:"predicate",get:function(){return this._predicate}}],[{key:"formatMessage",value:function(n,o){return o||"failed predicate: {".concat(n,"}?")}}]),r}(V2e.RecognitionException);ZV([e9.NotNull],T2,"formatMessage",null);T2=ZV([H2e(0,e9.NotNull)],T2);J0.FailedPredicateException=T2;var Lv={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Z0=Ge,Y2e=Z0(Ke()),K2e=Z0(Dt()),X2e=Z0(Tt()),Q2e=Z0(Pt()),J2e=Z0(tt()),Z2e=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,J2e.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},ewe=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(Lv,"__esModule",{value:!0});var twe=ul,rwe=ot(),fD=function(e){(0,Q2e.default)(r,e);function r(t,n,o){var i;return(0,Y2e.default)(this,r),o===void 0&&(o=t.context),i=(0,K2e.default)(this,(0,X2e.default)(r).call(this,t,t.inputStream,o)),n!==void 0&&i.setOffendingState(n),i.setOffendingToken(t,t.currentToken),i}return r}(twe.RecognitionException);fD=Z2e([ewe(0,rwe.NotNull)],fD);Lv.InputMismatchException=fD;var eb={},tb={},ST={},T5;function hN(){return T5||(T5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),function(r){function t(i,a,s,u){return n(i,s!==void 0?s:0,u!==void 0?u:i.length,a)}r.binarySearch=t;function n(i,a,s,u){for(var l=a,c=s-1;l<=c;){var f=l+c>>>1,d=i[f];if(d<u)l=f+1;else if(d>u)c=f-1;else return f}return-(l+1)}function o(i){var a="[",s=!0,u=!0,l=!1,c=void 0;try{for(var f=i[Symbol.iterator](),d;!(u=(d=f.next()).done);u=!0){var p=d.value;s?s=!1:a+=", ",p===null?a+="null":p===void 0?a+="undefined":a+=p}}catch(h){l=!0,c=h}finally{try{!u&&f.return!=null&&f.return()}finally{if(l)throw c}}return a+="]",a}r.toString=o}(e.Arrays||(e.Arrays={}))}(ST)),ST}var A5;function vN(){if(A5)return tb;A5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y};Object.defineProperty(tb,"__esModule",{value:!0});var i=hN(),a=ot(),s=new Int32Array(0),u=4,l=(1<<31>>>0)-1-8,c=function(){function f(d){if((0,r.default)(this,f),!d)this._data=s,this._size=0;else if(d instanceof f)this._data=d._data.slice(0),this._size=d._size;else if(typeof d=="number")d===0?(this._data=s,this._size=0):(this._data=new Int32Array(d),this._size=0);else{this._data=s,this._size=0;var p=!0,h=!1,m=void 0;try{for(var y=d[Symbol.iterator](),v;!(p=(v=y.next()).done);p=!0){var g=v.value;this.add(g)}}catch(x){h=!0,m=x}finally{try{!p&&y.return!=null&&y.return()}finally{if(h)throw m}}}}return(0,t.default)(f,[{key:"add",value:function(p){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=p,this._size++}},{key:"addAll",value:function(p){if(Array.isArray(p))this.ensureCapacity(this._size+p.length),this._data.subarray(this._size,this._size+p.length).set(p),this._size+=p.length;else if(p instanceof f)this.ensureCapacity(this._size+p._size),this._data.subarray(this._size,this._size+p.size).set(p._data),this._size+=p._size;else{this.ensureCapacity(this._size+p.size);var h=0,m=!0,y=!1,v=void 0;try{for(var g=p[Symbol.iterator](),x;!(m=(x=g.next()).done);m=!0){var b=x.value;this._data[this._size+h]=b,h++}}catch(w){y=!0,v=w}finally{try{!m&&g.return!=null&&g.return()}finally{if(y)throw v}}this._size+=p.size}}},{key:"get",value:function(p){if(p<0||p>=this._size)throw RangeError();return this._data[p]}},{key:"contains",value:function(p){for(var h=0;h<this._size;h++)if(this._data[h]===p)return!0;return!1}},{key:"set",value:function(p,h){if(p<0||p>=this._size)throw RangeError();var m=this._data[p];return this._data[p]=h,m}},{key:"removeAt",value:function(p){var h=this.get(p);return this._data.copyWithin(p,p+1,this._size),this._data[this._size-1]=0,this._size--,h}},{key:"removeRange",value:function(p,h){if(p<0||h<0||p>this._size||h>this._size||p>h)throw RangeError();this._data.copyWithin(h,p,this._size),this._data.fill(0,this._size-(h-p),this._size),this._size-=h-p}},{key:"trimToSize",value:function(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}},{key:"clear",value:function(){this._data.fill(0,0,this._size),this._size=0}},{key:"toArray",value:function(){return this._size===0?[]:Array.from(this._data.subarray(0,this._size))}},{key:"sort",value:function(){this._data.subarray(0,this._size).sort()}},{key:"equals",value:function(p){if(p===this)return!0;if(!(p instanceof f)||this._size!==p._size)return!1;for(var h=0;h<this._size;h++)if(this._data[h]!==p._data[h])return!1;return!0}},{key:"hashCode",value:function(){for(var p=1,h=0;h<this._size;h++)p=31*p+this._data[h];return p}},{key:"toString",value:function(){return this._data.toString()}},{key:"binarySearch",value:function(p,h,m){if(h===void 0&&(h=0),m===void 0&&(m=this._size),h<0||m<0||h>this._size||m>this._size)throw new RangeError;if(h>m)throw new RangeError;return i.Arrays.binarySearch(this._data,p,h,m)}},{key:"ensureCapacity",value:function(p){if(p<0||p>l)throw new RangeError;var h;for(this._data.length===0?h=u:h=this._data.length;h<p;)h=h*2,(h<0||h>l)&&(h=l);var m=new Int32Array(h);m.set(this._data),this._data=m}},{key:"toCharArray",value:function(){for(var p=new Uint16Array(this._size),h=0,m=!1,y=0;y<this._size;y++){var v=this._data[y];if(v>=0&&v<65536){p[h]=v,h++;continue}if(!m){var g=new Uint16Array(this.charArraySize());g.set(p,0),p=g,m=!0}var x=String.fromCodePoint(v);p[h]=x.charCodeAt(0),p[h+1]=x.charCodeAt(1),h+=2}return p}},{key:"charArraySize",value:function(){for(var p=0,h=0;h<this._size;h++)p+=this._data[h]>=65536?2:1;return p}},{key:"isEmpty",get:function(){return this._size===0}},{key:"size",get:function(){return this._size}}]),f}();return o([a.NotNull],c.prototype,"_data",void 0),o([a.Override],c.prototype,"equals",null),o([a.Override],c.prototype,"hashCode",null),o([a.Override],c.prototype,"toString",null),tb.IntegerList=c,tb}var rb={},O5;function ba(){if(O5)return rb;O5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p};Object.defineProperty(rb,"__esModule",{value:!0});var i=ot(),a=1e3,s=function(){function u(l,c){(0,r.default)(this,u),this.a=l,this.b=c}return(0,t.default)(u,[{key:"equals",value:function(c){return c===this?!0:c instanceof u?this.a===c.a&&this.b===c.b:!1}},{key:"hashCode",value:function(){var c=23;return c=c*31+this.a,c=c*31+this.b,c}},{key:"startsBeforeDisjoint",value:function(c){return this.a<c.a&&this.b<c.a}},{key:"startsBeforeNonDisjoint",value:function(c){return this.a<=c.a&&this.b>=c.a}},{key:"startsAfter",value:function(c){return this.a>c.a}},{key:"startsAfterDisjoint",value:function(c){return this.a>c.b}},{key:"startsAfterNonDisjoint",value:function(c){return this.a>c.a&&this.a<=c.b}},{key:"disjoint",value:function(c){return this.startsBeforeDisjoint(c)||this.startsAfterDisjoint(c)}},{key:"adjacent",value:function(c){return this.a===c.b+1||this.b===c.a-1}},{key:"properlyContains",value:function(c){return c.a>=this.a&&c.b<=this.b}},{key:"union",value:function(c){return u.of(Math.min(this.a,c.a),Math.max(this.b,c.b))}},{key:"intersection",value:function(c){return u.of(Math.max(this.a,c.a),Math.min(this.b,c.b))}},{key:"differenceNotProperlyContained",value:function(c){var f;return c.startsBeforeNonDisjoint(this)?f=u.of(Math.max(this.a,c.b+1),this.b):c.startsAfterNonDisjoint(this)&&(f=u.of(this.a,c.a-1)),f}},{key:"toString",value:function(){return this.a+".."+this.b}},{key:"length",get:function(){return this.b<this.a?0:this.b-this.a+1}}],[{key:"of",value:function(c,f){return c!==f||c<0||c>a?new u(c,f):(u.cache[c]==null&&(u.cache[c]=new u(c,c)),u.cache[c])}},{key:"INVALID",get:function(){return u._INVALID}}]),u}();return s._INVALID=new s(-1,-2),s.cache=new Array(a+1),o([i.Override],s.prototype,"equals",null),o([i.Override],s.prototype,"hashCode",null),o([i.Override],s.prototype,"toString",null),rb.Interval=s,rb}var nb={},LS={},Gd={},Rn={};(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0});var r=ac;(function(t){t.INVALID_TYPE=0,t.EPSILON=-2,t.MIN_USER_TOKEN_TYPE=1,t.EOF=r.IntStream.EOF,t.DEFAULT_CHANNEL=0,t.HIDDEN_CHANNEL=1,t.MIN_USER_CHANNEL_VALUE=2})(e.Token||(e.Token={}))})(Rn);/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var mN=Ge,nwe=mN(Ke()),owe=mN(rt()),iwe=mN(tt()),_a=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,iwe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},t9=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(Gd,"__esModule",{value:!0});var awe=ba(),wa=ot(),D5=Rn,si=function(){function e(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.EMPTY_SOURCE,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D5.Token.DEFAULT_CHANNEL,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;(0,nwe.default)(this,e),this._line=0,this._charPositionInLine=-1,this._channel=D5.Token.DEFAULT_CHANNEL,this.index=-1,this._text=t,this._type=r,this.source=n,this._channel=o,this.start=i,this.stop=a,n.source!=null&&(this._line=n.source.line,this._charPositionInLine=n.source.charPositionInLine)}return(0,owe.default)(e,[{key:"toString",value:function(t){var n="";this._channel>0&&(n=",channel="+this._channel);var o=this.text;o!=null?(o=o.replace(/\n/g,"\\n"),o=o.replace(/\r/g,"\\r"),o=o.replace(/\t/g,"\\t")):o="<no text>";var i=String(this._type);return t&&(i=t.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+o+"',<"+i+">"+n+","+this._line+":"+this.charPositionInLine+"]"}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}},{key:"line",get:function(){return this._line},set:function(t){this._line=t}},{key:"text",get:function(){if(this._text!=null)return this._text;var t=this.inputStream;if(t!=null){var n=t.size;return this.start<n&&this.stop<n?t.getText(awe.Interval.of(this.start,this.stop)):"<EOF>"}},set:function(t){this._text=t}},{key:"charPositionInLine",get:function(){return this._charPositionInLine},set:function(t){this._charPositionInLine=t}},{key:"channel",get:function(){return this._channel},set:function(t){this._channel=t}},{key:"startIndex",get:function(){return this.start},set:function(t){this.start=t}},{key:"stopIndex",get:function(){return this.stop},set:function(t){this.stop=t}},{key:"tokenIndex",get:function(){return this.index},set:function(t){this.index=t}},{key:"tokenSource",get:function(){return this.source.source}},{key:"inputStream",get:function(){return this.source.stream}}],[{key:"fromToken",value:function(t){var n=new e(t.type,void 0,e.EMPTY_SOURCE,t.channel,t.startIndex,t.stopIndex);return n._line=t.line,n.index=t.tokenIndex,n._charPositionInLine=t.charPositionInLine,t instanceof e?(n._text=t._text,n.source=t.source):(n._text=t.text,n.source={source:t.tokenSource,stream:t.inputStream}),n}}]),e}();si.EMPTY_SOURCE={source:void 0,stream:void 0};_a([wa.NotNull],si.prototype,"source",void 0);_a([wa.Override],si.prototype,"type",null);_a([wa.Override],si.prototype,"line",null);_a([wa.Override],si.prototype,"text",null);_a([wa.Override],si.prototype,"charPositionInLine",null);_a([wa.Override],si.prototype,"channel",null);_a([wa.Override],si.prototype,"startIndex",null);_a([wa.Override],si.prototype,"stopIndex",null);_a([wa.Override],si.prototype,"tokenIndex",null);_a([wa.Override],si.prototype,"tokenSource",null);_a([wa.Override],si.prototype,"inputStream",null);_a([wa.Override],si.prototype,"toString",null);_a([t9(0,wa.NotNull)],si,"fromToken",null);si=_a([t9(2,wa.NotNull)],si);Gd.CommonToken=si;(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(c,f,d,p){var h=arguments.length,m=h<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p,y;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,f,d,p);else for(var v=c.length-1;v>=0;v--)(y=c[v])&&(m=(h<3?y(m):h>3?y(f,d,m):y(f,d))||m);return h>3&&m&&Object.defineProperty(f,d,m),m};Object.defineProperty(e,"__esModule",{value:!0});var a=Gd,s=ba(),u=ot(),l=function(){function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(0,t.default)(this,c),this.copyText=f}return(0,n.default)(c,[{key:"create",value:function(d,p,h,m,y,v,g,x){var b=new a.CommonToken(p,h,d,m,y,v);return b.line=g,b.charPositionInLine=x,h==null&&this.copyText&&d.stream!=null&&(b.text=d.stream.getText(s.Interval.of(y,v))),b}},{key:"createSimple",value:function(d,p){return new a.CommonToken(d,p)}}]),c}();i([u.Override],l.prototype,"create",null),i([u.Override],l.prototype,"createSimple",null),e.CommonTokenFactory=l,function(c){c.DEFAULT=new c}(l=e.CommonTokenFactory||(e.CommonTokenFactory={}))})(LS);var ob={},P5;function r9(){if(P5)return ob;P5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt());Object.defineProperty(ob,"__esModule",{value:!0});var a=vN(),s=function(u){(0,i.default)(l,u);function l(c){return(0,r.default)(this,l),(0,n.default)(this,(0,o.default)(l).call(this,c))}return(0,t.default)(l,[{key:"push",value:function(f){this.add(f)}},{key:"pop",value:function(){return this.removeAt(this.size-1)}},{key:"peek",value:function(){return this.get(this.size-1)}}]),l}(a.IntegerList);return ob.IntegerStack=s,ob}var CT={},ib={},I5;function n9(){if(I5)return ib;I5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt());Object.defineProperty(ib,"__esModule",{value:!0});var n=function(){function o(i,a){(0,r.default)(this,o),this._prediction=i,this._lexerActionExecutor=a}return(0,t.default)(o,[{key:"prediction",get:function(){return this._prediction}},{key:"lexerActionExecutor",get:function(){return this._lexerActionExecutor}}]),o}();return ib.AcceptStateInfo=n,ib}var ET={},ab={},N5;function Bv(){if(N5)return ab;N5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt());Object.defineProperty(ab,"__esModule",{value:!0});var n=Cf(),o=function(){function a(s){(0,r.default)(this,a),this.keyComparator=s}return(0,t.default)(a,[{key:"hashCode",value:function(u){return this.keyComparator.hashCode(u.key)}},{key:"equals",value:function(u,l){return this.keyComparator.equals(u.key,l.key)}}]),a}(),i=function(){function a(s){(0,r.default)(this,a),s instanceof a?this.backingStore=new n.Array2DHashSet(s.backingStore):this.backingStore=new n.Array2DHashSet(new o(s))}return(0,t.default)(a,[{key:"clear",value:function(){this.backingStore.clear()}},{key:"containsKey",value:function(u){return this.backingStore.contains({key:u})}},{key:"get",value:function(u){var l=this.backingStore.get({key:u});if(l)return l.value}},{key:"put",value:function(u,l){var c=this.backingStore.get({key:u,value:l}),f;return c?(f=c.value,c.value=l):this.backingStore.add({key:u,value:l}),f}},{key:"putIfAbsent",value:function(u,l){var c=this.backingStore.get({key:u,value:l}),f;return c?f=c.value:this.backingStore.add({key:u,value:l}),f}},{key:"hashCode",value:function(){return this.backingStore.hashCode()}},{key:"equals",value:function(u){return u instanceof a?this.backingStore.equals(u.backingStore):!1}},{key:"isEmpty",get:function(){return this.backingStore.isEmpty}},{key:"size",get:function(){return this.backingStore.size}}]),a}();return ab.Array2DHashMap=i,ab}var sb={},ub={},lb={},cb={},M5;function Yd(){if(M5)return cb;M5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt());Object.defineProperty(cb,"__esModule",{value:!0});var i=sc(),a=function(s){(0,o.default)(u,s);function u(){var l;return(0,r.default)(this,u),l=(0,t.default)(this,(0,n.default)(u).apply(this,arguments)),l.decision=-1,l.nonGreedy=!1,l.sll=!1,l}return u}(i.ATNState);return cb.DecisionState=a,cb}var kT={},RT={},F5;function gN(){return F5||(F5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(e,"__esModule",{value:!0});var a=Bv(),s=ot(),u=ll(),l=au(),c=Vi(),f=function(){function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(0,t.default)(this,d),this.contexts=new a.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.childContexts=new a.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.joinContexts=new a.Array2DHashMap(u.ObjectEqualityComparator.INSTANCE),this.enableCache=p}return(0,n.default)(d,[{key:"getAsCached",value:function(h){if(!this.enableCache)return h;var m=this.contexts.get(h);return m||(m=h,this.contexts.put(h,h)),m}},{key:"getChild",value:function(h,m){if(!this.enableCache)return h.getChild(m);var y=new d.PredictionContextAndInt(h,m),v=this.childContexts.get(y);return v||(v=h.getChild(m),v=this.getAsCached(v),this.childContexts.put(y,v)),v}},{key:"join",value:function(h,m){if(!this.enableCache)return l.PredictionContext.join(h,m,this);var y=new d.IdentityCommutativePredictionContextOperands(h,m),v=this.joinContexts.get(y);return v||(v=l.PredictionContext.join(h,m,this),v=this.getAsCached(v),this.joinContexts.put(y,v),v)}}]),d}();f.UNCACHED=new f(!1),e.PredictionContextCache=f,function(d){var p=function(){function m(y,v){(0,t.default)(this,m),this.obj=y,this.value=v}return(0,n.default)(m,[{key:"equals",value:function(v){if(v instanceof m){if(v===this)return!0}else return!1;var g=v;return this.value===g.value&&(this.obj===g.obj||this.obj!=null&&this.obj.equals(g.obj))}},{key:"hashCode",value:function(){var v=5;return v=7*v+(this.obj!=null?this.obj.hashCode():0),v=7*v+this.value,v}}]),m}();i([s.Override],p.prototype,"equals",null),i([s.Override],p.prototype,"hashCode",null),d.PredictionContextAndInt=p;var h=function(){function m(y,v){(0,t.default)(this,m),c(y!=null),c(v!=null),this._x=y,this._y=v}return(0,n.default)(m,[{key:"equals",value:function(v){if(v instanceof m){if(this===v)return!0}else return!1;var g=v;return this._x===g._x&&this._y===g._y||this._x===g._y&&this._y===g._x}},{key:"hashCode",value:function(){return this._x.hashCode()^this._y.hashCode()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),m}();i([s.Override],h.prototype,"equals",null),i([s.Override],h.prototype,"hashCode",null),d.IdentityCommutativePredictionContextOperands=h}(f=e.PredictionContextCache||(e.PredictionContextCache={}))}(RT)),RT}var L5;function au(){return L5||(L5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Dt()),n=r(Tt()),o=r(Pt()),i=r(Ke()),a=r(rt()),s=r(tt()),u=function(E,C,S,T){var k=arguments.length,P=k<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,S):T,I;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(E,C,S,T);else for(var F=E.length-1;F>=0;F--)(I=E[F])&&(P=(k<3?I(P):k>3?I(C,S,P):I(C,S))||P);return k>3&&P&&Object.defineProperty(C,S,P),P},l=function(E,C){return function(S,T){C(S,T,E)}};Object.defineProperty(e,"__esModule",{value:!0});var c=Bv(),f=Cf(),d=hN(),p=ho(),h=ot(),m=gN(),y=Vi(),v=1,g=function(){function E(C){(0,i.default)(this,E),this.cachedHashCode=C}return(0,a.default)(E,[{key:"appendSingleContext",value:function(S,T){return this.appendContext(E.EMPTY_FULL.getChild(S),T)}},{key:"getChild",value:function(S){return new w(this,S)}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"toStrings",value:function(S,T){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.EMPTY_FULL,P=[];e:for(var I=0;;I++){var F=0,A=!0,D=this,$=T,B="";for(B+="[";!D.isEmpty&&D!==k;){var W=0;if(D.size>0){for(var L=1;1<<L>>>0<D.size;)L++;var z=(1<<L>>>0)-1;if(W=I>>F&z,A=A&&W>=D.size-1,W>=D.size)continue e;F+=L}if(S){B.length>1&&(B+=" ");var U=S.atn,Y=U.states[$],q=S.ruleNames[Y.ruleIndex];B+=q}else D.getReturnState(W)!==E.EMPTY_FULL_STATE_KEY&&(D.isEmpty||(B.length>1&&(B+=" "),B+=D.getReturnState(W)));$=D.getReturnState(W),D=D.getParent(W)}if(B+="]",P.push(B),A)break}return P}}],[{key:"calculateEmptyHashCode",value:function(){var S=p.MurmurHash.initialize(v);return S=p.MurmurHash.finish(S,0),S}},{key:"calculateSingleHashCode",value:function(S,T){var k=p.MurmurHash.initialize(v);return k=p.MurmurHash.update(k,S),k=p.MurmurHash.update(k,T),k=p.MurmurHash.finish(k,2),k}},{key:"calculateHashCode",value:function(S,T){var k=p.MurmurHash.initialize(v),P=!0,I=!1,F=void 0;try{for(var A=S[Symbol.iterator](),D;!(P=(D=A.next()).done);P=!0){var $=D.value;k=p.MurmurHash.update(k,$)}}catch(q){I=!0,F=q}finally{try{!P&&A.return!=null&&A.return()}finally{if(I)throw F}}var B=!0,W=!1,L=void 0;try{for(var z=T[Symbol.iterator](),U;!(B=(U=z.next()).done);B=!0){var Y=U.value;k=p.MurmurHash.update(k,Y)}}catch(q){W=!0,L=q}finally{try{!B&&z.return!=null&&z.return()}finally{if(W)throw L}}return k=p.MurmurHash.finish(k,2*S.length),k}},{key:"fromRuleContext",value:function(S,T){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(T.isEmpty)return k?E.EMPTY_FULL:E.EMPTY_LOCAL;var P;T._parent?P=E.fromRuleContext(S,T._parent,k):P=k?E.EMPTY_FULL:E.EMPTY_LOCAL;var I=S.states[T.invokingState],F=I.transition(0);return P.getChild(F.followState.stateNumber)}},{key:"addEmptyContext",value:function(S){return S.addEmptyContext()}},{key:"removeEmptyContext",value:function(S){return S.removeEmptyContext()}},{key:"join",value:function(S,T){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.PredictionContextCache.UNCACHED;if(S===T)return S;if(S.isEmpty)return E.isEmptyLocal(S)?S:E.addEmptyContext(T);if(T.isEmpty)return E.isEmptyLocal(T)?T:E.addEmptyContext(S);var P=S.size,I=T.size;if(P===1&&I===1&&S.getReturnState(0)===T.getReturnState(0)){var F=k.join(S.getParent(0),T.getParent(0));return F===S.getParent(0)?S:F===T.getParent(0)?T:F.getChild(S.getReturnState(0))}for(var A=0,D=new Array(P+I),$=new Array(D.length),B=0,W=0,L=!0,z=!0;B<P&&W<I;)S.getReturnState(B)===T.getReturnState(W)?(D[A]=k.join(S.getParent(B),T.getParent(W)),$[A]=S.getReturnState(B),L=L&&D[A]===S.getParent(B),z=z&&D[A]===T.getParent(W),B++,W++):S.getReturnState(B)<T.getReturnState(W)?(D[A]=S.getParent(B),$[A]=S.getReturnState(B),z=!1,B++):(y(T.getReturnState(W)<S.getReturnState(B)),D[A]=T.getParent(W),$[A]=T.getReturnState(W),L=!1,W++),A++;for(;B<P;)D[A]=S.getParent(B),$[A]=S.getReturnState(B),B++,z=!1,A++;for(;W<I;)D[A]=T.getParent(W),$[A]=T.getReturnState(W),W++,L=!1,A++;return L?S:z?T:(A<D.length&&(D=D.slice(0,A),$=$.slice(0,A)),D.length===0?E.EMPTY_FULL:D.length===1?new w(D[0],$[0]):new b(D,$))}},{key:"isEmptyLocal",value:function(S){return S===E.EMPTY_LOCAL}},{key:"getCachedContext",value:function(S,T,k){if(S.isEmpty)return S;var P=k.get(S);if(P)return P;if(P=T.get(S),P)return k.put(S,P),P;for(var I=!1,F=new Array(S.size),A=0;A<F.length;A++){var D=E.getCachedContext(S.getParent(A),T,k);if(I||D!==S.getParent(A)){if(!I){F=new Array(S.size);for(var $=0;$<S.size;$++)F[$]=S.getParent($);I=!0}F[A]=D}}if(!I)return P=T.putIfAbsent(S,S),k.put(S,P??S),S;var B;if(F.length===1)B=new w(F[0],S.getReturnState(0));else{for(var W=new Array(S.size),L=0;L<S.size;L++)W[L]=S.getReturnState(L);B=new b(F,W,S.hashCode())}return P=T.putIfAbsent(B,B),k.put(B,P||B),k.put(S,P||B),B}}]),E}();u([h.Override],g.prototype,"hashCode",null),u([l(0,h.NotNull),l(1,h.NotNull),l(2,h.NotNull)],g,"join",null),u([l(0,h.NotNull),l(1,h.NotNull),l(2,h.NotNull)],g,"getCachedContext",null),e.PredictionContext=g;var x=function(E){(0,o.default)(C,E);function C(S){var T;return(0,i.default)(this,C),T=(0,t.default)(this,(0,n.default)(C).call(this,g.calculateEmptyHashCode())),T.fullContext=S,T}return(0,a.default)(C,[{key:"addEmptyContext",value:function(){return this}},{key:"removeEmptyContext",value:function(){throw new Error("Cannot remove the empty context from itself.")}},{key:"getParent",value:function(T){throw new Error("index out of bounds")}},{key:"getReturnState",value:function(T){throw new Error("index out of bounds")}},{key:"findReturnState",value:function(T){return-1}},{key:"appendSingleContext",value:function(T,k){return k.getChild(this,T)}},{key:"appendContext",value:function(T,k){return T}},{key:"equals",value:function(T){return this===T}},{key:"toStrings",value:function(T,k,P){return["[]"]}},{key:"isFullContext",get:function(){return this.fullContext}},{key:"size",get:function(){return 0}},{key:"isEmpty",get:function(){return!0}},{key:"hasEmpty",get:function(){return!0}}]),C}(g);u([h.Override],x.prototype,"addEmptyContext",null),u([h.Override],x.prototype,"removeEmptyContext",null),u([h.Override],x.prototype,"getParent",null),u([h.Override],x.prototype,"getReturnState",null),u([h.Override],x.prototype,"findReturnState",null),u([h.Override],x.prototype,"size",null),u([h.Override],x.prototype,"appendSingleContext",null),u([h.Override],x.prototype,"appendContext",null),u([h.Override],x.prototype,"isEmpty",null),u([h.Override],x.prototype,"hasEmpty",null),u([h.Override],x.prototype,"equals",null),u([h.Override],x.prototype,"toStrings",null);var b=function(E){(0,o.default)(C,E);function C(S,T,k){var P;return(0,i.default)(this,C),P=(0,t.default)(this,(0,n.default)(C).call(this,k||g.calculateHashCode(S,T))),y(S.length===T.length),y(T.length>1||T[0]!==g.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),P.parents=S,P.returnStates=T,P}return(0,a.default)(C,[{key:"getParent",value:function(T){return this.parents[T]}},{key:"getReturnState",value:function(T){return this.returnStates[T]}},{key:"findReturnState",value:function(T){return d.Arrays.binarySearch(this.returnStates,T)}},{key:"addEmptyContext",value:function(){if(this.hasEmpty)return this;var T=this.parents.slice(0),k=this.returnStates.slice(0);return T.push(g.EMPTY_FULL),k.push(g.EMPTY_FULL_STATE_KEY),new C(T,k)}},{key:"removeEmptyContext",value:function(){if(!this.hasEmpty)return this;if(this.returnStates.length===2)return new w(this.parents[0],this.returnStates[0]);var T=this.parents.slice(0,this.parents.length-1),k=this.returnStates.slice(0,this.returnStates.length-1);return new C(T,k)}},{key:"appendContext",value:function(T,k){return C.appendContextImpl(this,T,new g.IdentityHashMap)}},{key:"equals",value:function(T){if(this===T)return!0;if(!(T instanceof C)||this.hashCode()!==T.hashCode())return!1;var k=T;return this.equalsImpl(k,new f.Array2DHashSet)}},{key:"equalsImpl",value:function(T,k){var P=[],I=[];for(P.push(this),I.push(T);;){var F=P.pop(),A=I.pop();if(!F||!A)break;var D=new m.PredictionContextCache.IdentityCommutativePredictionContextOperands(F,A);if(k.add(D)){var $=D.x.size;if($===0){if(!D.x.equals(D.y))return!1;continue}var B=D.y.size;if($!==B)return!1;for(var W=0;W<$;W++){if(D.x.getReturnState(W)!==D.y.getReturnState(W))return!1;var L=D.x.getParent(W),z=D.y.getParent(W);if(L.hashCode()!==z.hashCode())return!1;L!==z&&(P.push(L),I.push(z))}}}return!0}},{key:"size",get:function(){return this.returnStates.length}},{key:"isEmpty",get:function(){return!1}},{key:"hasEmpty",get:function(){return this.returnStates[this.returnStates.length-1]===g.EMPTY_FULL_STATE_KEY}}],[{key:"appendContextImpl",value:function(T,k,P){if(k.isEmpty){if(g.isEmptyLocal(k)){if(T.hasEmpty)return g.EMPTY_LOCAL;throw new Error("what to do here?")}return T}if(k.size!==1)throw new Error("Appending a tree suffix is not yet supported.");var I=P.get(T);if(!I){if(T.isEmpty)I=k;else{var F=T.size;T.hasEmpty&&F--;for(var A=new Array(F),D=new Array(F),$=0;$<F;$++)D[$]=T.getReturnState($);for(var B=0;B<F;B++)A[B]=C.appendContextImpl(T.getParent(B),k,P);A.length===1?I=new w(A[0],D[0]):(y(A.length>1),I=new C(A,D)),T.hasEmpty&&(I=g.join(I,k))}P.put(T,I)}return I}}]),C}(g);u([h.NotNull],b.prototype,"parents",void 0),u([h.NotNull],b.prototype,"returnStates",void 0),u([h.Override],b.prototype,"getParent",null),u([h.Override],b.prototype,"getReturnState",null),u([h.Override],b.prototype,"findReturnState",null),u([h.Override],b.prototype,"size",null),u([h.Override],b.prototype,"isEmpty",null),u([h.Override],b.prototype,"hasEmpty",null),u([h.Override],b.prototype,"addEmptyContext",null),u([h.Override],b.prototype,"removeEmptyContext",null),u([h.Override],b.prototype,"appendContext",null),u([h.Override],b.prototype,"equals",null),b=u([l(0,h.NotNull)],b);var w=function(E){(0,o.default)(C,E);function C(S,T){var k;return(0,i.default)(this,C),k=(0,t.default)(this,(0,n.default)(C).call(this,g.calculateSingleHashCode(S,T))),k.parent=S,k.returnState=T,k}return(0,a.default)(C,[{key:"getParent",value:function(T){return this.parent}},{key:"getReturnState",value:function(T){return this.returnState}},{key:"findReturnState",value:function(T){return this.returnState===T?0:-1}},{key:"appendContext",value:function(T,k){return k.getChild(this.parent.appendContext(T,k),this.returnState)}},{key:"addEmptyContext",value:function(){var T=[this.parent,g.EMPTY_FULL],k=[this.returnState,g.EMPTY_FULL_STATE_KEY];return new b(T,k)}},{key:"removeEmptyContext",value:function(){return this}},{key:"equals",value:function(T){if(T===this)return!0;if(!(T instanceof C))return!1;var k=T;return this.hashCode()!==k.hashCode()?!1:this.returnState===k.returnState&&this.parent.equals(k.parent)}},{key:"size",get:function(){return 1}},{key:"isEmpty",get:function(){return!1}},{key:"hasEmpty",get:function(){return!1}}]),C}(g);u([h.NotNull],w.prototype,"parent",void 0),u([h.Override],w.prototype,"getParent",null),u([h.Override],w.prototype,"getReturnState",null),u([h.Override],w.prototype,"findReturnState",null),u([h.Override],w.prototype,"size",null),u([h.Override],w.prototype,"isEmpty",null),u([h.Override],w.prototype,"hasEmpty",null),u([h.Override],w.prototype,"appendContext",null),u([h.Override],w.prototype,"addEmptyContext",null),u([h.Override],w.prototype,"removeEmptyContext",null),u([h.Override],w.prototype,"equals",null),w=u([l(0,h.NotNull)],w),e.SingletonPredictionContext=w,function(E){E.EMPTY_LOCAL=new x(!1),E.EMPTY_FULL=new x(!0),E.EMPTY_LOCAL_STATE_KEY=-2147483648,E.EMPTY_FULL_STATE_KEY=(1<<31>>>0)-1;var C=function(T){(0,o.default)(k,T);function k(){return(0,i.default)(this,k),(0,t.default)(this,(0,n.default)(k).call(this,S.INSTANCE))}return k}(c.Array2DHashMap);E.IdentityHashMap=C;var S=function(){function T(){(0,i.default)(this,T)}return(0,a.default)(T,[{key:"IdentityEqualityComparator",value:function(){}},{key:"hashCode",value:function(P){return P.hashCode()}},{key:"equals",value:function(P,I){return P===I}}]),T}();S.INSTANCE=new S,u([h.Override],S.prototype,"hashCode",null),u([h.Override],S.prototype,"equals",null),E.IdentityEqualityComparator=S}(g=e.PredictionContext||(e.PredictionContext={}))}(kT)),kT}var B5;function BS(){if(B5)return lb;B5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Dt()),t=e(Tt()),n=e(Pt()),o=e(Ke()),i=e(rt()),a=e(tt()),s=function(E,C,S,T){var k=arguments.length,P=k<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,S):T,I;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(E,C,S,T);else for(var F=E.length-1;F>=0;F--)(I=E[F])&&(P=(k<3?I(P):k>3?I(C,S,P):I(C,S))||P);return k>3&&P&&Object.defineProperty(C,S,P),P},u=function(E,C){return function(S,T){C(S,T,E)}};Object.defineProperty(lb,"__esModule",{value:!0});var l=Bv(),c=Yd(),f=ho(),d=ot(),p=ll(),h=au(),m=Fv(),y=Vi(),v=2147483648,g=function(){function E(C,S,T){(0,o.default)(this,E),typeof S=="number"?(y((S&16777215)===S),this._state=C,this.altAndOuterContextDepth=S,this._context=T):(this._state=C,this.altAndOuterContextDepth=S.altAndOuterContextDepth,this._context=T)}return(0,i.default)(E,[{key:"clone",value:function(){return this.transform(this.state,!1)}},{key:"transform",value:function(S,T,k){return k==null?this.transformImpl(S,this._context,this.semanticContext,T,this.lexerActionExecutor):k instanceof h.PredictionContext?this.transformImpl(S,k,this.semanticContext,T,this.lexerActionExecutor):k instanceof m.SemanticContext?this.transformImpl(S,this._context,k,T,this.lexerActionExecutor):this.transformImpl(S,this._context,this.semanticContext,T,k)}},{key:"transformImpl",value:function(S,T,k,P,I){var F=P&&E.checkNonGreedyDecision(this,S);return k!==m.SemanticContext.NONE?I!=null||F?new w(I,k,S,this,T,F):new x(k,S,this,T):I!=null||F?new b(I,S,this,T,F):new E(S,this,T)}},{key:"appendContext",value:function(S,T){if(typeof S=="number"){var k=this.context.appendSingleContext(S,T),P=this.transform(this.state,!1,k);return P}else{var I=this.context.appendContext(S,T),F=this.transform(this.state,!1,I);return F}}},{key:"contains",value:function(S){if(this.state.stateNumber!==S.state.stateNumber||this.alt!==S.alt||!this.semanticContext.equals(S.semanticContext))return!1;var T=[],k=[];for(T.push(this.context),k.push(S.context);;){var P=T.pop(),I=k.pop();if(!P||!I)break;if(P===I)return!0;if(P.size<I.size)return!1;if(I.isEmpty)return P.hasEmpty;for(var F=0;F<I.size;F++){var A=P.findReturnState(I.getReturnState(F));if(A<0)return!1;T.push(P.getParent(A)),k.push(I.getParent(F))}}return!1}},{key:"equals",value:function(S){return this===S?!0:S instanceof E?this.state.stateNumber===S.state.stateNumber&&this.alt===S.alt&&this.reachesIntoOuterContext===S.reachesIntoOuterContext&&this.context.equals(S.context)&&this.semanticContext.equals(S.semanticContext)&&this.isPrecedenceFilterSuppressed===S.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===S.hasPassedThroughNonGreedyDecision&&p.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,S.lexerActionExecutor):!1}},{key:"hashCode",value:function(){var S=f.MurmurHash.initialize(7);return S=f.MurmurHash.update(S,this.state.stateNumber),S=f.MurmurHash.update(S,this.alt),S=f.MurmurHash.update(S,this.reachesIntoOuterContext?1:0),S=f.MurmurHash.update(S,this.context),S=f.MurmurHash.update(S,this.semanticContext),S=f.MurmurHash.update(S,this.hasPassedThroughNonGreedyDecision?1:0),S=f.MurmurHash.update(S,this.lexerActionExecutor),S=f.MurmurHash.finish(S,7),S}},{key:"toDotString",value:function(){var S="";S+=`digraph G {
`,S+=`rankdir=LR;
`;var T=new l.Array2DHashMap(h.PredictionContext.IdentityEqualityComparator.INSTANCE),k=[];function P(A){var D=T.size,$=T.putIfAbsent(A,D);return $??(k.push(A),D)}for(k.push(this.context),T.put(this.context,0);;){var I=k.pop();if(!I)break;for(var F=0;F<I.size;F++)S+="  s"+P(I),S+="->",S+="s"+P(I.getParent(F)),S+='[label="'+I.getReturnState(F)+`"];
`}return S+=`}
`,S.toString()}},{key:"toString",value:function(S,T,k){k==null&&(k=T!=null),T==null&&(T=!0);var P="",I;k?I=this.context.toStrings(S,this.state.stateNumber):I=["?"];var F=!0,A=!0,D=!1,$=void 0;try{for(var B=I[Symbol.iterator](),W;!(A=(W=B.next()).done);A=!0){var L=W.value;F?F=!1:P+=", ",P+="(",P+=this.state,T&&(P+=",",P+=this.alt),this.context&&(P+=",",P+=L),this.semanticContext!==m.SemanticContext.NONE&&(P+=",",P+=this.semanticContext),this.reachesIntoOuterContext&&(P+=",up="+this.outerContextDepth),P+=")"}}catch(z){D=!0,$=z}finally{try{!A&&B.return!=null&&B.return()}finally{if(D)throw $}}return P.toString()}},{key:"state",get:function(){return this._state}},{key:"alt",get:function(){return this.altAndOuterContextDepth&16777215}},{key:"context",get:function(){return this._context},set:function(S){this._context=S}},{key:"reachesIntoOuterContext",get:function(){return this.outerContextDepth!==0}},{key:"outerContextDepth",get:function(){return this.altAndOuterContextDepth>>>24&127},set:function(S){y(S>=0),S=Math.min(S,127),this.altAndOuterContextDepth=S<<24|(this.altAndOuterContextDepth&-2130706433)>>>0}},{key:"lexerActionExecutor",get:function(){}},{key:"semanticContext",get:function(){return m.SemanticContext.NONE}},{key:"hasPassedThroughNonGreedyDecision",get:function(){return!1}},{key:"isPrecedenceFilterSuppressed",get:function(){return(this.altAndOuterContextDepth&v)!==0},set:function(S){S?this.altAndOuterContextDepth|=v:this.altAndOuterContextDepth&=2147483647}}],[{key:"create",value:function(S,T,k){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m.SemanticContext.NONE,I=arguments.length>4?arguments[4]:void 0;return P!==m.SemanticContext.NONE?I!=null?new w(I,P,S,T,k,!1):new x(P,S,T,k):I!=null?new b(I,S,T,k,!1):new E(S,T,k)}},{key:"checkNonGreedyDecision",value:function(S,T){return S.hasPassedThroughNonGreedyDecision||T instanceof c.DecisionState&&T.nonGreedy}}]),E}();s([d.NotNull],g.prototype,"_state",void 0),s([d.NotNull],g.prototype,"_context",void 0),s([d.NotNull],g.prototype,"state",null),s([d.NotNull,u(0,d.NotNull)],g.prototype,"context",null),s([d.NotNull],g.prototype,"semanticContext",null),s([d.Override],g.prototype,"clone",null),s([u(0,d.NotNull),u(2,d.NotNull)],g.prototype,"transformImpl",null),s([d.Override],g.prototype,"equals",null),s([d.Override],g.prototype,"hashCode",null),s([u(0,d.NotNull),u(3,d.NotNull)],g,"create",null),g=s([u(0,d.NotNull),u(2,d.NotNull)],g),lb.ATNConfig=g;var x=function(E){(0,n.default)(C,E);function C(S,T,k,P){var I;return(0,o.default)(this,C),typeof k=="number"?I=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P)):I=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P)),I._semanticContext=S,(0,r.default)(I)}return(0,i.default)(C,[{key:"semanticContext",get:function(){return this._semanticContext}}]),C}(g);s([d.NotNull],x.prototype,"_semanticContext",void 0),s([d.Override],x.prototype,"semanticContext",null),x=s([u(1,d.NotNull),u(2,d.NotNull)],x);var b=function(E){(0,n.default)(C,E);function C(S,T,k,P,I){var F;if((0,o.default)(this,C),typeof k=="number")F=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P));else if(F=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P)),k.semanticContext!==m.SemanticContext.NONE)throw new Error("Not supported");return F._lexerActionExecutor=S,F.passedThroughNonGreedyDecision=I,(0,r.default)(F)}return(0,i.default)(C,[{key:"lexerActionExecutor",get:function(){return this._lexerActionExecutor}},{key:"hasPassedThroughNonGreedyDecision",get:function(){return this.passedThroughNonGreedyDecision}}]),C}(g);s([d.Override],b.prototype,"lexerActionExecutor",null),s([d.Override],b.prototype,"hasPassedThroughNonGreedyDecision",null),b=s([u(1,d.NotNull),u(2,d.NotNull)],b);var w=function(E){(0,n.default)(C,E);function C(S,T,k,P,I,F){var A;return(0,o.default)(this,C),typeof P=="number"?A=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P,I)):A=(0,r.default)(this,(0,t.default)(C).call(this,T,k,P,I)),A._lexerActionExecutor=S,A.passedThroughNonGreedyDecision=F,(0,r.default)(A)}return(0,i.default)(C,[{key:"lexerActionExecutor",get:function(){return this._lexerActionExecutor}},{key:"hasPassedThroughNonGreedyDecision",get:function(){return this.passedThroughNonGreedyDecision}}]),C}(x);return s([d.Override],w.prototype,"lexerActionExecutor",null),s([d.Override],w.prototype,"hasPassedThroughNonGreedyDecision",null),w=s([u(1,d.NotNull),u(2,d.NotNull)],w),lb}var fb={},j5;function kf(){if(j5)return fb;j5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt());Object.defineProperty(fb,"__esModule",{value:!0});var n=ov(),o=ho(),i=new Uint16Array(0);function a(g){return g>>>4}function s(g){return g*16}function u(g){for(var x=1,b=0;b<16;b++){if(g&x)return b;x=x<<1>>>0}throw new RangeError("No specified bit found")}function l(g){for(var x=32768,b=15;b>=0;b--){if(g&x)return b;x=x>>>1}throw new RangeError("No specified bit found")}function c(g,x){return g&=15,x&=15,g===x?1<<g>>>0:65535>>>15-x^65535>>>16-g}for(var f=new Uint8Array(65536),d=0;d<16;d++)for(var p=1<<d>>>0,h=0;h<f.length;){h+=p;for(var m=0;m<p;m++)f[h]++,h++}var y=function(){function g(x){if((0,r.default)(this,g),!x)this.data=i;else if(typeof x=="number"){if(x<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(a(x-1)+1)}else if(x instanceof g)this.data=x.data.slice(0);else{var b=-1,w=!0,E=!1,C=void 0;try{for(var S=x[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;b<k&&(b=k)}}catch(B){E=!0,C=B}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}this.data=new Uint16Array(a(b-1)+1);var P=!0,I=!1,F=void 0;try{for(var A=x[Symbol.iterator](),D;!(P=(D=A.next()).done);P=!0){var $=D.value;this.set($)}}catch(B){I=!0,F=B}finally{try{!P&&A.return!=null&&A.return()}finally{if(I)throw F}}}}return(0,t.default)(g,[{key:"and",value:function(b){for(var w=this.data,E=b.data,C=Math.min(w.length,E.length),S=-1,T=0;T<C;T++){var k=w[T]&=E[T];k!==0&&(S=T)}S===-1&&(this.data=i),S<w.length-1&&(this.data=w.slice(0,S+1))}},{key:"andNot",value:function(b){for(var w=this.data,E=b.data,C=Math.min(w.length,E.length),S=-1,T=0;T<C;T++){var k=w[T]&=E[T]^65535;k!==0&&(S=T)}S===-1&&(this.data=i),S<w.length-1&&(this.data=w.slice(0,S+1))}},{key:"cardinality",value:function(){if(this.isEmpty)return 0;for(var b=this.data,w=b.length,E=0,C=0;C<w;C++)E+=f[b[C]];return E}},{key:"clear",value:function(b,w){b==null?this.data.fill(0):w==null?this.set(b,!1):this.set(b,w,!1)}},{key:"flip",value:function(b,w){if(w==null&&(w=b),b<0||w<b)throw new RangeError;var E=a(b),C=a(w);if(E===C)this.data[E]^=c(b,w);else{for(this.data[E++]^=c(b,15);E<C;)this.data[E++]^=65535;this.data[E++]^=c(0,w)}}},{key:"get",value:function(b,w){if(w===void 0)return!!(this.data[a(b)]&c(b,b));for(var E=new g(w+1),C=b;C<=w;C++)E.set(C,this.get(C));return E}},{key:"intersects",value:function(b){var w=Math.min(this.length(),b.length());if(w===0)return!1;for(var E=a(w-1),C=0;C<=E;C++)if(this.data[C]&b.data[C])return!0;return!1}},{key:"length",value:function(){return this.data.length?this.previousSetBit(s(this.data.length)-1)+1:0}},{key:"nextClearBit",value:function(b){if(b<0)throw new RangeError("fromIndex cannot be negative");var w=this.data,E=w.length,C=a(b);if(C>E)return-1;var S=65535^c(b,15);if((w[C]|S)===65535){for(C++,S=0;C<E&&w[C]===65535;C++);if(C===E)return-1}return s(C)+u((w[C]|S)^65535)}},{key:"nextSetBit",value:function(b){if(b<0)throw new RangeError("fromIndex cannot be negative");var w=this.data,E=w.length,C=a(b);if(C>E)return-1;var S=c(b,15);if(!(w[C]&S)){for(C++,S=65535;C<E&&w[C]===0;C++);if(C>=E)return-1}return s(C)+u(w[C]&S)}},{key:"or",value:function(b){for(var w=this.data,E=b.data,C=Math.min(w.length,E.length),S=Math.max(w.length,E.length),T=w.length===S?w:new Uint16Array(S),k=-1,P=0;P<C;P++){var I=T[P]=w[P]|E[P];I!==0&&(k=P)}for(var F=w.length>E.length?w:E,A=C;A<S;A++){var D=T[A]=F[A];D!==0&&(k=A)}k===-1?this.data=i:T.length===k+1?this.data=T:this.data=T.slice(0,k)}},{key:"previousClearBit",value:function(b){if(b<0)throw new RangeError("fromIndex cannot be negative");var w=this.data,E=w.length,C=a(b);C>=E&&(C=E-1);var S=65535^c(0,b);if((w[C]|S)===65535){for(S=0,C--;C>=0&&w[C]===65535;C--);if(C<0)return-1}return s(C)+l((w[C]|S)^65535)}},{key:"previousSetBit",value:function(b){if(b<0)throw new RangeError("fromIndex cannot be negative");var w=this.data,E=w.length,C=a(b);C>=E&&(C=E-1);var S=c(0,b);if(!(w[C]&S)){for(C--,S=65535;C>=0&&w[C]===0;C--);if(C<0)return-1}return s(C)+l(w[C]&S)}},{key:"set",value:function(b,w,E){if(w===void 0?(w=b,E=!0):typeof w=="boolean"&&(E=w,w=b),E===void 0&&(E=!0),b<0||b>w)throw new RangeError;var C=a(b),S=a(w);if(E&&S>=this.data.length){var T=new Uint16Array(S+1);this.data.forEach(function(k,P){return T[P]=k}),this.data=T}else if(!E){if(C>=this.data.length)return;S>=this.data.length&&(S=this.data.length-1,w=this.data.length*16-1)}if(C===S)this._setBits(C,E,c(b,w));else{for(this._setBits(C++,E,c(b,15));C<S;)this.data[C++]=E?65535:0;this._setBits(C,E,c(0,w))}}},{key:"_setBits",value:function(b,w,E){w?this.data[b]|=E:this.data[b]&=65535^E}},{key:"hashCode",value:function(){return o.MurmurHash.hashCode(this.data,22)}},{key:"equals",value:function(b){if(b===this)return!0;if(!(b instanceof g))return!1;var w=this.length();if(w!==b.length())return!1;if(w===0)return!0;for(var E=a(w-1),C=0;C<=E;C++)if(this.data[C]!==b.data[C])return!1;return!0}},{key:"toString",value:function(){for(var b="{",w=!0,E=this.nextSetBit(0);E>=0;E=this.nextSetBit(E+1))w?w=!1:b+=", ",b+=E;return b+="}",b}},{key:"xor",value:function(b){for(var w=this.data,E=b.data,C=Math.min(w.length,E.length),S=Math.max(w.length,E.length),T=w.length===S?w:new Uint16Array(S),k=-1,P=0;P<C;P++){var I=T[P]=w[P]^E[P];I!==0&&(k=P)}for(var F=w.length>E.length?w:E,A=C;A<S;A++){var D=T[A]=F[A];D!==0&&(k=A)}k===-1?this.data=i:T.length===k+1?this.data=T:this.data=T.slice(0,k+1)}},{key:"clone",value:function(){return new g(this)}},{key:Symbol.iterator,value:function(){return new v(this.data)}},{key:n.inspect.custom,value:function(){return"BitSet "+this.toString()}},{key:"isEmpty",get:function(){return this.length()===0}},{key:"size",get:function(){return this.data.byteLength*8}}]),g}();fb.BitSet=y;var v=function(){function g(x){(0,r.default)(this,g),this.data=x,this.index=0,this.mask=65535}return(0,t.default)(g,[{key:"next",value:function(){for(;this.index<this.data.length;){var b=this.data[this.index]&this.mask;if(b!==0){var w=s(this.index)+u(b);return this.mask=c(w+1,15),{done:!1,value:w}}this.index++,this.mask=65535}return{done:!0,value:-1}}},{key:Symbol.iterator,value:function(){return this}}]),g}();return fb}var $5;function ey(){if($5)return ub;$5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(pN()),t=e(Ke()),n=e(rt()),o=e(tt()),i=function(E,C,S,T){var k=arguments.length,P=k<3?C:T===null?T=Object.getOwnPropertyDescriptor(C,S):T,I;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(E,C,S,T);else for(var F=E.length-1;F>=0;F--)(I=E[F])&&(P=(k<3?I(P):k>3?I(C,S,P):I(C,S))||P);return k>3&&P&&Object.defineProperty(C,S,P),P};Object.defineProperty(ub,"__esModule",{value:!0});var a=Bv(),s=Cf(),u=FS(),l=uc(),c=BS(),f=kf(),d=ot(),p=ll(),h=au(),m=gN(),y=Fv(),v=Vi(),g=Ri,x=function(){function E(){(0,t.default)(this,E)}return(0,n.default)(E,[{key:"hashCode",value:function(S){return S.state^S.alt}},{key:"equals",value:function(S,T){return S.state===T.state&&S.alt===T.alt}}]),E}();x.INSTANCE=new x;function b(E){return E?new a.Array2DHashMap(E):new a.Array2DHashMap(x.INSTANCE)}var w=function(){function E(C,S){(0,t.default)(this,E),this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,C?(S?(this.mergedConfigs=void 0,this.unmerged=void 0):C.isReadOnly?(this.mergedConfigs=b(),this.unmerged=[]):(this.mergedConfigs=b(C.mergedConfigs),this.unmerged=C.unmerged.slice(0)),this.configs=C.configs.slice(0),this._dipsIntoOuterContext=C._dipsIntoOuterContext,this._hasSemanticContext=C._hasSemanticContext,this.outermostConfigSet=C.outermostConfigSet,(S||!C.isReadOnly)&&(this._uniqueAlt=C._uniqueAlt,this._conflictInfo=C._conflictInfo)):(this.mergedConfigs=b(),this.unmerged=[],this.configs=[],this._uniqueAlt=l.ATN.INVALID_ALT_NUMBER)}return(0,n.default)(E,[{key:"getRepresentedAlternatives",value:function(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts.clone();var S=new f.BitSet,T=!0,k=!1,P=void 0;try{for(var I=this[Symbol.iterator](),F;!(T=(F=I.next()).done);T=!0){var A=F.value;S.set(A.alt)}}catch(D){k=!0,P=D}finally{try{!T&&I.return!=null&&I.return()}finally{if(k)throw P}}return S}},{key:"getStates",value:function(){var S=new s.Array2DHashSet(p.ObjectEqualityComparator.INSTANCE),T=!0,k=!1,P=void 0;try{for(var I=this.configs[Symbol.iterator](),F;!(T=(F=I.next()).done);T=!0){var A=F.value;S.add(A.state)}}catch(D){k=!0,P=D}finally{try{!T&&I.return!=null&&I.return()}finally{if(k)throw P}}return S}},{key:"optimizeConfigs",value:function(S){if(this.configs.length!==0){var T=!0,k=!1,P=void 0;try{for(var I=this.configs[Symbol.iterator](),F;!(T=(F=I.next()).done);T=!0){var A=F.value;A.context=S.atn.getCachedContext(A.context)}}catch(D){k=!0,P=D}finally{try{!T&&I.return!=null&&I.return()}finally{if(k)throw P}}}}},{key:"clone",value:function(S){var T=new E(this,S);return!S&&this.isReadOnly&&T.addAll(this.configs),T}},{key:"contains",value:function(S){if(!(S instanceof c.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){var T=S,k=this.getKey(T),P=this.mergedConfigs.get(k);if(P!=null&&this.canMerge(T,k,P))return P.contains(T);var I=!0,F=!1,A=void 0;try{for(var D=this.unmerged[Symbol.iterator](),$;!(I=($=D.next()).done);I=!0){var B=$.value;if(B.contains(S))return!0}}catch(V){F=!0,A=V}finally{try{!I&&D.return!=null&&D.return()}finally{if(F)throw A}}}else{var W=!0,L=!1,z=void 0;try{for(var U=this.configs[Symbol.iterator](),Y;!(W=(Y=U.next()).done);W=!0){var q=Y.value;if(q.contains(S))return!0}}catch(V){L=!0,z=V}finally{try{!W&&U.return!=null&&U.return()}finally{if(L)throw z}}}return!1}},{key:Symbol.iterator,value:r.default.mark(function C(){return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.delegateYield(this.configs,"t0",1);case 1:case"end":return T.stop()}},C,this)})},{key:"toArray",value:function(){return this.configs}},{key:"add",value:function(S,T){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");v(!this.outermostConfigSet||!S.reachesIntoOuterContext),T==null&&(T=m.PredictionContextCache.UNCACHED);var k,P=this.getKey(S),I=this.mergedConfigs.get(P);if(k=I==null,I!=null&&this.canMerge(S,P,I)){I.outerContextDepth=Math.max(I.outerContextDepth,S.outerContextDepth),S.isPrecedenceFilterSuppressed&&(I.isPrecedenceFilterSuppressed=!0);var F=h.PredictionContext.join(I.context,S.context,T);return this.updatePropertiesForMergedConfig(S),I.context===F?!1:(I.context=F,!0)}for(var A=0;A<this.unmerged.length;A++){var D=this.unmerged[A];if(this.canMerge(S,P,D)){D.outerContextDepth=Math.max(D.outerContextDepth,S.outerContextDepth),S.isPrecedenceFilterSuppressed&&(D.isPrecedenceFilterSuppressed=!0);var $=h.PredictionContext.join(D.context,S.context,T);return this.updatePropertiesForMergedConfig(S),D.context===$?!1:(D.context=$,k&&(this.mergedConfigs.put(P,D),this.unmerged.splice(A,1)),!0)}}return this.configs.push(S),k?this.mergedConfigs.put(P,S):this.unmerged.push(S),this.updatePropertiesForAddedConfig(S),!0}},{key:"updatePropertiesForMergedConfig",value:function(S){this._dipsIntoOuterContext=this._dipsIntoOuterContext||S.reachesIntoOuterContext,v(!this.outermostConfigSet||!this._dipsIntoOuterContext)}},{key:"updatePropertiesForAddedConfig",value:function(S){this.configs.length===1?this._uniqueAlt=S.alt:this._uniqueAlt!==S.alt&&(this._uniqueAlt=l.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!y.SemanticContext.NONE.equals(S.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||S.reachesIntoOuterContext,v(!this.outermostConfigSet||!this._dipsIntoOuterContext)}},{key:"canMerge",value:function(S,T,k){return S.state.stateNumber!==k.state.stateNumber||T.alt!==k.alt?!1:S.semanticContext.equals(k.semanticContext)}},{key:"getKey",value:function(S){return{state:S.state.stateNumber,alt:S.alt}}},{key:"containsAll",value:function(S){var T=!0,k=!1,P=void 0;try{for(var I=S[Symbol.iterator](),F;!(T=(F=I.next()).done);T=!0){var A=F.value;if(!(A instanceof c.ATNConfig)||!this.contains(A))return!1}}catch(D){k=!0,P=D}finally{try{!T&&I.return!=null&&I.return()}finally{if(k)throw P}}return!0}},{key:"addAll",value:function(S,T){this.ensureWritable();var k=!1,P=!0,I=!1,F=void 0;try{for(var A=S[Symbol.iterator](),D;!(P=(D=A.next()).done);P=!0){var $=D.value;this.add($,T)&&(k=!0)}}catch(B){I=!0,F=B}finally{try{!P&&A.return!=null&&A.return()}finally{if(I)throw F}}return k}},{key:"clear",value:function(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=l.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}},{key:"equals",value:function(S){return this===S?!0:S instanceof E?this.outermostConfigSet===S.outermostConfigSet&&g.equals(this._conflictInfo,S._conflictInfo)&&u.ArrayEqualityComparator.INSTANCE.equals(this.configs,S.configs):!1}},{key:"hashCode",value:function(){if(this.isReadOnly&&this.cachedHashCode!==-1)return this.cachedHashCode;var S=1;return S=5*S^(this.outermostConfigSet?1:0),S=5*S^u.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=S),S}},{key:"toString",value:function(S){S==null&&(S=!1);var T="",k=this.configs.slice(0);k.sort(function(I,F){return I.alt!==F.alt?I.alt-F.alt:I.state.stateNumber!==F.state.stateNumber?I.state.stateNumber-F.state.stateNumber:I.semanticContext.toString().localeCompare(F.semanticContext.toString())}),T+="[";for(var P=0;P<k.length;P++)P>0&&(T+=", "),T+=k[P].toString(void 0,!0,S);return T+="]",this._hasSemanticContext&&(T+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==l.ATN.INVALID_ALT_NUMBER&&(T+=",uniqueAlt="+this._uniqueAlt),this._conflictInfo!=null&&(T+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(T+="*")),this._dipsIntoOuterContext&&(T+=",dipsIntoOuterContext"),T.toString()}},{key:"get",value:function(S){return this.configs[S]}},{key:"ensureWritable",value:function(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}},{key:"isReadOnly",get:function(){return this.mergedConfigs==null}},{key:"isOutermostConfigSet",get:function(){return this.outermostConfigSet},set:function(S){if(this.outermostConfigSet&&!S)throw new Error("IllegalStateException");v(!S||!this._dipsIntoOuterContext),this.outermostConfigSet=S}},{key:"size",get:function(){return this.configs.length}},{key:"isEmpty",get:function(){return this.configs.length===0}},{key:"uniqueAlt",get:function(){return this._uniqueAlt}},{key:"hasSemanticContext",get:function(){return this._hasSemanticContext},set:function(S){this.ensureWritable(),this._hasSemanticContext=S}},{key:"conflictInfo",get:function(){return this._conflictInfo},set:function(S){this.ensureWritable(),this._conflictInfo=S}},{key:"conflictingAlts",get:function(){if(this._conflictInfo!=null)return this._conflictInfo.conflictedAlts}},{key:"isExactConflict",get:function(){return this._conflictInfo==null?!1:this._conflictInfo.isExact}},{key:"dipsIntoOuterContext",get:function(){return this._dipsIntoOuterContext}}]),E}();return i([d.NotNull],w.prototype,"getRepresentedAlternatives",null),i([d.Override],w.prototype,"size",null),i([d.Override],w.prototype,"isEmpty",null),i([d.Override],w.prototype,"contains",null),i([d.Override],w.prototype,Symbol.iterator,null),i([d.Override],w.prototype,"toArray",null),i([d.Override],w.prototype,"containsAll",null),i([d.Override],w.prototype,"clear",null),i([d.Override],w.prototype,"equals",null),i([d.Override],w.prototype,"hashCode",null),ub.ATNConfigSet=w,ub}var db={},TT={exports:{}},AT={exports:{}},OT={exports:{}},z5;function o9(){return z5||(z5=1,function(e){function r(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,i=Array(n);o<n;o++)i[o]=t[o];return i}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(OT)),OT.exports}var W5;function swe(){return W5||(W5=1,function(e){var r=o9();function t(n){if(Array.isArray(n))return r(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(AT)),AT.exports}var DT={exports:{}},U5;function uwe(){return U5||(U5=1,function(e){function r(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(DT)),DT.exports}var PT={exports:{}},q5;function lwe(){return q5||(q5=1,function(e){var r=o9();function t(n,o){if(n){if(typeof n=="string")return r(n,o);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(n,o):void 0}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(PT)),PT.exports}var IT={exports:{}},H5;function cwe(){return H5||(H5=1,function(e){function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(IT)),IT.exports}var V5;function i9(){return V5||(V5=1,function(e){var r=swe(),t=uwe(),n=lwe(),o=cwe();function i(a){return r(a)||t(a)||n(a)||o()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(TT)),TT.exports}var NT={},MT={},G5;function jS(){return G5||(G5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(h,m,y,v){var g=arguments.length,x=g<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,y):v,b;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,m,y,v);else for(var w=h.length-1;w>=0;w--)(b=h[w])&&(x=(g<3?b(x):g>3?b(m,y,x):b(m,y))||x);return g>3&&x&&Object.defineProperty(m,y,x),x},a=function(h,m){return function(y,v){m(y,v,h)}};Object.defineProperty(e,"__esModule",{value:!0});var s=uc(),u=kf(),l=ho(),c=ot(),f=au(),d=Vi(),p=function(){function h(m){(0,t.default)(this,h),this.stateNumber=-1,this.configs=m,this.edges=new Map,this.contextEdges=new Map}return(0,n.default)(h,[{key:"isContextSymbol",value:function(y){return this.isContextSensitive?this.contextSymbols.get(y):!1}},{key:"setContextSymbol",value:function(y){d(this.isContextSensitive),this.contextSymbols.set(y)}},{key:"setContextSensitive",value:function(y){d(!this.configs.isOutermostConfigSet),!this.isContextSensitive&&(this.contextSymbols||(this.contextSymbols=new u.BitSet))}},{key:"getTarget",value:function(y){return this.edges.get(y)}},{key:"setTarget",value:function(y,v){this.edges.set(y,v)}},{key:"getEdgeMap",value:function(){return this.edges}},{key:"getContextTarget",value:function(y){return y===f.PredictionContext.EMPTY_FULL_STATE_KEY&&(y=-1),this.contextEdges.get(y)}},{key:"setContextTarget",value:function(y,v){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");y===f.PredictionContext.EMPTY_FULL_STATE_KEY&&(y=-1),this.contextEdges.set(y,v)}},{key:"getContextEdgeMap",value:function(){var y=new Map(this.contextEdges),v=y.get(-1);if(v!==void 0)if(y.size===1){var g=new Map;return g.set(f.PredictionContext.EMPTY_FULL_STATE_KEY,v),g}else y.delete(-1),y.set(f.PredictionContext.EMPTY_FULL_STATE_KEY,v);return y}},{key:"hashCode",value:function(){var y=l.MurmurHash.initialize(7);return y=l.MurmurHash.update(y,this.configs.hashCode()),y=l.MurmurHash.finish(y,1),y}},{key:"equals",value:function(y){if(this===y)return!0;if(!(y instanceof h))return!1;var v=y,g=this.configs.equals(v.configs);return g}},{key:"toString",value:function(){var y="";return y+=this.stateNumber+":"+this.configs,this.isAcceptState&&(y+="=>",this.predicates?y+=this.predicates:y+=this.prediction),y.toString()}},{key:"isContextSensitive",get:function(){return!!this.contextSymbols}},{key:"acceptStateInfo",get:function(){return this._acceptStateInfo},set:function(y){this._acceptStateInfo=y}},{key:"isAcceptState",get:function(){return!!this._acceptStateInfo}},{key:"prediction",get:function(){return this._acceptStateInfo?this._acceptStateInfo.prediction:s.ATN.INVALID_ALT_NUMBER}},{key:"lexerActionExecutor",get:function(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}}]),h}();i([c.NotNull],p.prototype,"configs",void 0),i([c.NotNull],p.prototype,"edges",void 0),i([c.NotNull],p.prototype,"contextEdges",void 0),i([c.Override],p.prototype,"hashCode",null),i([c.Override],p.prototype,"equals",null),i([c.Override],p.prototype,"toString",null),e.DFAState=p,function(h){var m=function(){function y(v,g){(0,t.default)(this,y),this.alt=g,this.pred=v}return(0,n.default)(y,[{key:"toString",value:function(){return"("+this.pred+", "+this.alt+")"}}]),y}();i([c.NotNull],m.prototype,"pred",void 0),i([c.Override],m.prototype,"toString",null),m=i([a(0,c.NotNull)],m),h.PredPrediction=m}(p=e.DFAState||(e.DFAState={}))}(MT)),MT}var Y5;function $S(){return Y5||(Y5=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},a=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(e,"__esModule",{value:!0});var s=ey(),u=jS(),l=ot(),c=au(),f=function(){function d(p){(0,t.default)(this,d),this.atn=p}return(0,n.default)(d,[{key:"clearDFA",value:function(){this.atn.clearDFA()}}],[{key:"ERROR",get:function(){return d._ERROR||(d._ERROR=new u.DFAState(new s.ATNConfigSet),d._ERROR.stateNumber=c.PredictionContext.EMPTY_FULL_STATE_KEY),d._ERROR}}]),d}();i([l.NotNull],f.prototype,"atn",void 0),i([l.NotNull],f,"ERROR",null),f=i([a(0,l.NotNull)],f),e.ATNSimulator=f,f=e.ATNSimulator||(e.ATNSimulator={}),e.ATNSimulator=f}(NT)),NT}var Kd={},zS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var a9=Ge,fwe=a9(Ke()),dwe=a9(rt());Object.defineProperty(zS,"__esModule",{value:!0});var dD=function(){function e(){(0,fwe.default)(this,e)}return(0,dwe.default)(e,[{key:"syntaxError",value:function(t,n,o,i,a,s){console.error("line ".concat(o,":").concat(i," ").concat(a))}}]),e}();dD.INSTANCE=new dD;zS.ConsoleErrorListener=dD;var ty={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var yN=Ge,pwe=yN(Ke()),hwe=yN(rt()),vwe=yN(tt()),mwe=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,vwe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},K5=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(ty,"__esModule",{value:!0});var FT=ot(),s9=function(){function e(r){if((0,pwe.default)(this,e),this.delegates=r,!r)throw new Error("Invalid delegates")}return(0,hwe.default)(e,[{key:"getDelegates",value:function(){return this.delegates}},{key:"syntaxError",value:function(t,n,o,i,a,s){this.delegates.forEach(function(u){u.syntaxError&&u.syntaxError(t,n,o,i,a,s)})}}]),e}();mwe([FT.Override,K5(0,FT.NotNull),K5(4,FT.NotNull)],s9.prototype,"syntaxError",null);ty.ProxyErrorListener=s9;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var xN=Ge,gwe=xN(Ke()),ywe=xN(rt()),xwe=xN(tt()),cl=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,xwe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},WS=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(Kd,"__esModule",{value:!0});var bwe=zS,_we=ty,Ya=ot(),X5=Rn,wwe=Ri,Sa=function(){function e(){(0,gwe.default)(this,e),this._listeners=[bwe.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}return(0,ywe.default)(e,[{key:"getTokenTypeMap",value:function(){var t=this.vocabulary,n=e.tokenTypeMapCache.get(t);if(n==null){for(var o=new Map,i=0;i<=this.atn.maxTokenType;i++){var a=t.getLiteralName(i);a!=null&&o.set(a,i);var s=t.getSymbolicName(i);s!=null&&o.set(s,i)}o.set("EOF",X5.Token.EOF),n=o,e.tokenTypeMapCache.set(t,n)}return n}},{key:"getRuleIndexMap",value:function(){var t=this.ruleNames;if(t==null)throw new Error("The current recognizer does not provide a list of rule names.");var n=e.ruleIndexMapCache.get(t);return n==null&&(n=wwe.toMap(t),e.ruleIndexMapCache.set(t,n)),n}},{key:"getTokenType",value:function(t){var n=this.getTokenTypeMap().get(t);return n??X5.Token.INVALID_TYPE}},{key:"getErrorHeader",value:function(t){var n=t.getOffendingToken();if(!n)return"";var o=n.line,i=n.charPositionInLine;return"line "+o+":"+i}},{key:"addErrorListener",value:function(t){if(!t)throw new TypeError("listener must not be null");this._listeners.push(t)}},{key:"removeErrorListener",value:function(t){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}},{key:"removeErrorListeners",value:function(){this._listeners.length=0}},{key:"getErrorListeners",value:function(){return this._listeners.slice(0)}},{key:"getErrorListenerDispatch",value:function(){return new _we.ProxyErrorListener(this.getErrorListeners())}},{key:"sempred",value:function(t,n,o){return!0}},{key:"precpred",value:function(t,n){return!0}},{key:"action",value:function(t,n,o){}},{key:"serializedATN",get:function(){throw new Error("there is no serialized ATN")}},{key:"atn",get:function(){return this._interp.atn}},{key:"interpreter",get:function(){return this._interp},set:function(t){this._interp=t}},{key:"parseInfo",get:function(){return Promise.resolve(void 0)}},{key:"state",get:function(){return this._stateNumber},set:function(t){this._stateNumber=t}}]),e}();Sa.EOF=-1;Sa.tokenTypeMapCache=new WeakMap;Sa.ruleIndexMapCache=new WeakMap;cl([Ya.SuppressWarnings("serial"),Ya.NotNull],Sa.prototype,"_listeners",void 0);cl([Ya.NotNull],Sa.prototype,"getTokenTypeMap",null);cl([Ya.NotNull],Sa.prototype,"getRuleIndexMap",null);cl([Ya.NotNull],Sa.prototype,"serializedATN",null);cl([Ya.NotNull],Sa.prototype,"atn",null);cl([Ya.NotNull,WS(0,Ya.NotNull)],Sa.prototype,"interpreter",null);cl([Ya.NotNull,WS(0,Ya.NotNull)],Sa.prototype,"getErrorHeader",null);cl([WS(0,Ya.NotNull)],Sa.prototype,"addErrorListener",null);cl([WS(0,Ya.NotNull)],Sa.prototype,"removeErrorListener",null);cl([Ya.NotNull],Sa.prototype,"getErrorListeners",null);Kd.Recognizer=Sa;var fl={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var bN=Ge,Swe=bN(Ke()),Cwe=bN(rt()),Ewe=bN(tt()),Rf=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,Ewe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(fl,"__esModule",{value:!0});var ec=ot(),kwe=Rn,ru=function(){function e(r,t,n){(0,Swe.default)(this,e),this.literalNames=r,this.symbolicNames=t,this.displayNames=n,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}return(0,Cwe.default)(e,[{key:"getLiteralName",value:function(t){if(t>=0&&t<this.literalNames.length)return this.literalNames[t]}},{key:"getSymbolicName",value:function(t){if(t>=0&&t<this.symbolicNames.length)return this.symbolicNames[t];if(t===kwe.Token.EOF)return"EOF"}},{key:"getDisplayName",value:function(t){if(t>=0&&t<this.displayNames.length){var n=this.displayNames[t];if(n)return n}var o=this.getLiteralName(t);if(o)return o;var i=this.getSymbolicName(t);return i||String(t)}},{key:"maxTokenType",get:function(){return this._maxTokenType}}]),e}();ru.EMPTY_VOCABULARY=new ru([],[],[]);Rf([ec.NotNull],ru.prototype,"literalNames",void 0);Rf([ec.NotNull],ru.prototype,"symbolicNames",void 0);Rf([ec.NotNull],ru.prototype,"displayNames",void 0);Rf([ec.Override],ru.prototype,"maxTokenType",null);Rf([ec.Override],ru.prototype,"getLiteralName",null);Rf([ec.Override],ru.prototype,"getSymbolicName",null);Rf([ec.Override,ec.NotNull],ru.prototype,"getDisplayName",null);Rf([ec.NotNull],ru,"EMPTY_VOCABULARY",void 0);fl.VocabularyImpl=ru;var Q5;function u9(){if(Q5)return db;Q5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(QV()),t=e(i9()),n=e(Ke()),o=e(rt()),i=e(tt()),a=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(db,"__esModule",{value:!0});var s=$S(),u=ot(),l=au(),c=Kd,f=fl,d=function(){function p(h,m,y,v){(0,n.default)(this,p),m instanceof c.Recognizer?(y=m.ruleNames,v=m.atn,m=m.vocabulary):m||(m=f.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=h,this.vocabulary=m,this.ruleNames=y,this.atn=v}return(0,o.default)(p,[{key:"toString",value:function(){if(!this.dfa.s0)return"";var m="";if(this.dfa.states){var y=(0,r.default)(Array,(0,t.default)(this.dfa.states.toArray()));y.sort(function(ue,oe){return ue.stateNumber-oe.stateNumber});var v=!0,g=!1,x=void 0;try{for(var b=y[Symbol.iterator](),w;!(v=(w=b.next()).done);v=!0){var E=w.value,C=E.getEdgeMap(),S=(0,t.default)(C.keys()).sort(function(ue,oe){return ue-oe}),T=E.getContextEdgeMap(),k=(0,t.default)(T.keys()).sort(function(ue,oe){return ue-oe}),P=!0,I=!1,F=void 0;try{for(var A=S[Symbol.iterator](),D;!(P=(D=A.next()).done);P=!0){var $=D.value,B=C.get($);if(!((B==null||B===s.ATNSimulator.ERROR)&&!E.isContextSymbol($))){var W=!1;m+=this.getStateString(E)+"-"+this.getEdgeLabel($)+"->",E.isContextSymbol($)&&(m+="!",W=!0);var L=B;L&&L.stateNumber!==s.ATNSimulator.ERROR.stateNumber?m+=this.getStateString(L)+`
`:W&&(m+=`ctx
`)}}}catch(ue){I=!0,F=ue}finally{try{!P&&A.return!=null&&A.return()}finally{if(I)throw F}}if(E.isContextSensitive){var z=!0,U=!1,Y=void 0;try{for(var q=k[Symbol.iterator](),V;!(z=(V=q.next()).done);z=!0){var H=V.value;m+=this.getStateString(E)+"-"+this.getContextLabel(H)+"->"+this.getStateString(T.get(H))+`
`}}catch(ue){U=!0,Y=ue}finally{try{!z&&q.return!=null&&q.return()}finally{if(U)throw Y}}}}}catch(ue){g=!0,x=ue}finally{try{!v&&b.return!=null&&b.return()}finally{if(g)throw x}}}var Z=m;return Z.length===0?"":Z}},{key:"getContextLabel",value:function(m){if(m===l.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(m===l.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&m>0&&m<=this.atn.states.length){var y=this.atn.states[m],v=y.ruleIndex;if(this.ruleNames&&v>=0&&v<this.ruleNames.length)return"ctx:"+String(m)+"("+this.ruleNames[v]+")"}return"ctx:"+String(m)}},{key:"getEdgeLabel",value:function(m){return this.vocabulary.getDisplayName(m)}},{key:"getStateString",value:function(m){if(m===s.ATNSimulator.ERROR)return"ERROR";var y=m.stateNumber,v="s"+y;if(m.isAcceptState&&(m.predicates?v=":s"+y+"=>"+m.predicates:v=":s"+y+"=>"+m.prediction),m.isContextSensitive){v+="*";var g=!0,x=!1,b=void 0;try{for(var w=m.configs[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C.reachesIntoOuterContext){v+="*";break}}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}}return v}}]),p}();return a([u.NotNull],d.prototype,"dfa",void 0),a([u.NotNull],d.prototype,"vocabulary",void 0),a([u.Override],d.prototype,"toString",null),db.DFASerializer=d,db}var pb={},J5;function Rwe(){if(J5)return pb;J5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},u=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(pb,"__esModule",{value:!0});var l=u9(),c=ot(),f=fl,d=function(p){(0,i.default)(h,p);function h(m){return(0,r.default)(this,h),(0,n.default)(this,(0,o.default)(h).call(this,m,f.VocabularyImpl.EMPTY_VOCABULARY))}return(0,t.default)(h,[{key:"getEdgeLabel",value:function(y){return"'"+String.fromCodePoint(y)+"'"}}]),h}(l.DFASerializer);return s([c.Override,c.NotNull],d.prototype,"getEdgeLabel",null),d=s([u(0,c.NotNull)],d),pb.LexerDFASerializer=d,pb}var hb={},Z5;function _N(){if(Z5)return hb;Z5=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(hb,"__esModule",{value:!0});var u=li(),l=kf(),c=Yd(),f=ot(),d=function(p){(0,i.default)(h,p);function h(){var m;return(0,r.default)(this,h),m=(0,n.default)(this,(0,o.default)(h).apply(this,arguments)),m.precedenceRuleDecision=!1,m.precedenceLoopbackStates=new l.BitSet,m}return(0,t.default)(h,[{key:"stateType",get:function(){return u.ATNStateType.STAR_LOOP_ENTRY}}]),h}(c.DecisionState);return s([f.Override],d.prototype,"stateType",null),hb.StarLoopEntryState=d,hb}var e6;function l9(){if(e6)return sb;e6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(y,v,g,x){var b=arguments.length,w=b<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,g):x,E;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(y,v,g,x);else for(var C=y.length-1;C>=0;C--)(E=y[C])&&(w=(b<3?E(w):b>3?E(v,g,w):E(v,g))||w);return b>3&&w&&Object.defineProperty(v,g,w),w},i=function(y,v){return function(g,x){v(g,x,y)}};Object.defineProperty(sb,"__esModule",{value:!0});var a=Cf(),s=ey(),u=u9(),l=jS(),c=Rwe(),f=ot(),d=ll(),p=_N(),h=fl,m=function(){function y(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if((0,r.default)(this,y),this.states=new a.Array2DHashSet(d.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!v.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=v,this.atn=v.atn,this.decision=g;var x=!1;v instanceof p.StarLoopEntryState&&v.precedenceRuleDecision&&(x=!0,this.s0=new l.DFAState(new s.ATNConfigSet),this.s0full=new l.DFAState(new s.ATNConfigSet)),this.precedenceDfa=x}return(0,t.default)(y,[{key:"getPrecedenceStartState",value:function(g,x){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return x?this.s0full.getTarget(g):this.s0.getTarget(g)}},{key:"setPrecedenceStartState",value:function(g,x,b){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");g<0||(x?this.s0full.setTarget(g,b):this.s0.setTarget(g,b))}},{key:"addState",value:function(g){return g.stateNumber=this.nextStateNumber++,this.states.getOrAdd(g)}},{key:"toString",value:function(g,x){if(g||(g=h.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";var b;return x?b=new u.DFASerializer(this,g,x,this.atnStartState.atn):b=new u.DFASerializer(this,g),b.toString()}},{key:"toLexerString",value:function(){if(!this.s0)return"";var g=new c.LexerDFASerializer(this);return g.toString()}},{key:"isPrecedenceDfa",get:function(){return this.precedenceDfa}},{key:"isEmpty",get:function(){return this.isPrecedenceDfa?this.s0.getEdgeMap().size===0&&this.s0full.getEdgeMap().size===0:this.s0==null&&this.s0full==null}},{key:"isContextSensitive",get:function(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:this.s0full!=null}}]),y}();return o([f.NotNull],m.prototype,"states",void 0),o([f.NotNull],m.prototype,"atnStartState",void 0),o([f.NotNull],m.prototype,"atn",void 0),m=o([i(0,f.NotNull)],m),sb.DFA=m,sb}var vb={},mb={},t6;function c9(){if(t6)return mb;t6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(mb,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return l.ATNStateType.BASIC}}]),p}(u.ATNState);return s([c.Override],f.prototype,"stateType",null),mb.BasicState=f,mb}var r6;function f9(){if(r6)return vb;r6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(vb,"__esModule",{value:!0});var u=li(),l=c9(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.INVALID_TYPE}}]),p}(l.BasicState);return s([c.Override],f.prototype,"stateType",null),vb.InvalidState=f,vb}var gb={},yb={},xb={},n6;function wN(){if(n6)return xb;n6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(h,m,y,v){var g=arguments.length,x=g<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,y):v,b;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,m,y,v);else for(var w=h.length-1;w>=0;w--)(b=h[w])&&(x=(g<3?b(x):g>3?b(m,y,x):b(m,y))||x);return g>3&&x&&Object.defineProperty(m,y,x),x},u=function(h,m){return function(y,v){m(y,v,h)}};Object.defineProperty(xb,"__esModule",{value:!0});var l=Qd(),c=ot(),f=Rn,d=Sf(),p=function(h){(0,i.default)(m,h);function m(y,v){var g;return(0,r.default)(this,m),g=(0,n.default)(this,(0,o.default)(m).call(this,y)),v==null&&(v=l.IntervalSet.of(f.Token.INVALID_TYPE)),g.set=v,g}return(0,t.default)(m,[{key:"matches",value:function(v,g,x){return this.set.contains(v)}},{key:"toString",value:function(){return this.set.toString()}},{key:"serializationType",get:function(){return 7}},{key:"label",get:function(){return this.set}}]),m}(d.Transition);return s([c.NotNull],p.prototype,"set",void 0),s([c.Override],p.prototype,"serializationType",null),s([c.Override,c.NotNull],p.prototype,"label",null),s([c.Override],p.prototype,"matches",null),s([c.Override,c.NotNull],p.prototype,"toString",null),p=s([u(0,c.NotNull),u(1,c.Nullable)],p),xb.SetTransition=p,xb}var o6;function SN(){if(o6)return yb;o6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Vd()),a=e(Pt()),s=e(tt()),u=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},l=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(yb,"__esModule",{value:!0});var c=ot(),f=wN(),d=function(p){(0,a.default)(h,p);function h(m,y){return(0,r.default)(this,h),(0,n.default)(this,(0,o.default)(h).call(this,m,y))}return(0,t.default)(h,[{key:"matches",value:function(y,v,g){return y>=v&&y<=g&&!(0,i.default)((0,o.default)(h.prototype),"matches",this).call(this,y,v,g)}},{key:"toString",value:function(){return"~"+(0,i.default)((0,o.default)(h.prototype),"toString",this).call(this)}},{key:"serializationType",get:function(){return 8}}]),h}(f.SetTransition);return u([c.Override],d.prototype,"serializationType",null),u([c.Override],d.prototype,"matches",null),u([c.Override],d.prototype,"toString",null),d=u([l(0,c.NotNull),l(1,c.Nullable)],d),yb.NotSetTransition=d,yb}var bb={},i6;function ry(){if(i6)return bb;i6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(bb,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"nonStopStateNumber",get:function(){return-1}},{key:"stateType",get:function(){return l.ATNStateType.RULE_STOP}}]),p}(u.ATNState);return s([c.Override],f.prototype,"nonStopStateNumber",null),s([c.Override],f.prototype,"stateType",null),bb.RuleStopState=f,bb}var _b={},a6;function CN(){if(a6)return _b;a6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(_b,"__esModule",{value:!0});var l=ot(),c=Sf(),f=function(d){(0,i.default)(p,d);function p(h,m,y,v){var g;return(0,r.default)(this,p),g=(0,n.default)(this,(0,o.default)(p).call(this,h)),g.tailCall=!1,g.optimizedTailCall=!1,g.ruleIndex=m,g.precedence=y,g.followState=v,g}return(0,t.default)(p,[{key:"matches",value:function(m,y,v){return!1}},{key:"serializationType",get:function(){return 3}},{key:"isEpsilon",get:function(){return!0}}]),p}(c.Transition);return s([l.NotNull],f.prototype,"followState",void 0),s([l.Override],f.prototype,"serializationType",null),s([l.Override],f.prototype,"isEpsilon",null),s([l.Override],f.prototype,"matches",null),f=s([u(0,l.NotNull),u(3,l.NotNull)],f),_b.RuleTransition=f,_b}var wb={},s6;function d9(){if(s6)return wb;s6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(wb,"__esModule",{value:!0});var l=ot(),c=Sf(),f=function(d){(0,i.default)(p,d);function p(h){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).call(this,h))}return(0,t.default)(p,[{key:"matches",value:function(m,y,v){return m>=y&&m<=v}},{key:"toString",value:function(){return"."}},{key:"serializationType",get:function(){return 9}}]),p}(c.Transition);return s([l.Override],f.prototype,"serializationType",null),s([l.Override],f.prototype,"matches",null),s([l.Override,l.NotNull],f.prototype,"toString",null),f=s([u(0,l.NotNull)],f),wb.WildcardTransition=f,wb}var u6;function Twe(){if(u6)return gb;u6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(b,w,E,C){var S=arguments.length,T=S<3?w:C===null?C=Object.getOwnPropertyDescriptor(w,E):C,k;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(b,w,E,C);else for(var P=b.length-1;P>=0;P--)(k=b[P])&&(T=(S<3?k(T):S>3?k(w,E,T):k(w,E))||T);return S>3&&T&&Object.defineProperty(w,E,T),T},i=function(b,w){return function(E,C){w(E,C,b)}};Object.defineProperty(gb,"__esModule",{value:!0});var a=dN(),s=Cf(),u=BS(),l=kf(),c=Qd(),f=ot(),d=SN(),p=ll(),h=au(),m=ry(),y=CN(),v=Rn,g=d9(),x=function(){function b(w){(0,r.default)(this,b),this.atn=w}return(0,t.default)(b,[{key:"getDecisionLookahead",value:function(E){if(E!=null){for(var C=new Array(E.numberOfTransitions),S=0;S<E.numberOfTransitions;S++){var T=new c.IntervalSet;C[S]=T;var k=new s.Array2DHashSet(p.ObjectEqualityComparator.INSTANCE),P=!1;this._LOOK(E.transition(S).target,void 0,h.PredictionContext.EMPTY_LOCAL,T,k,new l.BitSet,P,!1),(T.size===0||T.contains(b.HIT_PRED))&&(T=void 0,C[S]=T)}return C}}},{key:"LOOK",value:function(E,C,S){if(S===void 0){if(E.atn==null)throw new Error("Illegal state");S=E.atn.ruleToStopState[E.ruleIndex]}else S===null&&(S=void 0);var T=new c.IntervalSet,k=!0,P=!0;return this._LOOK(E,S,C,T,new s.Array2DHashSet,new l.BitSet,k,P),T}},{key:"_LOOK",value:function(E,C,S,T,k,P,I,F){var A=u.ATNConfig.create(E,0,S);if(k.add(A)){if(E===C){if(h.PredictionContext.isEmptyLocal(S)){T.add(v.Token.EPSILON);return}else if(S.isEmpty){F&&T.add(v.Token.EOF);return}}if(E instanceof m.RuleStopState){if(S.isEmpty&&!h.PredictionContext.isEmptyLocal(S)){F&&T.add(v.Token.EOF);return}var D=P.get(E.ruleIndex);try{P.clear(E.ruleIndex);for(var $=0;$<S.size;$++)if(S.getReturnState($)!==h.PredictionContext.EMPTY_FULL_STATE_KEY){var B=this.atn.states[S.getReturnState($)];this._LOOK(B,C,S.getParent($),T,k,P,I,F)}}finally{D&&P.set(E.ruleIndex)}}for(var W=E.numberOfTransitions,L=0;L<W;L++){var z=E.transition(L);if(z instanceof y.RuleTransition){if(P.get(z.ruleIndex))continue;var U=S.getChild(z.followState.stateNumber);try{P.set(z.ruleIndex),this._LOOK(z.target,C,U,T,k,P,I,F)}finally{P.clear(z.ruleIndex)}}else if(z instanceof a.AbstractPredicateTransition)I?this._LOOK(z.target,C,S,T,k,P,I,F):T.add(b.HIT_PRED);else if(z.isEpsilon)this._LOOK(z.target,C,S,T,k,P,I,F);else if(z instanceof g.WildcardTransition)T.addAll(c.IntervalSet.of(v.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{var Y=z.label;Y!=null&&(z instanceof d.NotSetTransition&&(Y=Y.complement(c.IntervalSet.of(v.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),T.addAll(Y))}}}}}]),b}();return x.HIT_PRED=v.Token.INVALID_TYPE,o([f.NotNull],x.prototype,"atn",void 0),o([f.NotNull,i(0,f.NotNull),i(1,f.NotNull)],x.prototype,"LOOK",null),o([i(0,f.NotNull),i(2,f.NotNull),i(3,f.NotNull),i(4,f.NotNull),i(5,f.NotNull)],x.prototype,"_LOOK",null),x=o([i(0,f.NotNull)],x),gb.LL1Analyzer=x,gb}var l6;function uc(){return l6||(l6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(g,x,b,w){var E=arguments.length,C=E<3?x:w===null?w=Object.getOwnPropertyDescriptor(x,b):w,S;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,x,b,w);else for(var T=g.length-1;T>=0;T--)(S=g[T])&&(C=(E<3?S(C):E>3?S(x,b,C):S(x,b))||C);return E>3&&C&&Object.defineProperty(x,b,C),C},a=function(g,x){return function(b,w){x(b,w,g)}};Object.defineProperty(e,"__esModule",{value:!0});var s=Bv(),u=l9(),l=Qd(),c=f9(),f=Twe(),d=ot(),p=ll(),h=au(),m=Rn,y=Vi(),v=function(){function g(x,b){(0,t.default)(this,g),this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new s.Array2DHashMap(p.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=x,this.maxTokenType=b}return(0,n.default)(g,[{key:"clearDFA",value:function(){this.decisionToDFA=new Array(this.decisionToState.length);for(var b=0;b<this.decisionToDFA.length;b++)this.decisionToDFA[b]=new u.DFA(this.decisionToState[b],b);this.modeToDFA=new Array(this.modeToStartState.length);for(var w=0;w<this.modeToDFA.length;w++)this.modeToDFA[w]=new u.DFA(this.modeToStartState[w]);this.contextCache.clear(),this.LL1Table.clear()}},{key:"getCachedContext",value:function(b){return h.PredictionContext.getCachedContext(b,this.contextCache,new h.PredictionContext.IdentityHashMap)}},{key:"getDecisionToDFA",value:function(){return y(this.decisionToDFA!=null&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}},{key:"nextTokens",value:function(b,w){if(w){var E=new f.LL1Analyzer(this),C=E.LOOK(b,w);return C}else return b.nextTokenWithinRule||(b.nextTokenWithinRule=this.nextTokens(b,h.PredictionContext.EMPTY_LOCAL),b.nextTokenWithinRule.setReadonly(!0)),b.nextTokenWithinRule}},{key:"addState",value:function(b){b.atn=this,b.stateNumber=this.states.length,this.states.push(b)}},{key:"removeState",value:function(b){var w=new c.InvalidState;w.atn=this,w.stateNumber=b.stateNumber,this.states[b.stateNumber]=w}},{key:"defineMode",value:function(b,w){this.modeNameToStartState.set(b,w),this.modeToStartState.push(w),this.modeToDFA.push(new u.DFA(w)),this.defineDecisionState(w)}},{key:"defineDecisionState",value:function(b){return this.decisionToState.push(b),b.decision=this.decisionToState.length-1,this.decisionToDFA.push(new u.DFA(b,b.decision)),b.decision}},{key:"getDecisionState",value:function(b){if(this.decisionToState.length>0)return this.decisionToState[b]}},{key:"getExpectedTokens",value:function(b,w){if(b<0||b>=this.states.length)throw new RangeError("Invalid state number.");var E=w,C=this.states[b],S=this.nextTokens(C);if(!S.contains(m.Token.EPSILON))return S;var T=new l.IntervalSet;for(T.addAll(S),T.remove(m.Token.EPSILON);E!=null&&E.invokingState>=0&&S.contains(m.Token.EPSILON);){var k=this.states[E.invokingState],P=k.transition(0);S=this.nextTokens(P.followState),T.addAll(S),T.remove(m.Token.EPSILON),E=E._parent}return S.contains(m.Token.EPSILON)&&T.add(m.Token.EOF),T}},{key:"contextCacheSize",get:function(){return this.contextCache.size}},{key:"numberOfDecisions",get:function(){return this.decisionToState.length}}]),g}();i([d.NotNull],v.prototype,"states",void 0),i([d.NotNull],v.prototype,"decisionToState",void 0),i([d.NotNull],v.prototype,"modeNameToStartState",void 0),i([d.NotNull],v.prototype,"modeToStartState",void 0),i([d.NotNull],v.prototype,"decisionToDFA",void 0),i([d.NotNull],v.prototype,"modeToDFA",void 0),i([d.NotNull],v.prototype,"nextTokens",null),i([a(0,d.NotNull)],v.prototype,"removeState",null),i([a(0,d.NotNull),a(1,d.NotNull)],v.prototype,"defineMode",null),i([a(0,d.NotNull)],v.prototype,"defineDecisionState",null),i([d.NotNull],v.prototype,"getExpectedTokens",null),v=i([a(0,d.NotNull)],v),e.ATN=v,function(g){g.INVALID_ALT_NUMBER=0}(v=e.ATN||(e.ATN={})),e.ATN=v}(ET)),ET}var Sb={},Cb={},c6;function Awe(){if(c6)return Cb;c6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(Cb,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c,f){(0,r.default)(this,l),this._offset=c,this._action=f}return(0,t.default)(l,[{key:"execute",value:function(f){this._action.execute(f)}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this._offset),f=a.MurmurHash.update(f,this._action),a.MurmurHash.finish(f,2)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._offset===f._offset&&this._action.equals(f._action):!1}},{key:"offset",get:function(){return this._offset}},{key:"action",get:function(){return this._action}},{key:"actionType",get:function(){return this._action.actionType}},{key:"isPositionDependent",get:function(){return!0}}]),l}();return o([s.NotNull],u.prototype,"action",null),o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),u=o([i(1,s.NotNull)],u),Cb.LexerIndexedCustomAction=u,Cb}var f6;function Owe(){if(f6)return Sb;f6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},i=function(f,d){return function(p,h){d(p,h,f)}};Object.defineProperty(Sb,"__esModule",{value:!0});var a=FS(),s=Awe(),u=ho(),l=ot(),c=function(){function f(d){(0,r.default)(this,f),this._lexerActions=d;var p=u.MurmurHash.initialize(),h=!0,m=!1,y=void 0;try{for(var v=d[Symbol.iterator](),g;!(h=(g=v.next()).done);h=!0){var x=g.value;p=u.MurmurHash.update(p,x)}}catch(b){m=!0,y=b}finally{try{!h&&v.return!=null&&v.return()}finally{if(m)throw y}}this.cachedHashCode=u.MurmurHash.finish(p,d.length)}return(0,t.default)(f,[{key:"fixOffsetBeforeMatch",value:function(p){for(var h,m=0;m<this._lexerActions.length;m++)this._lexerActions[m].isPositionDependent&&!(this._lexerActions[m]instanceof s.LexerIndexedCustomAction)&&(h||(h=this._lexerActions.slice(0)),h[m]=new s.LexerIndexedCustomAction(p,this._lexerActions[m]));return h?new f(h):this}},{key:"execute",value:function(p,h,m){var y=!1,v=h.index;try{var g=!0,x=!1,b=void 0;try{for(var w=this._lexerActions[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C instanceof s.LexerIndexedCustomAction){var S=C.offset;h.seek(m+S),C=C.action,y=m+S!==v}else C.isPositionDependent&&(h.seek(v),y=!1);C.execute(p)}}catch(T){x=!0,b=T}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}}finally{y&&h.seek(v)}}},{key:"hashCode",value:function(){return this.cachedHashCode}},{key:"equals",value:function(p){return p===this?!0:p instanceof f?this.cachedHashCode===p.cachedHashCode&&a.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,p._lexerActions):!1}},{key:"lexerActions",get:function(){return this._lexerActions}}],[{key:"append",value:function(p,h){if(!p)return new f([h]);var m=p._lexerActions.slice(0);return m.push(h),new f(m)}}]),f}();return o([l.NotNull],c.prototype,"_lexerActions",void 0),o([l.NotNull],c.prototype,"lexerActions",null),o([i(0,l.NotNull)],c.prototype,"execute",null),o([l.Override],c.prototype,"hashCode",null),o([l.Override],c.prototype,"equals",null),o([l.NotNull,i(1,l.NotNull)],c,"append",null),c=o([i(0,l.NotNull)],c),Sb.LexerActionExecutor=c,Sb}var jv={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Xd=Ge,Dwe=Xd(Ke()),Pwe=Xd(rt()),Iwe=Xd(Dt()),d6=Xd(Tt()),Nwe=Xd(Vd()),Mwe=Xd(Pt()),Fwe=Xd(tt()),EN=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,Fwe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},Lwe=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(jv,"__esModule",{value:!0});var Bwe=ul,kN=ot(),jwe=ba(),$we=Ri,g0=function(e){(0,Mwe.default)(r,e);function r(t,n,o,i){var a;return(0,Dwe.default)(this,r),a=(0,Iwe.default)(this,(0,d6.default)(r).call(this,t,n)),a._startIndex=o,a._deadEndConfigs=i,a}return(0,Pwe.default)(r,[{key:"toString",value:function(){var n="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(n=this.inputStream.getText(jwe.Interval.of(this._startIndex,this._startIndex)),n=$we.escapeWhitespace(n,!1)),"LexerNoViableAltException('".concat(n,"')")}},{key:"startIndex",get:function(){return this._startIndex}},{key:"deadEndConfigs",get:function(){return this._deadEndConfigs}},{key:"inputStream",get:function(){return(0,Nwe.default)((0,d6.default)(r.prototype),"inputStream",this)}}]),r}(Bwe.RecognitionException);EN([kN.Override],g0.prototype,"inputStream",null);EN([kN.Override],g0.prototype,"toString",null);g0=EN([Lwe(1,kN.NotNull)],g0);jv.LexerNoViableAltException=g0;var Eb={},p6;function zwe(){if(p6)return Eb;p6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y};Object.defineProperty(Eb,"__esModule",{value:!0});var u=ey(),l=ot(),c=function(f){(0,i.default)(d,f);function d(p,h){var m;return(0,r.default)(this,d),p!=null&&h!=null?m=(0,n.default)(this,(0,o.default)(d).call(this,p,h)):m=(0,n.default)(this,(0,o.default)(d).call(this)),(0,n.default)(m)}return(0,t.default)(d,[{key:"clone",value:function(h){var m=new d(this,h);return!h&&this.isReadOnly&&m.addAll(this),m}},{key:"getKey",value:function(h){return{state:0,alt:h.hashCode()}}},{key:"canMerge",value:function(h,m,y){return h.equals(y)}}]),d}(u.ATNConfigSet);return s([l.Override],c.prototype,"clone",null),s([l.Override],c.prototype,"getKey",null),s([l.Override],c.prototype,"canMerge",null),Eb.OrderedATNConfigSet=c,Eb}var h6;function US(){return h6||(h6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(Dt()),i=r(Tt()),a=r(Pt()),s=r(tt()),u=function(I,F,A,D){var $=arguments.length,B=$<3?F:D===null?D=Object.getOwnPropertyDescriptor(F,A):D,W;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(I,F,A,D);else for(var L=I.length-1;L>=0;L--)(W=I[L])&&(B=($<3?W(B):$>3?W(F,A,B):W(F,A))||B);return $>3&&B&&Object.defineProperty(F,A,B),B},l=function(I,F){return function(A,D){F(A,D,I)}};Object.defineProperty(e,"__esModule",{value:!0});var c=n9(),f=uc(),d=BS(),p=ey(),h=$S(),m=jS(),y=ba(),v=ac,g=Tf(),x=Owe(),b=jv,w=ot(),E=zwe(),C=au(),S=ry(),T=Rn,k=Vi(),P=function(I){(0,a.default)(F,I);function F(A,D){var $;return(0,t.default)(this,F),$=(0,o.default)(this,(0,i.default)(F).call(this,A)),$.optimize_tail_calls=!0,$.startIndex=-1,$._line=1,$._charPositionInLine=0,$.mode=g.Lexer.DEFAULT_MODE,$.prevAccept=new F.SimState,$.recog=D,$}return(0,n.default)(F,[{key:"copyState",value:function(D){this._charPositionInLine=D.charPositionInLine,this._line=D._line,this.mode=D.mode,this.startIndex=D.startIndex}},{key:"match",value:function(D,$){F.match_calls++,this.mode=$;var B=D.mark();try{this.startIndex=D.index,this.prevAccept.reset();var W=this.atn.modeToDFA[$].s0;return W==null?this.matchATN(D):this.execATN(D,W)}finally{D.release(B)}}},{key:"reset",value:function(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=g.Lexer.DEFAULT_MODE}},{key:"matchATN",value:function(D){var $=this.atn.modeToStartState[this.mode];F.debug&&console.log("matchATN mode ".concat(this.mode," start: ").concat($));var B=this.mode,W=this.computeStartState(D,$),L=W.hasSemanticContext;L&&(W.hasSemanticContext=!1);var z=this.addDFAState(W);if(!L){var U=this.atn.modeToDFA[this.mode];U.s0?z=U.s0:U.s0=z}var Y=this.execATN(D,z);return F.debug&&console.log("DFA after matchATN: ".concat(this.atn.modeToDFA[B].toLexerString())),Y}},{key:"execATN",value:function(D,$){F.debug&&console.log("start state closure=".concat($.configs)),$.isAcceptState&&this.captureSimState(this.prevAccept,D,$);for(var B=D.LA(1),W=$;;){F.debug&&console.log("execATN loop starting closure: ".concat(W.configs));var L=this.getExistingTargetState(W,B);if(L==null&&(L=this.computeTargetState(D,W,B)),L===h.ATNSimulator.ERROR||(B!==v.IntStream.EOF&&this.consume(D),L.isAcceptState&&(this.captureSimState(this.prevAccept,D,L),B===v.IntStream.EOF)))break;B=D.LA(1),W=L}return this.failOrAccept(this.prevAccept,D,W.configs,B)}},{key:"getExistingTargetState",value:function(D,$){var B=D.getTarget($);return F.debug&&B!=null&&console.log("reuse state "+D.stateNumber+" edge to "+B.stateNumber),B}},{key:"computeTargetState",value:function(D,$,B){var W=new E.OrderedATNConfigSet;return this.getReachableConfigSet(D,$.configs,W,B),W.isEmpty?(W.hasSemanticContext||this.addDFAEdge($,B,h.ATNSimulator.ERROR),h.ATNSimulator.ERROR):this.addDFAEdge($,B,W)}},{key:"failOrAccept",value:function(D,$,B,W){if(D.dfaState!=null){var L=D.dfaState.lexerActionExecutor;return this.accept($,L,this.startIndex,D.index,D.line,D.charPos),D.dfaState.prediction}else{if(W===v.IntStream.EOF&&$.index===this.startIndex)return T.Token.EOF;throw new b.LexerNoViableAltException(this.recog,$,this.startIndex,B)}}},{key:"getReachableConfigSet",value:function(D,$,B,W){var L=f.ATN.INVALID_ALT_NUMBER,z=!0,U=!1,Y=void 0;try{for(var q=$[Symbol.iterator](),V;!(z=(V=q.next()).done);z=!0){var H=V.value,Z=H.alt===L;if(!(Z&&H.hasPassedThroughNonGreedyDecision)){F.debug&&console.log("testing ".concat(this.getTokenName(W)," at ").concat(H.toString(this.recog,!0)));for(var ue=H.state.numberOfOptimizedTransitions,oe=0;oe<ue;oe++){var ee=H.state.getOptimizedTransition(oe),ne=this.getReachableTarget(ee,W);if(ne!=null){var pe=H.lexerActionExecutor,J=void 0;pe!=null?(pe=pe.fixOffsetBeforeMatch(D.index-this.startIndex),J=H.transform(ne,!0,pe)):(k(H.lexerActionExecutor==null),J=H.transform(ne,!0));var se=W===v.IntStream.EOF;if(this.closure(D,J,B,Z,!0,se)){L=H.alt;break}}}}}}catch(j){U=!0,Y=j}finally{try{!z&&q.return!=null&&q.return()}finally{if(U)throw Y}}}},{key:"accept",value:function(D,$,B,W,L,z){F.debug&&console.log("ACTION ".concat($)),D.seek(W),this._line=L,this._charPositionInLine=z,$!=null&&this.recog!=null&&$.execute(this.recog,D,B)}},{key:"getReachableTarget",value:function(D,$){if(D.matches($,g.Lexer.MIN_CHAR_VALUE,g.Lexer.MAX_CHAR_VALUE))return D.target}},{key:"computeStartState",value:function(D,$){for(var B=C.PredictionContext.EMPTY_FULL,W=new E.OrderedATNConfigSet,L=0;L<$.numberOfTransitions;L++){var z=$.transition(L).target,U=d.ATNConfig.create(z,L+1,B);this.closure(D,U,W,!1,!1,!1)}return W}},{key:"closure",value:function(D,$,B,W,L,z){if(F.debug&&console.log("closure("+$.toString(this.recog,!0)+")"),$.state instanceof S.RuleStopState){F.debug&&(this.recog!=null?console.log("closure at ".concat(this.recog.ruleNames[$.state.ruleIndex]," rule stop ").concat($)):console.log("closure at rule stop ".concat($)));var U=$.context;if(U.isEmpty)return B.add($),!0;U.hasEmpty&&(B.add($.transform($.state,!0,C.PredictionContext.EMPTY_FULL)),W=!0);for(var Y=0;Y<U.size;Y++){var q=U.getReturnState(Y);if(q!==C.PredictionContext.EMPTY_FULL_STATE_KEY){var V=U.getParent(Y),H=this.atn.states[q],Z=$.transform(H,!1,V);W=this.closure(D,Z,B,W,L,z)}}return W}$.state.onlyHasEpsilonTransitions||(!W||!$.hasPassedThroughNonGreedyDecision)&&B.add($);for(var ue=$.state,oe=0;oe<ue.numberOfOptimizedTransitions;oe++){var ee=ue.getOptimizedTransition(oe),ne=this.getEpsilonTarget(D,$,ee,B,L,z);ne!=null&&(W=this.closure(D,ne,B,W,L,z))}return W}},{key:"getEpsilonTarget",value:function(D,$,B,W,L,z){var U;switch(B.serializationType){case 3:var Y=B;if(this.optimize_tail_calls&&Y.optimizedTailCall&&!$.context.hasEmpty)U=$.transform(B.target,!0);else{var q=$.context.getChild(Y.followState.stateNumber);U=$.transform(B.target,!0,q)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:var V=B;F.debug&&console.log("EVAL rule "+V.ruleIndex+":"+V.predIndex),W.hasSemanticContext=!0,this.evaluatePredicate(D,V.ruleIndex,V.predIndex,L)?U=$.transform(B.target,!0):U=void 0;break;case 6:if($.context.hasEmpty){var H=x.LexerActionExecutor.append($.lexerActionExecutor,this.atn.lexerActions[B.actionIndex]);U=$.transform(B.target,!0,H);break}else{U=$.transform(B.target,!0);break}case 1:U=$.transform(B.target,!0);break;case 5:case 2:case 7:if(z&&B.matches(v.IntStream.EOF,g.Lexer.MIN_CHAR_VALUE,g.Lexer.MAX_CHAR_VALUE)){U=$.transform(B.target,!1);break}U=void 0;break;default:U=void 0;break}return U}},{key:"evaluatePredicate",value:function(D,$,B,W){if(this.recog==null)return!0;if(!W)return this.recog.sempred(void 0,$,B);var L=this._charPositionInLine,z=this._line,U=D.index,Y=D.mark();try{return this.consume(D),this.recog.sempred(void 0,$,B)}finally{this._charPositionInLine=L,this._line=z,D.seek(U),D.release(Y)}}},{key:"captureSimState",value:function(D,$,B){D.index=$.index,D.line=this._line,D.charPos=this._charPositionInLine,D.dfaState=B}},{key:"addDFAEdge",value:function(D,$,B){if(B instanceof p.ATNConfigSet){var W=B.hasSemanticContext;W&&(B.hasSemanticContext=!1);var L=this.addDFAState(B);return W||this.addDFAEdge(D,$,L),L}else F.debug&&console.log("EDGE "+D+" -> "+B+" upon "+String.fromCharCode($)),D!=null&&D.setTarget($,B)}},{key:"addDFAState",value:function(D){k(!D.hasSemanticContext);var $=new m.DFAState(D),B=this.atn.modeToDFA[this.mode].states.get($);if(B!=null)return B;D.optimizeConfigs(this);var W=new m.DFAState(D.clone(!0)),L,z=!0,U=!1,Y=void 0;try{for(var q=D[Symbol.iterator](),V;!(z=(V=q.next()).done);z=!0){var H=V.value;if(H.state instanceof S.RuleStopState){L=H;break}}}catch(oe){U=!0,Y=oe}finally{try{!z&&q.return!=null&&q.return()}finally{if(U)throw Y}}if(L!=null){var Z=this.atn.ruleToTokenType[L.state.ruleIndex],ue=L.lexerActionExecutor;W.acceptStateInfo=new c.AcceptStateInfo(Z,ue)}return this.atn.modeToDFA[this.mode].addState(W)}},{key:"getDFA",value:function(D){return this.atn.modeToDFA[D]}},{key:"getText",value:function(D){return D.getText(y.Interval.of(this.startIndex,D.index-1))}},{key:"consume",value:function(D){var $=D.LA(1);$===10?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,D.consume()}},{key:"getTokenName",value:function(D){return D===-1?"EOF":"'"+String.fromCharCode(D)+"'"}},{key:"line",get:function(){return this._line},set:function(D){this._line=D}},{key:"charPositionInLine",get:function(){return this._charPositionInLine},set:function(D){this._charPositionInLine=D}}]),F}(h.ATNSimulator);P.match_calls=0,u([w.NotNull],P.prototype,"prevAccept",void 0),u([l(0,w.NotNull)],P.prototype,"copyState",null),u([l(0,w.NotNull)],P.prototype,"match",null),u([w.Override],P.prototype,"reset",null),u([l(0,w.NotNull)],P.prototype,"matchATN",null),u([l(0,w.NotNull),l(1,w.NotNull)],P.prototype,"execATN",null),u([l(0,w.NotNull)],P.prototype,"getExistingTargetState",null),u([w.NotNull,l(0,w.NotNull),l(1,w.NotNull)],P.prototype,"computeTargetState",null),u([l(0,w.NotNull),l(1,w.NotNull),l(2,w.NotNull)],P.prototype,"getReachableConfigSet",null),u([l(0,w.NotNull)],P.prototype,"accept",null),u([w.NotNull,l(0,w.NotNull),l(1,w.NotNull)],P.prototype,"computeStartState",null),u([l(0,w.NotNull),l(1,w.NotNull),l(2,w.NotNull)],P.prototype,"closure",null),u([l(0,w.NotNull),l(1,w.NotNull),l(2,w.NotNull),l(3,w.NotNull)],P.prototype,"getEpsilonTarget",null),u([l(0,w.NotNull)],P.prototype,"evaluatePredicate",null),u([l(0,w.NotNull),l(1,w.NotNull),l(2,w.NotNull)],P.prototype,"captureSimState",null),u([w.NotNull,l(0,w.NotNull)],P.prototype,"addDFAState",null),u([w.NotNull],P.prototype,"getDFA",null),u([w.NotNull,l(0,w.NotNull)],P.prototype,"getText",null),u([l(0,w.NotNull)],P.prototype,"consume",null),u([w.NotNull],P.prototype,"getTokenName",null),P=u([l(0,w.NotNull)],P),e.LexerATNSimulator=P,function(I){I.debug=!1,I.dfa_debug=!1;var F=function(){function A(){(0,t.default)(this,A),this.index=-1,this.line=0,this.charPos=-1}return(0,n.default)(A,[{key:"reset",value:function(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}]),A}();I.SimState=F}(P=e.LexerATNSimulator||(e.LexerATNSimulator={})),e.LexerATNSimulator=P}(CT)),CT}var v6;function Tf(){if(v6)return nb;v6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Nv()),a=e(Pt()),s=e(tt()),u=function(x,b,w,E){var C=arguments.length,S=C<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,w):E,T;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(x,b,w,E);else for(var k=x.length-1;k>=0;k--)(T=x[k])&&(S=(C<3?T(S):C>3?T(b,w,S):T(b,w))||S);return C>3&&S&&Object.defineProperty(b,w,S),S};Object.defineProperty(nb,"__esModule",{value:!0});var l=LS,c=r9(),f=ba(),d=ac,p=US(),h=jv,m=ot(),y=Kd,v=Rn,g=function(x){(0,a.default)(b,x);function b(w){var E;return(0,r.default)(this,b),E=(0,n.default)(this,(0,o.default)(b).call(this)),E._factory=l.CommonTokenFactory.DEFAULT,E._tokenStartCharIndex=-1,E._tokenStartLine=0,E._tokenStartCharPositionInLine=0,E._hitEOF=!1,E._channel=0,E._type=0,E._modeStack=new c.IntegerStack,E._mode=b.DEFAULT_MODE,E._input=w,E._tokenFactorySourcePair={source:(0,i.default)(E),stream:w},E}return(0,t.default)(b,[{key:"reset",value:function(E){(E===void 0||E)&&this._input.seek(0),this._token=void 0,this._type=v.Token.INVALID_TYPE,this._channel=v.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=b.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}},{key:"nextToken",value:function(){if(this._input==null)throw new Error("nextToken requires a non-null input stream.");var E=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=v.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{this._type=v.Token.INVALID_TYPE;var C=void 0;try{C=this.interpreter.match(this._input,this._mode)}catch(S){if(S instanceof h.LexerNoViableAltException)this.notifyListeners(S),this.recover(S),C=b.SKIP;else throw S}if(this._input.LA(1)===d.IntStream.EOF&&(this._hitEOF=!0),this._type===v.Token.INVALID_TYPE&&(this._type=C),this._type===b.SKIP)continue e}while(this._type===b.MORE);return this._token==null?this.emit():this._token}}finally{this._input.release(E)}}},{key:"skip",value:function(){this._type=b.SKIP}},{key:"more",value:function(){this._type=b.MORE}},{key:"mode",value:function(E){this._mode=E}},{key:"pushMode",value:function(E){p.LexerATNSimulator.debug&&console.log("pushMode "+E),this._modeStack.push(this._mode),this.mode(E)}},{key:"popMode",value:function(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return p.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}},{key:"emit",value:function(E){return E||(E=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=E,E}},{key:"emitEOF",value:function(){var E=this.charPositionInLine,C=this.line,S=this._factory.create(this._tokenFactorySourcePair,v.Token.EOF,void 0,v.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,C,E);return this.emit(S),S}},{key:"getAllTokens",value:function(){for(var E=[],C=this.nextToken();C.type!==v.Token.EOF;)E.push(C),C=this.nextToken();return E}},{key:"notifyListeners",value:function(E){var C=this._input.getText(f.Interval.of(this._tokenStartCharIndex,this._input.index)),S="token recognition error at: '"+this.getErrorDisplay(C)+"'",T=this.getErrorListenerDispatch();T.syntaxError&&T.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,S,E)}},{key:"getErrorDisplay",value:function(E){if(typeof E=="number"){switch(E){case v.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(E)}return E.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}},{key:"getCharErrorDisplay",value:function(E){var C=this.getErrorDisplay(E);return"'"+C+"'"}},{key:"recover",value:function(E){E instanceof h.LexerNoViableAltException?this._input.LA(1)!==d.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}},{key:"tokenFactory",get:function(){return this._factory},set:function(E){this._factory=E}},{key:"inputStream",get:function(){return this._input},set:function(E){this.reset(!1),this._input=E,this._tokenFactorySourcePair={source:this,stream:this._input}}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"line",get:function(){return this.interpreter.line},set:function(E){this.interpreter.line=E}},{key:"charPositionInLine",get:function(){return this.interpreter.charPositionInLine},set:function(E){this.interpreter.charPositionInLine=E}},{key:"charIndex",get:function(){return this._input.index}},{key:"text",get:function(){return this._text!=null?this._text:this.interpreter.getText(this._input)},set:function(E){this._text=E}},{key:"token",get:function(){return this._token},set:function(E){this._token=E}},{key:"type",set:function(E){this._type=E},get:function(){return this._type}},{key:"channel",set:function(E){this._channel=E},get:function(){return this._channel}}],[{key:"DEFAULT_TOKEN_CHANNEL",get:function(){return v.Token.DEFAULT_CHANNEL}},{key:"HIDDEN",get:function(){return v.Token.HIDDEN_CHANNEL}}]),b}(y.Recognizer);return g.DEFAULT_MODE=0,g.MORE=-2,g.SKIP=-3,g.MIN_CHAR_VALUE=0,g.MAX_CHAR_VALUE=1114111,u([m.Override],g.prototype,"nextToken",null),u([m.Override],g.prototype,"tokenFactory",null),u([m.Override],g.prototype,"inputStream",null),u([m.Override],g.prototype,"sourceName",null),u([m.Override],g.prototype,"line",null),u([m.Override],g.prototype,"charPositionInLine",null),nb.Lexer=g,nb}var m6;function Qd(){if(m6)return eb;m6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(h,m,y,v){var g=arguments.length,x=g<3?m:v===null?v=Object.getOwnPropertyDescriptor(m,y):v,b;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,m,y,v);else for(var w=h.length-1;w>=0;w--)(b=h[w])&&(x=(g<3?b(x):g>3?b(m,y,x):b(m,y))||x);return g>3&&x&&Object.defineProperty(m,y,x),x},i=function(h,m){return function(y,v){m(y,v,h)}};Object.defineProperty(eb,"__esModule",{value:!0});var a=FS(),s=vN(),u=ba(),l=Tf(),c=ho(),f=ot(),d=Rn,p=function(){function h(m){(0,r.default)(this,h),this.readonly=!1,m!=null?this._intervals=m.slice(0):this._intervals=[]}return(0,t.default)(h,[{key:"clear",value:function(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}},{key:"add",value:function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;this.addRange(u.Interval.of(y,v))}},{key:"addRange",value:function(y){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(y.b<y.a)){for(var v=0;v<this._intervals.length;v++){var g=this._intervals[v];if(y.equals(g))return;if(y.adjacent(g)||!y.disjoint(g)){var x=y.union(g);for(this._intervals[v]=x;v<this._intervals.length-1;){v++;var b=this._intervals[v];if(!x.adjacent(b)&&x.disjoint(b))break;this._intervals.splice(v,1),v--,this._intervals[v]=x.union(b)}return}if(y.startsBeforeDisjoint(g)){this._intervals.splice(v,0,y);return}}this._intervals.push(y)}}},{key:"addAll",value:function(y){if(y==null)return this;if(y instanceof h)for(var v=y,g=v._intervals.length,x=0;x<g;x++){var b=v._intervals[x];this.add(b.a,b.b)}else{var w=!0,E=!1,C=void 0;try{for(var S=y.toArray()[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;this.add(k)}}catch(P){E=!0,C=P}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}}return this}},{key:"complementRange",value:function(y,v){return this.complement(h.of(y,v))}},{key:"complement",value:function(y){if(y.isNil)return h.EMPTY_SET;var v;return y instanceof h?v=y:(v=new h,v.addAll(y)),v.subtract(this)}},{key:"subtract",value:function(y){if(y==null||y.isNil)return new h(this._intervals);if(y instanceof h)return h.subtract(this,y);var v=new h;return v.addAll(y),h.subtract(this,v)}},{key:"or",value:function(y){var v=new h;return v.addAll(this),v.addAll(y),v}},{key:"and",value:function(y){if(y.isNil)return new h;for(var v=this._intervals,g=y._intervals,x,b=v.length,w=g.length,E=0,C=0;E<b&&C<w;){var S=v[E],T=g[C];S.startsBeforeDisjoint(T)?E++:T.startsBeforeDisjoint(S)?C++:S.properlyContains(T)?(x||(x=new h),x.addRange(S.intersection(T)),C++):T.properlyContains(S)?(x||(x=new h),x.addRange(S.intersection(T)),E++):S.disjoint(T)||(x||(x=new h),x.addRange(S.intersection(T)),S.startsAfterNonDisjoint(T)?C++:T.startsAfterNonDisjoint(S)&&E++)}return x||new h}},{key:"contains",value:function(y){for(var v=this._intervals.length,g=0,x=v-1;g<=x;){var b=g+x>>1,w=this._intervals[b],E=w.a,C=w.b;if(C<y)g=b+1;else if(E>y)x=b-1;else return!0}return!1}},{key:"hashCode",value:function(){var y=c.MurmurHash.initialize(),v=!0,g=!1,x=void 0;try{for(var b=this._intervals[Symbol.iterator](),w;!(v=(w=b.next()).done);v=!0){var E=w.value;y=c.MurmurHash.update(y,E.a),y=c.MurmurHash.update(y,E.b)}}catch(C){g=!0,x=C}finally{try{!v&&b.return!=null&&b.return()}finally{if(g)throw x}}return y=c.MurmurHash.finish(y,this._intervals.length*2),y}},{key:"equals",value:function(y){return y==null||!(y instanceof h)?!1:a.ArrayEqualityComparator.INSTANCE.equals(this._intervals,y._intervals)}},{key:"toString",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v="";if(this._intervals==null||this._intervals.length===0)return"{}";this.size>1&&(v+="{");var g=!0,x=!0,b=!1,w=void 0;try{for(var E=this._intervals[Symbol.iterator](),C;!(x=(C=E.next()).done);x=!0){var S=C.value;g?g=!1:v+=", ";var T=S.a,k=S.b;T===k?T===d.Token.EOF?v+="<EOF>":y?v+="'"+String.fromCodePoint(T)+"'":v+=T:y?v+="'"+String.fromCodePoint(T)+"'..'"+String.fromCodePoint(k)+"'":v+=T+".."+k}}catch(P){b=!0,w=P}finally{try{!x&&E.return!=null&&E.return()}finally{if(b)throw w}}return this.size>1&&(v+="}"),v}},{key:"toStringVocabulary",value:function(y){if(this._intervals==null||this._intervals.length===0)return"{}";var v="";this.size>1&&(v+="{");var g=!0,x=!0,b=!1,w=void 0;try{for(var E=this._intervals[Symbol.iterator](),C;!(x=(C=E.next()).done);x=!0){var S=C.value;g?g=!1:v+=", ";var T=S.a,k=S.b;if(T===k)v+=this.elementName(y,T);else for(var P=T;P<=k;P++)P>T&&(v+=", "),v+=this.elementName(y,P)}}catch(I){b=!0,w=I}finally{try{!x&&E.return!=null&&E.return()}finally{if(b)throw w}}return this.size>1&&(v+="}"),v}},{key:"elementName",value:function(y,v){return v===d.Token.EOF?"<EOF>":v===d.Token.EPSILON?"<EPSILON>":y.getDisplayName(v)}},{key:"toIntegerList",value:function(){for(var y=new s.IntegerList(this.size),v=this._intervals.length,g=0;g<v;g++)for(var x=this._intervals[g],b=x.a,w=x.b,E=b;E<=w;E++)y.add(E);return y}},{key:"toSet",value:function(){var y=new Set,v=!0,g=!1,x=void 0;try{for(var b=this._intervals[Symbol.iterator](),w;!(v=(w=b.next()).done);v=!0)for(var E=w.value,C=E.a,S=E.b,T=C;T<=S;T++)y.add(T)}catch(k){g=!0,x=k}finally{try{!v&&b.return!=null&&b.return()}finally{if(g)throw x}}return y}},{key:"toArray",value:function(){for(var y=new Array,v=this._intervals.length,g=0;g<v;g++)for(var x=this._intervals[g],b=x.a,w=x.b,E=b;E<=w;E++)y.push(E);return y}},{key:"remove",value:function(y){if(this.readonly)throw new Error("can't alter readonly IntervalSet");for(var v=this._intervals.length,g=0;g<v;g++){var x=this._intervals[g],b=x.a,w=x.b;if(y<b)break;if(y===b&&y===w){this._intervals.splice(g,1);break}if(y===b){this._intervals[g]=u.Interval.of(x.a+1,x.b);break}if(y===w){this._intervals[g]=u.Interval.of(x.a,x.b-1);break}if(y>b&&y<w){var E=x.b;this._intervals[g]=u.Interval.of(x.a,y-1),this.add(y+1,E)}}}},{key:"setReadonly",value:function(y){if(this.readonly&&!y)throw new Error("can't alter readonly IntervalSet");this.readonly=y}},{key:"isNil",get:function(){return this._intervals==null||this._intervals.length===0}},{key:"maxElement",get:function(){if(this.isNil)throw new RangeError("set is empty");var y=this._intervals[this._intervals.length-1];return y.b}},{key:"minElement",get:function(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}},{key:"intervals",get:function(){return this._intervals}},{key:"size",get:function(){var y=0,v=this._intervals.length;if(v===1){var g=this._intervals[0];return g.b-g.a+1}for(var x=0;x<v;x++){var b=this._intervals[x];y+=b.b-b.a+1}return y}},{key:"isReadonly",get:function(){return this.readonly}}],[{key:"of",value:function(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,g=new h;return g.add(y,v),g}},{key:"or",value:function(y){var v=new h,g=!0,x=!1,b=void 0;try{for(var w=y[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;v.addAll(C)}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return v}},{key:"subtract",value:function(y,v){if(y.isNil)return new h;var g=new h(y._intervals);if(v.isNil)return g;for(var x=0,b=0;x<g._intervals.length&&b<v._intervals.length;){var w=g._intervals[x],E=v._intervals[b];if(E.b<w.a){b++;continue}if(E.a>w.b){x++;continue}var C=void 0,S=void 0;if(E.a>w.a&&(C=new u.Interval(w.a,E.a-1)),E.b<w.b&&(S=new u.Interval(E.b+1,w.b)),C)if(S){g._intervals[x]=C,g._intervals.splice(x+1,0,S),x++,b++;continue}else{g._intervals[x]=C,x++;continue}else if(S){g._intervals[x]=S,b++;continue}else{g._intervals.splice(x,1);continue}}return g}},{key:"COMPLETE_CHAR_SET",get:function(){return h._COMPLETE_CHAR_SET===void 0&&(h._COMPLETE_CHAR_SET=h.of(l.Lexer.MIN_CHAR_VALUE,l.Lexer.MAX_CHAR_VALUE),h._COMPLETE_CHAR_SET.setReadonly(!0)),h._COMPLETE_CHAR_SET}},{key:"EMPTY_SET",get:function(){return h._EMPTY_SET==null&&(h._EMPTY_SET=new h,h._EMPTY_SET.setReadonly(!0)),h._EMPTY_SET}}]),h}();return o([f.Override],p.prototype,"addAll",null),o([f.Override],p.prototype,"complement",null),o([f.Override],p.prototype,"subtract",null),o([f.Override],p.prototype,"or",null),o([f.Override],p.prototype,"and",null),o([f.Override],p.prototype,"contains",null),o([f.Override],p.prototype,"isNil",null),o([f.Override],p.prototype,"hashCode",null),o([f.Override],p.prototype,"equals",null),o([i(0,f.NotNull)],p.prototype,"toStringVocabulary",null),o([f.NotNull,i(0,f.NotNull)],p.prototype,"elementName",null),o([f.Override],p.prototype,"size",null),o([f.Override],p.prototype,"remove",null),o([f.NotNull],p,"of",null),o([f.NotNull],p,"subtract",null),eb.IntervalSet=p,eb}var kb={},Rb={},Tb={},g6;function p9(){if(g6)return Tb;g6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d};Object.defineProperty(Tb,"__esModule",{value:!0});var i=ot(),a=function(){function s(u){(0,r.default)(this,s),this.readOnly=!1,u?(this.verifyATN=u.verifyATN,this.generateRuleBypassTransitions=u.generateRuleBypassTransitions,this.optimize=u.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}return(0,t.default)(s,[{key:"makeReadOnly",value:function(){this.readOnly=!0}},{key:"throwIfReadOnly",value:function(){if(this.isReadOnly)throw new Error("The object is read only.")}},{key:"isReadOnly",get:function(){return this.readOnly}},{key:"isVerifyATN",get:function(){return this.verifyATN},set:function(l){this.throwIfReadOnly(),this.verifyATN=l}},{key:"isGenerateRuleBypassTransitions",get:function(){return this.generateRuleBypassTransitions},set:function(l){this.throwIfReadOnly(),this.generateRuleBypassTransitions=l}},{key:"isOptimize",get:function(){return this.optimize},set:function(l){this.throwIfReadOnly(),this.optimize=l}}],[{key:"defaultOptions",get:function(){return s._defaultOptions==null&&(s._defaultOptions=new s,s._defaultOptions.makeReadOnly()),s._defaultOptions}}]),s}();return o([i.NotNull],a,"defaultOptions",null),Tb.ATNDeserializationOptions=a,Tb}var Ab={},Ob={},y6;function h9(){if(y6)return Ob;y6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(Ob,"__esModule",{value:!0});var l=ot(),c=Sf(),f=function(d){(0,i.default)(p,d);function p(h,m){var y,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return(0,r.default)(this,p),y=(0,n.default)(this,(0,o.default)(p).call(this,h)),y.ruleIndex=m,y.actionIndex=v,y.isCtxDependent=g,y}return(0,t.default)(p,[{key:"matches",value:function(m,y,v){return!1}},{key:"toString",value:function(){return"action_"+this.ruleIndex+":"+this.actionIndex}},{key:"serializationType",get:function(){return 6}},{key:"isEpsilon",get:function(){return!0}}]),p}(c.Transition);return s([l.Override],f.prototype,"serializationType",null),s([l.Override],f.prototype,"isEpsilon",null),s([l.Override],f.prototype,"matches",null),s([l.Override],f.prototype,"toString",null),f=s([u(0,l.NotNull)],f),Ob.ActionTransition=f,Ob}var Db={},x6;function v9(){if(x6)return Db;x6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},u=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(Db,"__esModule",{value:!0});var l=Qd(),c=ot(),f=Sf(),d=function(p){(0,i.default)(h,p);function h(m,y){var v;return(0,r.default)(this,h),v=(0,n.default)(this,(0,o.default)(h).call(this,m)),v._label=y,v}return(0,t.default)(h,[{key:"matches",value:function(y,v,g){return this._label===y}},{key:"toString",value:function(){return String(this.label)}},{key:"serializationType",get:function(){return 5}},{key:"label",get:function(){return l.IntervalSet.of(this._label)}}]),h}(f.Transition);return s([c.Override],d.prototype,"serializationType",null),s([c.Override,c.NotNull],d.prototype,"label",null),s([c.Override],d.prototype,"matches",null),s([c.Override,c.NotNull],d.prototype,"toString",null),d=s([u(0,c.NotNull)],d),Db.AtomTransition=d,Db}var Pb={},Ib={},b6;function qS(){if(b6)return Ib;b6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt());Object.defineProperty(Ib,"__esModule",{value:!0});var i=Yd(),a=function(s){(0,o.default)(u,s);function u(){return(0,r.default)(this,u),(0,t.default)(this,(0,n.default)(u).apply(this,arguments))}return u}(i.DecisionState);return Ib.BlockStartState=a,Ib}var _6;function Wwe(){if(_6)return Pb;_6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(Pb,"__esModule",{value:!0});var u=li(),l=qS(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.BLOCK_START}}]),p}(l.BlockStartState);return s([c.Override],f.prototype,"stateType",null),Pb.BasicBlockStartState=f,Pb}var Nb={},w6;function Uwe(){if(w6)return Nb;w6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(Nb,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return l.ATNStateType.BLOCK_END}}]),p}(u.ATNState);return s([c.Override],f.prototype,"stateType",null),Nb.BlockEndState=f,Nb}var Mb={},S6;function qwe(){if(S6)return Mb;S6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(Mb,"__esModule",{value:!0});var l=ot(),c=Sf(),f=function(d){(0,i.default)(p,d);function p(h){var m,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;return(0,r.default)(this,p),m=(0,n.default)(this,(0,o.default)(p).call(this,h)),m._outermostPrecedenceReturn=y,m}return(0,t.default)(p,[{key:"matches",value:function(m,y,v){return!1}},{key:"toString",value:function(){return"epsilon"}},{key:"outermostPrecedenceReturn",get:function(){return this._outermostPrecedenceReturn}},{key:"serializationType",get:function(){return 1}},{key:"isEpsilon",get:function(){return!0}}]),p}(c.Transition);return s([l.Override],f.prototype,"serializationType",null),s([l.Override],f.prototype,"isEpsilon",null),s([l.Override],f.prototype,"matches",null),s([l.Override,l.NotNull],f.prototype,"toString",null),f=s([u(0,l.NotNull)],f),Mb.EpsilonTransition=f,Mb}var Fb={},C6;function Hwe(){if(C6)return Fb;C6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(Fb,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c){(0,r.default)(this,l),this._channel=c}return(0,t.default)(l,[{key:"execute",value:function(f){f.channel=this._channel}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this.actionType),f=a.MurmurHash.update(f,this._channel),a.MurmurHash.finish(f,2)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._channel===f._channel:!1}},{key:"toString",value:function(){return"channel(".concat(this._channel,")")}},{key:"channel",get:function(){return this._channel}},{key:"actionType",get:function(){return 0}},{key:"isPositionDependent",get:function(){return!1}}]),l}();return o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override,i(0,s.NotNull)],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),o([s.Override],u.prototype,"toString",null),Fb.LexerChannelAction=u,Fb}var Lb={},E6;function Vwe(){if(E6)return Lb;E6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(Lb,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c,f){(0,r.default)(this,l),this._ruleIndex=c,this._actionIndex=f}return(0,t.default)(l,[{key:"execute",value:function(f){f.action(void 0,this._ruleIndex,this._actionIndex)}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this.actionType),f=a.MurmurHash.update(f,this._ruleIndex),f=a.MurmurHash.update(f,this._actionIndex),a.MurmurHash.finish(f,3)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._ruleIndex===f._ruleIndex&&this._actionIndex===f._actionIndex:!1}},{key:"ruleIndex",get:function(){return this._ruleIndex}},{key:"actionIndex",get:function(){return this._actionIndex}},{key:"actionType",get:function(){return 1}},{key:"isPositionDependent",get:function(){return!0}}]),l}();return o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override,i(0,s.NotNull)],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),Lb.LexerCustomAction=u,Lb}var Bb={},k6;function Gwe(){if(k6)return Bb;k6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(Bb,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c){(0,r.default)(this,l),this._mode=c}return(0,t.default)(l,[{key:"execute",value:function(f){f.mode(this._mode)}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this.actionType),f=a.MurmurHash.update(f,this._mode),a.MurmurHash.finish(f,2)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._mode===f._mode:!1}},{key:"toString",value:function(){return"mode(".concat(this._mode,")")}},{key:"mode",get:function(){return this._mode}},{key:"actionType",get:function(){return 2}},{key:"isPositionDependent",get:function(){return!1}}]),l}();return o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override,i(0,s.NotNull)],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),o([s.Override],u.prototype,"toString",null),Bb.LexerModeAction=u,Bb}var LT={},R6;function Ywe(){return R6||(R6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(c,f,d,p){var h=arguments.length,m=h<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p,y;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,f,d,p);else for(var v=c.length-1;v>=0;v--)(y=c[v])&&(m=(h<3?y(m):h>3?y(f,d,m):y(f,d))||m);return h>3&&m&&Object.defineProperty(f,d,m),m},a=function(c,f){return function(d,p){f(d,p,c)}};Object.defineProperty(e,"__esModule",{value:!0});var s=ho(),u=ot(),l=function(){function c(){(0,t.default)(this,c)}return(0,n.default)(c,[{key:"execute",value:function(d){d.more()}},{key:"hashCode",value:function(){var d=s.MurmurHash.initialize();return d=s.MurmurHash.update(d,this.actionType),s.MurmurHash.finish(d,1)}},{key:"equals",value:function(d){return d===this}},{key:"toString",value:function(){return"more"}},{key:"actionType",get:function(){return 3}},{key:"isPositionDependent",get:function(){return!1}}]),c}();i([u.Override],l.prototype,"actionType",null),i([u.Override],l.prototype,"isPositionDependent",null),i([u.Override,a(0,u.NotNull)],l.prototype,"execute",null),i([u.Override],l.prototype,"hashCode",null),i([u.Override],l.prototype,"equals",null),i([u.Override],l.prototype,"toString",null),e.LexerMoreAction=l,function(c){c.INSTANCE=new c}(l=e.LexerMoreAction||(e.LexerMoreAction={}))}(LT)),LT}var BT={},T6;function Kwe(){return T6||(T6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(c,f,d,p){var h=arguments.length,m=h<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p,y;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,f,d,p);else for(var v=c.length-1;v>=0;v--)(y=c[v])&&(m=(h<3?y(m):h>3?y(f,d,m):y(f,d))||m);return h>3&&m&&Object.defineProperty(f,d,m),m},a=function(c,f){return function(d,p){f(d,p,c)}};Object.defineProperty(e,"__esModule",{value:!0});var s=ho(),u=ot(),l=function(){function c(){(0,t.default)(this,c)}return(0,n.default)(c,[{key:"execute",value:function(d){d.popMode()}},{key:"hashCode",value:function(){var d=s.MurmurHash.initialize();return d=s.MurmurHash.update(d,this.actionType),s.MurmurHash.finish(d,1)}},{key:"equals",value:function(d){return d===this}},{key:"toString",value:function(){return"popMode"}},{key:"actionType",get:function(){return 4}},{key:"isPositionDependent",get:function(){return!1}}]),c}();i([u.Override],l.prototype,"actionType",null),i([u.Override],l.prototype,"isPositionDependent",null),i([u.Override,a(0,u.NotNull)],l.prototype,"execute",null),i([u.Override],l.prototype,"hashCode",null),i([u.Override],l.prototype,"equals",null),i([u.Override],l.prototype,"toString",null),e.LexerPopModeAction=l,function(c){c.INSTANCE=new c}(l=e.LexerPopModeAction||(e.LexerPopModeAction={}))}(BT)),BT}var jb={},A6;function Xwe(){if(A6)return jb;A6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(jb,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c){(0,r.default)(this,l),this._mode=c}return(0,t.default)(l,[{key:"execute",value:function(f){f.pushMode(this._mode)}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this.actionType),f=a.MurmurHash.update(f,this._mode),a.MurmurHash.finish(f,2)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._mode===f._mode:!1}},{key:"toString",value:function(){return"pushMode(".concat(this._mode,")")}},{key:"mode",get:function(){return this._mode}},{key:"actionType",get:function(){return 5}},{key:"isPositionDependent",get:function(){return!1}}]),l}();return o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override,i(0,s.NotNull)],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),o([s.Override],u.prototype,"toString",null),jb.LexerPushModeAction=u,jb}var jT={},O6;function Qwe(){return O6||(O6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt()),o=r(tt()),i=function(c,f,d,p){var h=arguments.length,m=h<3?f:p===null?p=Object.getOwnPropertyDescriptor(f,d):p,y;if((typeof Reflect>"u"?"undefined":(0,o.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(c,f,d,p);else for(var v=c.length-1;v>=0;v--)(y=c[v])&&(m=(h<3?y(m):h>3?y(f,d,m):y(f,d))||m);return h>3&&m&&Object.defineProperty(f,d,m),m},a=function(c,f){return function(d,p){f(d,p,c)}};Object.defineProperty(e,"__esModule",{value:!0});var s=ho(),u=ot(),l=function(){function c(){(0,t.default)(this,c)}return(0,n.default)(c,[{key:"execute",value:function(d){d.skip()}},{key:"hashCode",value:function(){var d=s.MurmurHash.initialize();return d=s.MurmurHash.update(d,this.actionType),s.MurmurHash.finish(d,1)}},{key:"equals",value:function(d){return d===this}},{key:"toString",value:function(){return"skip"}},{key:"actionType",get:function(){return 6}},{key:"isPositionDependent",get:function(){return!1}}]),c}();i([u.Override],l.prototype,"actionType",null),i([u.Override],l.prototype,"isPositionDependent",null),i([u.Override,a(0,u.NotNull)],l.prototype,"execute",null),i([u.Override],l.prototype,"hashCode",null),i([u.Override],l.prototype,"equals",null),i([u.Override],l.prototype,"toString",null),e.LexerSkipAction=l,function(c){c.INSTANCE=new c}(l=e.LexerSkipAction||(e.LexerSkipAction={}))}(jT)),jT}var $b={},D6;function Jwe(){if(D6)return $b;D6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty($b,"__esModule",{value:!0});var a=ho(),s=ot(),u=function(){function l(c){(0,r.default)(this,l),this._type=c}return(0,t.default)(l,[{key:"execute",value:function(f){f.type=this._type}},{key:"hashCode",value:function(){var f=a.MurmurHash.initialize();return f=a.MurmurHash.update(f,this.actionType),f=a.MurmurHash.update(f,this._type),a.MurmurHash.finish(f,2)}},{key:"equals",value:function(f){return f===this?!0:f instanceof l?this._type===f._type:!1}},{key:"toString",value:function(){return"type(".concat(this._type,")")}},{key:"type",get:function(){return this._type}},{key:"actionType",get:function(){return 7}},{key:"isPositionDependent",get:function(){return!1}}]),l}();return o([s.Override],u.prototype,"actionType",null),o([s.Override],u.prototype,"isPositionDependent",null),o([s.Override,i(0,s.NotNull)],u.prototype,"execute",null),o([s.Override],u.prototype,"hashCode",null),o([s.Override],u.prototype,"equals",null),o([s.Override],u.prototype,"toString",null),$b.LexerTypeAction=u,$b}var zb={},P6;function m9(){if(P6)return zb;P6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(zb,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return l.ATNStateType.LOOP_END}}]),p}(u.ATNState);return s([c.Override],f.prototype,"stateType",null),zb.LoopEndState=f,zb}var Wb={},Ub={},I6;function Zwe(){if(I6)return Ub;I6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p};Object.defineProperty(Ub,"__esModule",{value:!0});var i=ot(),a=Ri,s=function(){function u(l,c){(0,r.default)(this,u),this._conflictedAlts=l,this.exact=c}return(0,t.default)(u,[{key:"equals",value:function(c){return c===this?!0:c instanceof u?this.isExact===c.isExact&&a.equals(this.conflictedAlts,c.conflictedAlts):!1}},{key:"hashCode",value:function(){return this.conflictedAlts.hashCode()}},{key:"conflictedAlts",get:function(){return this._conflictedAlts}},{key:"isExact",get:function(){return this.exact}}]),u}();return o([i.Override],s.prototype,"equals",null),o([i.Override],s.prototype,"hashCode",null),Ub.ConflictInfo=s,Ub}var qb={},Hb={},Vb={},N6;function $v(){if(N6)return Vb;N6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h};Object.defineProperty(Vb,"__esModule",{value:!0});var i=ba(),a=ot(),s=Rn,u=function(){function l(c){(0,r.default)(this,l),this._symbol=c}return(0,t.default)(l,[{key:"getChild",value:function(f){throw new RangeError("Terminal Node has no children.")}},{key:"setParent",value:function(f){this._parent=f}},{key:"accept",value:function(f){return f.visitTerminal(this)}},{key:"toStringTree",value:function(f){return this.toString()}},{key:"toString",value:function(){return this._symbol.type===s.Token.EOF?"<EOF>":this._symbol.text||""}},{key:"symbol",get:function(){return this._symbol}},{key:"parent",get:function(){return this._parent}},{key:"payload",get:function(){return this._symbol}},{key:"sourceInterval",get:function(){var f=this._symbol.tokenIndex;return new i.Interval(f,f)}},{key:"childCount",get:function(){return 0}},{key:"text",get:function(){return this._symbol.text||""}}]),l}();return o([a.Override],u.prototype,"getChild",null),o([a.Override],u.prototype,"parent",null),o([a.Override],u.prototype,"setParent",null),o([a.Override],u.prototype,"payload",null),o([a.Override],u.prototype,"sourceInterval",null),o([a.Override],u.prototype,"childCount",null),o([a.Override],u.prototype,"accept",null),o([a.Override],u.prototype,"text",null),o([a.Override],u.prototype,"toStringTree",null),o([a.Override],u.prototype,"toString",null),Vb.TerminalNode=u,Vb}var M6;function RN(){if(M6)return Hb;M6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y};Object.defineProperty(Hb,"__esModule",{value:!0});var u=ot(),l=$v(),c=function(f){(0,i.default)(d,f);function d(p){return(0,r.default)(this,d),(0,n.default)(this,(0,o.default)(d).call(this,p))}return(0,t.default)(d,[{key:"accept",value:function(h){return h.visitErrorNode(this)}}]),d}(l.TerminalNode);return s([u.Override],c.prototype,"accept",null),Hb.ErrorNode=c,Hb}var Gb={},Yb={},F6;function TN(){if(F6)return Yb;F6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke());Object.defineProperty(Yb,"__esModule",{value:!0});var t=function n(){(0,r.default)(this,n)};return Yb.RuleNode=t,Yb}var Kb={},L6;function Jd(){if(L6)return Kb;L6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(v,g,x,b){var w=arguments.length,E=w<3?g:b===null?b=Object.getOwnPropertyDescriptor(g,x):b,C;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(v,g,x,b);else for(var S=v.length-1;S>=0;S--)(C=v[S])&&(E=(w<3?C(E):w>3?C(g,x,E):C(g,x))||E);return w>3&&E&&Object.defineProperty(g,x,E),E},i=function(v,g){return function(x,b){g(x,b,v)}};Object.defineProperty(Kb,"__esModule",{value:!0});var a=uc(),s=Gd,u=RN(),l=ot(),c=ay(),f=su(),d=TN(),p=$v(),h=Rn,m=Ri,y=function(){function v(){(0,r.default)(this,v)}return(0,t.default)(v,null,[{key:"toStringTree",value:function(x,b){var w;b instanceof c.Parser?w=b.ruleNames:w=b;var E=m.escapeWhitespace(this.getNodeText(x,w),!1);if(x.childCount===0)return E;var C="";C+="(",E=m.escapeWhitespace(this.getNodeText(x,w),!1),C+=E,C+=" ";for(var S=0;S<x.childCount;S++)S>0&&(C+=" "),C+=this.toStringTree(x.getChild(S),w);return C+=")",C}},{key:"getNodeText",value:function(x,b){var w;if(b instanceof c.Parser)w=b.ruleNames;else if(b)w=b;else{var E=x.payload;return typeof E.text=="string"?E.text:x.payload.toString()}if(x instanceof d.RuleNode){var C=x.ruleContext,S=C.ruleIndex,T=w[S],k=C.altNumber;return k!==a.ATN.INVALID_ALT_NUMBER?T+":"+k:T}else{if(x instanceof u.ErrorNode)return x.toString();if(x instanceof p.TerminalNode){var P=x.symbol;return P.text||""}}throw new TypeError("Unexpected node type")}},{key:"getChildren",value:function(x){for(var b=[],w=0;w<x.childCount;w++)b.push(x.getChild(w));return b}},{key:"getAncestors",value:function(x){for(var b=[],w=x.parent;w;)b.unshift(w),w=w.parent;return b}},{key:"isAncestorOf",value:function(x,b){if(!x||!b||!x.parent)return!1;for(var w=b.parent;w;){if(x===w)return!0;w=w.parent}return!1}},{key:"findAllTokenNodes",value:function(x,b){return v.findAllNodes(x,b,!0)}},{key:"findAllRuleNodes",value:function(x,b){return v.findAllNodes(x,b,!1)}},{key:"findAllNodes",value:function(x,b,w){var E=[];return v._findAllNodes(x,b,w,E),E}},{key:"_findAllNodes",value:function(x,b,w,E){w&&x instanceof p.TerminalNode?x.symbol.type===b&&E.push(x):!w&&x instanceof f.ParserRuleContext&&x.ruleIndex===b&&E.push(x);for(var C=0;C<x.childCount;C++)v._findAllNodes(x.getChild(C),b,w,E)}},{key:"getDescendants",value:function(x){var b=[];function w(E){b.push(E);for(var C=E.childCount,S=0;S<C;S++)w(E.getChild(S))}return w(x),b}},{key:"getRootOfSubtreeEnclosingRegion",value:function(x,b,w){for(var E=x.childCount,C=0;C<E;C++){var S=x.getChild(C),T=v.getRootOfSubtreeEnclosingRegion(S,b,w);if(T)return T}if(x instanceof f.ParserRuleContext){var k=x.stop;if(b>=x.start.tokenIndex&&(k==null||w<=k.tokenIndex))return x}}},{key:"stripChildrenOutOfRange",value:function(x,b,w,E){if(x)for(var C=x.childCount,S=0;S<C;S++){var T=x.getChild(S),k=T.sourceInterval;if(T instanceof f.ParserRuleContext&&(k.b<w||k.a>E)&&v.isAncestorOf(T,b)){var P=new s.CommonToken(h.Token.INVALID_TYPE,"...");x.children[S]=new p.TerminalNode(P)}}}},{key:"findNodeSuchThat",value:function(x,b){if(b(x))return x;for(var w=x.childCount,E=0;E<w;E++){var C=v.findNodeSuchThat(x.getChild(E),b);if(C!==void 0)return C}}}]),v}();return o([i(0,l.NotNull)],y,"toStringTree",null),o([l.NotNull,i(0,l.NotNull)],y,"getAncestors",null),o([i(0,l.NotNull)],y,"getRootOfSubtreeEnclosingRegion",null),Kb.Trees=y,Kb}var B6;function g9(){if(B6)return Gb;B6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(y,v,g,x){var b=arguments.length,w=b<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,g):x,E;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(y,v,g,x);else for(var C=y.length-1;C>=0;C--)(E=y[C])&&(w=(b<3?E(w):b>3?E(v,g,w):E(v,g))||w);return b>3&&w&&Object.defineProperty(v,g,w),w};Object.defineProperty(Gb,"__esModule",{value:!0});var u=uc(),l=Kd,c=TN(),f=ba(),d=ot(),p=Jd(),h=su(),m=function(y){(0,i.default)(v,y);function v(g,x){var b;return(0,r.default)(this,v),b=(0,n.default)(this,(0,o.default)(v).call(this)),b._parent=g,b.invokingState=x??-1,b}return(0,t.default)(v,[{key:"depth",value:function(){for(var x=0,b=this;b;)b=b._parent,x++;return x}},{key:"setParent",value:function(x){this._parent=x}},{key:"getChild",value:function(x){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}},{key:"accept",value:function(x){return x.visitChildren(this)}},{key:"toStringTree",value:function(x){return p.Trees.toStringTree(this,x)}},{key:"toString",value:function(x,b){var w=x instanceof l.Recognizer?x.ruleNames:x;b=b||h.ParserRuleContext.emptyContext();var E="",C=this;for(E+="[";C&&C!==b;){if(!w)C.isEmpty||(E+=C.invokingState);else{var S=C.ruleIndex,T=S>=0&&S<w.length?w[S]:S.toString();E+=T}C._parent&&(w||!C._parent.isEmpty)&&(E+=" "),C=C._parent}return E+="]",E.toString()}},{key:"isEmpty",get:function(){return this.invokingState===-1}},{key:"sourceInterval",get:function(){return f.Interval.INVALID}},{key:"ruleContext",get:function(){return this}},{key:"parent",get:function(){return this._parent}},{key:"payload",get:function(){return this}},{key:"text",get:function(){if(this.childCount===0)return"";for(var x="",b=0;b<this.childCount;b++)x+=this.getChild(b).text;return x.toString()}},{key:"ruleIndex",get:function(){return-1}},{key:"altNumber",get:function(){return u.ATN.INVALID_ALT_NUMBER},set:function(x){}},{key:"childCount",get:function(){return 0}}],[{key:"getChildContext",value:function(x,b){return new v(x,b)}}]),v}(c.RuleNode);return s([d.Override],m.prototype,"sourceInterval",null),s([d.Override],m.prototype,"ruleContext",null),s([d.Override],m.prototype,"parent",null),s([d.Override],m.prototype,"setParent",null),s([d.Override],m.prototype,"payload",null),s([d.Override],m.prototype,"text",null),s([d.Override],m.prototype,"getChild",null),s([d.Override],m.prototype,"childCount",null),s([d.Override],m.prototype,"accept",null),s([d.Override],m.prototype,"toStringTree",null),Gb.RuleContext=m,Gb}var j6;function su(){if(j6)return qb;j6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Vd()),a=e(Pt()),s=e(tt()),u=function(m,y,v,g){var x=arguments.length,b=x<3?y:g===null?g=Object.getOwnPropertyDescriptor(y,v):g,w;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,y,v,g);else for(var E=m.length-1;E>=0;E--)(w=m[E])&&(b=(x<3?w(b):x>3?w(y,v,b):w(y,v))||b);return x>3&&b&&Object.defineProperty(y,v,b),b};Object.defineProperty(qb,"__esModule",{value:!0});var l=RN(),c=ba(),f=ot(),d=g9(),p=$v(),h=function(m){(0,a.default)(y,m);function y(v,g){var x;return(0,r.default)(this,y),g==null?x=(0,n.default)(this,(0,o.default)(y).call(this)):x=(0,n.default)(this,(0,o.default)(y).call(this,v,g)),(0,n.default)(x)}return(0,t.default)(y,[{key:"copyFrom",value:function(g){if(this._parent=g._parent,this.invokingState=g.invokingState,this._start=g._start,this._stop=g._stop,g.children){this.children=[];var x=!0,b=!1,w=void 0;try{for(var E=g.children[Symbol.iterator](),C;!(x=(C=E.next()).done);x=!0){var S=C.value;S instanceof l.ErrorNode&&this.addChild(S)}}catch(T){b=!0,w=T}finally{try{!x&&E.return!=null&&E.return()}finally{if(b)throw w}}}}},{key:"enterRule",value:function(g){}},{key:"exitRule",value:function(g){}},{key:"addAnyChild",value:function(g){return this.children?this.children.push(g):this.children=[g],g}},{key:"addChild",value:function(g){if(g instanceof p.TerminalNode){g.setParent(this),this.addAnyChild(g);return}else if(g instanceof d.RuleContext){this.addAnyChild(g);return}else return g=new p.TerminalNode(g),this.addAnyChild(g),g.setParent(this),g}},{key:"addErrorNode",value:function(g){if(g instanceof l.ErrorNode){var x=g;return x.setParent(this),this.addAnyChild(x)}else{var b=g,w=new l.ErrorNode(b);return this.addAnyChild(w),w.setParent(this),w}}},{key:"removeLastChild",value:function(){this.children&&this.children.pop()}},{key:"getChild",value:function(g,x){if(!this.children||g<0||g>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(x==null)return this.children[g];var b=this.tryGetChild(g,x);if(b===void 0)throw new Error("The specified node does not exist");return b}},{key:"tryGetChild",value:function(g,x){if(!(!this.children||g<0||g>=this.children.length)){var b=-1,w=!0,E=!1,C=void 0;try{for(var S=this.children[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;if(k instanceof x&&(b++,b===g))return k}}catch(P){E=!0,C=P}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}}}},{key:"getToken",value:function(g,x){var b=this.tryGetToken(g,x);if(b===void 0)throw new Error("The specified token does not exist");return b}},{key:"tryGetToken",value:function(g,x){if(!(!this.children||x<0||x>=this.children.length)){var b=-1,w=!0,E=!1,C=void 0;try{for(var S=this.children[Symbol.iterator](),T;!(w=(T=S.next()).done);w=!0){var k=T.value;if(k instanceof p.TerminalNode){var P=k.symbol;if(P.type===g&&(b++,b===x))return k}}}catch(I){E=!0,C=I}finally{try{!w&&S.return!=null&&S.return()}finally{if(E)throw C}}}}},{key:"getTokens",value:function(g){var x=[];if(!this.children)return x;var b=!0,w=!1,E=void 0;try{for(var C=this.children[Symbol.iterator](),S;!(b=(S=C.next()).done);b=!0){var T=S.value;if(T instanceof p.TerminalNode){var k=T.symbol;k.type===g&&x.push(T)}}}catch(P){w=!0,E=P}finally{try{!b&&C.return!=null&&C.return()}finally{if(w)throw E}}return x}},{key:"getRuleContext",value:function(g,x){return this.getChild(g,x)}},{key:"tryGetRuleContext",value:function(g,x){return this.tryGetChild(g,x)}},{key:"getRuleContexts",value:function(g){var x=[];if(!this.children)return x;var b=!0,w=!1,E=void 0;try{for(var C=this.children[Symbol.iterator](),S;!(b=(S=C.next()).done);b=!0){var T=S.value;T instanceof g&&x.push(T)}}catch(k){w=!0,E=k}finally{try{!b&&C.return!=null&&C.return()}finally{if(w)throw E}}return x}},{key:"toInfoString",value:function(g){var x=g.getRuleInvocationStack(this).reverse();return"ParserRuleContext"+x+"{start="+this._start+", stop="+this._stop+"}"}},{key:"parent",get:function(){var g=(0,i.default)((0,o.default)(y.prototype),"parent",this);if(g===void 0||g instanceof y)return g;throw new TypeError("Invalid parent type for ParserRuleContext")}},{key:"ruleContext",get:function(){return this}},{key:"childCount",get:function(){return this.children?this.children.length:0}},{key:"sourceInterval",get:function(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?c.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):c.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):c.Interval.INVALID}},{key:"start",get:function(){return this._start}},{key:"stop",get:function(){return this._stop}}],[{key:"emptyContext",value:function(){return y.EMPTY}}]),y}(d.RuleContext);return h.EMPTY=new h,u([f.Override],h.prototype,"parent",null),u([f.Override],h.prototype,"childCount",null),u([f.Override],h.prototype,"sourceInterval",null),qb.ParserRuleContext=h,qb}var $T={},$6;function eSe(){return $6||($6=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(rt()),n=r(Ke()),o=r(Dt()),i=r(Tt()),a=r(Pt()),s=r(tt()),u=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(e,"__esModule",{value:!0});var l=Bv(),c=ho(),f=ot(),d=ry();(function(p){p[p.SLL=0]="SLL",p[p.LL=1]="LL",p[p.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"})(e.PredictionMode||(e.PredictionMode={})),function(p){l.Array2DHashMap;var h=function(){function v(){(0,n.default)(this,v)}return(0,t.default)(v,[{key:"AltAndContextConfigEqualityComparator",value:function(){}},{key:"hashCode",value:function(x){var b=c.MurmurHash.initialize(7);return b=c.MurmurHash.update(b,x.state.stateNumber),b=c.MurmurHash.update(b,x.context),b=c.MurmurHash.finish(b,2),b}},{key:"equals",value:function(x,b){return x===b?!0:x==null||b==null?!1:x.state.stateNumber===b.state.stateNumber&&x.context.equals(b.context)}}]),v}();h.INSTANCE=new h,u([f.Override],h.prototype,"hashCode",null),u([f.Override],h.prototype,"equals",null);function m(v){var g=!0,x=!1,b=void 0;try{for(var w=v[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(C.state instanceof d.RuleStopState)return!0}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return!1}p.hasConfigInRuleStopState=m;function y(v){var g=!0,x=!1,b=void 0;try{for(var w=v[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;if(!(C.state instanceof d.RuleStopState))return!1}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return!0}p.allConfigsInRuleStopStates=y}(e.PredictionMode||(e.PredictionMode={}))}($T)),$T}var Xb={},z6;function y9(){if(z6)return Xb;z6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(tt()),n=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,t.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p},o=function(u,l){return function(c,f){l(c,f,u)}};Object.defineProperty(Xb,"__esModule",{value:!0});var i=ot(),a=su(),s=function u(l,c,f,d){(0,r.default)(this,u),this.outerContext=l??a.ParserRuleContext.emptyContext(),this.s0=c,this.useContext=f,this.remainingOuterContext=d};return s=n([o(1,i.NotNull)],s),Xb.SimulatorState=s,Xb}var W6;function ny(){if(W6)return Wb;W6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(ee,ne,pe,J){var se=arguments.length,j=se<3?ne:J===null?J=Object.getOwnPropertyDescriptor(ne,pe):J,ce;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(ee,ne,pe,J);else for(var re=ee.length-1;re>=0;re--)(ce=ee[re])&&(j=(se<3?ce(j):se>3?ce(ne,pe,j):ce(ne,pe))||j);return se>3&&j&&Object.defineProperty(ne,pe,j),j},u=function(ee,ne){return function(pe,J){ne(pe,J,ee)}};Object.defineProperty(Wb,"__esModule",{value:!0});var l=n9(),c=h9(),f=Cf(),d=hN(),p=uc(),h=BS(),m=ey(),y=$S(),v=li(),g=v9(),x=kf(),b=Zwe(),w=Yd(),E=jS(),C=vN(),S=ba(),T=ac,k=ot(),P=SN(),I=tC(),F=ll(),A=su(),D=au(),$=gN(),B=eSe(),W=ry(),L=CN(),z=Fv(),U=wN(),Y=y9(),q=Rn,V=fl,H=Vi(),Z=65535,ue=-2147483648,oe=function(ee){(0,i.default)(ne,ee);function ne(pe,J){var se;return(0,r.default)(this,ne),se=(0,n.default)(this,(0,o.default)(ne).call(this,pe)),se.predictionMode=B.PredictionMode.LL,se.force_global_context=!1,se.always_try_local_context=!0,se.enable_global_context_dfa=!1,se.optimize_unique_closure=!0,se.optimize_ll1=!0,se.optimize_tail_calls=!0,se.tail_call_preserves_sll=!0,se.treat_sllk1_conflict_as_ambiguity=!1,se.reportAmbiguities=!1,se.userWantsCtxSensitive=!0,se._parser=J,se}return(0,t.default)(ne,[{key:"getPredictionMode",value:function(){return this.predictionMode}},{key:"setPredictionMode",value:function(J){this.predictionMode=J}},{key:"reset",value:function(){}},{key:"adaptivePredict",value:function(J,se,j,ce){ce===void 0&&(ce=!1);var re=this.atn.decisionToDFA[se];if(H(re!=null),this.optimize_ll1&&!re.isPrecedenceDfa&&!re.isEmpty){var Q=J.LA(1);if(Q>=0&&Q<=65535){var G=(se<<16>>>0)+Q,X=this.atn.LL1Table.get(G);if(X!=null)return X}}this.dfa=re,this.force_global_context?ce=!0:this.always_try_local_context||(ce=ce||re.isContextSensitive),this.userWantsCtxSensitive=ce||this.predictionMode!==B.PredictionMode.SLL&&j!=null&&!this.atn.decisionToState[se].sll,j==null&&(j=A.ParserRuleContext.emptyContext());var te;re.isEmpty||(te=this.getStartState(re,J,j,ce)),te==null&&(j==null&&(j=A.ParserRuleContext.emptyContext()),ne.debug&&console.log("ATN decision "+re.decision+" exec LA(1)=="+this.getLookaheadName(J)+", outerContext="+j.toString(this._parser)),te=this.computeStartState(re,j,ce));var de=J.mark(),ae=J.index;try{var ye=this.execDFA(re,J,ae,te);return ne.debug&&console.log("DFA after predictATN: "+re.toString(this._parser.vocabulary,this._parser.ruleNames)),ye}finally{this.dfa=void 0,J.seek(ae),J.release(de)}}},{key:"getStartState",value:function(J,se,j,ce){if(!ce)if(J.isPrecedenceDfa){var re=J.getPrecedenceStartState(this._parser.precedence,!1);return re==null?void 0:new Y.SimulatorState(j,re,!1,j)}else return J.s0==null?void 0:new Y.SimulatorState(j,J.s0,!1,j);if(this.enable_global_context_dfa){var Q=j;H(j!=null);var G;for(J.isPrecedenceDfa?G=J.getPrecedenceStartState(this._parser.precedence,!0):G=J.s0full;Q!=null&&G!=null&&G.isContextSensitive;)Q=this.skipTailCalls(Q),G=G.getContextTarget(this.getReturnState(Q)),Q.isEmpty?H(G==null||!G.isContextSensitive):Q=Q.parent;if(G!=null)return new Y.SimulatorState(j,G,ce,Q)}}},{key:"execDFA",value:function(J,se,j,ce){var re=ce.outerContext;ne.dfa_debug&&console.log("DFA decision "+J.decision+" exec LA(1)=="+this.getLookaheadName(se)+", outerContext="+re.toString(this._parser)),ne.dfa_debug&&console.log(J.toString(this._parser.vocabulary,this._parser.ruleNames));for(var Q=ce.s0,G=se.LA(1),X=ce.remainingOuterContext;;){if(ne.dfa_debug&&console.log("DFA state "+Q.stateNumber+" LA(1)=="+this.getLookaheadName(se)),ce.useContext)for(;Q.isContextSymbol(G);){var te=void 0;if(X!=null&&(X=this.skipTailCalls(X),te=Q.getContextTarget(this.getReturnState(X))),te==null){var de=new Y.SimulatorState(ce.outerContext,Q,ce.useContext,X);return this.execATN(J,se,j,de)}H(X!=null),X=X.parent,Q=te}if(this.isAcceptState(Q,ce.useContext)){Q.predicates!=null?ne.dfa_debug&&console.log("accept "+Q):ne.dfa_debug&&console.log("accept; predict "+Q.prediction+" in state "+Q.stateNumber);break}H(!this.isAcceptState(Q,ce.useContext));var ae=this.getExistingTargetState(Q,G);if(ae==null){ne.dfa_debug&&G>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(G));var ye=void 0;if(ne.dfa_debug){var ie=S.Interval.of(j,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(ie)+" at DFA state "+Q.stateNumber)}var he=new Y.SimulatorState(re,Q,ce.useContext,X);return ye=this.execATN(J,se,j,he),ne.dfa_debug&&console.log("back from DFA update, alt="+ye+`, dfa=
`+J.toString(this._parser.vocabulary,this._parser.ruleNames)),ne.dfa_debug&&console.log("DFA decision "+J.decision+" predicts "+ye),ye}else if(ae===y.ATNSimulator.ERROR){var _e=new Y.SimulatorState(re,Q,ce.useContext,X);return this.handleNoViableAlt(se,j,_e)}Q=ae,!this.isAcceptState(Q,ce.useContext)&&G!==T.IntStream.EOF&&(se.consume(),G=se.LA(1))}if(!ce.useContext&&Q.configs.conflictInfo!=null&&J.atnStartState instanceof w.DecisionState&&!(!this.userWantsCtxSensitive||!Q.configs.dipsIntoOuterContext&&Q.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&se.index===j)){H(!ce.useContext);var Se,xe=Q.predicates;if(xe!=null){var De=se.index;if(De!==j&&se.seek(j),Se=this.evalSemanticContext(xe,re,!0),Se.cardinality()===1)return Se.nextSetBit(0);De!==j&&se.seek(De)}if(this.reportAmbiguities){var $e=new Y.SimulatorState(re,Q,ce.useContext,X);this.reportAttemptingFullContext(J,Se,$e,j,se.index)}return se.seek(j),this.adaptivePredict(se,J.decision,re,!0)}var Be=Q.predicates;if(Be!=null){var we=se.index;j!==we&&se.seek(j);var Me=this.evalSemanticContext(Be,re,this.reportAmbiguities&&this.predictionMode===B.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(Me.cardinality()){case 0:throw this.noViableAlt(se,re,Q.configs,j);case 1:return Me.nextSetBit(0);default:return j!==we&&se.seek(we),this.reportAmbiguity(J,Q,j,we,Q.configs.isExactConflict,Me,Q.configs),Me.nextSetBit(0)}}return ne.dfa_debug&&console.log("DFA decision "+J.decision+" predicts "+Q.prediction),Q.prediction}},{key:"isAcceptState",value:function(J,se){return J.isAcceptState?J.configs.conflictingAlts==null?!0:se&&this.predictionMode===B.PredictionMode.LL_EXACT_AMBIG_DETECTION?J.configs.isExactConflict:!0:!1}},{key:"execATN",value:function(J,se,j,ce){ne.debug&&console.log("execATN decision "+J.decision+" exec LA(1)=="+this.getLookaheadName(se));for(var re=ce.outerContext,Q=ce.useContext,G=se.LA(1),X=ce,te=new $.PredictionContextCache;;){var de=this.computeReachSet(J,X,G,te);if(de==null)return this.setDFAEdge(X.s0,se.LA(1),y.ATNSimulator.ERROR),this.handleNoViableAlt(se,j,X);var ae=de.s0;if(H(ae.isAcceptState||ae.prediction===p.ATN.INVALID_ALT_NUMBER),H(ae.isAcceptState||ae.configs.conflictInfo==null),this.isAcceptState(ae,Q)){var ye=ae.configs.conflictingAlts,ie=ye==null?ae.prediction:p.ATN.INVALID_ALT_NUMBER;if(ie!==p.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&se.index===j&&!J.isPrecedenceDfa&&de.outerContext===de.remainingOuterContext&&J.decision>=0&&!ae.configs.hasSemanticContext&&G>=0&&G<=Z){var he=(J.decision<<16>>>0)+G;this.atn.LL1Table.set(he,ie)}Q&&this.always_try_local_context&&this.reportContextSensitivity(J,ie,de,j,se.index)}ie=ae.prediction;var _e=ye!=null&&this.userWantsCtxSensitive;if(_e&&(_e=!Q&&(ae.configs.dipsIntoOuterContext||!ae.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||se.index!==j)),ae.configs.hasSemanticContext){var Se=ae.predicates;if(Se!=null){var xe=se.index;switch(xe!==j&&se.seek(j),ye=this.evalSemanticContext(Se,re,_e||this.reportAmbiguities),ye.cardinality()){case 0:throw this.noViableAlt(se,re,ae.configs,j);case 1:return ye.nextSetBit(0)}xe!==j&&se.seek(xe)}}if(_e){H(!Q),H(this.isAcceptState(ae,!1)),ne.debug&&console.log("RETRY with outerContext="+re);var De=this.computeStartState(J,re,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(J,ye,de,j,se.index),se.seek(j),this.execATN(J,se,j,De)}else return ye!=null&&(this.reportAmbiguities&&ye.cardinality()>1&&this.reportAmbiguity(J,ae,j,se.index,ae.configs.isExactConflict,ye,ae.configs),ie=ye.nextSetBit(0)),ie}X=de,G!==T.IntStream.EOF&&(se.consume(),G=se.LA(1))}}},{key:"handleNoViableAlt",value:function(J,se,j){if(j.s0!=null){var ce=new x.BitSet,re=0,Q=!0,G=!1,X=void 0;try{for(var te=j.s0.configs[Symbol.iterator](),de;!(Q=(de=te.next()).done);Q=!0){var ae=de.value;(ae.reachesIntoOuterContext||ae.state instanceof W.RuleStopState)&&(ce.set(ae.alt),re=Math.max(re,ae.alt))}}catch(Le){G=!0,X=Le}finally{try{!Q&&te.return!=null&&te.return()}finally{if(G)throw X}}switch(ce.cardinality()){case 0:break;case 1:return ce.nextSetBit(0);default:if(!j.s0.configs.hasSemanticContext)return ce.nextSetBit(0);var ye=new m.ATNConfigSet,ie=!0,he=!1,_e=void 0;try{for(var Se=j.s0.configs[Symbol.iterator](),xe;!(ie=(xe=Se.next()).done);ie=!0){var De=xe.value;(De.reachesIntoOuterContext||De.state instanceof W.RuleStopState)&&ye.add(De)}}catch(Le){he=!0,_e=Le}finally{try{!ie&&Se.return!=null&&Se.return()}finally{if(he)throw _e}}var $e=this.getPredsForAmbigAlts(ce,ye,re);if($e!=null){var Be=this.getPredicatePredictions(ce,$e);if(Be!=null){var we=J.index;try{J.seek(se);var Me=this.evalSemanticContext(Be,j.outerContext,!1);if(!Me.isEmpty)return Me.nextSetBit(0)}finally{J.seek(we)}}}return ce.nextSetBit(0)}}throw this.noViableAlt(J,j.outerContext,j.s0.configs,se)}},{key:"computeReachSet",value:function(J,se,j,ce){var re=se.useContext,Q=se.remainingOuterContext,G=se.s0;if(re)for(;G.isContextSymbol(j);){var X=void 0;if(Q!=null&&(Q=this.skipTailCalls(Q),X=G.getContextTarget(this.getReturnState(Q))),X==null)break;H(Q!=null),Q=Q.parent,G=X}if(H(!this.isAcceptState(G,re)),this.isAcceptState(G,re))return new Y.SimulatorState(se.outerContext,G,re,Q);var te=G,de=this.getExistingTargetState(te,j);if(de==null){var ae=this.computeTargetState(J,te,Q,j,re,ce);de=ae[0],Q=ae[1]}if(de!==y.ATNSimulator.ERROR)return H(!re||!de.configs.dipsIntoOuterContext),new Y.SimulatorState(se.outerContext,de,re,Q)}},{key:"getExistingTargetState",value:function(J,se){return J.getTarget(se)}},{key:"computeTargetState",value:function(J,se,j,ce,re,Q){var G=se.configs.toArray(),X,te=new m.ATNConfigSet,de;do{var ae=!re||j!=null;ae||(te.isOutermostConfigSet=!0);var ye=new m.ATNConfigSet,ie=void 0,he=!0,_e=!1,Se=void 0;try{for(var xe=G[Symbol.iterator](),De;!(he=(De=xe.next()).done);he=!0){var $e=De.value;if(ne.debug&&console.log("testing "+this.getTokenName(ce)+" at "+$e.toString()),$e.state instanceof W.RuleStopState){H($e.context.isEmpty),(re&&!$e.reachesIntoOuterContext||ce===T.IntStream.EOF)&&(ie==null&&(ie=[]),ie.push($e));continue}for(var Be=$e.state.numberOfOptimizedTransitions,we=0;we<Be;we++){var Me=$e.state.getOptimizedTransition(we),Le=this.getReachableTarget($e,Me,ce);Le!=null&&ye.add($e.transform(Le,!1),Q)}}}catch(Br){_e=!0,Se=Br}finally{try{!he&&xe.return!=null&&xe.return()}finally{if(_e)throw Se}}if(this.optimize_unique_closure&&ie==null&&ce!==q.Token.EOF&&ye.uniqueAlt!==p.ATN.INVALID_ALT_NUMBER){ye.isOutermostConfigSet=te.isOutermostConfigSet,te=ye;break}var Fe=!1,He=ce===q.Token.EOF;if(this.closure(ye,te,Fe,ae,Q,He),de=te.dipsIntoOuterContext,ce===T.IntStream.EOF&&(te=this.removeAllConfigsNotInRuleStopState(te,Q)),ie!=null&&(!re||!B.PredictionMode.hasConfigInRuleStopState(te))){H(ie.length>0);var gt=!0,_t=!1,At=void 0;try{for(var or=ie[Symbol.iterator](),Cr;!(gt=(Cr=or.next()).done);gt=!0){var vr=Cr.value;te.add(vr,Q)}}catch(Br){_t=!0,At=Br}finally{try{!gt&&or.return!=null&&or.return()}finally{if(_t)throw At}}}if(re&&de){te.clear(),j=j,j=this.skipTailCalls(j);var br=this.getReturnState(j);if(X==null&&(X=new C.IntegerList),j.isEmpty?j=void 0:j=j.parent,X.add(br),br!==D.PredictionContext.EMPTY_FULL_STATE_KEY)for(var Lr=0;Lr<G.length;Lr++)G[Lr]=G[Lr].appendContext(br,Q)}}while(re&&de);if(te.isEmpty)return this.setDFAEdge(se,ce,y.ATNSimulator.ERROR),[y.ATNSimulator.ERROR,j];var Tr=this.addDFAEdge(J,se,ce,X,te,Q);return[Tr,j]}},{key:"removeAllConfigsNotInRuleStopState",value:function(J,se){if(B.PredictionMode.allConfigsInRuleStopStates(J))return J;var j=new m.ATNConfigSet,ce=!0,re=!1,Q=void 0;try{for(var G=J[Symbol.iterator](),X;!(ce=(X=G.next()).done);ce=!0){var te=X.value;te.state instanceof W.RuleStopState&&j.add(te,se)}}catch(de){re=!0,Q=de}finally{try{!ce&&G.return!=null&&G.return()}finally{if(re)throw Q}}return j}},{key:"computeStartState",value:function(J,se,j){var ce=J.isPrecedenceDfa?J.getPrecedenceStartState(this._parser.precedence,j):j?J.s0full:J.s0;if(ce!=null){if(!j)return new Y.SimulatorState(se,ce,j,se);ce.setContextSensitive(this.atn)}J.decision;var re=J.atnStartState,Q=0,G=se,X=j?D.PredictionContext.EMPTY_FULL:D.PredictionContext.EMPTY_LOCAL,te=new $.PredictionContextCache;if(j){if(!this.enable_global_context_dfa)for(;G!=null;)G.isEmpty?(Q=D.PredictionContext.EMPTY_FULL_STATE_KEY,G=void 0):(Q=this.getReturnState(G),X=X.appendSingleContext(Q,te),G=G.parent);for(;ce!=null&&ce.isContextSensitive&&G!=null;){var de=void 0;if(G=this.skipTailCalls(G),G.isEmpty?(de=ce.getContextTarget(D.PredictionContext.EMPTY_FULL_STATE_KEY),Q=D.PredictionContext.EMPTY_FULL_STATE_KEY,G=void 0):(Q=this.getReturnState(G),de=ce.getContextTarget(Q),X=X.appendSingleContext(Q,te),G=G.parent),de==null)break;ce=de}}if(ce!=null&&!ce.isContextSensitive)return new Y.SimulatorState(se,ce,j,G);for(var ae=new m.ATNConfigSet;;){for(var ye=new m.ATNConfigSet,ie=re.numberOfTransitions,he=0;he<ie;he++){var _e=re.transition(he).target;ye.add(h.ATNConfig.create(_e,he+1,X))}var Se=G!=null;Se||(ae.isOutermostConfigSet=!0);var xe=!0;this.closure(ye,ae,xe,Se,te,!1);var De=ae.dipsIntoOuterContext,$e=void 0;if(j&&!this.enable_global_context_dfa){ce=this.addDFAState(J,ae,te);break}else ce==null?J.isPrecedenceDfa?(ae=this.applyPrecedenceFilter(ae,se,te),$e=this.addDFAState(J,ae,te),J.setPrecedenceStartState(this._parser.precedence,j,$e)):($e=this.addDFAState(J,ae,te),j?J.s0full?$e=J.s0full:J.s0full=$e:J.s0?$e=J.s0:J.s0=$e):(J.isPrecedenceDfa&&(ae=this.applyPrecedenceFilter(ae,se,te)),$e=this.addDFAState(J,ae,te),ce.setContextTarget(Q,$e));if(ce=$e,!j||!De)break;$e.setContextSensitive(this.atn),G=G,ae.clear(),G=this.skipTailCalls(G);var Be=this.getReturnState(G);G.isEmpty?G=void 0:G=G.parent,Be!==D.PredictionContext.EMPTY_FULL_STATE_KEY&&(X=X.appendSingleContext(Be,te)),Q=Be}return new Y.SimulatorState(se,ce,j,G)}},{key:"applyPrecedenceFilter",value:function(J,se,j){var ce=new Map,re=new m.ATNConfigSet,Q=!0,G=!1,X=void 0;try{for(var te=J[Symbol.iterator](),de;!(Q=(de=te.next()).done);Q=!0){var ae=de.value;if(ae.alt===1){var ye=ae.semanticContext.evalPrecedence(this._parser,se);ye!=null&&(ce.set(ae.state.stateNumber,ae.context),ye!==ae.semanticContext?re.add(ae.transform(ae.state,!1,ye),j):re.add(ae,j))}}}catch(Be){G=!0,X=Be}finally{try{!Q&&te.return!=null&&te.return()}finally{if(G)throw X}}var ie=!0,he=!1,_e=void 0;try{for(var Se=J[Symbol.iterator](),xe;!(ie=(xe=Se.next()).done);ie=!0){var De=xe.value;if(De.alt!==1){if(!De.isPrecedenceFilterSuppressed){var $e=ce.get(De.state.stateNumber);if($e!=null&&$e.equals(De.context))continue}re.add(De,j)}}}catch(Be){he=!0,_e=Be}finally{try{!ie&&Se.return!=null&&Se.return()}finally{if(he)throw _e}}return re}},{key:"getReachableTarget",value:function(J,se,j){if(se.matches(j,0,this.atn.maxTokenType))return se.target}},{key:"predicateDFAState",value:function(J,se,j){var ce=this.getConflictingAltsFromConfigSet(se);if(!ce)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");ne.debug&&console.log("predicateDFAState "+J);var re=this.getPredsForAmbigAlts(ce,se,j),Q;return re!=null&&(Q=this.getPredicatePredictions(ce,re),J.predicates=Q),Q}},{key:"getPredsForAmbigAlts",value:function(J,se,j){var ce=new Array(j+1),re=ce.length,Q=!0,G=!1,X=void 0;try{for(var te=se[Symbol.iterator](),de;!(Q=(de=te.next()).done);Q=!0){var ae=de.value;J.get(ae.alt)&&(ce[ae.alt]=z.SemanticContext.or(ce[ae.alt],ae.semanticContext))}}catch(_e){G=!0,X=_e}finally{try{!Q&&te.return!=null&&te.return()}finally{if(G)throw X}}for(var ye=0,ie=0;ie<re;ie++)ce[ie]==null?ce[ie]=z.SemanticContext.NONE:ce[ie]!==z.SemanticContext.NONE&&ye++;var he=ce;return ye===0&&(he=void 0),ne.debug&&console.log("getPredsForAmbigAlts result "+(he?d.Arrays.toString(he):"undefined")),he}},{key:"getPredicatePredictions",value:function(J,se){for(var j=[],ce=!1,re=1;re<se.length;re++){var Q=se[re];H(Q!=null),J!=null&&J.get(re)&&Q===z.SemanticContext.NONE?j.push(new E.DFAState.PredPrediction(Q,re)):Q!==z.SemanticContext.NONE&&(ce=!0,j.push(new E.DFAState.PredPrediction(Q,re)))}if(ce)return j}},{key:"evalSemanticContext",value:function(J,se,j){var ce=new x.BitSet,re=!0,Q=!1,G=void 0;try{for(var X=J[Symbol.iterator](),te;!(re=(te=X.next()).done);re=!0){var de=te.value;if(de.pred===z.SemanticContext.NONE){if(ce.set(de.alt),!j)break;continue}var ae=this.evalSemanticContextImpl(de.pred,se,de.alt);if((ne.debug||ne.dfa_debug)&&console.log("eval pred "+de+"="+ae),ae&&((ne.debug||ne.dfa_debug)&&console.log("PREDICT "+de.alt),ce.set(de.alt),!j))break}}catch(ye){Q=!0,G=ye}finally{try{!re&&X.return!=null&&X.return()}finally{if(Q)throw G}}return ce}},{key:"evalSemanticContextImpl",value:function(J,se,j){return J.eval(this._parser,se)}},{key:"closure",value:function(J,se,j,ce,re,Q){re==null&&(re=$.PredictionContextCache.UNCACHED);for(var G=J,X=new f.Array2DHashSet(F.ObjectEqualityComparator.INSTANCE);G.size>0;){var te=new m.ATNConfigSet,de=!0,ae=!1,ye=void 0;try{for(var ie=G[Symbol.iterator](),he;!(de=(he=ie.next()).done);de=!0){var _e=he.value;this.closureImpl(_e,se,te,X,j,ce,re,0,Q)}}catch(Se){ae=!0,ye=Se}finally{try{!de&&ie.return!=null&&ie.return()}finally{if(ae)throw ye}}G=te}}},{key:"closureImpl",value:function(J,se,j,ce,re,Q,G,X,te){if(ne.debug&&console.log("closure("+J.toString(this._parser,!0)+")"),J.state instanceof W.RuleStopState)if(J.context.isEmpty)if(Q)ne.debug&&console.log("FALLING off rule "+this.getRuleName(J.state.ruleIndex)),J.context===D.PredictionContext.EMPTY_FULL?J=J.transform(J.state,!1,D.PredictionContext.EMPTY_LOCAL):!J.reachesIntoOuterContext&&D.PredictionContext.isEmptyLocal(J.context)&&se.add(J,G);else{se.add(J,G);return}else{for(var de=J.context.hasEmpty,ae=J.context.size-(de?1:0),ye=0;ye<ae;ye++){var ie=J.context.getParent(ye),he=this.atn.states[J.context.getReturnState(ye)],_e=h.ATNConfig.create(he,J.alt,ie,J.semanticContext);_e.outerContextDepth=J.outerContextDepth,_e.isPrecedenceFilterSuppressed=J.isPrecedenceFilterSuppressed,H(X>ue),this.closureImpl(_e,se,j,ce,re,Q,G,X-1,te)}if(!de||!Q)return;J=J.transform(J.state,!1,D.PredictionContext.EMPTY_LOCAL)}var Se=J.state;Se.onlyHasEpsilonTransitions||(se.add(J,G),ne.debug&&console.log("added config "+se));for(var xe=0;xe<Se.numberOfOptimizedTransitions;xe++){if(xe===0&&Se.stateType===v.ATNStateType.STAR_LOOP_ENTRY&&Se.precedenceRuleDecision&&!J.context.hasEmpty){for(var De=Se,$e=!0,Be=0;Be<J.context.size;Be++)if(!De.precedenceLoopbackStates.get(J.context.getReturnState(Be))){$e=!1;break}if($e)continue}var we=Se.getOptimizedTransition(xe),Me=!(we instanceof c.ActionTransition)&&re,Le=this.getEpsilonTarget(J,we,Me,X===0,G,te);if(Le!=null){if(we instanceof L.RuleTransition&&j!=null&&!re){j.add(Le,G);continue}var Fe=X;if(J.state instanceof W.RuleStopState){if(this.dfa!=null&&this.dfa.isPrecedenceDfa){var He=we.outermostPrecedenceReturn;He===this.dfa.atnStartState.ruleIndex&&(Le.isPrecedenceFilterSuppressed=!0)}if(Le.outerContextDepth=Le.outerContextDepth+1,!ce.add(Le))continue;H(Fe>ue),Fe--,ne.debug&&console.log("dips into outer ctx: "+Le)}else if(we instanceof L.RuleTransition)this.optimize_tail_calls&&we.optimizedTailCall&&(!this.tail_call_preserves_sll||!D.PredictionContext.isEmptyLocal(J.context))?(H(Le.context===J.context),Fe===0&&(Fe--,!this.tail_call_preserves_sll&&D.PredictionContext.isEmptyLocal(J.context)&&(Le.outerContextDepth=Le.outerContextDepth+1))):Fe>=0&&Fe++;else if(!we.isEpsilon&&!ce.add(Le))continue;this.closureImpl(Le,se,j,ce,Me,Q,G,Fe,te)}}}},{key:"getRuleName",value:function(J){return this._parser!=null&&J>=0?this._parser.ruleNames[J]:"<rule "+J+">"}},{key:"getEpsilonTarget",value:function(J,se,j,ce,re,Q){switch(se.serializationType){case 3:return this.ruleTransition(J,se,re);case 10:return this.precedenceTransition(J,se,j,ce);case 4:return this.predTransition(J,se,j,ce);case 6:return this.actionTransition(J,se);case 1:return J.transform(se.target,!1);case 5:case 2:case 7:return Q&&se.matches(q.Token.EOF,0,1)?J.transform(se.target,!1):void 0;default:return}}},{key:"actionTransition",value:function(J,se){return ne.debug&&console.log("ACTION edge "+se.ruleIndex+":"+se.actionIndex),J.transform(se.target,!1)}},{key:"precedenceTransition",value:function(J,se,j,ce){ne.debug&&(console.log("PRED (collectPredicates="+j+") "+se.precedence+">=_p, ctx dependent=true"),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));var re;if(j&&ce){var Q=z.SemanticContext.and(J.semanticContext,se.predicate);re=J.transform(se.target,!1,Q)}else re=J.transform(se.target,!1);return ne.debug&&console.log("config from pred transition="+re),re}},{key:"predTransition",value:function(J,se,j,ce){ne.debug&&(console.log("PRED (collectPredicates="+j+") "+se.ruleIndex+":"+se.predIndex+", ctx dependent="+se.isCtxDependent),this._parser!=null&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack()));var re;if(j&&(!se.isCtxDependent||se.isCtxDependent&&ce)){var Q=z.SemanticContext.and(J.semanticContext,se.predicate);re=J.transform(se.target,!1,Q)}else re=J.transform(se.target,!1);return ne.debug&&console.log("config from pred transition="+re),re}},{key:"ruleTransition",value:function(J,se,j){ne.debug&&console.log("CALL rule "+this.getRuleName(se.target.ruleIndex)+", ctx="+J.context);var ce=se.followState,re;return this.optimize_tail_calls&&se.optimizedTailCall&&(!this.tail_call_preserves_sll||!D.PredictionContext.isEmptyLocal(J.context))?re=J.context:j!=null?re=j.getChild(J.context,ce.stateNumber):re=J.context.getChild(ce.stateNumber),J.transform(se.target,!1,re)}},{key:"isConflicted",value:function(J,se){if(!(J.uniqueAlt!==p.ATN.INVALID_ALT_NUMBER||J.size<=1)){var j=J.toArray();j.sort(ne.STATE_ALT_SORT_COMPARATOR);var ce=!J.dipsIntoOuterContext,re=new x.BitSet,Q=j[0].alt;re.set(Q);var G=j[0].state.nonStopStateNumber,X=!0,te=!1,de=void 0;try{for(var ae=j[Symbol.iterator](),ye;!(X=(ye=ae.next()).done);X=!0){var ie=ye.value,he=ie.state.nonStopStateNumber;if(he!==G){if(ie.alt!==Q)return;G=he}}}catch(xt){te=!0,de=xt}finally{try{!X&&ae.return!=null&&ae.return()}finally{if(te)throw de}}var _e;if(ce){G=j[0].state.nonStopStateNumber,_e=new x.BitSet;var Se=Q,xe=!0,De=!1,$e=void 0;try{for(var Be=j[Symbol.iterator](),we;!(xe=(we=Be.next()).done);xe=!0){var Me=we.value;if(Me.state.nonStopStateNumber!==G)break;var Le=Me.alt;_e.set(Le),Se=Le}}catch(xt){De=!0,$e=xt}finally{try{!xe&&Be.return!=null&&Be.return()}finally{if(De)throw $e}}G=j[0].state.nonStopStateNumber;var Fe=Q,He=!0,gt=!1,_t=void 0;try{for(var At=j[Symbol.iterator](),or;!(He=(or=At.next()).done);He=!0){var Cr=or.value,vr=Cr.state.nonStopStateNumber,br=Cr.alt;if(vr!==G){if(Fe!==Se){ce=!1;break}G=vr,Fe=Q}else if(br!==Fe){if(br!==_e.nextSetBit(Fe+1)){ce=!1;break}Fe=br}}}catch(xt){gt=!0,_t=xt}finally{try{!He&&At.return!=null&&At.return()}finally{if(gt)throw _t}}}G=j[0].state.nonStopStateNumber;for(var Lr=0,Tr=0,Br=j[0].context,$t=1;$t<j.length;$t++){var Xr=j[$t];if(Xr.alt!==Q||Xr.state.nonStopStateNumber!==G)break;Tr=$t,Br=se.join(Br,j[$t].context)}for(var Mn=Tr+1;Mn<j.length;Mn++){var Yn=j[Mn],Ee=Yn.state;if(re.set(Yn.alt),Ee.nonStopStateNumber!==G){G=Ee.nonStopStateNumber,Lr=Mn,Tr=Mn,Br=Yn.context;for(var Pe=Lr+1;Pe<j.length;Pe++){var je=j[Pe];if(je.alt!==Q||je.state.nonStopStateNumber!==G)break;Tr=Pe,Br=se.join(Br,je.context)}Mn=Tr;continue}for(var nt=Yn.context,yt=Yn.alt,It=Mn,Ut=It+1;Ut<j.length;Ut++){var wt=j[Ut];if(wt.alt!==yt||wt.state.nonStopStateNumber!==G)break;It=Ut,nt=se.join(nt,wt.context)}Mn=It;var Et=se.join(Br,nt);if(!Br.equals(Et))return;ce=ce&&Br.equals(nt)}return new b.ConflictInfo(re,ce)}}},{key:"getConflictingAltsFromConfigSet",value:function(J){var se=J.conflictingAlts;return se==null&&J.uniqueAlt!==p.ATN.INVALID_ALT_NUMBER&&(se=new x.BitSet,se.set(J.uniqueAlt)),se}},{key:"getTokenName",value:function(J){if(J===q.Token.EOF)return"EOF";var se=this._parser!=null?this._parser.vocabulary:V.VocabularyImpl.EMPTY_VOCABULARY,j=se.getDisplayName(J);return j===String(J)?j:j+"<"+J+">"}},{key:"getLookaheadName",value:function(J){return this.getTokenName(J.LA(1))}},{key:"dumpDeadEndConfigs",value:function(J){console.log("dead end configs: ");var se=J.deadEndConfigs;if(se){var j=!0,ce=!1,re=void 0;try{for(var Q=se[Symbol.iterator](),G;!(j=(G=Q.next()).done);j=!0){var X=G.value,te="no edges";if(X.state.numberOfOptimizedTransitions>0){var de=X.state.getOptimizedTransition(0);if(de instanceof g.AtomTransition)te="Atom "+this.getTokenName(de._label);else if(de instanceof U.SetTransition){var ae=de instanceof P.NotSetTransition;te=(ae?"~":"")+"Set "+de.set.toString()}}console.log(X.toString(this._parser,!0)+":"+te)}}catch(ye){ce=!0,re=ye}finally{try{!j&&Q.return!=null&&Q.return()}finally{if(ce)throw re}}}}},{key:"noViableAlt",value:function(J,se,j,ce){return new I.NoViableAltException(this._parser,J,J.get(ce),J.LT(1),j,se)}},{key:"getUniqueAlt",value:function(J){var se=p.ATN.INVALID_ALT_NUMBER,j=!0,ce=!1,re=void 0;try{for(var Q=J[Symbol.iterator](),G;!(j=(G=Q.next()).done);j=!0){var X=G.value;if(se===p.ATN.INVALID_ALT_NUMBER)se=X.alt;else if(X.alt!==se)return p.ATN.INVALID_ALT_NUMBER}}catch(te){ce=!0,re=te}finally{try{!j&&Q.return!=null&&Q.return()}finally{if(ce)throw re}}return se}},{key:"configWithAltAtStopState",value:function(J,se){var j=!0,ce=!1,re=void 0;try{for(var Q=J[Symbol.iterator](),G;!(j=(G=Q.next()).done);j=!0){var X=G.value;if(X.alt===se&&X.state instanceof W.RuleStopState)return!0}}catch(te){ce=!0,re=te}finally{try{!j&&Q.return!=null&&Q.return()}finally{if(ce)throw re}}return!1}},{key:"addDFAEdge",value:function(J,se,j,ce,re,Q){H(ce==null||ce.isEmpty||J.isContextSensitive);var G=se,X=this.addDFAState(J,re,Q);if(ce!=null){var te=!0,de=!1,ae=void 0;try{for(var ye=ce.toArray()[Symbol.iterator](),ie;!(te=(ie=ye.next()).done);te=!0){var he=ie.value;if(!(he===D.PredictionContext.EMPTY_FULL_STATE_KEY&&G.configs.isOutermostConfigSet)){G.setContextSensitive(this.atn),G.setContextSymbol(j);var _e=G.getContextTarget(he);if(_e!=null){G=_e;continue}_e=this.addDFAContextState(J,G.configs,he,Q),H(he!==D.PredictionContext.EMPTY_FULL_STATE_KEY||_e.configs.isOutermostConfigSet),G.setContextTarget(he,_e),G=_e}}}catch(Se){de=!0,ae=Se}finally{try{!te&&ye.return!=null&&ye.return()}finally{if(de)throw ae}}}return ne.debug&&console.log("EDGE "+G+" -> "+X+" upon "+this.getTokenName(j)),this.setDFAEdge(G,j,X),ne.debug&&console.log(`DFA=
`+J.toString(this._parser!=null?this._parser.vocabulary:V.VocabularyImpl.EMPTY_VOCABULARY,this._parser!=null?this._parser.ruleNames:void 0)),X}},{key:"setDFAEdge",value:function(J,se,j){J!=null&&J.setTarget(se,j)}},{key:"addDFAContextState",value:function(J,se,j,ce){if(j!==D.PredictionContext.EMPTY_FULL_STATE_KEY){var re=new m.ATNConfigSet,Q=!0,G=!1,X=void 0;try{for(var te=se[Symbol.iterator](),de;!(Q=(de=te.next()).done);Q=!0){var ae=de.value;re.add(ae.appendContext(j,ce))}}catch(ye){G=!0,X=ye}finally{try{!Q&&te.return!=null&&te.return()}finally{if(G)throw X}}return this.addDFAState(J,re,ce)}else return H(!se.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),se=se.clone(!0),se.isOutermostConfigSet=!0,this.addDFAState(J,se,ce)}},{key:"addDFAState",value:function(J,se,j){var ce=this.enable_global_context_dfa||!se.isOutermostConfigSet;if(ce){se.isReadOnly||se.optimizeConfigs(this);var re=this.createDFAState(J,se),Q=J.states.get(re);if(Q!=null)return Q}se.isReadOnly||se.conflictInfo==null&&(se.conflictInfo=this.isConflicted(se,j));var G=this.createDFAState(J,se.clone(!0)),X=this.atn.getDecisionState(J.decision),te=this.getUniqueAlt(se);if(te!==p.ATN.INVALID_ALT_NUMBER)G.acceptStateInfo=new l.AcceptStateInfo(te);else if(se.conflictingAlts!=null){var de=se.conflictingAlts;de&&(G.acceptStateInfo=new l.AcceptStateInfo(de.nextSetBit(0)))}if(G.isAcceptState&&se.hasSemanticContext&&this.predicateDFAState(G,se,X.numberOfTransitions),!ce)return G;var ae=J.addState(G);return ne.debug&&ae===G&&console.log("adding new DFA state: "+G),ae}},{key:"createDFAState",value:function(J,se){return new E.DFAState(se)}},{key:"reportAttemptingFullContext",value:function(J,se,j,ce,re){if(ne.debug||ne.retry_debug){var Q=S.Interval.of(ce,re);console.log("reportAttemptingFullContext decision="+J.decision+":"+j.s0.configs+", input="+this._parser.inputStream.getText(Q))}if(this._parser!=null){var G=this._parser.getErrorListenerDispatch();G.reportAttemptingFullContext&&G.reportAttemptingFullContext(this._parser,J,ce,re,se,j)}}},{key:"reportContextSensitivity",value:function(J,se,j,ce,re){if(ne.debug||ne.retry_debug){var Q=S.Interval.of(ce,re);console.log("reportContextSensitivity decision="+J.decision+":"+j.s0.configs+", input="+this._parser.inputStream.getText(Q))}if(this._parser!=null){var G=this._parser.getErrorListenerDispatch();G.reportContextSensitivity&&G.reportContextSensitivity(this._parser,J,ce,re,se,j)}}},{key:"reportAmbiguity",value:function(J,se,j,ce,re,Q,G){if(ne.debug||ne.retry_debug){var X=S.Interval.of(j,ce);console.log("reportAmbiguity "+Q+":"+G+", input="+this._parser.inputStream.getText(X))}if(this._parser!=null){var te=this._parser.getErrorListenerDispatch();te.reportAmbiguity&&te.reportAmbiguity(this._parser,J,j,ce,re,Q,G)}}},{key:"getReturnState",value:function(J){if(J.isEmpty)return D.PredictionContext.EMPTY_FULL_STATE_KEY;var se=this.atn.states[J.invokingState],j=se.transition(0);return j.followState.stateNumber}},{key:"skipTailCalls",value:function(J){if(!this.optimize_tail_calls)return J;for(;!J.isEmpty;){var se=this.atn.states[J.invokingState];H(se.numberOfTransitions===1&&se.transition(0).serializationType===3);var j=se.transition(0);if(!j.tailCall)break;J=J.parent}return J}},{key:"parser",get:function(){return this._parser}}]),ne}(y.ATNSimulator);return oe.debug=!1,oe.dfa_debug=!1,oe.retry_debug=!1,oe.STATE_ALT_SORT_COMPARATOR=function(ee,ne){var pe=ee.state.nonStopStateNumber-ne.state.nonStopStateNumber;return pe!==0||(pe=ee.alt-ne.alt,pe!==0)?pe:0},s([k.NotNull],oe.prototype,"predictionMode",void 0),s([k.NotNull],oe.prototype,"getPredictionMode",null),s([u(0,k.NotNull)],oe.prototype,"setPredictionMode",null),s([k.Override],oe.prototype,"reset",null),s([u(0,k.NotNull)],oe.prototype,"adaptivePredict",null),s([u(0,k.NotNull),u(1,k.NotNull),u(2,k.NotNull)],oe.prototype,"getStartState",null),s([u(0,k.NotNull),u(1,k.NotNull),u(3,k.NotNull)],oe.prototype,"execDFA",null),s([u(0,k.NotNull),u(1,k.NotNull),u(3,k.NotNull)],oe.prototype,"execATN",null),s([u(0,k.NotNull),u(2,k.NotNull)],oe.prototype,"handleNoViableAlt",null),s([u(0,k.NotNull)],oe.prototype,"getExistingTargetState",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"computeTargetState",null),s([k.NotNull,u(0,k.NotNull)],oe.prototype,"removeAllConfigsNotInRuleStopState",null),s([k.NotNull],oe.prototype,"computeStartState",null),s([k.NotNull,u(0,k.NotNull)],oe.prototype,"applyPrecedenceFilter",null),s([u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"getReachableTarget",null),s([u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"getPredsForAmbigAlts",null),s([u(0,k.NotNull)],oe.prototype,"evalSemanticContext",null),s([u(0,k.NotNull)],oe.prototype,"evalSemanticContextImpl",null),s([u(1,k.NotNull),u(4,k.Nullable)],oe.prototype,"closure",null),s([u(0,k.NotNull),u(1,k.NotNull),u(2,k.Nullable),u(3,k.NotNull),u(6,k.NotNull)],oe.prototype,"closureImpl",null),s([k.NotNull],oe.prototype,"getRuleName",null),s([u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"getEpsilonTarget",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"actionTransition",null),s([k.Nullable,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"precedenceTransition",null),s([k.Nullable,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"predTransition",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull),u(2,k.Nullable)],oe.prototype,"ruleTransition",null),s([u(0,k.NotNull)],oe.prototype,"isConflicted",null),s([k.NotNull],oe.prototype,"getTokenName",null),s([u(0,k.NotNull)],oe.prototype,"dumpDeadEndConfigs",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull),u(2,k.NotNull)],oe.prototype,"noViableAlt",null),s([u(0,k.NotNull)],oe.prototype,"getUniqueAlt",null),s([u(0,k.NotNull)],oe.prototype,"configWithAltAtStopState",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull),u(4,k.NotNull)],oe.prototype,"addDFAEdge",null),s([u(0,k.Nullable),u(2,k.Nullable)],oe.prototype,"setDFAEdge",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"addDFAContextState",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"addDFAState",null),s([k.NotNull,u(0,k.NotNull),u(1,k.NotNull)],oe.prototype,"createDFAState",null),s([u(0,k.NotNull),u(2,k.NotNull)],oe.prototype,"reportAttemptingFullContext",null),s([u(0,k.NotNull),u(2,k.NotNull)],oe.prototype,"reportContextSensitivity",null),s([u(0,k.NotNull),u(5,k.NotNull),u(6,k.NotNull)],oe.prototype,"reportAmbiguity",null),oe=s([u(0,k.NotNull)],oe),Wb.ParserATNSimulator=oe,Wb}var Qb={},U6;function tSe(){if(U6)return Qb;U6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(Qb,"__esModule",{value:!0});var u=li(),l=qS(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.PLUS_BLOCK_START}}]),p}(l.BlockStartState);return s([c.Override],f.prototype,"stateType",null),Qb.PlusBlockStartState=f,Qb}var Jb={},q6;function rSe(){if(q6)return Jb;q6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(Jb,"__esModule",{value:!0});var u=li(),l=Yd(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.PLUS_LOOP_BACK}}]),p}(l.DecisionState);return s([c.Override],f.prototype,"stateType",null),Jb.PlusLoopbackState=f,Jb}var Zb={},H6;function nSe(){if(H6)return Zb;H6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},u=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(Zb,"__esModule",{value:!0});var l=dN(),c=ot(),f=Fv(),d=function(p){(0,i.default)(h,p);function h(m,y){var v;return(0,r.default)(this,h),v=(0,n.default)(this,(0,o.default)(h).call(this,m)),v.precedence=y,v}return(0,t.default)(h,[{key:"matches",value:function(y,v,g){return!1}},{key:"toString",value:function(){return this.precedence+" >= _p"}},{key:"serializationType",get:function(){return 10}},{key:"isEpsilon",get:function(){return!0}},{key:"predicate",get:function(){return new f.SemanticContext.PrecedencePredicate(this.precedence)}}]),h}(l.AbstractPredicateTransition);return s([c.Override],d.prototype,"serializationType",null),s([c.Override],d.prototype,"isEpsilon",null),s([c.Override],d.prototype,"matches",null),s([c.Override],d.prototype,"toString",null),d=s([u(0,c.NotNull)],d),Zb.PrecedencePredicateTransition=d,Zb}var e1={},V6;function oSe(){if(V6)return e1;V6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g},u=function(p,h){return function(m,y){h(m,y,p)}};Object.defineProperty(e1,"__esModule",{value:!0});var l=Qd(),c=ot(),f=Sf(),d=function(p){(0,i.default)(h,p);function h(m,y,v){var g;return(0,r.default)(this,h),g=(0,n.default)(this,(0,o.default)(h).call(this,m)),g.from=y,g.to=v,g}return(0,t.default)(h,[{key:"matches",value:function(y,v,g){return y>=this.from&&y<=this.to}},{key:"toString",value:function(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}},{key:"serializationType",get:function(){return 2}},{key:"label",get:function(){return l.IntervalSet.of(this.from,this.to)}}]),h}(f.Transition);return s([c.Override],d.prototype,"serializationType",null),s([c.Override,c.NotNull],d.prototype,"label",null),s([c.Override],d.prototype,"matches",null),s([c.Override,c.NotNull],d.prototype,"toString",null),d=s([u(0,c.NotNull)],d),e1.RangeTransition=d,e1}var t1={},G6;function iSe(){if(G6)return t1;G6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(t1,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){var h;return(0,r.default)(this,p),h=(0,n.default)(this,(0,o.default)(p).apply(this,arguments)),h.isPrecedenceRule=!1,h.leftFactored=!1,h}return(0,t.default)(p,[{key:"stateType",get:function(){return l.ATNStateType.RULE_START}}]),p}(u.ATNState);return s([c.Override],f.prototype,"stateType",null),t1.RuleStartState=f,t1}var r1={},Y6;function aSe(){if(Y6)return r1;Y6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(r1,"__esModule",{value:!0});var u=li(),l=qS(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.STAR_BLOCK_START}}]),p}(l.BlockStartState);return s([c.Override],f.prototype,"stateType",null),r1.StarBlockStartState=f,r1}var n1={},K6;function sSe(){if(K6)return n1;K6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(n1,"__esModule",{value:!0});var u=sc(),l=li(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"loopEntryState",get:function(){return this.transition(0).target}},{key:"stateType",get:function(){return l.ATNStateType.STAR_LOOP_BACK}}]),p}(u.ATNState);return s([c.Override],f.prototype,"stateType",null),n1.StarLoopbackState=f,n1}var o1={},X6;function uSe(){if(X6)return o1;X6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(o1,"__esModule",{value:!0});var u=li(),l=Yd(),c=ot(),f=function(d){(0,i.default)(p,d);function p(){return(0,r.default)(this,p),(0,n.default)(this,(0,o.default)(p).apply(this,arguments))}return(0,t.default)(p,[{key:"stateType",get:function(){return u.ATNStateType.TOKEN_START}}]),p}(l.DecisionState);return s([c.Override],f.prototype,"stateType",null),o1.TokensStartState=f,o1}var i1={},Q6;function lSe(){if(Q6)return i1;Q6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt());Object.defineProperty(i1,"__esModule",{value:!0});var n=ho(),o=function(){function i(a,s,u,l){(0,r.default)(this,i),this.data=new Uint32Array(4),this.data[0]=a,this.data[1]=s,this.data[2]=u,this.data[3]=l}return(0,t.default)(i,[{key:"hashCode",value:function(){return n.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}},{key:"equals",value:function(s){return s===this?!0:s instanceof i?this.data[0]===s.data[0]&&this.data[1]===s.data[1]&&this.data[2]===s.data[2]&&this.data[3]===s.data[3]:!1}},{key:"toString",value:function(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}],[{key:"fromString",value:function(s){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(s))throw new Error("Incorrectly formatted UUID");var u=s.split("-"),l=parseInt(u[0],16),c=(parseInt(u[1],16)<<16>>>0)+parseInt(u[2],16),f=(parseInt(u[3],16)<<16>>>0)+parseInt(u[4].substr(0,4),16),d=parseInt(u[4].substr(-8),16);return new i(l,c,f,d)}}]),i}();return i1.UUID=o,i1}var J6;function HS(){if(J6)return Ab;J6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(re,Q,G,X){var te=arguments.length,de=te<3?Q:X===null?X=Object.getOwnPropertyDescriptor(Q,G):X,ae;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate(re,Q,G,X);else for(var ye=re.length-1;ye>=0;ye--)(ae=re[ye])&&(de=(te<3?ae(de):te>3?ae(Q,G,de):ae(Q,G))||de);return te>3&&de&&Object.defineProperty(Q,G,de),de},i=function(re,Q){return function(G,X){Q(G,X,re)}};Object.defineProperty(Ab,"__esModule",{value:!0});var a=h9(),s=Cf(),u=uc(),l=p9(),c=li(),f=v9(),d=Wwe(),p=c9(),h=kf(),m=Uwe(),y=qS(),v=Yd(),g=l9(),x=qwe(),b=Qd(),w=f9(),E=Hwe(),C=Vwe(),S=Gwe(),T=Ywe(),k=Kwe(),P=Xwe(),I=Qwe(),F=Jwe(),A=m9(),D=ot(),$=SN(),B=ny(),W=tSe(),L=rSe(),z=nSe(),U=JV(),Y=oSe(),q=iSe(),V=ry(),H=CN(),Z=wN(),ue=aSe(),oe=sSe(),ee=_N(),ne=Rn,pe=uSe(),J=lSe(),se=d9(),j;(function(re){re[re.UNICODE_BMP=0]="UNICODE_BMP",re[re.UNICODE_SMP=1]="UNICODE_SMP"})(j||(j={}));var ce=function(){function re(Q){(0,r.default)(this,re),Q==null&&(Q=l.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=Q}return(0,t.default)(re,[{key:"deserialize",value:function(G){G=G.slice(0);for(var X=1;X<G.length;X++)G[X]=G[X]-2&65535;var te=0,de=re.toInt(G[te++]);if(de!==re.SERIALIZED_VERSION){var ae="Could not deserialize ATN with version ".concat(de," (expected ").concat(re.SERIALIZED_VERSION,").");throw new Error(ae)}var ye=re.toUUID(G,te);if(te+=8,re.SUPPORTED_UUIDS.findIndex(function(Qo){return Qo.equals(ye)})<0){var ie="Could not deserialize ATN with UUID ".concat(ye," (expected ").concat(re.SERIALIZED_UUID," or a legacy UUID).");throw new Error(ie)}for(var he=re.isFeatureSupported(re.ADDED_LEXER_ACTIONS,ye),_e=re.toInt(G[te++]),Se=re.toInt(G[te++]),xe=new u.ATN(_e,Se),De=[],$e=[],Be=re.toInt(G[te++]),we=0;we<Be;we++){var Me=re.toInt(G[te++]);if(Me===c.ATNStateType.INVALID_TYPE){xe.addState(new w.InvalidState);continue}var Le=re.toInt(G[te++]);Le===65535&&(Le=-1);var Fe=this.stateFactory(Me,Le);if(Me===c.ATNStateType.LOOP_END){var He=re.toInt(G[te++]);De.push([Fe,He])}else if(Fe instanceof y.BlockStartState){var gt=re.toInt(G[te++]);$e.push([Fe,gt])}xe.addState(Fe)}for(var _t=0,At=De;_t<At.length;_t++){var or=At[_t];or[0].loopBackState=xe.states[or[1]]}for(var Cr=0,vr=$e;Cr<vr.length;Cr++){var br=vr[Cr];br[0].endState=xe.states[br[1]]}for(var Lr=re.toInt(G[te++]),Tr=0;Tr<Lr;Tr++){var Br=re.toInt(G[te++]);xe.states[Br].nonGreedy=!0}for(var $t=re.toInt(G[te++]),Xr=0;Xr<$t;Xr++){var Mn=re.toInt(G[te++]);xe.states[Mn].sll=!0}for(var Yn=re.toInt(G[te++]),Ee=0;Ee<Yn;Ee++){var Pe=re.toInt(G[te++]);xe.states[Pe].isPrecedenceRule=!0}var je=re.toInt(G[te++]);xe.grammarType===0&&(xe.ruleToTokenType=new Int32Array(je)),xe.ruleToStartState=new Array(je);for(var nt=0;nt<je;nt++){var yt=re.toInt(G[te++]),It=xe.states[yt];if(It.leftFactored=re.toInt(G[te++])!==0,xe.ruleToStartState[nt]=It,xe.grammarType===0){var Ut=re.toInt(G[te++]);Ut===65535&&(Ut=ne.Token.EOF),xe.ruleToTokenType[nt]=Ut,re.isFeatureSupported(re.ADDED_LEXER_ACTIONS,ye)||re.toInt(G[te++])}}xe.ruleToStopState=new Array(je);var wt=!0,Et=!1,xt=void 0;try{for(var Lt=xe.states[Symbol.iterator](),sr;!(wt=(sr=Lt.next()).done);wt=!0){var lr=sr.value;lr instanceof V.RuleStopState&&(xe.ruleToStopState[lr.ruleIndex]=lr,xe.ruleToStartState[lr.ruleIndex].stopState=lr)}}catch(Qo){Et=!0,xt=Qo}finally{try{!wt&&Lt.return!=null&&Lt.return()}finally{if(Et)throw xt}}for(var an=re.toInt(G[te++]),Ar=0;Ar<an;Ar++){var mt=re.toInt(G[te++]);xe.modeToStartState.push(xe.states[mt])}xe.modeToDFA=new Array(an);for(var zr=0;zr<an;zr++)xe.modeToDFA[zr]=new g.DFA(xe.modeToStartState[zr]);var Ai=[];te=this.deserializeSets(G,te,Ai,re.getUnicodeDeserializer(0)),re.isFeatureSupported(re.ADDED_UNICODE_SMP,ye)&&(te=this.deserializeSets(G,te,Ai,re.getUnicodeDeserializer(1)));for(var Oi=re.toInt(G[te++]),Yo=0;Yo<Oi;Yo++){var ro=re.toInt(G[te]),hu=re.toInt(G[te+1]),Za=re.toInt(G[te+2]),Qi=re.toInt(G[te+3]),Ae=re.toInt(G[te+4]),ft=re.toInt(G[te+5]),Xe=this.edgeFactory(xe,Za,ro,hu,Qi,Ae,ft,Ai),St=xe.states[ro];St.addTransition(Xe),te+=6}var pt=new s.Array2DHashSet({hashCode:function(mu){return mu.stopState^mu.returnState^mu.outermostPrecedenceReturn},equals:function(mu,gc){return mu.stopState===gc.stopState&&mu.returnState===gc.returnState&&mu.outermostPrecedenceReturn===gc.outermostPrecedenceReturn}}),Rt=[],Nt=!0,ur=!1,er=void 0;try{for(var Qr=xe.states[Symbol.iterator](),no;!(Nt=(no=Qr.next()).done);Nt=!0)for(var vo=no.value,Ko=vo.ruleIndex>=0&&xe.ruleToStartState[vo.ruleIndex].leftFactored,sn=0;sn<vo.numberOfTransitions;sn++){var Ji=vo.transition(sn);if(Ji instanceof H.RuleTransition){var Di=Ji,Pr=xe.ruleToStartState[Di.target.ruleIndex].leftFactored;if(!(!Pr&&Ko)){var Tn=-1;xe.ruleToStartState[Di.target.ruleIndex].isPrecedenceRule&&Di.precedence===0&&(Tn=Di.target.ruleIndex);var ci={stopState:Di.target.ruleIndex,returnState:Di.followState.stateNumber,outermostPrecedenceReturn:Tn};pt.add(ci)&&Rt.push(ci)}}}}catch(Qo){ur=!0,er=Qo}finally{try{!Nt&&Qr.return!=null&&Qr.return()}finally{if(ur)throw er}}for(var Er=0,An=Rt;Er<An.length;Er++){var oo=An[Er],Xo=new x.EpsilonTransition(xe.states[oo.returnState],oo.outermostPrecedenceReturn);xe.ruleToStopState[oo.stopState].addTransition(Xo)}var Io=!0,jr=!1,io=void 0;try{for(var Vr=xe.states[Symbol.iterator](),Pi;!(Io=(Pi=Vr.next()).done);Io=!0){var jn=Pi.value;if(jn instanceof y.BlockStartState){if(jn.endState==null)throw new Error("IllegalStateException");if(jn.endState.startState!=null)throw new Error("IllegalStateException");jn.endState.startState=jn}if(jn instanceof L.PlusLoopbackState)for(var Ii=jn,Zi=0;Zi<Ii.numberOfTransitions;Zi++){var vc=Ii.transition(Zi).target;vc instanceof W.PlusBlockStartState&&(vc.loopBackState=Ii)}else if(jn instanceof oe.StarLoopbackState)for(var Qv=jn,Jv=0;Jv<Qv.numberOfTransitions;Jv++){var Zv=Qv.transition(Jv).target;Zv instanceof ee.StarLoopEntryState&&(Zv.loopBackState=Qv)}}}catch(Qo){jr=!0,io=Qo}finally{try{!Io&&Vr.return!=null&&Vr.return()}finally{if(jr)throw io}}for(var em=re.toInt(G[te++]),tm=1;tm<=em;tm++){var LC=re.toInt(G[te++]),Ey=xe.states[LC];xe.decisionToState.push(Ey),Ey.decision=tm-1}if(xe.grammarType===0)if(he){xe.lexerActions=new Array(re.toInt(G[te++]));for(var If=0;If<xe.lexerActions.length;If++){var BC=re.toInt(G[te++]),rm=re.toInt(G[te++]);rm===65535&&(rm=-1);var nm=re.toInt(G[te++]);nm===65535&&(nm=-1);var jC=this.lexerActionFactory(BC,rm,nm);xe.lexerActions[If]=jC}}else{var om=[],un=!0,ln=!1,ky=void 0;try{for(var im=xe.states[Symbol.iterator](),Ry;!(un=(Ry=im.next()).done);un=!0)for(var am=Ry.value,up=0;up<am.numberOfTransitions;up++){var lp=am.transition(up);if(lp instanceof a.ActionTransition){var sm=lp.ruleIndex,$C=lp.actionIndex,wo=new C.LexerCustomAction(sm,$C);am.setTransition(up,new a.ActionTransition(lp.target,sm,om.length,!1)),om.push(wo)}}}catch(Qo){ln=!0,ky=Qo}finally{try{!un&&im.return!=null&&im.return()}finally{if(ln)throw ky}}xe.lexerActions=om}this.markPrecedenceDecisions(xe),xe.decisionToDFA=new Array(em);for(var xl=0;xl<em;xl++)xe.decisionToDFA[xl]=new g.DFA(xe.decisionToState[xl],xl);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(xe),this.deserializationOptions.isGenerateRuleBypassTransitions&&xe.grammarType===1){xe.ruleToTokenType=new Int32Array(xe.ruleToStartState.length);for(var es=0;es<xe.ruleToStartState.length;es++)xe.ruleToTokenType[es]=xe.maxTokenType+es+1;for(var Ni=0;Ni<xe.ruleToStartState.length;Ni++){var ts=new d.BasicBlockStartState;ts.ruleIndex=Ni,xe.addState(ts);var mo=new m.BlockEndState;mo.ruleIndex=Ni,xe.addState(mo),ts.endState=mo,xe.defineDecisionState(ts),mo.startState=ts;var vu=void 0,um=void 0;if(xe.ruleToStartState[Ni].isPrecedenceRule){vu=void 0;var cp=!0,lm=!1,cm=void 0;try{for(var fp=xe.states[Symbol.iterator](),fi;!(cp=(fi=fp.next()).done);cp=!0){var Nf=fi.value;if(Nf.ruleIndex===Ni&&Nf instanceof ee.StarLoopEntryState){var di=Nf.transition(Nf.numberOfTransitions-1).target;if(di instanceof A.LoopEndState&&di.epsilonOnlyTransitions&&di.transition(0).target instanceof V.RuleStopState){vu=Nf;break}}}}catch(Qo){lm=!0,cm=Qo}finally{try{!cp&&fp.return!=null&&fp.return()}finally{if(lm)throw cm}}if(!vu)throw new Error("Couldn't identify final state of the precedence rule prefix section.");um=vu.loopBackState.transition(0)}else vu=xe.ruleToStopState[Ni];var fm=!0,dm=!1,Is=void 0;try{for(var mc=xe.states[Symbol.iterator](),dp;!(fm=(dp=mc.next()).done);fm=!0)for(var xn=dp.value,rs=0;rs<xn.numberOfTransitions;rs++){var Mf=xn.transition(rs);Mf!==um&&Mf.target===vu&&(Mf.target=mo)}}catch(Qo){dm=!0,Is=Qo}finally{try{!fm&&mc.return!=null&&mc.return()}finally{if(dm)throw Is}}for(;xe.ruleToStartState[Ni].numberOfTransitions>0;){var zC=xe.ruleToStartState[Ni].removeTransition(xe.ruleToStartState[Ni].numberOfTransitions-1);ts.addTransition(zC)}xe.ruleToStartState[Ni].addTransition(new x.EpsilonTransition(ts)),mo.addTransition(new x.EpsilonTransition(vu));var Ff=new p.BasicState;xe.addState(Ff),Ff.addTransition(new f.AtomTransition(mo,xe.ruleToTokenType[Ni])),ts.addTransition(new x.EpsilonTransition(Ff))}this.deserializationOptions.isVerifyATN&&this.verifyATN(xe)}if(this.deserializationOptions.isOptimize){for(;;){var pp=0;pp+=re.inlineSetRules(xe),pp+=re.combineChainedEpsilons(xe);var WC=xe.grammarType===0;if(pp+=re.optimizeSets(xe,WC),pp===0)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(xe)}return re.identifyTailCalls(xe),xe}},{key:"deserializeSets",value:function(G,X,te,de){for(var ae=re.toInt(G[X++]),ye=0;ye<ae;ye++){var ie=re.toInt(G[X]);X++;var he=new b.IntervalSet;te.push(he);var _e=re.toInt(G[X++])!==0;_e&&he.add(-1);for(var Se=0;Se<ie;Se++){var xe=de.readUnicode(G,X);X+=de.size;var De=de.readUnicode(G,X);X+=de.size,he.add(xe,De)}}return X}},{key:"markPrecedenceDecisions",value:function(G){var X=new Map,te=!0,de=!1,ae=void 0;try{for(var ye=G.states[Symbol.iterator](),ie;!(te=(ie=ye.next()).done);te=!0){var he=ie.value;if(he instanceof ee.StarLoopEntryState&&G.ruleToStartState[he.ruleIndex].isPrecedenceRule){var _e=he.transition(he.numberOfTransitions-1).target;_e instanceof A.LoopEndState&&_e.epsilonOnlyTransitions&&_e.transition(0).target instanceof V.RuleStopState&&(X.set(he.ruleIndex,he),he.precedenceRuleDecision=!0,he.precedenceLoopbackStates=new h.BitSet(G.states.length))}}}catch(or){de=!0,ae=or}finally{try{!te&&ye.return!=null&&ye.return()}finally{if(de)throw ae}}var Se=!0,xe=!1,De=void 0;try{for(var $e=X[Symbol.iterator](),Be;!(Se=(Be=$e.next()).done);Se=!0){var we=Be.value,Me=!0,Le=!1,Fe=void 0;try{for(var He=G.ruleToStopState[we[0]].getTransitions()[Symbol.iterator](),gt;!(Me=(gt=He.next()).done);Me=!0){var _t=gt.value;if(_t.serializationType===1){var At=_t;At.outermostPrecedenceReturn===-1&&we[1].precedenceLoopbackStates.set(_t.target.stateNumber)}}}catch(or){Le=!0,Fe=or}finally{try{!Me&&He.return!=null&&He.return()}finally{if(Le)throw Fe}}}}catch(or){xe=!0,De=or}finally{try{!Se&&$e.return!=null&&$e.return()}finally{if(xe)throw De}}}},{key:"verifyATN",value:function(G){var X=!0,te=!1,de=void 0;try{for(var ae=G.states[Symbol.iterator](),ye;!(X=(ye=ae.next()).done);X=!0){var ie=ye.value;if(this.checkCondition(ie!=null,"ATN states should not be null."),ie.stateType!==c.ATNStateType.INVALID_TYPE){if(this.checkCondition(ie.onlyHasEpsilonTransitions||ie.numberOfTransitions<=1),ie instanceof W.PlusBlockStartState&&this.checkCondition(ie.loopBackState!=null),ie instanceof ee.StarLoopEntryState){var he=ie;if(this.checkCondition(he.loopBackState!=null),this.checkCondition(he.numberOfTransitions===2),he.transition(0).target instanceof ue.StarBlockStartState)this.checkCondition(he.transition(1).target instanceof A.LoopEndState),this.checkCondition(!he.nonGreedy);else if(he.transition(0).target instanceof A.LoopEndState)this.checkCondition(he.transition(1).target instanceof ue.StarBlockStartState),this.checkCondition(he.nonGreedy);else throw new Error("IllegalStateException")}if(ie instanceof oe.StarLoopbackState&&(this.checkCondition(ie.numberOfTransitions===1),this.checkCondition(ie.transition(0).target instanceof ee.StarLoopEntryState)),ie instanceof A.LoopEndState&&this.checkCondition(ie.loopBackState!=null),ie instanceof q.RuleStartState&&this.checkCondition(ie.stopState!=null),ie instanceof y.BlockStartState&&this.checkCondition(ie.endState!=null),ie instanceof m.BlockEndState&&this.checkCondition(ie.startState!=null),ie instanceof v.DecisionState){var _e=ie;this.checkCondition(_e.numberOfTransitions<=1||_e.decision>=0)}else this.checkCondition(ie.numberOfTransitions<=1||ie instanceof V.RuleStopState)}}}catch(Se){te=!0,de=Se}finally{try{!X&&ae.return!=null&&ae.return()}finally{if(te)throw de}}}},{key:"checkCondition",value:function(G,X){if(!G)throw new Error("IllegalStateException: "+X)}},{key:"edgeFactory",value:function(G,X,te,de,ae,ye,ie,he){var _e=G.states[de];switch(X){case 1:return new x.EpsilonTransition(_e);case 2:return ie!==0?new Y.RangeTransition(_e,ne.Token.EOF,ye):new Y.RangeTransition(_e,ae,ye);case 3:var Se=new H.RuleTransition(G.states[ae],ye,ie,_e);return Se;case 4:var xe=new U.PredicateTransition(_e,ae,ye,ie!==0);return xe;case 10:return new z.PrecedencePredicateTransition(_e,ae);case 5:return ie!==0?new f.AtomTransition(_e,ne.Token.EOF):new f.AtomTransition(_e,ae);case 6:var De=new a.ActionTransition(_e,ae,ye,ie!==0);return De;case 7:return new Z.SetTransition(_e,he[ae]);case 8:return new $.NotSetTransition(_e,he[ae]);case 9:return new se.WildcardTransition(_e)}throw new Error("The specified transition type is not valid.")}},{key:"stateFactory",value:function(G,X){var te;switch(G){case c.ATNStateType.INVALID_TYPE:return new w.InvalidState;case c.ATNStateType.BASIC:te=new p.BasicState;break;case c.ATNStateType.RULE_START:te=new q.RuleStartState;break;case c.ATNStateType.BLOCK_START:te=new d.BasicBlockStartState;break;case c.ATNStateType.PLUS_BLOCK_START:te=new W.PlusBlockStartState;break;case c.ATNStateType.STAR_BLOCK_START:te=new ue.StarBlockStartState;break;case c.ATNStateType.TOKEN_START:te=new pe.TokensStartState;break;case c.ATNStateType.RULE_STOP:te=new V.RuleStopState;break;case c.ATNStateType.BLOCK_END:te=new m.BlockEndState;break;case c.ATNStateType.STAR_LOOP_BACK:te=new oe.StarLoopbackState;break;case c.ATNStateType.STAR_LOOP_ENTRY:te=new ee.StarLoopEntryState;break;case c.ATNStateType.PLUS_LOOP_BACK:te=new L.PlusLoopbackState;break;case c.ATNStateType.LOOP_END:te=new A.LoopEndState;break;default:var de="The specified state type ".concat(G," is not valid.");throw new Error(de)}return te.ruleIndex=X,te}},{key:"lexerActionFactory",value:function(G,X,te){switch(G){case 0:return new E.LexerChannelAction(X);case 1:return new C.LexerCustomAction(X,te);case 2:return new S.LexerModeAction(X);case 3:return T.LexerMoreAction.INSTANCE;case 4:return k.LexerPopModeAction.INSTANCE;case 5:return new P.LexerPushModeAction(X);case 6:return I.LexerSkipAction.INSTANCE;case 7:return new F.LexerTypeAction(X);default:var de="The specified lexer action type ".concat(G," is not valid.");throw new Error(de)}}}],[{key:"isFeatureSupported",value:function(G,X){var te=re.SUPPORTED_UUIDS.findIndex(function(de){return de.equals(G)});return te<0?!1:re.SUPPORTED_UUIDS.findIndex(function(de){return de.equals(X)})>=te}},{key:"getUnicodeDeserializer",value:function(G){return G===0?{readUnicode:function(te,de){return re.toInt(te[de])},size:1}:{readUnicode:function(te,de){return re.toInt32(te,de)},size:2}}},{key:"inlineSetRules",value:function(G){for(var X=0,te=new Array(G.ruleToStartState.length),de=0;de<G.ruleToStartState.length;de++){for(var ae=G.ruleToStartState[de],ye=ae;ye.onlyHasEpsilonTransitions&&ye.numberOfOptimizedTransitions===1&&ye.getOptimizedTransition(0).serializationType===1;)ye=ye.getOptimizedTransition(0).target;if(ye.numberOfOptimizedTransitions===1){var ie=ye.getOptimizedTransition(0),he=ie.target;if(!(ie.isEpsilon||!he.onlyHasEpsilonTransitions||he.numberOfOptimizedTransitions!==1||!(he.getOptimizedTransition(0).target instanceof V.RuleStopState)))switch(ie.serializationType){case 5:case 2:case 7:te[de]=ie;break;case 8:case 9:continue;default:continue}}}var _e=!0,Se=!1,xe=void 0;try{for(var De=G.states[Symbol.iterator](),$e;!(_e=($e=De.next()).done);_e=!0){var Be=$e.value;if(!(Be.ruleIndex<0)){for(var we=void 0,Me=0;Me<Be.numberOfOptimizedTransitions;Me++){var Le=Be.getOptimizedTransition(Me);if(!(Le instanceof H.RuleTransition)){we!=null&&we.push(Le);continue}var Fe=Le,He=te[Fe.target.ruleIndex];if(He==null){we!=null&&we.push(Le);continue}if(we==null){we=[];for(var gt=0;gt<Me;gt++)we.push(Be.getOptimizedTransition(Me))}X++;var _t=Fe.followState,At=new p.BasicState;switch(At.setRuleIndex(_t.ruleIndex),G.addState(At),we.push(new x.EpsilonTransition(At)),He.serializationType){case 5:At.addTransition(new f.AtomTransition(_t,He._label));break;case 2:At.addTransition(new Y.RangeTransition(_t,He.from,He.to));break;case 7:At.addTransition(new Z.SetTransition(_t,He.label));break;default:throw new Error("UnsupportedOperationException")}}if(we!=null){if(Be.isOptimized)for(;Be.numberOfOptimizedTransitions>0;)Be.removeOptimizedTransition(Be.numberOfOptimizedTransitions-1);var or=!0,Cr=!1,vr=void 0;try{for(var br=we[Symbol.iterator](),Lr;!(or=(Lr=br.next()).done);or=!0){var Tr=Lr.value;Be.addOptimizedTransition(Tr)}}catch(Br){Cr=!0,vr=Br}finally{try{!or&&br.return!=null&&br.return()}finally{if(Cr)throw vr}}}}}}catch(Br){Se=!0,xe=Br}finally{try{!_e&&De.return!=null&&De.return()}finally{if(Se)throw xe}}return B.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+X+" rule invocations by inlining sets."),X}},{key:"combineChainedEpsilons",value:function(G){var X=0,te=!0,de=!1,ae=void 0;try{for(var ye=G.states[Symbol.iterator](),ie;!(te=(ie=ye.next()).done);te=!0){var he=ie.value;if(!(!he.onlyHasEpsilonTransitions||he instanceof V.RuleStopState)){var _e=void 0;e:for(var Se=0;Se<he.numberOfOptimizedTransitions;Se++){var xe=he.getOptimizedTransition(Se),De=xe.target;if(xe.serializationType!==1||xe.outermostPrecedenceReturn!==-1||De.stateType!==c.ATNStateType.BASIC||!De.onlyHasEpsilonTransitions){_e!=null&&_e.push(xe);continue e}for(var $e=0;$e<De.numberOfOptimizedTransitions;$e++)if(De.getOptimizedTransition($e).serializationType!==1||De.getOptimizedTransition($e).outermostPrecedenceReturn!==-1){_e!=null&&_e.push(xe);continue e}if(X++,_e==null){_e=[];for(var Be=0;Be<Se;Be++)_e.push(he.getOptimizedTransition(Be))}for(var we=0;we<De.numberOfOptimizedTransitions;we++){var Me=De.getOptimizedTransition(we).target;_e.push(new x.EpsilonTransition(Me))}}if(_e!=null){if(he.isOptimized)for(;he.numberOfOptimizedTransitions>0;)he.removeOptimizedTransition(he.numberOfOptimizedTransitions-1);var Le=!0,Fe=!1,He=void 0;try{for(var gt=_e[Symbol.iterator](),_t;!(Le=(_t=gt.next()).done);Le=!0){var At=_t.value;he.addOptimizedTransition(At)}}catch(or){Fe=!0,He=or}finally{try{!Le&&gt.return!=null&&gt.return()}finally{if(Fe)throw He}}}}}}catch(or){de=!0,ae=or}finally{try{!te&&ye.return!=null&&ye.return()}finally{if(de)throw ae}}return B.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+X+" transitions by combining chained epsilon transitions."),X}},{key:"optimizeSets",value:function(G,X){if(X)return 0;var te=0,de=G.decisionToState,ae=!0,ye=!1,ie=void 0;try{for(var he=de[Symbol.iterator](),_e;!(ae=(_e=he.next()).done);ae=!0){for(var Se=_e.value,xe=new b.IntervalSet,De=0;De<Se.numberOfOptimizedTransitions;De++){var $e=Se.getOptimizedTransition(De);if($e instanceof x.EpsilonTransition&&$e.target.numberOfOptimizedTransitions===1){var Be=$e.target.getOptimizedTransition(0);Be.target instanceof m.BlockEndState&&(Be instanceof $.NotSetTransition||(Be instanceof f.AtomTransition||Be instanceof Y.RangeTransition||Be instanceof Z.SetTransition)&&xe.add(De))}}if(!(xe.size<=1)){for(var we=[],Me=0;Me<Se.numberOfOptimizedTransitions;Me++)xe.contains(Me)||we.push(Se.getOptimizedTransition(Me));var Le=Se.getOptimizedTransition(xe.minElement).target.getOptimizedTransition(0).target,Fe=new b.IntervalSet,He=!0,gt=!1,_t=void 0;try{for(var At=xe.intervals[Symbol.iterator](),or;!(He=(or=At.next()).done);He=!0)for(var Cr=or.value,vr=Cr.a;vr<=Cr.b;vr++){var br=Se.getOptimizedTransition(vr).target.getOptimizedTransition(0);if(br instanceof $.NotSetTransition)throw new Error("Not yet implemented.");Fe.addAll(br.label)}}catch(Yn){gt=!0,_t=Yn}finally{try{!He&&At.return!=null&&At.return()}finally{if(gt)throw _t}}var Lr=void 0;if(Fe.intervals.length===1)if(Fe.size===1)Lr=new f.AtomTransition(Le,Fe.minElement);else{var Tr=Fe.intervals[0];Lr=new Y.RangeTransition(Le,Tr.a,Tr.b)}else Lr=new Z.SetTransition(Le,Fe);var Br=new p.BasicState;if(Br.setRuleIndex(Se.ruleIndex),G.addState(Br),Br.addTransition(Lr),we.push(new x.EpsilonTransition(Br)),te+=Se.numberOfOptimizedTransitions-we.length,Se.isOptimized)for(;Se.numberOfOptimizedTransitions>0;)Se.removeOptimizedTransition(Se.numberOfOptimizedTransitions-1);for(var $t=0,Xr=we;$t<Xr.length;$t++){var Mn=Xr[$t];Se.addOptimizedTransition(Mn)}}}}catch(Yn){ye=!0,ie=Yn}finally{try{!ae&&he.return!=null&&he.return()}finally{if(ye)throw ie}}return B.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+te+" paths by collapsing sets."),te}},{key:"identifyTailCalls",value:function(G){var X=!0,te=!1,de=void 0;try{for(var ae=G.states[Symbol.iterator](),ye;!(X=(ye=ae.next()).done);X=!0){for(var ie=ye.value,he=0;he<ie.numberOfTransitions;he++){var _e=ie.transition(he);_e instanceof H.RuleTransition&&(_e.tailCall=this.testTailCall(G,_e,!1),_e.optimizedTailCall=this.testTailCall(G,_e,!0))}if(ie.isOptimized)for(var Se=0;Se<ie.numberOfOptimizedTransitions;Se++){var xe=ie.getOptimizedTransition(Se);xe instanceof H.RuleTransition&&(xe.tailCall=this.testTailCall(G,xe,!1),xe.optimizedTailCall=this.testTailCall(G,xe,!0))}}}catch(De){te=!0,de=De}finally{try{!X&&ae.return!=null&&ae.return()}finally{if(te)throw de}}}},{key:"testTailCall",value:function(G,X,te){if(!te&&X.tailCall||te&&X.optimizedTailCall)return!0;var de=new h.BitSet(G.states.length),ae=[];for(ae.push(X.followState);;){var ye=ae.pop();if(!ye)break;if(!de.get(ye.stateNumber)&&!(ye instanceof V.RuleStopState)){if(!ye.onlyHasEpsilonTransitions)return!1;for(var ie=te?ye.numberOfOptimizedTransitions:ye.numberOfTransitions,he=0;he<ie;he++){var _e=te?ye.getOptimizedTransition(he):ye.transition(he);if(_e.serializationType!==1)return!1;ae.push(_e.target)}}}return!0}},{key:"toInt",value:function(G){return G}},{key:"toInt32",value:function(G,X){return(G[X]|G[X+1]<<16)>>>0}},{key:"toUUID",value:function(G,X){var te=re.toInt32(G,X),de=re.toInt32(G,X+2),ae=re.toInt32(G,X+4),ye=re.toInt32(G,X+6);return new J.UUID(ye,ae,de,te)}},{key:"SERIALIZED_VERSION",get:function(){return 3}}]),re}();return ce.BASE_SERIALIZED_UUID=J.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ce.ADDED_LEXER_ACTIONS=J.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ce.ADDED_UNICODE_SMP=J.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ce.SUPPORTED_UUIDS=[ce.BASE_SERIALIZED_UUID,ce.ADDED_LEXER_ACTIONS,ce.ADDED_UNICODE_SMP],ce.SERIALIZED_UUID=ce.ADDED_UNICODE_SMP,o([D.NotNull],ce.prototype,"deserializationOptions",void 0),o([i(0,D.NotNull)],ce.prototype,"deserialize",null),o([i(0,D.NotNull)],ce.prototype,"markPrecedenceDecisions",null),o([D.NotNull,i(0,D.NotNull)],ce.prototype,"edgeFactory",null),Ab.ATNDeserializer=ce,Ab}var a1={},Z6;function cSe(){if(Z6)return a1;Z6=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p},i=function(u,l){return function(c,f){l(c,f,u)}};Object.defineProperty(a1,"__esModule",{value:!0});var a=ot(),s=function(){function u(l){(0,r.default)(this,u),this.atnSimulator=l}return(0,t.default)(u,[{key:"getDecisionInfo",value:function(){return this.atnSimulator.getDecisionInfo()}},{key:"getLLDecisions",value:function(){for(var c=this.atnSimulator.getDecisionInfo(),f=[],d=0;d<c.length;d++){var p=c[d].LL_Fallback;p>0&&f.push(d)}return f}},{key:"getTotalTimeInPrediction",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.timeInPrediction}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getTotalSLLLookaheadOps",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.SLL_TotalLook}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getTotalLLLookaheadOps",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.LL_TotalLook}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getTotalSLLATNLookaheadOps",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.SLL_ATNTransitions}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getTotalLLATNLookaheadOps",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.LL_ATNTransitions}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getTotalATNLookaheadOps",value:function(){var c=this.atnSimulator.getDecisionInfo(),f=0,d=!0,p=!1,h=void 0;try{for(var m=c[Symbol.iterator](),y;!(d=(y=m.next()).done);d=!0){var v=y.value;f+=v.SLL_ATNTransitions,f+=v.LL_ATNTransitions}}catch(g){p=!0,h=g}finally{try{!d&&m.return!=null&&m.return()}finally{if(p)throw h}}return f}},{key:"getDFASize",value:function(c){if(c){var f=this.atnSimulator.atn.decisionToDFA[c];return f.states.size}else{for(var d=0,p=this.atnSimulator.atn.decisionToDFA,h=0;h<p.length;h++)d+=this.getDFASize(h);return d}}}]),u}();return o([a.NotNull],s.prototype,"getDecisionInfo",null),o([a.NotNull],s.prototype,"getLLDecisions",null),s=o([i(0,a.NotNull)],s),a1.ParseInfo=s,a1}var VS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var zv=Ge,fSe=zv(Ke()),dSe=zv(rt()),pSe=zv(Dt()),hSe=zv(Tt()),vSe=zv(Pt()),mSe=zv(tt()),AN=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,mSe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(VS,"__esModule",{value:!0});var gSe=ty,ON=ot(),GS=function(e){(0,vSe.default)(r,e);function r(t){return(0,fSe.default)(this,r),(0,pSe.default)(this,(0,hSe.default)(r).call(this,t))}return(0,dSe.default)(r,[{key:"reportAmbiguity",value:function(n,o,i,a,s,u,l){this.getDelegates().forEach(function(c){c.reportAmbiguity&&c.reportAmbiguity(n,o,i,a,s,u,l)})}},{key:"reportAttemptingFullContext",value:function(n,o,i,a,s,u){this.getDelegates().forEach(function(l){l.reportAttemptingFullContext&&l.reportAttemptingFullContext(n,o,i,a,s,u)})}},{key:"reportContextSensitivity",value:function(n,o,i,a,s,u){this.getDelegates().forEach(function(l){l.reportContextSensitivity&&l.reportContextSensitivity(n,o,i,a,s,u)})}}]),r}(gSe.ProxyErrorListener);AN([ON.Override],GS.prototype,"reportAmbiguity",null);AN([ON.Override],GS.prototype,"reportAttemptingFullContext",null);AN([ON.Override],GS.prototype,"reportContextSensitivity",null);VS.ProxyParserErrorListener=GS;var zT={},YS={},DN={},Bp={},ez;function ySe(){if(ez)return Bp;ez=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(Bp,"__esModule",{value:!0});function e(n){return n>=55296&&n<=56319}Bp.isHighSurrogate=e;function r(n){return n>=56320&&n<=57343}Bp.isLowSurrogate=r;function t(n){return n>=65536}return Bp.isSupplementaryCodePoint=t,Bp}(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Ke()),n=r(rt());Object.defineProperty(e,"__esModule",{value:!0});var o=Vi(),i=ySe(),a=function(){function s(u,l){(0,t.default)(this,s),this.buffer=u,this._position=0,this._size=l}return(0,n.default)(s,[{key:"get",value:function(l){return this.buffer[l]}},{key:"array",value:function(){return this.buffer.slice(0,this._size)}},{key:"position",get:function(){return this._position},set:function(l){if(l<0||l>this._size)throw new RangeError;this._position=l}},{key:"remaining",get:function(){return this._size-this.position}}],[{key:"withArray",value:function(l){return new s(l,l.length)}},{key:"builder",value:function(l){return new s.Builder(l)}}]),s}();e.CodePointBuffer=a,function(s){var u;(function(c){c[c.BYTE=0]="BYTE",c[c.CHAR=1]="CHAR",c[c.INT=2]="INT"})(u||(u={}));var l=function(){function c(f){(0,t.default)(this,c),this.type=0,this.buffer=new Uint8Array(f),this.prevHighSurrogate=-1,this.position=0}return(0,n.default)(c,[{key:"build",value:function(){return new s(this.buffer,this.position)}},{key:"ensureRemaining",value:function(d){switch(this.type){case 0:if(this.buffer.length-this.position<d){var p=c.roundUpToNextPowerOfTwo(this.buffer.length+d),h=new Uint8Array(p);h.set(this.buffer.subarray(0,this.position),0),this.buffer=h}break;case 1:if(this.buffer.length-this.position<d){var m=c.roundUpToNextPowerOfTwo(this.buffer.length+d),y=new Uint16Array(m);y.set(this.buffer.subarray(0,this.position),0),this.buffer=y}break;case 2:if(this.buffer.length-this.position<d){var v=c.roundUpToNextPowerOfTwo(this.buffer.length+d),g=new Int32Array(v);g.set(this.buffer.subarray(0,this.position),0),this.buffer=g}break}}},{key:"append",value:function(d){this.ensureRemaining(d.length),this.appendArray(d)}},{key:"appendArray",value:function(d){switch(this.type){case 0:this.appendArrayByte(d);break;case 1:this.appendArrayChar(d);break;case 2:this.appendArrayInt(d);break}}},{key:"appendArrayByte",value:function(d){o(this.prevHighSurrogate===-1);for(var p=d,h=0,m=d.length,y=this.buffer,v=this.position;h<m;){var g=p[h];if(g<=255)y[v]=g;else if(d=d.subarray(h,m),this.position=v,i.isHighSurrogate(g)){this.byteToIntBuffer(d.length),this.appendArrayInt(d);return}else{this.byteToCharBuffer(d.length),this.appendArrayChar(d);return}h++,v++}this.position=v}},{key:"appendArrayChar",value:function(d){o(this.prevHighSurrogate===-1);for(var p=d,h=0,m=d.length,y=this.buffer,v=this.position;h<m;){var g=p[h];if(!i.isHighSurrogate(g))y[v]=g;else{d=d.subarray(h,m),this.position=v,this.charToIntBuffer(d.length),this.appendArrayInt(d);return}h++,v++}this.position=v}},{key:"appendArrayInt",value:function(d){for(var p=d,h=0,m=d.length,y=this.buffer,v=this.position;h<m;){var g=p[h];h++,this.prevHighSurrogate!==-1?i.isLowSurrogate(g)?(y[v]=String.fromCharCode(this.prevHighSurrogate,g).codePointAt(0),v++,this.prevHighSurrogate=-1):(y[v]=this.prevHighSurrogate,v++,i.isHighSurrogate(g)?this.prevHighSurrogate=g:(y[v]=g,v++,this.prevHighSurrogate=-1)):i.isHighSurrogate(g)?this.prevHighSurrogate=g:(y[v]=g,v++)}this.prevHighSurrogate!==-1&&(y[v]=this.prevHighSurrogate,v++),this.position=v}},{key:"byteToCharBuffer",value:function(d){var p=new Uint16Array(Math.max(this.position+d,this.buffer.length>>1));p.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=p}},{key:"byteToIntBuffer",value:function(d){var p=new Int32Array(Math.max(this.position+d,this.buffer.length>>2));p.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=p}},{key:"charToIntBuffer",value:function(d){var p=new Int32Array(Math.max(this.position+d,this.buffer.length>>1));p.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=p}}],[{key:"roundUpToNextPowerOfTwo",value:function(d){var p=32-Math.clz32(d-1);return Math.pow(2,p)}}]),c}();s.Builder=l}(a=e.CodePointBuffer||(e.CodePointBuffer={}))})(DN);var KS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var XS=Ge,tz=XS(i9()),xSe=XS(Ke()),bSe=XS(rt()),_Se=XS(tt()),dl=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,_Se.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(KS,"__esModule",{value:!0});var rz=Vi(),s1=ac,wSe=ba(),pl=ot(),uu=function(){function e(r,t,n,o){(0,xSe.default)(this,e),rz(t===0),this._array=r,this._size=n,this._name=o,this._position=0}return(0,bSe.default)(e,[{key:"consume",value:function(){if(this._size-this._position===0)throw rz(this.LA(1)===s1.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}},{key:"mark",value:function(){return-1}},{key:"release",value:function(t){}},{key:"seek",value:function(t){this._position=t}},{key:"toString",value:function(){return this.getText(wSe.Interval.of(0,this.size-1))}},{key:"LA",value:function(t){var n;switch(Math.sign(t)){case-1:return n=this.index+t,n<0?s1.IntStream.EOF:this._array[n];case 0:return 0;case 1:return n=this.index+t-1,n>=this.size?s1.IntStream.EOF:this._array[n]}throw new RangeError("Not reached")}},{key:"getText",value:function(t){var n=Math.min(t.a,this.size),o=Math.min(t.b-t.a+1,this.size-n);return this._array instanceof Int32Array?String.fromCodePoint.apply(String,(0,tz.default)(Array.from(this._array.subarray(n,n+o)))):String.fromCharCode.apply(String,(0,tz.default)(Array.from(this._array.subarray(n,n+o))))}},{key:"internalStorage",get:function(){return this._array}},{key:"index",get:function(){return this._position}},{key:"size",get:function(){return this._size}},{key:"sourceName",get:function(){return this._name}}],[{key:"fromBuffer",value:function(t,n){return(n===void 0||n.length===0)&&(n=s1.IntStream.UNKNOWN_SOURCE_NAME),new e(t.array(),t.position,t.remaining,n)}}]),e}();dl([pl.Override],uu.prototype,"consume",null);dl([pl.Override],uu.prototype,"index",null);dl([pl.Override],uu.prototype,"size",null);dl([pl.Override],uu.prototype,"mark",null);dl([pl.Override],uu.prototype,"release",null);dl([pl.Override],uu.prototype,"seek",null);dl([pl.Override],uu.prototype,"sourceName",null);dl([pl.Override],uu.prototype,"toString",null);dl([pl.Override],uu.prototype,"LA",null);dl([pl.Override],uu.prototype,"getText",null);KS.CodePointCharStream=uu;(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0});var r=DN,t=KS,n=ac;(function(o){function i(a,s){(s===void 0||s.length===0)&&(s=n.IntStream.UNKNOWN_SOURCE_NAME);for(var u=r.CodePointBuffer.builder(a.length),l=new Uint16Array(a.length),c=0;c<a.length;c++)l[c]=a.charCodeAt(c);return u.append(l),t.CodePointCharStream.fromBuffer(u.build(),s)}o.fromString=i})(e.CharStreams||(e.CharStreams={}))})(YS);var oy={},QS={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var PN=Ge,SSe=PN(Ke()),CSe=PN(rt()),ESe=PN(tt()),Xi=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,ESe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},kSe=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(QS,"__esModule",{value:!0});var nz=Vi(),oz=Gd,WT=ba(),UT=Tf(),Uo=ot(),Yf=Rn,ui=function(){function e(r){if((0,SSe.default)(this,e),this.tokens=[],this.p=-1,this.fetchedEOF=!1,r==null)throw new Error("tokenSource cannot be null");this._tokenSource=r}return(0,CSe.default)(e,[{key:"mark",value:function(){return 0}},{key:"release",value:function(t){}},{key:"seek",value:function(t){this.lazyInit(),this.p=this.adjustSeekIndex(t)}},{key:"consume",value:function(){var t;if(this.p>=0?this.fetchedEOF?t=this.p<this.tokens.length-1:t=this.p<this.tokens.length:t=!1,!t&&this.LA(1)===Yf.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}},{key:"sync",value:function(t){nz(t>=0);var n=t-this.tokens.length+1;if(n>0){var o=this.fetch(n);return o>=n}return!0}},{key:"fetch",value:function(t){if(this.fetchedEOF)return 0;for(var n=0;n<t;n++){var o=this.tokenSource.nextToken();if(this.isWritableToken(o)&&(o.tokenIndex=this.tokens.length),this.tokens.push(o),o.type===Yf.Token.EOF)return this.fetchedEOF=!0,n+1}return t}},{key:"get",value:function(t){if(t<0||t>=this.tokens.length)throw new RangeError("token index "+t+" out of range 0.."+(this.tokens.length-1));return this.tokens[t]}},{key:"getRange",value:function(t,n){if(t<0||n<0)return[];this.lazyInit();var o=new Array;n>=this.tokens.length&&(n=this.tokens.length-1);for(var i=t;i<=n;i++){var a=this.tokens[i];if(a.type===Yf.Token.EOF)break;o.push(a)}return o}},{key:"LA",value:function(t){var n=this.LT(t);return n?n.type:Yf.Token.INVALID_TYPE}},{key:"tryLB",value:function(t){if(!(this.p-t<0))return this.tokens[this.p-t]}},{key:"LT",value:function(t){var n=this.tryLT(t);if(n===void 0)throw new RangeError("requested lookback index out of range");return n}},{key:"tryLT",value:function(t){if(this.lazyInit(),t===0)throw new RangeError("0 is not a valid lookahead index");if(t<0)return this.tryLB(-t);var n=this.p+t-1;return this.sync(n),n>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[n]}},{key:"adjustSeekIndex",value:function(t){return t}},{key:"lazyInit",value:function(){this.p===-1&&this.setup()}},{key:"setup",value:function(){this.sync(0),this.p=this.adjustSeekIndex(0)}},{key:"getTokens",value:function(t,n,o){if(this.lazyInit(),t===void 0)return nz(n===void 0&&o===void 0),this.tokens;if(n===void 0&&(n=this.tokens.length-1),t<0||n>=this.tokens.length||n<0||t>=this.tokens.length)throw new RangeError("start "+t+" or stop "+n+" not in 0.."+(this.tokens.length-1));if(t>n)return[];if(o===void 0)return this.tokens.slice(t,n+1);typeof o=="number"&&(o=new Set().add(o));var i=o,a=this.tokens.slice(t,n+1);return a=a.filter(function(s){return i.has(s.type)}),a}},{key:"nextTokenOnChannel",value:function(t,n){if(this.sync(t),t>=this.size)return this.size-1;for(var o=this.tokens[t];o.channel!==n;){if(o.type===Yf.Token.EOF)return t;t++,this.sync(t),o=this.tokens[t]}return t}},{key:"previousTokenOnChannel",value:function(t,n){if(this.sync(t),t>=this.size)return this.size-1;for(;t>=0;){var o=this.tokens[t];if(o.type===Yf.Token.EOF||o.channel===n)return t;t--}return t}},{key:"getHiddenTokensToRight",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));var o=this.nextTokenOnChannel(t+1,UT.Lexer.DEFAULT_TOKEN_CHANNEL),i,a=t+1;return o===-1?i=this.size-1:i=o,this.filterForChannel(a,i,n)}},{key:"getHiddenTokensToLeft",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;if(this.lazyInit(),t<0||t>=this.tokens.length)throw new RangeError(t+" not in 0.."+(this.tokens.length-1));if(t===0)return[];var o=this.previousTokenOnChannel(t-1,UT.Lexer.DEFAULT_TOKEN_CHANNEL);if(o===t-1)return[];var i=o+1,a=t-1;return this.filterForChannel(i,a,n)}},{key:"filterForChannel",value:function(t,n,o){for(var i=new Array,a=t;a<=n;a++){var s=this.tokens[a];o===-1?s.channel!==UT.Lexer.DEFAULT_TOKEN_CHANNEL&&i.push(s):s.channel===o&&i.push(s)}return i}},{key:"getText",value:function(t){t===void 0?t=WT.Interval.of(0,this.size-1):t instanceof WT.Interval||(t=t.sourceInterval);var n=t.a,o=t.b;if(n<0||o<0)return"";this.fill(),o>=this.tokens.length&&(o=this.tokens.length-1);for(var i="",a=n;a<=o;a++){var s=this.tokens[a];if(s.type===Yf.Token.EOF)break;i+=s.text}return i.toString()}},{key:"getTextFromRange",value:function(t,n){return this.isToken(t)&&this.isToken(n)?this.getText(WT.Interval.of(t.tokenIndex,n.tokenIndex)):""}},{key:"fill",value:function(){this.lazyInit();for(var t=1e3;;){var n=this.fetch(t);if(n<t)return}}},{key:"isWritableToken",value:function(t){return t instanceof oz.CommonToken}},{key:"isToken",value:function(t){return t instanceof oz.CommonToken}},{key:"tokenSource",get:function(){return this._tokenSource},set:function(t){this._tokenSource=t,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}},{key:"index",get:function(){return this.p}},{key:"size",get:function(){return this.tokens.length}},{key:"sourceName",get:function(){return this.tokenSource.sourceName}}]),e}();Xi([Uo.NotNull],ui.prototype,"_tokenSource",void 0);Xi([Uo.Override],ui.prototype,"tokenSource",null);Xi([Uo.Override],ui.prototype,"index",null);Xi([Uo.Override],ui.prototype,"mark",null);Xi([Uo.Override],ui.prototype,"release",null);Xi([Uo.Override],ui.prototype,"seek",null);Xi([Uo.Override],ui.prototype,"size",null);Xi([Uo.Override],ui.prototype,"consume",null);Xi([Uo.Override],ui.prototype,"get",null);Xi([Uo.Override],ui.prototype,"LA",null);Xi([Uo.NotNull,Uo.Override],ui.prototype,"LT",null);Xi([Uo.Override],ui.prototype,"sourceName",null);Xi([Uo.NotNull,Uo.Override],ui.prototype,"getText",null);Xi([Uo.NotNull,Uo.Override],ui.prototype,"getTextFromRange",null);ui=Xi([kSe(0,Uo.NotNull)],ui);QS.BufferedTokenStream=ui;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Wv=Ge,RSe=Wv(Ke()),TSe=Wv(rt()),ASe=Wv(Dt()),OSe=Wv(Tt()),DSe=Wv(Pt()),PSe=Wv(tt()),JS=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,PSe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},ISe=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(oy,"__esModule",{value:!0});var NSe=QS,ZS=ot(),iz=Rn,iv=function(e){(0,DSe.default)(r,e);function r(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iz.Token.DEFAULT_CHANNEL;return(0,RSe.default)(this,r),n=(0,ASe.default)(this,(0,OSe.default)(r).call(this,t)),n.channel=o,n}return(0,TSe.default)(r,[{key:"adjustSeekIndex",value:function(n){return this.nextTokenOnChannel(n,this.channel)}},{key:"tryLB",value:function(n){if(!(this.p-n<0)){for(var o=this.p,i=1;i<=n&&o>0;)o=this.previousTokenOnChannel(o-1,this.channel),i++;if(!(o<0))return this.tokens[o]}}},{key:"tryLT",value:function(n){if(this.lazyInit(),n===0)throw new RangeError("0 is not a valid lookahead index");if(n<0)return this.tryLB(-n);for(var o=this.p,i=1;i<n;)this.sync(o+1)&&(o=this.nextTokenOnChannel(o+1,this.channel)),i++;return this.tokens[o]}},{key:"getNumberOfOnChannelTokens",value:function(){var n=0;this.fill();var o=!0,i=!1,a=void 0;try{for(var s=this.tokens[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var l=u.value;if(l.channel===this.channel&&n++,l.type===iz.Token.EOF)break}}catch(c){i=!0,a=c}finally{try{!o&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}]),r}(NSe.BufferedTokenStream);JS([ZS.Override],iv.prototype,"adjustSeekIndex",null);JS([ZS.Override],iv.prototype,"tryLB",null);JS([ZS.Override],iv.prototype,"tryLT",null);iv=JS([ISe(0,ZS.NotNull)],iv);oy.CommonTokenStream=iv;var eC={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var IN=Ge,MSe=IN(Ke()),FSe=IN(rt()),LSe=IN(tt()),Zd=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,LSe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},x9=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(eC,"__esModule",{value:!0});var BSe=LS,Wl=ot(),qT=Rn,tc=function(){function e(r,t){if((0,MSe.default)(this,e),this.i=0,this._factory=BSe.CommonTokenFactory.DEFAULT,r==null)throw new Error("tokens cannot be null");this.tokens=r,this._sourceName=t}return(0,FSe.default)(e,[{key:"nextToken",value:function(){if(this.i>=this.tokens.length){if(this.eofToken==null){var t=-1;if(this.tokens.length>0){var n=this.tokens[this.tokens.length-1].stopIndex;n!==-1&&(t=n+1)}var o=Math.max(-1,t-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},qT.Token.EOF,"EOF",qT.Token.DEFAULT_CHANNEL,t,o,this.line,this.charPositionInLine)}return this.eofToken}var i=this.tokens[this.i];return this.i===this.tokens.length-1&&i.type===qT.Token.EOF&&(this.eofToken=i),this.i++,i}},{key:"charPositionInLine",get:function(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(this.eofToken!=null)return this.eofToken.charPositionInLine;if(this.tokens.length>0){var t=this.tokens[this.tokens.length-1],n=t.text;if(n!=null){var o=n.lastIndexOf(`
`);if(o>=0)return n.length-o-1}return t.charPositionInLine+t.stopIndex-t.startIndex+1}return 0}},{key:"line",get:function(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(this.eofToken!=null)return this.eofToken.line;if(this.tokens.length>0){var t=this.tokens[this.tokens.length-1],n=t.line,o=t.text;if(o!=null)for(var i=0;i<o.length;i++)o.charAt(i)===`
`&&n++;return n}return 1}},{key:"inputStream",get:function(){if(this.i<this.tokens.length)return this.tokens[this.i].inputStream;if(this.eofToken!=null)return this.eofToken.inputStream;if(this.tokens.length>0)return this.tokens[this.tokens.length-1].inputStream}},{key:"sourceName",get:function(){if(this._sourceName)return this._sourceName;var t=this.inputStream;return t!=null?t.sourceName:"List"}},{key:"tokenFactory",set:function(t){this._factory=t},get:function(){return this._factory}}]),e}();Zd([Wl.Override],tc.prototype,"charPositionInLine",null);Zd([Wl.Override],tc.prototype,"nextToken",null);Zd([Wl.Override],tc.prototype,"line",null);Zd([Wl.Override],tc.prototype,"inputStream",null);Zd([Wl.Override],tc.prototype,"sourceName",null);Zd([Wl.Override,Wl.NotNull,x9(0,Wl.NotNull)],tc.prototype,"tokenFactory",null);tc=Zd([x9(0,Wl.NotNull)],tc);eC.ListTokenSource=tc;var u1={},az;function jSe(){if(az)return u1;az=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Vd()),a=e(Pt()),s=e(MS());Object.defineProperty(u1,"__esModule",{value:!0});var u=function(l){(0,a.default)(c,l);function c(){return(0,r.default)(this,c),(0,n.default)(this,(0,o.default)(c).call(this))}return(0,t.default)(c,[{key:"map",value:function(d,p){var h=(0,i.default)((0,o.default)(c.prototype),"get",this).call(this,d);h||(h=[],(0,i.default)((0,o.default)(c.prototype),"set",this).call(this,d,h)),h.push(p)}},{key:"getPairs",value:function(){var d=[];return this.forEach(function(p,h){p.forEach(function(m){d.push([h,m])})}),d}}]),c}((0,s.default)(Map));return u1.MultiMap=u,u1}var l1={},sz;function b9(){if(sz)return l1;sz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(MS());Object.defineProperty(l1,"__esModule",{value:!0});var s=function(u){(0,i.default)(l,u);function l(c){var f;return(0,r.default)(this,l),f=(0,n.default)(this,(0,o.default)(l).call(this,c.message)),f.cause=c,f.stack=c.stack,f}return(0,t.default)(l,[{key:"getCause",value:function(){return this.cause}}]),l}((0,a.default)(Error));return l1.ParseCancellationException=s,l1}var c1={},f1={},uz;function _9(){if(uz)return f1;uz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y};Object.defineProperty(f1,"__esModule",{value:!0});var u=ot(),l=su(),c=function(f){(0,i.default)(d,f);function d(p,h,m){var y;return(0,r.default)(this,d),m!==void 0?y=(0,n.default)(this,(0,o.default)(d).call(this,h,m)):y=(0,n.default)(this,(0,o.default)(d).call(this)),y._ruleIndex=p,(0,n.default)(y)}return(0,t.default)(d,[{key:"ruleIndex",get:function(){return this._ruleIndex}}]),d}(l.ParserRuleContext);return s([u.Override],c.prototype,"ruleIndex",null),f1.InterpreterRuleContext=c,f1}var lz;function w9(){if(lz)return c1;lz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Nv()),i=e(Tt()),a=e(Vd()),s=e(Pt()),u=e(tt()),l=function(k,P,I,F){var A=arguments.length,D=A<3?P:F===null?F=Object.getOwnPropertyDescriptor(P,I):F,$;if((typeof Reflect>"u"?"undefined":(0,u.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(k,P,I,F);else for(var B=k.length-1;B>=0;B--)($=k[B])&&(D=(A<3?$(D):A>3?$(P,I,D):$(P,I))||D);return A>3&&D&&Object.defineProperty(P,I,D),D},c=function(k,P){return function(I,F){P(I,F,k)}};Object.defineProperty(c1,"__esModule",{value:!0});var f=sc(),d=li(),p=kf(),h=J0,m=Lv,y=_9(),v=m9(),g=ot(),x=ot(),b=ay(),w=ny(),E=ul,C=_N(),S=Rn,T=function(k){(0,s.default)(P,k);function P(I,F,A,D,$){var B;if((0,r.default)(this,P),B=(0,n.default)(this,(0,i.default)(P).call(this,I instanceof P?I.inputStream:$)),B._parentContextStack=[],B.overrideDecision=-1,B.overrideDecisionInputIndex=-1,B.overrideDecisionAlt=-1,B.overrideDecisionReached=!1,B._overrideDecisionRoot=void 0,I instanceof P){var W=I;B._grammarFileName=W._grammarFileName,B._atn=W._atn,B.pushRecursionContextStates=W.pushRecursionContextStates,B._ruleNames=W._ruleNames,B._vocabulary=W._vocabulary,B.interpreter=new w.ParserATNSimulator(B._atn,(0,o.default)(B))}else{F=F,A=A,D=D,B._grammarFileName=I,B._atn=D,B._ruleNames=A.slice(0),B._vocabulary=F,B.pushRecursionContextStates=new p.BitSet(D.states.length);var L=!0,z=!1,U=void 0;try{for(var Y=D.states[Symbol.iterator](),q;!(L=(q=Y.next()).done);L=!0){var V=q.value;V instanceof C.StarLoopEntryState&&V.precedenceRuleDecision&&B.pushRecursionContextStates.set(V.stateNumber)}}catch(H){z=!0,U=H}finally{try{!L&&Y.return!=null&&Y.return()}finally{if(z)throw U}}B.interpreter=new w.ParserATNSimulator(D,(0,o.default)(B))}return B}return(0,t.default)(P,[{key:"reset",value:function(F){F===void 0?(0,a.default)((0,i.default)(P.prototype),"reset",this).call(this):(0,a.default)((0,i.default)(P.prototype),"reset",this).call(this,F),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}},{key:"parse",value:function(F){var A=this._atn.ruleToStartState[F];for(this._rootContext=this.createInterpreterRuleContext(void 0,f.ATNState.INVALID_STATE_NUMBER,F),A.isPrecedenceRule?this.enterRecursionRule(this._rootContext,A.stateNumber,F,0):this.enterRule(this._rootContext,A.stateNumber,F);;){var D=this.atnState;switch(D.stateType){case d.ATNStateType.RULE_STOP:if(this._ctx.isEmpty)if(A.isPrecedenceRule){var $=this._ctx,B=this._parentContextStack.pop();return this.unrollRecursionContexts(B[0]),$}else return this.exitRule(),this._rootContext;this.visitRuleStopState(D);break;default:try{this.visitState(D)}catch(W){if(W instanceof E.RecognitionException)this.state=this._atn.ruleToStopState[D.ruleIndex].stateNumber,this.context.exception=W,this.errorHandler.reportError(this,W),this.recover(W);else throw W}break}}}},{key:"enterRecursionRule",value:function(F,A,D,$){this._parentContextStack.push([this._ctx,F.invokingState]),(0,a.default)((0,i.default)(P.prototype),"enterRecursionRule",this).call(this,F,A,D,$)}},{key:"visitState",value:function(F){var A=1;F.numberOfTransitions>1&&(A=this.visitDecisionState(F));var D=F.transition(A-1);switch(D.serializationType){case 1:if(this.pushRecursionContextStates.get(F.stateNumber)&&!(D.target instanceof v.LoopEndState)){var $=this._parentContextStack[this._parentContextStack.length-1],B=this.createInterpreterRuleContext($[0],$[1],this._ctx.ruleIndex);this.pushNewRecursionContext(B,this._atn.ruleToStartState[F.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(D._label);break;case 2:case 7:case 8:D.matches(this._input.LA(1),S.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:var W=D.target,L=W.ruleIndex,z=this.createInterpreterRuleContext(this._ctx,F.stateNumber,L);W.isPrecedenceRule?this.enterRecursionRule(z,W.stateNumber,L,D.precedence):this.enterRule(z,D.target.stateNumber,L);break;case 4:var U=D;if(!this.sempred(this._ctx,U.ruleIndex,U.predIndex))throw new h.FailedPredicateException(this);break;case 6:var Y=D;this.action(this._ctx,Y.ruleIndex,Y.actionIndex);break;case 10:if(!this.precpred(this._ctx,D.precedence)){var q=D.precedence;throw new h.FailedPredicateException(this,"precpred(_ctx, ".concat(q,")"))}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=D.target.stateNumber}},{key:"visitDecisionState",value:function(F){var A;this.errorHandler.sync(this);var D=F.decision;return D===this.overrideDecision&&this._input.index===this.overrideDecisionInputIndex&&!this.overrideDecisionReached?(A=this.overrideDecisionAlt,this.overrideDecisionReached=!0):A=this.interpreter.adaptivePredict(this._input,D,this._ctx),A}},{key:"createInterpreterRuleContext",value:function(F,A,D){return new y.InterpreterRuleContext(D,F,A)}},{key:"visitRuleStopState",value:function(F){var A=this._atn.ruleToStartState[F.ruleIndex];if(A.isPrecedenceRule){var D=this._parentContextStack.pop();this.unrollRecursionContexts(D[0]),this.state=D[1]}else this.exitRule();var $=this._atn.states[this.state].transition(0);this.state=$.followState.stateNumber}},{key:"addDecisionOverride",value:function(F,A,D){this.overrideDecision=F,this.overrideDecisionInputIndex=A,this.overrideDecisionAlt=D}},{key:"recover",value:function(F){var A=this._input.index;if(this.errorHandler.recover(this,F),this._input.index===A){var D=F.getOffendingToken();if(!D)throw new Error("Expected exception to have an offending token");var $=D.tokenSource,B=$!==void 0?$.inputStream:void 0,W={source:$,stream:B};if(F instanceof m.InputMismatchException){var L=F.expectedTokens;if(L===void 0)throw new Error("Expected the exception to provide expected tokens");var z=S.Token.INVALID_TYPE;L.isNil||(z=L.minElement);var U=this.tokenFactory.create(W,z,D.text,S.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,U))}else{D.tokenSource;var Y=this.tokenFactory.create(W,S.Token.INVALID_TYPE,D.text,S.Token.DEFAULT_CHANNEL,-1,-1,D.line,D.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,Y))}}}},{key:"recoverInline",value:function(){return this._errHandler.recoverInline(this)}},{key:"atn",get:function(){return this._atn}},{key:"vocabulary",get:function(){return this._vocabulary}},{key:"ruleNames",get:function(){return this._ruleNames}},{key:"grammarFileName",get:function(){return this._grammarFileName}},{key:"atnState",get:function(){return this._atn.states[this.state]}},{key:"overrideDecisionRoot",get:function(){return this._overrideDecisionRoot}},{key:"rootContext",get:function(){return this._rootContext}}]),P}(b.Parser);return l([g.NotNull],T.prototype,"_vocabulary",void 0),l([x.Override],T.prototype,"reset",null),l([x.Override],T.prototype,"atn",null),l([x.Override],T.prototype,"vocabulary",null),l([x.Override],T.prototype,"ruleNames",null),l([x.Override],T.prototype,"grammarFileName",null),l([x.Override],T.prototype,"enterRecursionRule",null),T=l([c(1,g.NotNull)],T),c1.ParserInterpreter=T,c1}var d1={},cz;function $Se(){if(cz)return d1;cz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(u,l,c,f){var d=arguments.length,p=d<3?l:f===null?f=Object.getOwnPropertyDescriptor(l,c):f,h;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(u,l,c,f);else for(var m=u.length-1;m>=0;m--)(h=u[m])&&(p=(d<3?h(p):d>3?h(l,c,p):h(l,c))||p);return d>3&&p&&Object.defineProperty(l,c,p),p},i=function(u,l){return function(c,f){l(c,f,u)}};Object.defineProperty(d1,"__esModule",{value:!0});var a=ot(),s=function(){function u(l,c,f,d){if((0,r.default)(this,u),!l)throw new Error("tree cannot be null");if(!c)throw new Error("pattern cannot be null");if(!f)throw new Error("labels cannot be null");this._tree=l,this._pattern=c,this._labels=f,this._mismatchedNode=d}return(0,t.default)(u,[{key:"get",value:function(c){var f=this._labels.get(c);if(!(!f||f.length===0))return f[f.length-1]}},{key:"getAll",value:function(c){var f=this._labels.get(c);return f||[]}},{key:"toString",value:function(){return"Match ".concat(this.succeeded?"succeeded":"failed","; found ").concat(this.labels.size," labels")}},{key:"labels",get:function(){return this._labels}},{key:"mismatchedNode",get:function(){return this._mismatchedNode}},{key:"succeeded",get:function(){return!this._mismatchedNode}},{key:"pattern",get:function(){return this._pattern}},{key:"tree",get:function(){return this._tree}}]),u}();return o([a.NotNull,i(0,a.NotNull)],s.prototype,"getAll",null),o([a.NotNull],s.prototype,"labels",null),o([a.NotNull],s.prototype,"pattern",null),o([a.NotNull],s.prototype,"tree",null),o([a.Override],s.prototype,"toString",null),s=o([i(0,a.NotNull),i(1,a.NotNull),i(2,a.NotNull)],s),d1.ParseTreeMatch=s,d1}var p1={},h1={},v1={},fz;function zSe(){if(fz)return v1;fz=1;var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Nv()),a=e(Pt());Object.defineProperty(v1,"__esModule",{value:!0});var s=HS(),u=Tf(),l=US(),c=fl,f=Ri,d=function(p){(0,a.default)(h,p);function h(m){var y;return(0,r.default)(this,h),y=(0,n.default)(this,(0,o.default)(h).call(this,m)),y._interp=new l.LexerATNSimulator(h._ATN,(0,i.default)(y)),y}return(0,t.default)(h,[{key:"action",value:function(y,v,g){switch(v){case 4:this.ID_action(y,g);break}}},{key:"ID_action",value:function(y,v){switch(v){case 0:var g=this.text;g.charAt(0)===g.charAt(0).toUpperCase()?this.type=h.TOKEN_REF:this.type=h.RULE_REF;break}}},{key:"vocabulary",get:function(){return h.VOCABULARY}},{key:"grammarFileName",get:function(){return"XPathLexer.g4"}},{key:"ruleNames",get:function(){return h.ruleNames}},{key:"serializedATN",get:function(){return h._serializedATN}},{key:"channelNames",get:function(){return h.channelNames}},{key:"modeNames",get:function(){return h.modeNames}}],[{key:"_ATN",get:function(){return h.__ATN||(h.__ATN=new s.ATNDeserializer().deserialize(f.toCharArray(h._serializedATN))),h.__ATN}}]),h}(u.Lexer);return d.TOKEN_REF=1,d.RULE_REF=2,d.ANYWHERE=3,d.ROOT=4,d.WILDCARD=5,d.BANG=6,d.ID=7,d.STRING=8,d.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],d.modeNames=["DEFAULT_MODE"],d.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],d._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],d._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],d.VOCABULARY=new c.VocabularyImpl(d._LITERAL_NAMES,d._SYMBOLIC_NAMES,[]),d._serializedATNSegments=2,d._serializedATNSegment0=`줝쪺֍꾺体؇쉁
2\b					\x07	\x07\b	\b			\x07
\f"\v\x07\x07\b\b		\x07	,
	\f		/\v			-
\x07\x07	\b\v	\r
ʶ
2;C\\aac|¡¬¬¯¯··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰̂Ͷ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃҅҉ҌԱԳ՘՛՛գ։֓ֿׁׁ׃ׄ׆ׇ׉׉ג׬ײ״؂؇ؒ؜؞؞آ٫ٰەۗ۟ۡ۪۬۾܁܁ܑ݌ݏ޳߂߷߼߼ࠂ࠯ࡂ࡝ࢢࢶࢸࢿࣖ॥२ॱॳঅই঎঑঒কপবল঴঴স঻া৆৉৊্৐৙৙৞য়ৡ৥২৳ਃਅਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਾਾੀ੄੉੊੍੏੓੓ਜ਼ਫ਼੠੠੨੷ઃઅઇએઑઓકપબલ઴વષ઻ાેૉો્૏૒૒ૢ૥૨૱ૻૻଃଅଇ଎଑଒କପବଲ଴ଵଷ଻ା୆୉୊୍୏୘୙୞ୟୡ୥୨ୱ୳୳஄அஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻ீ௄ைொௌ௏௒௒௙௙௨௱ంఅఇఎఐఒఔపబ఻ిెైొౌ౏౗ౘౚ౜ౢ౥౨౱ಂಅಇಎಐಒಔಪಬವಷ಻ಾೆೈೊೌ೏೗೘ೠೠೢ೥೨ೱೳ೴ഃഅഇഎഐഒഔ഼ിെൈൊൌ൐ൖ൙ൡ൥൨൱ർඁ඄අඇ඘ගඳඵල඿඿ෂ෈෌෌ෑූෘෘේ෡෨෱෴෵ฃ฼โ๐๒๛຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯົຽ຿ໂໆ່່໊໏໒໛ໞ໡༂༂༚༛༢༫༷༷༹༹༻༻ཀཉཋ཮ཱི྆ྈྙྛ྾࿈࿈ဂ။ၒ႟ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜፟፡ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐ᜖ᜢ᜶ᝂ᝕ᝢᝮᝰᝲ᝴᝵គ៕៙៙៞៟២៫᠍᠐᠒᠛ᠢ᡹ᢂ᢬ᢲ᣷ᤂᤠᤢ᤭ᤲ᤽᥈᥯ᥲ᥶ᦂ᦭ᦲ᧋᧒᧛ᨂ᨝ᨢ᩠ᩢ᩾᪁᪋᪒᪛᪩᪩᪲ᪿᬂ᭍᭒᭛᭭᭵ᮂ᯵ᰂ᰹᱂᱋ᱏ᱿ᲂᲊ᳒᳔᳖᳸ᳺ᳻ᴂ᷷᷽἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾‍‑‬‰⁁⁂⁖⁖⁢⁦⁨ⁱ⁳⁳₁₁ₒ₞⃒⃞⃣⃣⃧⃲℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶁ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠⷢ⸁⸱⸱〇〉〣〱〳〷〺〾ぃ゘゛゜ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘭Ꙃ꙱ꙶꙿꚁ꛳ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹ꠩ꡂ꡵ꢂ꣇꣒꣛꣢꣹ꣽꣽꣿꣿ꤂꤯ꤲ꥕ꥢ꥾ꦂ꧂꧑꧛ꧢꨀꨂ꨸ꩂ꩏꩒꩛ꩢ꩸ꩼ꫄ꫝ꫟ꫢ꫱ꫴ꫸ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲ꯬꯮꯯꯲꯻갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽︂︑︢︱︵︶﹏﹑ﹲﹶﹸ﻾！！２；Ｃ＼ａａｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞￻�\r(*<>?AOR_üłŶǿǿʂʞʢ˒ˢˢ̂̡̲͌͒ͼ΂Ο΢υϊϑϓϗЂҟҢҫҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਅਇਈ਎ਕਗਙਛਵ਺਼ੁੁ੢੾ંઞૂૉો૨ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴ဂ၈ၨၱႁႼႿႿგცჲ჻ᄂᄶᄸᅁᅒᅵᅸᅸᆂᇆᇌᇎᇒᇜᇞᇞሂሓሕሹቀቀኂኈኊኊኌ኏ኑኟኡኪኲዬዲዻጂጅጇጎ጑ጒጕጪጬጲጴጵጷጻጾፆፉፊፍፏፒፒፙፙ፟፥፨፮፲፶ᐂᑌᑒᑛᒂᓇᓉᓉᓒᓛᖂᖷᖺᗂᗚᗟᘂᙂᙆᙆᙒᙛᚂᚹᛂᛋᜂ᜛ᜟᜭᜲ᜻ᢢᣫᤁᤁ᫂᫺ᰂᰊᰌ᰸᰺᱂᱒ᱛᱴᲑᲔᲩᲫᲸ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠橢橫櫒櫯櫲櫶欂欸歂歅歒歛步歹歿殑漂潆潒澀澑澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛벟베벢벥텧텫텯톄톇톍톬톯퉄퉆퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍퟐ\uD801\uDA02\uDA38\uDA3D\uDA6E\uDA77\uDA77\uDA86\uDA86\uDA9D\uDAA1\uDAA3\uDAB1ꛘ꜂뜶띂렟렢캣﨟"ĂǱɀC\\c|¬¬··¼¼ÂØÚøú˃ˈ˓ˢ˦ˮˮ˰˰ͲͶ͸͹ͼͿ΁΁ΈΈΊΌΎΎΐΣΥϷϹ҃ҌԱԳ՘՛՛գ։ג׬ײ״آٌٰٱٳەۗۗۧۨ۰۱ۼ۾܁܁ܒܒܔܱݏާ޳޳ߌ߬߶߷߼߼ࠂࠗࠜࠜࠦࠦࠪࠪࡂ࡚ࢢࢶࢸࢿआऻिि॒॒ग़ॣॳংই঎঑঒কপবল঴঴স঻িি৐৐৞য়ৡৣ৲৳ਇ਌਑਒ਕਪਬਲ਴ਵ਷ਸ਺਻ਜ਼ਫ਼੠੠ੴ੶ઇએઑઓકપબલ઴વષ઻િિ૒૒ૢૣૻૻଇ଎଑଒କପବଲ଴ଵଷ଻ିି୞ୟୡୣ୳୳அஅஇ஌ஐஒஔ஗஛ஜஞஞ஠஡஥஦ப஬ர஻௒௒ఇఎఐఒఔపబ఻ిిౚ౜ౢౣಂಂಇಎಐಒಔಪಬವಷ಻ಿಿೠೠೢೣೳ೴ഇഎഐഒഔ഼ിി൐൐ൖ൘ൡൣർඁඇ඘ගඳඵල඿඿ෂ෈ฃาิีโ่຃ຄຆຆຉຊຌຌຏຏຖນປມຣລວວຩຩຬອຯາິີ຿຿ໂໆ່່ໞ໡༂༂གཉཋ཮ྊྎဂာ၁၁ၒၗၜၟၣၣၧၨၰၲၷႃ႐႐ႢჇ჉჉჏჏გჼჾቊቌ቏ቒቘቚቚቜ቟ቢኊኌ኏ኒኲኴ኷ኺዀዂዂዄ዇ዊዘዚጒጔ጗ጚ፜ᎂ᎑Ꭲ᏷ᏺ᏿ᐃ᙮ᙱᚁᚃ᚜ᚢ᛬ᛰ᛺ᜂᜎᜐᜓᜢᜳᝂᝓᝢᝮᝰᝲគ឵៙៙៞៞ᠢ᡹ᢂᢆᢉᢪ᢬᢬ᢲ᣷ᤂᤠᥒ᥯ᥲ᥶ᦂ᦭ᦲ᧋ᨂᨘᨢᩖ᪩᪩ᬇᬵᭇ᭍ᮅᮢ᮰᮱ᮼᯧᰂᰥᱏ᱑ᱜ᱿ᲂᲊᳫᳮᳰᳳ᳷᳸ᴂ᷁Ḃ἗Ἒ἟ἢ὇Ὂ὏ὒὙὛὛὝὝὟὟὡ὿ᾂᾶᾸι῀῀ῄῆῈ῎ῒ῕Ῐ῝ῢ΅ῴῶῸ῾⁳⁳₁₁ₒ₞℄℄℉℉ℌℕ℗℗ℛ℟ΩΩℨℨKKℬℯℱ℻ℾ⅁ⅇ⅋⅐⅐Ⅲ↊ⰂⰰⰲⱠⱢ⳦Ⳮ⳰⳴⳵ⴂⴧ⴩⴩⴯⴯ⴲ⵩⵱⵱ⶂ⶘ⶢⶨⶪⶰⶲⶸⶺⷀⷂⷈⷊⷐⷒⷘⷚⷠ⸱⸱〇〉〣〫〳〷〺〾ぃ゘ゟァィーヾ㄁ㄇㄯㄳ㆐ㆢㆼㇲ㈁㐂䶷丂鿗ꀂ꒎ꓒ꓿ꔂ꘎ꘒ꘡꘬꘭Ꙃ꙰ꚁꚟꚢ꛱ꜙ꜡Ꜥ꞊ꞍꞰꞲꞹꟹꠃꠅꠇꠉꠌꠎꠤꡂ꡵ꢄꢵꣴ꣹ꣽꣽꣿꣿꤌꤧꤲꥈꥢ꥾ꦆꦴ꧑꧑ꧢꧦꧨ꧱ꧼꨀꨂꨪꩂꩄꩆꩍꩢ꩸ꩼꩼꪀꪱꪳꪳꪷꪸꪻ꪿ꫂꫂ꫄꫄ꫝ꫟ꫢꫬꫴ꫶ꬃ꬈ꬋ꬐ꬓ꬘ꬢꬨꬪꬰꬲꭜꭞꭧꭲꯤ갂힥ힲ퟈ퟍ퟽車﩯全﫛ﬂ﬈ﬕ﬙ײַײַﬡשׁשּׁטּךּמּנּנּ﭂ףּ﭅צּרּ﮳ﯕ﴿ﵒ﶑ﶔ﷉ﷲ﷽ﹲﹶﹸ﻾Ｃ＼ｃ｜ｨ￀ￄ￉ￌ￑ￔ￙ￜ￞\r(*<>?AOR_üłŶʂʞʢ˒̂̡̲͌͒ͷ΂Ο΢υϊϑϓϗЂҟҲӕӚӽԂԩԲե؂ܸ݂ݗݢݩࠂࠇࠊࠊࠌ࠷࠹࠺࠾࠾ࡁࡗࡢࡸࢂࢠ࣢ࣴࣶࣷंगढऻংহীুਂਂ਒ਕਗਙਛਵ੢੾ંઞૂૉો૦ଂଷୂୗୢ୴ஂஓంొಂ಴ೂ೴စ္ႅႱგცᄅᄨᅒᅴᅸᅸᆅᆴᇃᇆᇜᇜᇞᇞሂሓሕርኂኈኊኊኌ኏ኑኟኡኪኲዠጇጎ጑ጒጕጪጬጲጴጵጷጻጿጿፒፒ፟፣ᐂᐶᑉᑌᒂᒱᓆᓇᓉᓉᖂᖰᗚᗝᘂᘱᙆᙆᚂᚬᜂ᜛ᢢᣡᤁᤁ᫂᫺ᰂᰊᰌᰰ᱂᱂ᱴᲑ ⎛␂⑰⒂╅。㐰䐂䙈栂樺橂橠櫒櫯欂欱歂歅步歹歿殑漂潆潒潒澕澡濢濢瀂蟮蠂諴뀂뀃밂뱬뱲뱾벂벊벒벛퐂푖푘풞풠풡풤풤풧풨풫풮풰풻풽풽풿퓅퓇픇픉플픏픖픘픞픠픻픽핀핂핆핈핈`,d._serializedATNSegment1=`핌핒핔횧횪훂후훜훞훼훾휖휘휶휸흐흒흰흲힊힌힪힬ퟄퟆퟍꛘ꜂뜶띂렟렢캣﨟1\x07	\v\x07	\v\r%')\x071\x071\x071\x07,\b\x1B\x07#\x1B
 \b\r\x07"  !!#" #$\b$\f%&	&'(	()-\x07)*,\v+*,/-.-+.0/-01\x07)1 -`,d._serializedATN=f.join([d._serializedATNSegment0,d._serializedATNSegment1],""),v1.XPathLexer=d,v1}var m1={},dz;function WSe(){if(dz)return m1;dz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d};Object.defineProperty(m1,"__esModule",{value:!0});var i=ot(),a=function(){function s(){(0,r.default)(this,s)}return(0,t.default)(s,[{key:"syntaxError",value:function(l,c,f,d,p,h){}}]),s}();return o([i.Override],a.prototype,"syntaxError",null),m1.XPathLexerErrorListener=a,m1}var g1={},y1={},pz;function Uv(){if(pz)return y1;pz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d};Object.defineProperty(y1,"__esModule",{value:!0});var i=ot(),a=function(){function s(u){(0,r.default)(this,s),this.nodeName=u,this.invert=!1}return(0,t.default)(s,[{key:"toString",value:function(){var l=this.invert?"!":"",c=Object.constructor.name;return c+"["+l+this.nodeName+"]"}}]),s}();return o([i.Override],a.prototype,"toString",null),y1.XPathElement=a,y1}var hz;function USe(){if(hz)return g1;hz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(g1,"__esModule",{value:!0});var u=ot(),l=Jd(),c=Uv(),f=function(d){(0,i.default)(p,d);function p(h,m){var y;return(0,r.default)(this,p),y=(0,n.default)(this,(0,o.default)(p).call(this,h)),y.ruleIndex=m,y}return(0,t.default)(p,[{key:"evaluate",value:function(m){return l.Trees.findAllRuleNodes(m,this.ruleIndex)}}]),p}(c.XPathElement);return s([u.Override],f.prototype,"evaluate",null),g1.XPathRuleAnywhereElement=f,g1}var x1={},vz;function qSe(){if(vz)return x1;vz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(x1,"__esModule",{value:!0});var u=su(),l=ot(),c=Jd(),f=Uv(),d=function(p){(0,i.default)(h,p);function h(m,y){var v;return(0,r.default)(this,h),v=(0,n.default)(this,(0,o.default)(h).call(this,m)),v.ruleIndex=y,v}return(0,t.default)(h,[{key:"evaluate",value:function(y){var v=[],g=!0,x=!1,b=void 0;try{for(var w=c.Trees.getChildren(y)[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;C instanceof u.ParserRuleContext&&(C.ruleIndex===this.ruleIndex&&!this.invert||C.ruleIndex!==this.ruleIndex&&this.invert)&&v.push(C)}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return v}}]),h}(f.XPathElement);return s([l.Override],d.prototype,"evaluate",null),x1.XPathRuleElement=d,x1}var b1={},mz;function HSe(){if(mz)return b1;mz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(b1,"__esModule",{value:!0});var u=ot(),l=Jd(),c=Uv(),f=function(d){(0,i.default)(p,d);function p(h,m){var y;return(0,r.default)(this,p),y=(0,n.default)(this,(0,o.default)(p).call(this,h)),y.tokenType=m,y}return(0,t.default)(p,[{key:"evaluate",value:function(m){return l.Trees.findAllTokenNodes(m,this.tokenType)}}]),p}(c.XPathElement);return s([u.Override],f.prototype,"evaluate",null),b1.XPathTokenAnywhereElement=f,b1}var _1={},gz;function VSe(){if(gz)return _1;gz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(_1,"__esModule",{value:!0});var u=ot(),l=$v(),c=Jd(),f=Uv(),d=function(p){(0,i.default)(h,p);function h(m,y){var v;return(0,r.default)(this,h),v=(0,n.default)(this,(0,o.default)(h).call(this,m)),v.tokenType=y,v}return(0,t.default)(h,[{key:"evaluate",value:function(y){var v=[],g=!0,x=!1,b=void 0;try{for(var w=c.Trees.getChildren(y)[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;C instanceof l.TerminalNode&&(C.symbol.type===this.tokenType&&!this.invert||C.symbol.type!==this.tokenType&&this.invert)&&v.push(C)}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return v}}]),h}(f.XPathElement);return s([u.Override],d.prototype,"evaluate",null),_1.XPathTokenElement=d,_1}var w1={},yz;function GSe(){if(yz)return w1;yz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(w1,"__esModule",{value:!0});var u=ot(),l=Jd(),c=NN(),f=Uv(),d=function(p){(0,i.default)(h,p);function h(){return(0,r.default)(this,h),(0,n.default)(this,(0,o.default)(h).call(this,c.XPath.WILDCARD))}return(0,t.default)(h,[{key:"evaluate",value:function(y){return this.invert?[]:l.Trees.getDescendants(y)}}]),h}(f.XPathElement);return s([u.Override],d.prototype,"evaluate",null),w1.XPathWildcardAnywhereElement=d,w1}var S1={},xz;function YSe(){if(xz)return S1;xz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(S1,"__esModule",{value:!0});var u=ot(),l=Jd(),c=NN(),f=Uv(),d=function(p){(0,i.default)(h,p);function h(){return(0,r.default)(this,h),(0,n.default)(this,(0,o.default)(h).call(this,c.XPath.WILDCARD))}return(0,t.default)(h,[{key:"evaluate",value:function(y){var v=[];if(this.invert)return v;var g=!0,x=!1,b=void 0;try{for(var w=l.Trees.getChildren(y)[Symbol.iterator](),E;!(g=(E=w.next()).done);g=!0){var C=E.value;v.push(C)}}catch(S){x=!0,b=S}finally{try{!g&&w.return!=null&&w.return()}finally{if(x)throw b}}return v}}]),h}(f.XPathElement);return s([u.Override],d.prototype,"evaluate",null),S1.XPathWildcardElement=d,S1}var bz;function NN(){if(bz)return h1;bz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt());Object.defineProperty(h1,"__esModule",{value:!0});var n=YS,o=oy,i=jv,a=su(),s=Rn,u=zSe(),l=WSe(),c=USe(),f=qSe(),d=HSe(),p=VSe(),h=GSe(),m=YSe(),y=function(){function v(g,x){(0,r.default)(this,v),this.parser=g,this.path=x,this.elements=this.split(x)}return(0,t.default)(v,[{key:"split",value:function(x){var b=new u.XPathLexer(n.CharStreams.fromString(x));b.recover=function(B){throw B},b.removeErrorListeners(),b.addErrorListener(new l.XPathLexerErrorListener);var w=new o.CommonTokenStream(b);try{w.fill()}catch(B){if(B instanceof i.LexerNoViableAltException){var E=b.charPositionInLine,C="Invalid tokens or characters at index "+E+" in path '"+x+"' -- "+B.message;throw new RangeError(C)}throw B}var S=w.getTokens(),T=[],k=S.length,P=0;e:for(;P<k;){var I=S[P],F=void 0;switch(I.type){case u.XPathLexer.ROOT:case u.XPathLexer.ANYWHERE:var A=I.type===u.XPathLexer.ANYWHERE;P++,F=S[P];var D=F.type===u.XPathLexer.BANG;D&&(P++,F=S[P]);var $=this.getXPathElement(F,A);$.invert=D,T.push($),P++;break;case u.XPathLexer.TOKEN_REF:case u.XPathLexer.RULE_REF:case u.XPathLexer.WILDCARD:T.push(this.getXPathElement(I,!1)),P++;break;case s.Token.EOF:break e;default:throw new Error("Unknowth path element "+I)}}return T}},{key:"getXPathElement",value:function(x,b){if(x.type===s.Token.EOF)throw new Error("Missing path element at end of path");var w=x.text;if(w==null)throw new Error("Expected wordToken to have text content.");var E=this.parser.getTokenType(w),C=this.parser.getRuleIndex(w);switch(x.type){case u.XPathLexer.WILDCARD:return b?new h.XPathWildcardAnywhereElement:new m.XPathWildcardElement;case u.XPathLexer.TOKEN_REF:case u.XPathLexer.STRING:if(E===s.Token.INVALID_TYPE)throw new Error(w+" at index "+x.startIndex+" isn't a valid token name");return b?new d.XPathTokenAnywhereElement(w,E):new p.XPathTokenElement(w,E);default:if(C===-1)throw new Error(w+" at index "+x.startIndex+" isn't a valid rule name");return b?new c.XPathRuleAnywhereElement(w,C):new f.XPathRuleElement(w,C)}}},{key:"evaluate",value:function(x){var b=new a.ParserRuleContext;b.addChild(x);for(var w=new Set([b]),E=0;E<this.elements.length;){var C=new Set,S=!0,T=!1,k=void 0;try{for(var P=w[Symbol.iterator](),I;!(S=(I=P.next()).done);S=!0){var F=I.value;if(F.childCount>0){var A=this.elements[E].evaluate(F);A.forEach(C.add,C)}}}catch(D){T=!0,k=D}finally{try{!S&&P.return!=null&&P.return()}finally{if(T)throw k}}E++,w=C}return w}}],[{key:"findAll",value:function(x,b,w){var E=new v(w,b);return E.evaluate(x)}}]),v}();return y.WILDCARD="*",y.NOT="!",h1.XPath=y,h1}var _z;function KSe(){if(_z)return p1;_z=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(p1,"__esModule",{value:!0});var a=ot(),s=NN(),u=function(){function l(c,f,d,p){(0,r.default)(this,l),this._matcher=c,this._patternRuleIndex=d,this._pattern=f,this._patternTree=p}return(0,t.default)(l,[{key:"match",value:function(f){return this._matcher.match(f,this)}},{key:"matches",value:function(f){return this._matcher.match(f,this).succeeded}},{key:"findAll",value:function(f,d){var p=s.XPath.findAll(f,d,this._matcher.parser),h=[],m=!0,y=!1,v=void 0;try{for(var g=p[Symbol.iterator](),x;!(m=(x=g.next()).done);m=!0){var b=x.value,w=this.match(b);w.succeeded&&h.push(w)}}catch(E){y=!0,v=E}finally{try{!m&&g.return!=null&&g.return()}finally{if(y)throw v}}return h}},{key:"matcher",get:function(){return this._matcher}},{key:"pattern",get:function(){return this._pattern}},{key:"patternRuleIndex",get:function(){return this._patternRuleIndex}},{key:"patternTree",get:function(){return this._patternTree}}]),l}();return o([a.NotNull],u.prototype,"_pattern",void 0),o([a.NotNull],u.prototype,"_patternTree",void 0),o([a.NotNull],u.prototype,"_matcher",void 0),o([a.NotNull,i(0,a.NotNull)],u.prototype,"match",null),o([i(0,a.NotNull)],u.prototype,"matches",null),o([a.NotNull,i(0,a.NotNull),i(1,a.NotNull)],u.prototype,"findAll",null),o([a.NotNull],u.prototype,"matcher",null),o([a.NotNull],u.prototype,"pattern",null),o([a.NotNull],u.prototype,"patternTree",null),u=o([i(0,a.NotNull),i(1,a.NotNull),i(3,a.NotNull)],u),p1.ParseTreePattern=u,p1}var C1={},wz;function XSe(){if(wz)return C1;wz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(l,c,f,d){var p=arguments.length,h=p<3?c:d===null?d=Object.getOwnPropertyDescriptor(c,f):d,m;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(l,c,f,d);else for(var y=l.length-1;y>=0;y--)(m=l[y])&&(h=(p<3?m(h):p>3?m(c,f,h):m(c,f))||h);return p>3&&h&&Object.defineProperty(c,f,h),h},i=function(l,c){return function(f,d){c(f,d,l)}};Object.defineProperty(C1,"__esModule",{value:!0});var a=ot(),s=Rn,u=function(){function l(c,f,d){if((0,r.default)(this,l),c==null||c.length===0)throw new Error("ruleName cannot be null or empty.");this._ruleName=c,this.bypassTokenType=f,this._label=d}return(0,t.default)(l,[{key:"toString",value:function(){return this._ruleName+":"+this.bypassTokenType}},{key:"ruleName",get:function(){return this._ruleName}},{key:"label",get:function(){return this._label}},{key:"channel",get:function(){return s.Token.DEFAULT_CHANNEL}},{key:"text",get:function(){return this._label!=null?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}},{key:"type",get:function(){return this.bypassTokenType}},{key:"line",get:function(){return 0}},{key:"charPositionInLine",get:function(){return-1}},{key:"tokenIndex",get:function(){return-1}},{key:"startIndex",get:function(){return-1}},{key:"stopIndex",get:function(){return-1}},{key:"tokenSource",get:function(){}},{key:"inputStream",get:function(){}}]),l}();return o([a.NotNull],u.prototype,"ruleName",null),o([a.Override],u.prototype,"channel",null),o([a.Override],u.prototype,"text",null),o([a.Override],u.prototype,"type",null),o([a.Override],u.prototype,"line",null),o([a.Override],u.prototype,"charPositionInLine",null),o([a.Override],u.prototype,"tokenIndex",null),o([a.Override],u.prototype,"startIndex",null),o([a.Override],u.prototype,"stopIndex",null),o([a.Override],u.prototype,"tokenSource",null),o([a.Override],u.prototype,"inputStream",null),o([a.Override],u.prototype,"toString",null),u=o([i(0,a.NotNull)],u),C1.RuleTagToken=u,C1}var E1={},k1={},Sz;function S9(){if(Sz)return k1;Sz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke());Object.defineProperty(k1,"__esModule",{value:!0});var t=function n(){(0,r.default)(this,n)};return k1.Chunk=t,k1}var Cz;function QSe(){if(Cz)return E1;Cz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y};Object.defineProperty(E1,"__esModule",{value:!0});var u=S9(),l=ot(),c=function(f){(0,i.default)(d,f);function d(p,h){var m;if((0,r.default)(this,d),m=(0,n.default)(this,(0,o.default)(d).call(this)),p==null||p.length===0)throw new Error("tag cannot be null or empty");return m._tag=p,m._label=h,m}return(0,t.default)(d,[{key:"toString",value:function(){return this._label!=null?this._label+":"+this._tag:this._tag}},{key:"tag",get:function(){return this._tag}},{key:"label",get:function(){return this._label}}]),d}(u.Chunk);return s([l.NotNull],c.prototype,"tag",null),s([l.Override],c.prototype,"toString",null),E1.TagChunk=c,E1}var R1={},Ez;function JSe(){if(Ez)return R1;Ez=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(R1,"__esModule",{value:!0});var l=S9(),c=ot(),f=function(d){(0,i.default)(p,d);function p(h){var m;if((0,r.default)(this,p),m=(0,n.default)(this,(0,o.default)(p).call(this)),h==null)throw new Error("text cannot be null");return m._text=h,m}return(0,t.default)(p,[{key:"toString",value:function(){return"'"+this._text+"'"}},{key:"text",get:function(){return this._text}}]),p}(l.Chunk);return s([c.NotNull],f.prototype,"_text",void 0),s([c.NotNull],f.prototype,"text",null),s([c.Override],f.prototype,"toString",null),f=s([u(0,c.NotNull)],f),R1.TextChunk=f,R1}var T1={},kz;function ZSe(){if(kz)return T1;kz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(T1,"__esModule",{value:!0});var l=Gd,c=ot(),f=function(d){(0,i.default)(p,d);function p(h,m,y){var v;return(0,r.default)(this,p),v=(0,n.default)(this,(0,o.default)(p).call(this,m)),v._tokenName=h,v._label=y,v}return(0,t.default)(p,[{key:"toString",value:function(){return this._tokenName+":"+this.type}},{key:"tokenName",get:function(){return this._tokenName}},{key:"label",get:function(){return this._label}},{key:"text",get:function(){return this._label!=null?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}}]),p}(l.CommonToken);return s([c.NotNull],f.prototype,"_tokenName",void 0),s([c.NotNull],f.prototype,"tokenName",null),s([c.Override],f.prototype,"text",null),s([c.Override],f.prototype,"toString",null),f=s([u(0,c.NotNull)],f),T1.TokenTagToken=f,T1}var Rz;function eCe(){return Rz||(Rz=1,function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var r=Ge,t=r(Dt()),n=r(Tt()),o=r(Pt()),i=r(MS()),a=r(Ke()),s=r(rt()),u=r(tt()),l=function(D,$,B,W){var L=arguments.length,z=L<3?$:W===null?W=Object.getOwnPropertyDescriptor($,B):W,U;if((typeof Reflect>"u"?"undefined":(0,u.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(D,$,B,W);else for(var Y=D.length-1;Y>=0;Y--)(U=D[Y])&&(z=(L<3?U(z):L>3?U($,B,z):U($,B))||z);return L>3&&z&&Object.defineProperty($,B,z),z},c=function(D,$){return function(B,W){$(B,W,D)}};Object.defineProperty(e,"__esModule",{value:!0});var f=C9(),d=YS,p=oy,h=eC,m=jSe(),y=ot(),v=b9(),g=w9(),x=su(),b=$Se(),w=KSe(),E=ul,C=TN(),S=XSe(),T=QSe(),k=$v(),P=JSe(),I=Rn,F=ZSe(),A=function(){function D($,B){(0,a.default)(this,D),this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=$,this._parser=B}return(0,s.default)(D,[{key:"setDelimiters",value:function(B,W,L){if(!B)throw new Error("start cannot be null or empty");if(!W)throw new Error("stop cannot be null or empty");this.start=B,this.stop=W,this.escape=L,this.escapeRE=new RegExp(L.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}},{key:"matches",value:function(B,W){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof W=="string"){var z=this.compile(W,L);return this.matches(B,z)}else{var U=new m.MultiMap,Y=this.matchImpl(B,W.patternTree,U);return!Y}}},{key:"match",value:function(B,W){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(typeof W=="string"){var z=this.compile(W,L);return this.match(B,z)}else{var U=new m.MultiMap,Y=this.matchImpl(B,W.patternTree,U);return new b.ParseTreeMatch(B,W,U,Y)}}},{key:"compile",value:function(B,W){var L=this.tokenize(B),z=new h.ListTokenSource(L),U=new p.CommonTokenStream(z),Y=this._parser,q=new g.ParserInterpreter(Y.grammarFileName,Y.vocabulary,Y.ruleNames,Y.getATNWithBypassAlts(),U),V;try{q.errorHandler=new f.BailErrorStrategy,V=q.parse(W)}catch(H){throw H instanceof v.ParseCancellationException?H.getCause():H instanceof E.RecognitionException?H:H instanceof Error?new D.CannotInvokeStartRule(H):H}if(U.LA(1)!==I.Token.EOF)throw new D.StartRuleDoesNotConsumeFullPattern;return new w.ParseTreePattern(this,B,W,V)}},{key:"matchImpl",value:function(B,W,L){if(!B)throw new TypeError("tree cannot be null");if(!W)throw new TypeError("patternTree cannot be null");if(B instanceof k.TerminalNode&&W instanceof k.TerminalNode){var z;if(B.symbol.type===W.symbol.type)if(W.symbol instanceof F.TokenTagToken){var U=W.symbol;L.map(U.tokenName,B);var Y=U.label;Y&&L.map(Y,B)}else B.text===W.text||z||(z=B);else z||(z=B);return z}if(B instanceof x.ParserRuleContext&&W instanceof x.ParserRuleContext){var q,V=this.getRuleTagToken(W);if(V){if(B.ruleContext.ruleIndex===W.ruleContext.ruleIndex){L.map(V.ruleName,B);var H=V.label;H&&L.map(H,B)}else q||(q=B);return q}if(B.childCount!==W.childCount)return q||(q=B),q;for(var Z=B.childCount,ue=0;ue<Z;ue++){var oe=this.matchImpl(B.getChild(ue),W.getChild(ue),L);if(oe)return oe}return q}return B}},{key:"getRuleTagToken",value:function(B){if(B instanceof C.RuleNode&&B.childCount===1&&B.getChild(0)instanceof k.TerminalNode){var W=B.getChild(0);if(W.symbol instanceof S.RuleTagToken)return W.symbol}}},{key:"tokenize",value:function(B){var W=this.split(B),L=[],z=!0,U=!1,Y=void 0;try{for(var q=W[Symbol.iterator](),V;!(z=(V=q.next()).done);z=!0){var H=V.value;if(H instanceof T.TagChunk){var Z=H,ue=Z.tag.substr(0,1);if(ue===ue.toUpperCase()){var oe=this._parser.getTokenType(Z.tag);if(oe===I.Token.INVALID_TYPE)throw new Error("Unknown token "+Z.tag+" in pattern: "+B);var ee=new F.TokenTagToken(Z.tag,oe,Z.label);L.push(ee)}else if(ue===ue.toLowerCase()){var ne=this._parser.getRuleIndex(Z.tag);if(ne===-1)throw new Error("Unknown rule "+Z.tag+" in pattern: "+B);var pe=this._parser.getATNWithBypassAlts().ruleToTokenType[ne];L.push(new S.RuleTagToken(Z.tag,pe,Z.label))}else throw new Error("invalid tag: "+Z.tag+" in pattern: "+B)}else{var J=H;this._lexer.inputStream=d.CharStreams.fromString(J.text);for(var se=this._lexer.nextToken();se.type!==I.Token.EOF;)L.push(se),se=this._lexer.nextToken()}}}catch(j){U=!0,Y=j}finally{try{!z&&q.return!=null&&q.return()}finally{if(U)throw Y}}return L}},{key:"split",value:function(B){for(var W=0,L=B.length,z=[],U=[],Y=[];W<L;)W===B.indexOf(this.escape+this.start,W)?W+=this.escape.length+this.start.length:W===B.indexOf(this.escape+this.stop,W)?W+=this.escape.length+this.stop.length:W===B.indexOf(this.start,W)?(U.push(W),W+=this.start.length):W===B.indexOf(this.stop,W)?(Y.push(W),W+=this.stop.length):W++;if(U.length>Y.length)throw new Error("unterminated tag in pattern: "+B);if(U.length<Y.length)throw new Error("missing start tag in pattern: "+B);for(var q=U.length,V=0;V<q;V++)if(U[V]>=Y[V])throw new Error("tag delimiters out of order in pattern: "+B);if(q===0){var H=B.substring(0,L);z.push(new P.TextChunk(H))}if(q>0&&U[0]>0){var Z=B.substring(0,U[0]);z.push(new P.TextChunk(Z))}for(var ue=0;ue<q;ue++){var oe=B.substring(U[ue]+this.start.length,Y[ue]),ee=oe,ne=void 0,pe=oe.indexOf(":");if(pe>=0&&(ne=oe.substring(0,pe),ee=oe.substring(pe+1,oe.length)),z.push(new T.TagChunk(ee,ne)),ue+1<q){var J=B.substring(Y[ue]+this.stop.length,U[ue+1]);z.push(new P.TextChunk(J))}}if(q>0){var se=Y[q-1]+this.stop.length;if(se<L){var j=B.substring(se,L);z.push(new P.TextChunk(j))}}for(var ce=0;ce<z.length;ce++){var re=z[ce];if(re instanceof P.TextChunk){var Q=re.text.replace(this.escapeRE,"");Q.length<re.text.length&&(z[ce]=new P.TextChunk(Q))}}return z}},{key:"lexer",get:function(){return this._lexer}},{key:"parser",get:function(){return this._parser}}]),D}();l([y.NotNull,c(1,y.NotNull)],A.prototype,"match",null),l([y.NotNull],A.prototype,"lexer",null),l([y.NotNull],A.prototype,"parser",null),l([c(0,y.NotNull),c(1,y.NotNull),c(2,y.NotNull)],A.prototype,"matchImpl",null),e.ParseTreePatternMatcher=A,function(D){var $=function(W){(0,o.default)(L,W);function L(z){var U;return(0,a.default)(this,L),U=(0,t.default)(this,(0,n.default)(L).call(this,"CannotInvokeStartRule: ".concat(z))),U.error=z,U}return L}((0,i.default)(Error));D.CannotInvokeStartRule=$;var B=function(W){(0,o.default)(L,W);function L(){return(0,a.default)(this,L),(0,t.default)(this,(0,n.default)(L).call(this,"StartRuleDoesNotConsumeFullPattern"))}return L}((0,i.default)(Error));D.StartRuleDoesNotConsumeFullPattern=B}(A=e.ParseTreePatternMatcher||(e.ParseTreePatternMatcher={}))}(zT)),zT}var A1={},O1={},D1={},Tz;function iy(){if(Tz)return D1;Tz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(tt()),n=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,t.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d},o=function(s,u){return function(l,c){u(l,c,s)}};Object.defineProperty(D1,"__esModule",{value:!0});var i=ot(),a=function s(u,l,c,f,d,p){(0,r.default)(this,s),this.decision=u,this.fullCtx=p,this.stopIndex=d,this.input=c,this.startIndex=f,this.state=l};return n([i.NotNull],a.prototype,"input",void 0),a=n([o(2,i.NotNull)],a),D1.DecisionEventInfo=a,D1}var Az;function tCe(){if(Az)return O1;Az=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v},u=function(d,p){return function(h,m){p(h,m,d)}};Object.defineProperty(O1,"__esModule",{value:!0});var l=iy(),c=ot(),f=function(d){(0,i.default)(p,d);function p(h,m,y,v,g,x){var b;return(0,r.default)(this,p),b=(0,n.default)(this,(0,o.default)(p).call(this,h,m,v,g,x,m.useContext)),b.ambigAlts=y,b}return(0,t.default)(p,[{key:"ambiguousAlternatives",get:function(){return this.ambigAlts}}]),p}(l.DecisionEventInfo);return s([c.NotNull],f.prototype,"ambigAlts",void 0),s([c.NotNull],f.prototype,"ambiguousAlternatives",null),f=s([u(1,c.NotNull),u(2,c.NotNull),u(3,c.NotNull)],f),O1.AmbiguityInfo=f,O1}var P1={},Oz;function rCe(){if(Oz)return P1;Oz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt()),i=e(tt()),a=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},s=function(f,d){return function(p,h){d(p,h,f)}};Object.defineProperty(P1,"__esModule",{value:!0});var u=iy(),l=ot(),c=function(f){(0,o.default)(d,f);function d(p,h,m,y,v){return(0,r.default)(this,d),(0,t.default)(this,(0,n.default)(d).call(this,p,h,m,y,v,!0))}return d}(u.DecisionEventInfo);return c=a([s(1,l.NotNull),s(2,l.NotNull)],c),P1.ContextSensitivityInfo=c,P1}var I1={},Dz;function nCe(){if(Dz)return I1;Dz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(s,u,l,c){var f=arguments.length,d=f<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c,p;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(s,u,l,c);else for(var h=s.length-1;h>=0;h--)(p=s[h])&&(d=(f<3?p(d):f>3?p(u,l,d):p(u,l))||d);return f>3&&d&&Object.defineProperty(u,l,d),d};Object.defineProperty(I1,"__esModule",{value:!0});var i=ot(),a=function(){function s(u){(0,r.default)(this,s),this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=u}return(0,t.default)(s,[{key:"toString",value:function(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}}]),s}();return o([i.Override],a.prototype,"toString",null),I1.DecisionInfo=a,I1}var N1={},Pz;function oCe(){if(Pz)return N1;Pz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt()),i=e(tt()),a=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},s=function(f,d){return function(p,h){d(p,h,f)}};Object.defineProperty(N1,"__esModule",{value:!0});var u=iy(),l=ot(),c=function(f){(0,o.default)(d,f);function d(p,h,m,y,v){return(0,r.default)(this,d),(0,t.default)(this,(0,n.default)(d).call(this,p,h,m,y,v,h.useContext))}return d}(u.DecisionEventInfo);return c=a([s(1,l.NotNull),s(2,l.NotNull)],c),N1.ErrorInfo=c,N1}var M1={},Iz;function iCe(){if(Iz)return M1;Iz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt()),i=e(tt()),a=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},s=function(f,d){return function(p,h){d(p,h,f)}};Object.defineProperty(M1,"__esModule",{value:!0});var u=iy(),l=ot(),c=function(f){(0,o.default)(d,f);function d(p,h,m,y,v,g,x){var b;return(0,r.default)(this,d),b=(0,t.default)(this,(0,n.default)(d).call(this,p,h,y,v,g,x)),b.predictedAlt=m,b}return d}(u.DecisionEventInfo);return c=a([s(3,l.NotNull)],c),M1.LookaheadEventInfo=c,M1}var F1={},Nz;function aCe(){if(Nz)return F1;Nz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(Dt()),n=e(Tt()),o=e(Pt()),i=e(tt()),a=function(f,d,p,h){var m=arguments.length,y=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,p):h,v;if((typeof Reflect>"u"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(f,d,p,h);else for(var g=f.length-1;g>=0;g--)(v=f[g])&&(y=(m<3?v(y):m>3?v(d,p,y):v(d,p))||y);return m>3&&y&&Object.defineProperty(d,p,y),y},s=function(f,d){return function(p,h){d(p,h,f)}};Object.defineProperty(F1,"__esModule",{value:!0});var u=iy(),l=ot(),c=function(f){(0,o.default)(d,f);function d(p,h,m,y,v,g,x,b){var w;return(0,r.default)(this,d),w=(0,t.default)(this,(0,n.default)(d).call(this,h,p,m,y,v,p.useContext)),w.semctx=g,w.evalResult=x,w.predictedAlt=b,w}return d}(u.DecisionEventInfo);return c=a([s(0,l.NotNull),s(2,l.NotNull),s(5,l.NotNull)],c),F1.PredicateEvalInfo=c,F1}var Mz;function Fz(){if(Mz)return A1;Mz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Vd()),a=e(Pt()),s=e(tt()),u=function(C,S,T,k){var P=arguments.length,I=P<3?S:k===null?k=Object.getOwnPropertyDescriptor(S,T):k,F;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(C,S,T,k);else for(var A=C.length-1;A>=0;A--)(F=C[A])&&(I=(P<3?F(I):P>3?F(S,T,I):F(S,T))||I);return P>3&&I&&Object.defineProperty(S,T,I),I},l=function(C,S){return function(T,k){S(T,k,C)}};Object.defineProperty(A1,"__esModule",{value:!0});var c=tCe(),f=uc(),d=$S(),p=rCe(),h=nCe(),m=oCe(),y=ot(),v=iCe(),g=ny(),x=aCe(),b=Fv(),w=y9(),E=function(C){(0,a.default)(S,C);function S(T){var k;(0,r.default)(this,S),k=(0,n.default)(this,(0,o.default)(S).call(this,T.interpreter.atn,T)),k._startIndex=0,k._sllStopIndex=0,k._llStopIndex=0,k.currentDecision=0,k.conflictingAltResolvedBySLL=0,k.optimize_ll1=!1,k.reportAmbiguities=!0,k.numDecisions=k.atn.decisionToState.length,k.decisions=[];for(var P=0;P<k.numDecisions;P++)k.decisions.push(new h.DecisionInfo(P));return k}return(0,t.default)(S,[{key:"adaptivePredict",value:function(k,P,I,F){if(F!==void 0)return(0,i.default)((0,o.default)(S.prototype),"adaptivePredict",this).call(this,k,P,I,F);try{this._input=k,this._startIndex=k.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=P,this.currentState=void 0,this.conflictingAltResolvedBySLL=f.ATN.INVALID_ALT_NUMBER;var A=process.hrtime(),D=(0,i.default)((0,o.default)(S.prototype),"adaptivePredict",this).call(this,k,P,I),$=process.hrtime(),B=($[0]-A[0])*1e9;B===0?B=$[1]-A[1]:B+=1e9-A[1]+$[1],this.decisions[P].timeInPrediction+=B,this.decisions[P].invocations++;var W=this._sllStopIndex-this._startIndex+1;if(this.decisions[P].SLL_TotalLook+=W,this.decisions[P].SLL_MinLook=this.decisions[P].SLL_MinLook===0?W:Math.min(this.decisions[P].SLL_MinLook,W),W>this.decisions[P].SLL_MaxLook&&(this.decisions[P].SLL_MaxLook=W,this.decisions[P].SLL_MaxLookEvent=new v.LookaheadEventInfo(P,void 0,D,k,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){var L=this._llStopIndex-this._startIndex+1;this.decisions[P].LL_TotalLook+=L,this.decisions[P].LL_MinLook=this.decisions[P].LL_MinLook===0?L:Math.min(this.decisions[P].LL_MinLook,L),L>this.decisions[P].LL_MaxLook&&(this.decisions[P].LL_MaxLook=L,this.decisions[P].LL_MaxLookEvent=new v.LookaheadEventInfo(P,void 0,D,k,this._startIndex,this._llStopIndex,!0))}return D}finally{this._input=void 0,this.currentDecision=-1}}},{key:"getStartState",value:function(k,P,I,F){var A=(0,i.default)((0,o.default)(S.prototype),"getStartState",this).call(this,k,P,I,F);return this.currentState=A,A}},{key:"computeStartState",value:function(k,P,I){var F=(0,i.default)((0,o.default)(S.prototype),"computeStartState",this).call(this,k,P,I);return this.currentState=F,F}},{key:"computeReachSet",value:function(k,P,I,F){if(this._input===void 0)throw new Error("Invalid state");var A=(0,i.default)((0,o.default)(S.prototype),"computeReachSet",this).call(this,k,P,I,F);return A==null&&this.decisions[this.currentDecision].errors.push(new m.ErrorInfo(this.currentDecision,P,this._input,this._startIndex,this._input.index)),this.currentState=A,A}},{key:"getExistingTargetState",value:function(k,P){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;var I=(0,i.default)((0,o.default)(S.prototype),"getExistingTargetState",this).call(this,k,P);if(I!=null&&(this.currentState=new w.SimulatorState(this.currentState.outerContext,I,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,I===d.ATNSimulator.ERROR)){var F=new w.SimulatorState(this.currentState.outerContext,k,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new m.ErrorInfo(this.currentDecision,F,this._input,this._startIndex,this._input.index))}return I}},{key:"computeTargetState",value:function(k,P,I,F,A,D){var $=(0,i.default)((0,o.default)(S.prototype),"computeTargetState",this).call(this,k,P,I,F,A,D);return A?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,$}},{key:"evalSemanticContextImpl",value:function(k,P,I){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");var F=(0,i.default)((0,o.default)(S.prototype),"evalSemanticContextImpl",this).call(this,k,P,I);if(!(k instanceof b.SemanticContext.PrecedencePredicate)){var A=this._llStopIndex>=0,D=A?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new x.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,D,k,F,I))}return F}},{key:"reportContextSensitivity",value:function(k,P,I,F,A){if(this._input===void 0)throw new Error("Invalid state");P!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new p.ContextSensitivityInfo(this.currentDecision,I,this._input,F,A)),(0,i.default)((0,o.default)(S.prototype),"reportContextSensitivity",this).call(this,k,P,I,F,A)}},{key:"reportAttemptingFullContext",value:function(k,P,I,F,A){P!=null?this.conflictingAltResolvedBySLL=P.nextSetBit(0):this.conflictingAltResolvedBySLL=I.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,(0,i.default)((0,o.default)(S.prototype),"reportAttemptingFullContext",this).call(this,k,P,I,F,A)}},{key:"reportAmbiguity",value:function(k,P,I,F,A,D,$){if(this.currentState===void 0||this._input===void 0)throw new Error("Invalid state");var B;D!=null?B=D.nextSetBit(0):B=$.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==f.ATN.INVALID_ALT_NUMBER&&B!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new p.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,I,F)),this.decisions[this.currentDecision].ambiguities.push(new c.AmbiguityInfo(this.currentDecision,this.currentState,D,this._input,I,F)),(0,i.default)((0,o.default)(S.prototype),"reportAmbiguity",this).call(this,k,P,I,F,A,D,$)}},{key:"getDecisionInfo",value:function(){return this.decisions}},{key:"getCurrentState",value:function(){return this.currentState}}]),S}(g.ParserATNSimulator);return u([y.Override,l(0,y.NotNull)],E.prototype,"adaptivePredict",null),u([y.Override],E.prototype,"getStartState",null),u([y.Override],E.prototype,"computeStartState",null),u([y.Override],E.prototype,"computeReachSet",null),u([y.Override],E.prototype,"getExistingTargetState",null),u([y.Override],E.prototype,"computeTargetState",null),u([y.Override],E.prototype,"evalSemanticContextImpl",null),u([y.Override],E.prototype,"reportContextSensitivity",null),u([y.Override],E.prototype,"reportAttemptingFullContext",null),u([y.Override,l(0,y.NotNull),l(5,y.NotNull),l(6,y.NotNull)],E.prototype,"reportAmbiguity",null),A1.ProfilingATNSimulator=E,A1}var Lz;function ay(){if(Lz)return Rb;Lz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(pN()),t=e(Dt()),n=e(Tt()),o=e(Pt()),i=e(Ke()),a=e(rt()),s=e(tt()),u=function(P,I,F,A){var D=arguments.length,$=D<3?I:A===null?A=Object.getOwnPropertyDescriptor(I,F):A,B;if((typeof Reflect>"u"?"undefined":(0,s.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(P,I,F,A);else for(var W=P.length-1;W>=0;W--)(B=P[W])&&($=(D<3?B($):D>3?B(I,F,$):B(I,F))||$);return D>3&&$&&Object.defineProperty(I,F,$),$},l=function(P,I){return function(F,A){I(F,A,P)}},c=function(P,I,F,A){return new(F||(F=Promise))(function(D,$){function B(z){try{L(A.next(z))}catch(U){$(U)}}function W(z){try{L(A.throw(z))}catch(U){$(U)}}function L(z){z.done?D(z.value):new F(function(U){U(z.value)}).then(B,W)}L((A=A.apply(P,I||[])).next())})};Object.defineProperty(Rb,"__esModule",{value:!0});var f=Ri,d=p9(),p=HS(),h=MN(),m=RN(),y=r9(),v=Tf(),g=ot(),x=cSe(),b=ny(),w=VS,E=Kd,C=$v(),S=Rn,T=function(){function P(I,F){(0,i.default)(this,P),this.ruleNames=I,this.tokenStream=F}return(0,a.default)(P,[{key:"enterEveryRule",value:function(F){console.log("enter   "+this.ruleNames[F.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}},{key:"exitEveryRule",value:function(F){console.log("exit    "+this.ruleNames[F.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}},{key:"visitErrorNode",value:function(F){}},{key:"visitTerminal",value:function(F){var A=F.parent.ruleContext,D=F.symbol;console.log("consume "+D+" rule "+this.ruleNames[A.ruleIndex])}}]),P}();u([g.Override],T.prototype,"enterEveryRule",null),u([g.Override],T.prototype,"exitEveryRule",null),u([g.Override],T.prototype,"visitErrorNode",null),u([g.Override],T.prototype,"visitTerminal",null);var k=function(P){(0,o.default)(I,P);function I(F){var A;return(0,i.default)(this,I),A=(0,t.default)(this,(0,n.default)(I).call(this)),A._errHandler=new h.DefaultErrorStrategy,A._precedenceStack=new y.IntegerStack,A._buildParseTrees=!0,A._parseListeners=[],A._syntaxErrors=0,A.matchedEOF=!1,A._precedenceStack.push(0),A.inputStream=F,A}return(0,a.default)(I,[{key:"reset",value:function(A){(A===void 0||A)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);var D=this.interpreter;D!=null&&D.reset()}},{key:"match",value:function(A){var D=this.currentToken;return D.type===A?(A===S.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(D=this._errHandler.recoverInline(this),this._buildParseTrees&&D.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,D))),D}},{key:"matchWildcard",value:function(){var A=this.currentToken;return A.type>0?(this._errHandler.reportMatch(this),this.consume()):(A=this._errHandler.recoverInline(this),this._buildParseTrees&&A.tokenIndex===-1&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,A))),A}},{key:"getParseListeners",value:function(){return this._parseListeners}},{key:"addParseListener",value:function(A){if(A==null)throw new TypeError("listener cannot be null");this._parseListeners.push(A)}},{key:"removeParseListener",value:function(A){var D=this._parseListeners.findIndex(function($){return $===A});D!==-1&&this._parseListeners.splice(D,1)}},{key:"removeParseListeners",value:function(){this._parseListeners.length=0}},{key:"triggerEnterRuleEvent",value:function(){var A=!0,D=!1,$=void 0;try{for(var B=this._parseListeners[Symbol.iterator](),W;!(A=(W=B.next()).done);A=!0){var L=W.value;L.enterEveryRule&&L.enterEveryRule(this._ctx),this._ctx.enterRule(L)}}catch(z){D=!0,$=z}finally{try{!A&&B.return!=null&&B.return()}finally{if(D)throw $}}}},{key:"triggerExitRuleEvent",value:function(){for(var A=this._parseListeners.length-1;A>=0;A--){var D=this._parseListeners[A];this._ctx.exitRule(D),D.exitEveryRule&&D.exitEveryRule(this._ctx)}}},{key:"getATNWithBypassAlts",value:function(){var A=this.serializedATN;if(A==null)throw new Error("The current parser does not support an ATN with bypass alternatives.");var D=I.bypassAltsAtnCache.get(A);if(D==null){var $=new d.ATNDeserializationOptions;$.isGenerateRuleBypassTransitions=!0,D=new p.ATNDeserializer($).deserialize(f.toCharArray(A)),I.bypassAltsAtnCache.set(A,D)}return D}},{key:"compileParseTreePattern",value:function(A,D,$){return c(this,void 0,void 0,r.default.mark(function B(){var W,L,z,U;return r.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if($){q.next=4;break}if(this.inputStream&&(W=this.inputStream.tokenSource,W instanceof v.Lexer&&($=W)),$){q.next=4;break}throw new Error("Parser can't discover a lexer to use");case 4:return L=$,q.next=7,Promise.resolve().then(function(){return eCe()});case 7:return z=q.sent,U=new z.ParseTreePatternMatcher(L,this),q.abrupt("return",U.compile(A,D));case 10:case"end":return q.stop()}},B,this)}))}},{key:"notifyErrorListeners",value:function(A,D,$){D===void 0?D=this.currentToken:D===null&&(D=void 0),this._syntaxErrors++;var B=-1,W=-1;D!=null&&(B=D.line,W=D.charPositionInLine);var L=this.getErrorListenerDispatch();L.syntaxError&&L.syntaxError(this,D,B,W,A,$)}},{key:"consume",value:function(){var A=this.currentToken;A.type!==I.EOF&&this.inputStream.consume();var D=this._parseListeners.length!==0;if(this._buildParseTrees||D)if(this._errHandler.inErrorRecoveryMode(this)){var $=this._ctx.addErrorNode(this.createErrorNode(this._ctx,A));if(D){var B=!0,W=!1,L=void 0;try{for(var z=this._parseListeners[Symbol.iterator](),U;!(B=(U=z.next()).done);B=!0){var Y=U.value;Y.visitErrorNode&&Y.visitErrorNode($)}}catch(ne){W=!0,L=ne}finally{try{!B&&z.return!=null&&z.return()}finally{if(W)throw L}}}}else{var q=this.createTerminalNode(this._ctx,A);if(this._ctx.addChild(q),D){var V=!0,H=!1,Z=void 0;try{for(var ue=this._parseListeners[Symbol.iterator](),oe;!(V=(oe=ue.next()).done);V=!0){var ee=oe.value;ee.visitTerminal&&ee.visitTerminal(q)}}catch(ne){H=!0,Z=ne}finally{try{!V&&ue.return!=null&&ue.return()}finally{if(H)throw Z}}}}return A}},{key:"createTerminalNode",value:function(A,D){return new C.TerminalNode(D)}},{key:"createErrorNode",value:function(A,D){return new m.ErrorNode(D)}},{key:"addContextToParseTree",value:function(){var A=this._ctx._parent;A!=null&&A.addChild(this._ctx)}},{key:"enterRule",value:function(A,D,$){this.state=D,this._ctx=A,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"enterLeftFactoredRule",value:function(A,D,$){if(this.state=D,this._buildParseTrees){var B=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),B._parent=A,A.addChild(B)}this._ctx=A,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}},{key:"exitRule",value:function(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}},{key:"enterOuterAlt",value:function(A,D){if(A.altNumber=D,this._buildParseTrees&&this._ctx!==A){var $=this._ctx._parent;$!=null&&($.removeLastChild(),$.addChild(A))}this._ctx=A}},{key:"enterRecursionRule",value:function(A,D,$,B){this.state=D,this._precedenceStack.push(B),this._ctx=A,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}},{key:"pushNewRecursionContext",value:function(A,D,$){var B=this._ctx;B._parent=A,B.invokingState=D,B._stop=this._input.tryLT(-1),this._ctx=A,this._ctx._start=B._start,this._buildParseTrees&&this._ctx.addChild(B),this.triggerEnterRuleEvent()}},{key:"unrollRecursionContexts",value:function(A){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);var D=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==A;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=A;D._parent=A,this._buildParseTrees&&A!=null&&A.addChild(D)}},{key:"getInvokingContext",value:function(A){for(var D=this._ctx;D&&D.ruleIndex!==A;)D=D._parent;return D}},{key:"precpred",value:function(A,D){return D>=this._precedenceStack.peek()}},{key:"getErrorListenerDispatch",value:function(){return new w.ProxyParserErrorListener(this.getErrorListeners())}},{key:"inContext",value:function(A){return!1}},{key:"isExpectedToken",value:function(A){var D=this.interpreter.atn,$=this._ctx,B=D.states[this.state],W=D.nextTokens(B);if(W.contains(A))return!0;if(!W.contains(S.Token.EPSILON))return!1;for(;$!=null&&$.invokingState>=0&&W.contains(S.Token.EPSILON);){var L=D.states[$.invokingState],z=L.transition(0);if(W=D.nextTokens(z.followState),W.contains(A))return!0;$=$._parent}return!!(W.contains(S.Token.EPSILON)&&A===S.Token.EOF)}},{key:"getExpectedTokens",value:function(){return this.atn.getExpectedTokens(this.state,this.context)}},{key:"getExpectedTokensWithinCurrentRule",value:function(){var A=this.interpreter.atn,D=A.states[this.state];return A.nextTokens(D)}},{key:"getRuleIndex",value:function(A){var D=this.getRuleIndexMap().get(A);return D??-1}},{key:"getRuleInvocationStack",value:function(){for(var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._ctx,D=A,$=this.ruleNames,B=[];D!=null;){var W=D.ruleIndex;W<0?B.push("n/a"):B.push($[W]),D=D._parent}return B}},{key:"getDFAStrings",value:function(){var A=[],D=!0,$=!1,B=void 0;try{for(var W=this._interp.atn.decisionToDFA[Symbol.iterator](),L;!(D=(L=W.next()).done);D=!0){var z=L.value;A.push(z.toString(this.vocabulary,this.ruleNames))}}catch(U){$=!0,B=U}finally{try{!D&&W.return!=null&&W.return()}finally{if($)throw B}}return A}},{key:"dumpDFA",value:function(){var A=!1,D=!0,$=!1,B=void 0;try{for(var W=this._interp.atn.decisionToDFA[Symbol.iterator](),L;!(D=(L=W.next()).done);D=!0){var z=L.value;z.isEmpty||(A&&console.log(),console.log("Decision "+z.decision+":"),process.stdout.write(z.toString(this.vocabulary,this.ruleNames)),A=!0)}}catch(U){$=!0,B=U}finally{try{!D&&W.return!=null&&W.return()}finally{if($)throw B}}}},{key:"setProfile",value:function(A){return c(this,void 0,void 0,r.default.mark(function D(){var $,B;return r.default.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Promise.resolve().then(function(){return Fz()});case 2:$=L.sent,B=this.interpreter,A?B instanceof $.ProfilingATNSimulator||(this.interpreter=new $.ProfilingATNSimulator(this)):B instanceof $.ProfilingATNSimulator&&(this.interpreter=new b.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(B.getPredictionMode());case 6:case"end":return L.stop()}},D,this)}))}},{key:"buildParseTree",set:function(A){this._buildParseTrees=A},get:function(){return this._buildParseTrees}},{key:"numberOfSyntaxErrors",get:function(){return this._syntaxErrors}},{key:"tokenFactory",get:function(){return this._input.tokenSource.tokenFactory}},{key:"errorHandler",get:function(){return this._errHandler},set:function(A){this._errHandler=A}},{key:"inputStream",get:function(){return this._input},set:function(A){this.reset(!1),this._input=A}},{key:"currentToken",get:function(){return this._input.LT(1)}},{key:"precedence",get:function(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}},{key:"context",get:function(){return this._ctx},set:function(A){this._ctx=A}},{key:"isMatchedEOF",get:function(){return this.matchedEOF}},{key:"ruleContext",get:function(){return this._ctx}},{key:"sourceName",get:function(){return this._input.sourceName}},{key:"parseInfo",get:function(){var A=this;return Promise.resolve().then(function(){return Fz()}).then(function(D){var $=A.interpreter;if($ instanceof D.ProfilingATNSimulator)return new x.ParseInfo($)})}},{key:"isTrace",set:function(A){A?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new T(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)},get:function(){return this._tracer!=null}}]),I}(E.Recognizer);return k.bypassAltsAtnCache=new Map,u([g.NotNull],k.prototype,"_errHandler",void 0),u([g.NotNull],k.prototype,"match",null),u([g.NotNull],k.prototype,"matchWildcard",null),u([g.NotNull],k.prototype,"getParseListeners",null),u([l(0,g.NotNull)],k.prototype,"addParseListener",null),u([g.NotNull],k.prototype,"getATNWithBypassAlts",null),u([g.NotNull,l(0,g.NotNull)],k.prototype,"errorHandler",null),u([g.Override],k.prototype,"inputStream",null),u([g.NotNull],k.prototype,"currentToken",null),u([l(0,g.NotNull)],k.prototype,"enterRule",null),u([g.Override,l(0,g.Nullable)],k.prototype,"precpred",null),u([g.Override],k.prototype,"getErrorListenerDispatch",null),u([g.NotNull],k.prototype,"getExpectedTokens",null),u([g.NotNull],k.prototype,"getExpectedTokensWithinCurrentRule",null),u([g.Override],k.prototype,"parseInfo",null),Rb.Parser=k,Rb}var Bz;function tC(){if(Bz)return kb;Bz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(d,p,h,m){var y=arguments.length,v=y<3?p:m===null?m=Object.getOwnPropertyDescriptor(p,h):m,g;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,p,h,m);else for(var x=d.length-1;x>=0;x--)(g=d[x])&&(v=(y<3?g(v):y>3?g(p,h,v):g(p,h))||v);return y>3&&v&&Object.defineProperty(p,h,v),v};Object.defineProperty(kb,"__esModule",{value:!0});var u=ay(),l=ul,c=ot(),f=function(d){(0,i.default)(p,d);function p(h,m,y,v,g,x){var b;return(0,r.default)(this,p),h instanceof u.Parser&&(m===void 0&&(m=h.inputStream),y===void 0&&(y=h.currentToken),v===void 0&&(v=h.currentToken),x===void 0&&(x=h.context)),b=(0,n.default)(this,(0,o.default)(p).call(this,h,m,x)),b._deadEndConfigs=g,b._startToken=y,b.setOffendingToken(h,v),b}return(0,t.default)(p,[{key:"startToken",get:function(){return this._startToken}},{key:"deadEndConfigs",get:function(){return this._deadEndConfigs}}]),p}(l.RecognitionException);return s([c.NotNull],f.prototype,"_startToken",void 0),kb.NoViableAltException=f,kb}var jz;function MN(){if(jz)return Vx;jz=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(tt()),o=function(y,v,g,x){var b=arguments.length,w=b<3?v:x===null?x=Object.getOwnPropertyDescriptor(v,g):x,E;if((typeof Reflect>"u"?"undefined":(0,n.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(y,v,g,x);else for(var C=y.length-1;C>=0;C--)(E=y[C])&&(w=(b<3?E(w):b>3?E(v,g,w):E(v,g))||w);return b>3&&w&&Object.defineProperty(v,g,w),w},i=function(y,v){return function(g,x){v(g,x,y)}};Object.defineProperty(Vx,"__esModule",{value:!0});var a=sc(),s=li(),u=J0,l=Lv,c=Qd(),f=tC(),d=au(),p=Rn,h=ot(),m=function(){function y(){(0,r.default)(this,y),this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=a.ATNState.INVALID_STATE_NUMBER}return(0,t.default)(y,[{key:"reset",value:function(g){this.endErrorCondition(g)}},{key:"beginErrorCondition",value:function(g){this.errorRecoveryMode=!0}},{key:"inErrorRecoveryMode",value:function(g){return this.errorRecoveryMode}},{key:"endErrorCondition",value:function(g){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}},{key:"reportMatch",value:function(g){this.endErrorCondition(g)}},{key:"reportError",value:function(g,x){this.inErrorRecoveryMode(g)||(this.beginErrorCondition(g),x instanceof f.NoViableAltException?this.reportNoViableAlternative(g,x):x instanceof l.InputMismatchException?this.reportInputMismatch(g,x):x instanceof u.FailedPredicateException?this.reportFailedPredicate(g,x):(console.error("unknown recognition error type: ".concat(x)),this.notifyErrorListeners(g,x.toString(),x)))}},{key:"notifyErrorListeners",value:function(g,x,b){var w=b.getOffendingToken(g);w===void 0&&(w=null),g.notifyErrorListeners(x,w,b)}},{key:"recover",value:function(g,x){this.lastErrorIndex===g.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(g.state)&&g.consume(),this.lastErrorIndex=g.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new c.IntervalSet),this.lastErrorStates.add(g.state);var b=this.getErrorRecoverySet(g);this.consumeUntil(g,b)}},{key:"sync",value:function(g){var x=g.interpreter.atn.states[g.state];if(!this.inErrorRecoveryMode(g)){var b=g.inputStream,w=b.LA(1),E=g.atn.nextTokens(x);if(E.contains(w)){this.nextTokensContext=void 0,this.nextTokensState=a.ATNState.INVALID_STATE_NUMBER;return}if(E.contains(p.Token.EPSILON)){this.nextTokensContext===void 0&&(this.nextTokensContext=g.context,this.nextTokensState=g.state);return}switch(x.stateType){case s.ATNStateType.BLOCK_START:case s.ATNStateType.STAR_BLOCK_START:case s.ATNStateType.PLUS_BLOCK_START:case s.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(g))return;throw new l.InputMismatchException(g);case s.ATNStateType.PLUS_LOOP_BACK:case s.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(g);var C=g.getExpectedTokens(),S=C.or(this.getErrorRecoverySet(g));this.consumeUntil(g,S);break}}}},{key:"reportNoViableAlternative",value:function(g,x){var b=g.inputStream,w;b?x.startToken.type===p.Token.EOF?w="<EOF>":w=b.getTextFromRange(x.startToken,x.getOffendingToken()):w="<unknown input>";var E="no viable alternative at input "+this.escapeWSAndQuote(w);this.notifyErrorListeners(g,E,x)}},{key:"reportInputMismatch",value:function(g,x){var b=x.expectedTokens,w=b?b.toStringVocabulary(g.vocabulary):"",E="mismatched input "+this.getTokenErrorDisplay(x.getOffendingToken(g))+" expecting "+w;this.notifyErrorListeners(g,E,x)}},{key:"reportFailedPredicate",value:function(g,x){var b=g.ruleNames[g.context.ruleIndex],w="rule "+b+" "+x.message;this.notifyErrorListeners(g,w,x)}},{key:"reportUnwantedToken",value:function(g){if(!this.inErrorRecoveryMode(g)){this.beginErrorCondition(g);var x=g.currentToken,b=this.getTokenErrorDisplay(x),w=this.getExpectedTokens(g),E="extraneous input "+b+" expecting "+w.toStringVocabulary(g.vocabulary);g.notifyErrorListeners(E,x,void 0)}}},{key:"reportMissingToken",value:function(g){if(!this.inErrorRecoveryMode(g)){this.beginErrorCondition(g);var x=g.currentToken,b=this.getExpectedTokens(g),w="missing "+b.toStringVocabulary(g.vocabulary)+" at "+this.getTokenErrorDisplay(x);g.notifyErrorListeners(w,x,void 0)}}},{key:"recoverInline",value:function(g){var x=this.singleTokenDeletion(g);if(x)return g.consume(),x;if(this.singleTokenInsertion(g))return this.getMissingSymbol(g);throw this.nextTokensContext===void 0?new l.InputMismatchException(g):new l.InputMismatchException(g,this.nextTokensState,this.nextTokensContext)}},{key:"singleTokenInsertion",value:function(g){var x=g.inputStream.LA(1),b=g.interpreter.atn.states[g.state],w=b.transition(0).target,E=g.interpreter.atn,C=E.nextTokens(w,d.PredictionContext.fromRuleContext(E,g.context));return C.contains(x)?(this.reportMissingToken(g),!0):!1}},{key:"singleTokenDeletion",value:function(g){var x=g.inputStream.LA(2),b=this.getExpectedTokens(g);if(b.contains(x)){this.reportUnwantedToken(g),g.consume();var w=g.currentToken;return this.reportMatch(g),w}}},{key:"getMissingSymbol",value:function(g){var x=g.currentToken,b=this.getExpectedTokens(g),w=p.Token.INVALID_TYPE;b.isNil||(w=b.minElement);var E;w===p.Token.EOF?E="<missing EOF>":E="<missing "+g.vocabulary.getDisplayName(w)+">";var C=x,S=g.inputStream.tryLT(-1);return C.type===p.Token.EOF&&S!=null&&(C=S),this.constructToken(g.inputStream.tokenSource,w,E,C)}},{key:"constructToken",value:function(g,x,b,w){var E=g.tokenFactory,C=w.tokenSource,S=C?C.inputStream:void 0;return E.create({source:g,stream:S},x,b,p.Token.DEFAULT_CHANNEL,-1,-1,w.line,w.charPositionInLine)}},{key:"getExpectedTokens",value:function(g){return g.getExpectedTokens()}},{key:"getTokenErrorDisplay",value:function(g){if(!g)return"<no token>";var x=this.getSymbolText(g);return x||(this.getSymbolType(g)===p.Token.EOF?x="<EOF>":x="<".concat(this.getSymbolType(g),">")),this.escapeWSAndQuote(x)}},{key:"getSymbolText",value:function(g){return g.text}},{key:"getSymbolType",value:function(g){return g.type}},{key:"escapeWSAndQuote",value:function(g){return g=g.replace(`
`,"\\n"),g=g.replace("\r","\\r"),g=g.replace("	","\\t"),"'"+g+"'"}},{key:"getErrorRecoverySet",value:function(g){for(var x=g.interpreter.atn,b=g.context,w=new c.IntervalSet;b&&b.invokingState>=0;){var E=x.states[b.invokingState],C=E.transition(0),S=x.nextTokens(C.followState);w.addAll(S),b=b._parent}return w.remove(p.Token.EPSILON),w}},{key:"consumeUntil",value:function(g,x){for(var b=g.inputStream.LA(1);b!==p.Token.EOF&&!x.contains(b);)g.consume(),b=g.inputStream.LA(1)}}]),y}();return o([h.Override],m.prototype,"reset",null),o([i(0,h.NotNull)],m.prototype,"beginErrorCondition",null),o([h.Override],m.prototype,"inErrorRecoveryMode",null),o([i(0,h.NotNull)],m.prototype,"endErrorCondition",null),o([h.Override],m.prototype,"reportMatch",null),o([h.Override],m.prototype,"reportError",null),o([i(0,h.NotNull)],m.prototype,"notifyErrorListeners",null),o([h.Override],m.prototype,"recover",null),o([h.Override],m.prototype,"sync",null),o([i(0,h.NotNull),i(1,h.NotNull)],m.prototype,"reportNoViableAlternative",null),o([i(0,h.NotNull),i(1,h.NotNull)],m.prototype,"reportInputMismatch",null),o([i(0,h.NotNull),i(1,h.NotNull)],m.prototype,"reportFailedPredicate",null),o([i(0,h.NotNull)],m.prototype,"reportUnwantedToken",null),o([i(0,h.NotNull)],m.prototype,"reportMissingToken",null),o([h.Override],m.prototype,"recoverInline",null),o([i(0,h.NotNull)],m.prototype,"singleTokenInsertion",null),o([i(0,h.NotNull)],m.prototype,"singleTokenDeletion",null),o([h.NotNull,i(0,h.NotNull)],m.prototype,"getMissingSymbol",null),o([h.NotNull,i(0,h.NotNull)],m.prototype,"getExpectedTokens",null),o([i(0,h.NotNull)],m.prototype,"getSymbolText",null),o([i(0,h.NotNull)],m.prototype,"getSymbolType",null),o([h.NotNull,i(0,h.NotNull)],m.prototype,"escapeWSAndQuote",null),o([h.NotNull,i(0,h.NotNull)],m.prototype,"getErrorRecoverySet",null),o([i(0,h.NotNull),i(1,h.NotNull)],m.prototype,"consumeUntil",null),Vx.DefaultErrorStrategy=m,Vx}var $z;function C9(){if($z)return Hx;$z=1;/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var e=Ge,r=e(Ke()),t=e(rt()),n=e(Dt()),o=e(Tt()),i=e(Pt()),a=e(tt()),s=function(p,h,m,y){var v=arguments.length,g=v<3?h:y===null?y=Object.getOwnPropertyDescriptor(h,m):y,x;if((typeof Reflect>"u"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(p,h,m,y);else for(var b=p.length-1;b>=0;b--)(x=p[b])&&(g=(v<3?x(g):v>3?x(h,m,g):x(h,m))||g);return v>3&&g&&Object.defineProperty(h,m,g),g};Object.defineProperty(Hx,"__esModule",{value:!0});var u=MN(),l=Lv,c=ot(),f=b9(),d=function(p){(0,i.default)(h,p);function h(){return(0,r.default)(this,h),(0,n.default)(this,(0,o.default)(h).apply(this,arguments))}return(0,t.default)(h,[{key:"recover",value:function(y,v){for(var g=y.context;g;g=g.parent)g.exception=v;throw new f.ParseCancellationException(v)}},{key:"recoverInline",value:function(y){for(var v=new l.InputMismatchException(y),g=y.context;g;g=g.parent)g.exception=v;throw new f.ParseCancellationException(v)}},{key:"sync",value:function(y){}}]),h}(u.DefaultErrorStrategy);return s([c.Override],d.prototype,"recover",null),s([c.Override],d.prototype,"recoverInline",null),s([c.Override],d.prototype,"sync",null),Hx.BailErrorStrategy=d,Hx}var E9={};(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(e,"__esModule",{value:!0}),function(r){r[r.SELF=0]="SELF",r[r.PARENTS=1]="PARENTS",r[r.CHILDREN=2]="CHILDREN",r[r.ANCESTORS=3]="ANCESTORS",r[r.DESCENDANTS=4]="DESCENDANTS",r[r.SIBLINGS=5]="SIBLINGS",r[r.PRECEEDING_SIBLINGS=6]="PRECEEDING_SIBLINGS",r[r.FOLLOWING_SIBLINGS=7]="FOLLOWING_SIBLINGS",r[r.PRECEEDING=8]="PRECEEDING",r[r.FOLLOWING=9]="FOLLOWING"}(e.Dependents||(e.Dependents={}))})(E9);var FN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var LN=Ge,sCe=LN(Ke()),uCe=LN(rt()),lCe=LN(tt()),qv=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,lCe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},ws=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(FN,"__esModule",{value:!0});var cCe=kf(),oi=ot(),HT=ba(),ep=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(0,sCe.default)(this,e),this.exactOnly=r,this.exactOnly=r}return(0,uCe.default)(e,[{key:"syntaxError",value:function(t,n,o,i,a,s){}},{key:"reportAmbiguity",value:function(t,n,o,i,a,s,u){if(!(this.exactOnly&&!a)){var l=this.getDecisionDescription(t,n),c=this.getConflictingAlts(s,u),f=t.inputStream.getText(HT.Interval.of(o,i)),d="reportAmbiguity d=".concat(l,": ambigAlts=").concat(c,", input='").concat(f,"'");t.notifyErrorListeners(d)}}},{key:"reportAttemptingFullContext",value:function(t,n,o,i,a,s){var u=this.getDecisionDescription(t,n),l=t.inputStream.getText(HT.Interval.of(o,i)),c="reportAttemptingFullContext d=".concat(u,", input='").concat(l,"'");t.notifyErrorListeners(c)}},{key:"reportContextSensitivity",value:function(t,n,o,i,a,s){var u=this.getDecisionDescription(t,n),l=t.inputStream.getText(HT.Interval.of(o,i)),c="reportContextSensitivity d=".concat(u,", input='").concat(l,"'");t.notifyErrorListeners(c)}},{key:"getDecisionDescription",value:function(t,n){var o=n.decision,i=n.atnStartState.ruleIndex,a=t.ruleNames;if(i<0||i>=a.length)return o.toString();var s=a[i];return s?"".concat(o," (").concat(s,")"):o.toString()}},{key:"getConflictingAlts",value:function(t,n){if(t!=null)return t;var o=new cCe.BitSet,i=!0,a=!1,s=void 0;try{for(var u=n[Symbol.iterator](),l;!(i=(l=u.next()).done);i=!0){var c=l.value;o.set(c.alt)}}catch(f){a=!0,s=f}finally{try{!i&&u.return!=null&&u.return()}finally{if(a)throw s}}return o}}]),e}();qv([oi.Override],ep.prototype,"syntaxError",null);qv([oi.Override,ws(0,oi.NotNull),ws(1,oi.NotNull),ws(6,oi.NotNull)],ep.prototype,"reportAmbiguity",null);qv([oi.Override,ws(0,oi.NotNull),ws(1,oi.NotNull),ws(5,oi.NotNull)],ep.prototype,"reportAttemptingFullContext",null);qv([oi.Override,ws(0,oi.NotNull),ws(1,oi.NotNull),ws(5,oi.NotNull)],ep.prototype,"reportContextSensitivity",null);qv([ws(0,oi.NotNull),ws(1,oi.NotNull)],ep.prototype,"getDecisionDescription",null);qv([oi.NotNull,ws(1,oi.NotNull)],ep.prototype,"getConflictingAlts",null);FN.DiagnosticErrorListener=ep;var BN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var tp=Ge,fCe=tp(Ke()),dCe=tp(rt()),pCe=tp(Dt()),hCe=tp(Tt()),vCe=tp(Nv()),mCe=tp(Pt()),gCe=tp(tt()),Af=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,gCe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i},yCe=function(e,r){return function(t,n){r(t,n,e)}};Object.defineProperty(BN,"__esModule",{value:!0});var xCe=Tf(),bCe=US(),k9=ot(),Hv=ot(),Zu=function(e){(0,mCe.default)(r,e);function r(t,n,o,i,a,s,u){var l;if((0,fCe.default)(this,r),l=(0,pCe.default)(this,(0,hCe.default)(r).call(this,u)),s.grammarType!==0)throw new Error("IllegalArgumentException: The ATN must be a lexer ATN.");return l._grammarFileName=t,l._atn=s,l._ruleNames=o.slice(0),l._channelNames=i.slice(0),l._modeNames=a.slice(0),l._vocabulary=n,l._interp=new bCe.LexerATNSimulator(s,(0,vCe.default)(l)),l}return(0,dCe.default)(r,[{key:"atn",get:function(){return this._atn}},{key:"grammarFileName",get:function(){return this._grammarFileName}},{key:"ruleNames",get:function(){return this._ruleNames}},{key:"channelNames",get:function(){return this._channelNames}},{key:"modeNames",get:function(){return this._modeNames}},{key:"vocabulary",get:function(){return this._vocabulary}}]),r}(xCe.Lexer);Af([k9.NotNull],Zu.prototype,"_vocabulary",void 0);Af([Hv.Override],Zu.prototype,"atn",null);Af([Hv.Override],Zu.prototype,"grammarFileName",null);Af([Hv.Override],Zu.prototype,"ruleNames",null);Af([Hv.Override],Zu.prototype,"channelNames",null);Af([Hv.Override],Zu.prototype,"modeNames",null);Af([Hv.Override],Zu.prototype,"vocabulary",null);Zu=Af([yCe(1,k9.NotNull)],Zu);BN.LexerInterpreter=Zu;var jN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Vv=Ge,_Ce=Vv(Ke()),wCe=Vv(rt()),VT=Vv(Dt()),zz=Vv(Tt()),SCe=Vv(Pt()),CCe=Vv(tt()),ECe=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,CCe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(jN,"__esModule",{value:!0});var kCe=uc(),RCe=ot(),TCe=su(),R9=function(e){(0,SCe.default)(r,e);function r(t,n){var o;return(0,_Ce.default)(this,r),n!==void 0?o=(0,VT.default)(this,(0,zz.default)(r).call(this,t,n)):o=(0,VT.default)(this,(0,zz.default)(r).call(this)),o._altNumber=kCe.ATN.INVALID_ALT_NUMBER,(0,VT.default)(o)}return(0,wCe.default)(r,[{key:"altNumber",get:function(){return this._altNumber},set:function(n){this._altNumber=n}}]),r}(TCe.ParserRuleContext);ECe([RCe.Override],R9.prototype,"altNumber",null);jN.RuleContextWithAltNum=R9;var $N={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty($N,"__esModule",{value:!0});function ACe(e){return function(r,t,n){}}$N.RuleDependency=ACe;var zN={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */Object.defineProperty(zN,"__esModule",{value:!0});function OCe(e){return function(r,t,n){}}zN.RuleVersion=OCe;var rC={};/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */var Gv=Ge,WN=Gv(Dt()),UN=Gv(Tt()),qN=Gv(Pt()),sy=Gv(Ke()),nC=Gv(rt()),DCe=Gv(tt()),oC=function(e,r,t,n){var o=arguments.length,i=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,a;if((typeof Reflect>"u"?"undefined":(0,DCe.default)(Reflect))==="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(r,t,i):a(r,t))||i);return o>3&&i&&Object.defineProperty(r,t,i),i};Object.defineProperty(rC,"__esModule",{value:!0});var Wz=ba(),iC=ot(),T9=Rn,aC=function(){function e(r){(0,sy.default)(this,e),this.tokens=r,this.programs=new Map,this.programs.set(e.DEFAULT_PROGRAM_NAME,[]),this.lastRewriteTokenIndexes=new Map}return(0,nC.default)(e,[{key:"getTokenStream",value:function(){return this.tokens}},{key:"rollback",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.DEFAULT_PROGRAM_NAME,o=this.programs.get(n);o!=null&&this.programs.set(n,o.slice(e.MIN_TOKEN_INDEX,t))}},{key:"deleteProgram",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.DEFAULT_PROGRAM_NAME;this.rollback(e.MIN_TOKEN_INDEX,t)}},{key:"insertAfter",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.DEFAULT_PROGRAM_NAME,i;typeof t=="number"?i=t:i=t.tokenIndex;var a=new Uz(this.tokens,i,n),s=this.getProgram(o);a.instructionIndex=s.length,s.push(a)}},{key:"insertBefore",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.DEFAULT_PROGRAM_NAME,i;typeof t=="number"?i=t:i=t.tokenIndex;var a=new sd(this.tokens,i,n),s=this.getProgram(o);a.instructionIndex=s.length,s.push(a)}},{key:"replaceSingle",value:function(t,n){typeof t=="number"?this.replace(t,t,n):this.replace(t,t,n)}},{key:"replace",value:function(t,n,o){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.DEFAULT_PROGRAM_NAME;if(typeof t!="number"&&(t=t.tokenIndex),typeof n!="number"&&(n=n.tokenIndex),t>n||t<0||n<0||n>=this.tokens.size)throw new RangeError("replace: range invalid: ".concat(t,"..").concat(n,"(size=").concat(this.tokens.size,")"));var a=new vh(this.tokens,t,n,o),s=this.getProgram(i);a.instructionIndex=s.length,s.push(a)}},{key:"delete",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.DEFAULT_PROGRAM_NAME;n===void 0&&(n=t),typeof t=="number"?this.replace(t,n,"",o):this.replace(t,n,"",o)}},{key:"getLastRewriteTokenIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.DEFAULT_PROGRAM_NAME,n=this.lastRewriteTokenIndexes.get(t);return n??-1}},{key:"setLastRewriteTokenIndex",value:function(t,n){this.lastRewriteTokenIndexes.set(t,n)}},{key:"getProgram",value:function(t){var n=this.programs.get(t);return n==null&&(n=this.initializeProgram(t)),n}},{key:"initializeProgram",value:function(t){var n=[];return this.programs.set(t,n),n}},{key:"getText",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.DEFAULT_PROGRAM_NAME,o;t instanceof Wz.Interval?o=t:o=Wz.Interval.of(0,this.tokens.size-1),typeof t=="string"&&(n=t);var i=this.programs.get(n),a=o.a,s=o.b;if(s>this.tokens.size-1&&(s=this.tokens.size-1),a<0&&(a=0),i==null||i.length===0)return this.tokens.getText(o);for(var u=[],l=this.reduceToSingleOperationPerIndex(i),c=a;c<=s&&c<this.tokens.size;){var f=l.get(c);l.delete(c);var d=this.tokens.get(c);f==null?(d.type!==T9.Token.EOF&&u.push(String(d.text)),c++):c=f.execute(u)}if(s===this.tokens.size-1){var p=!0,h=!1,m=void 0;try{for(var y=l.values()[Symbol.iterator](),v;!(p=(v=y.next()).done);p=!0){var g=v.value;g.index>=this.tokens.size-1&&u.push(g.text.toString())}}catch(x){h=!0,m=x}finally{try{!p&&y.return!=null&&y.return()}finally{if(h)throw m}}}return u.join("")}},{key:"reduceToSingleOperationPerIndex",value:function(t){for(var n=0;n<t.length;n++){var o=t[n];if(o!=null&&o instanceof vh){var i=o,a=this.getKindOfOps(t,sd,n),s=!0,u=!1,l=void 0;try{for(var c=a[Symbol.iterator](),f;!(s=(f=c.next()).done);s=!0){var d=f.value;d.index===i.index?(t[d.instructionIndex]=void 0,i.text=d.text.toString()+(i.text!=null?i.text.toString():"")):d.index>i.index&&d.index<=i.lastIndex&&(t[d.instructionIndex]=void 0)}}catch(ee){u=!0,l=ee}finally{try{!s&&c.return!=null&&c.return()}finally{if(u)throw l}}var p=this.getKindOfOps(t,vh,n),h=!0,m=!1,y=void 0;try{for(var v=p[Symbol.iterator](),g;!(h=(g=v.next()).done);h=!0){var x=g.value;if(x.index>=i.index&&x.lastIndex<=i.lastIndex){t[x.instructionIndex]=void 0;continue}var b=x.lastIndex<i.index||x.index>i.lastIndex;if(x.text==null&&i.text==null&&!b)t[x.instructionIndex]=void 0,i.index=Math.min(x.index,i.index),i.lastIndex=Math.max(x.lastIndex,i.lastIndex);else if(!b)throw new Error("replace op boundaries of ".concat(i," overlap with previous ").concat(x))}}catch(ee){m=!0,y=ee}finally{try{!h&&v.return!=null&&v.return()}finally{if(m)throw y}}}}for(var w=0;w<t.length;w++){var E=t[w];if(E!=null&&E instanceof sd){var C=E,S=this.getKindOfOps(t,sd,w),T=!0,k=!1,P=void 0;try{for(var I=S[Symbol.iterator](),F;!(T=(F=I.next()).done);T=!0){var A=F.value;A.index===C.index&&(A instanceof Uz?(C.text=this.catOpText(A.text,C.text),t[A.instructionIndex]=void 0):A instanceof sd&&(C.text=this.catOpText(C.text,A.text),t[A.instructionIndex]=void 0))}}catch(ee){k=!0,P=ee}finally{try{!T&&I.return!=null&&I.return()}finally{if(k)throw P}}var D=this.getKindOfOps(t,vh,w),$=!0,B=!1,W=void 0;try{for(var L=D[Symbol.iterator](),z;!($=(z=L.next()).done);$=!0){var U=z.value;if(C.index===U.index){U.text=this.catOpText(C.text,U.text),t[w]=void 0;continue}if(C.index>=U.index&&C.index<=U.lastIndex)throw new Error("insert op ".concat(C," within boundaries of previous ").concat(U))}}catch(ee){B=!0,W=ee}finally{try{!$&&L.return!=null&&L.return()}finally{if(B)throw W}}}}var Y=new Map,q=!0,V=!1,H=void 0;try{for(var Z=t[Symbol.iterator](),ue;!(q=(ue=Z.next()).done);q=!0){var oe=ue.value;if(oe!=null){if(Y.get(oe.index)!=null)throw new Error("should only be one op per index");Y.set(oe.index,oe)}}}catch(ee){V=!0,H=ee}finally{try{!q&&Z.return!=null&&Z.return()}finally{if(V)throw H}}return Y}},{key:"catOpText",value:function(t,n){var o="",i="";return t!=null&&(o=t.toString()),n!=null&&(i=n.toString()),o+i}},{key:"getKindOfOps",value:function(t,n,o){for(var i=[],a=0;a<o&&a<t.length;a++){var s=t[a];s!=null&&s instanceof n&&i.push(s)}return i}}]),e}();aC.DEFAULT_PROGRAM_NAME="default";aC.PROGRAM_INIT_SIZE=100;aC.MIN_TOKEN_INDEX=0;rC.TokenStreamRewriter=aC;var sC=function(){function e(r,t,n){(0,sy.default)(this,e),this.tokens=r,this.index=t,this.text=n===void 0?"":n}return(0,nC.default)(e,[{key:"execute",value:function(t){return this.index}},{key:"toString",value:function(){var t=this.constructor.name,n=t.indexOf("$");return t=t.substring(n+1,t.length),"<"+t+"@"+this.tokens.get(this.index)+':"'+this.text+'">'}}]),e}();oC([iC.Override],sC.prototype,"toString",null);rC.RewriteOperation=sC;var sd=function(e){(0,qN.default)(r,e);function r(t,n,o){return(0,sy.default)(this,r),(0,WN.default)(this,(0,UN.default)(r).call(this,t,n,o))}return(0,nC.default)(r,[{key:"execute",value:function(n){return n.push(this.text.toString()),this.tokens.get(this.index).type!==T9.Token.EOF&&n.push(String(this.tokens.get(this.index).text)),this.index+1}}]),r}(sC);oC([iC.Override],sd.prototype,"execute",null);var Uz=function(e){(0,qN.default)(r,e);function r(t,n,o){return(0,sy.default)(this,r),(0,WN.default)(this,(0,UN.default)(r).call(this,t,n+1,o))}return r}(sd),vh=function(e){(0,qN.default)(r,e);function r(t,n,o,i){var a;return(0,sy.default)(this,r),a=(0,WN.default)(this,(0,UN.default)(r).call(this,t,n,i)),a.lastIndex=o,a}return(0,nC.default)(r,[{key:"execute",value:function(n){return this.text!=null&&n.push(this.text.toString()),this.lastIndex+1}},{key:"toString",value:function(){return this.text==null?"<DeleteOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+">":"<ReplaceOp@"+this.tokens.get(this.index)+".."+this.tokens.get(this.lastIndex)+':"'+this.text+'">'}}]),r}(sC);oC([iC.Override],vh.prototype,"execute",null);oC([iC.Override],vh.prototype,"toString",null);(function(e){/*!
 * Copyright 2016 The ANTLR Project. All rights reserved.
 * Licensed under the BSD-3-Clause license. See LICENSE file in the project root for license information.
 */function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(rN),r(C9()),r(QS),r(YS),r(DN),r(KS),r(Gd),r(LS),r(oy),r(zS),r(MN()),r(E9),r(FN),r(J0),r(Lv),r(_9()),r(ac),r(Tf()),r(BN),r(jv),r(eC),r(tC()),r(ay()),r(w9()),r(su()),r(ty),r(VS),r(ul),r(Kd),r(g9()),r(jN),r($N),r(zN),r(Rn),r(rC),r(fl)})(tN);var uy={},PCe=wr&&wr.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),ICe=wr&&wr.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),NCe=wr&&wr.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),MCe=wr&&wr.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&ICe(r,e,t);return NCe(r,e),r};Object.defineProperty(uy,"__esModule",{value:!0});uy.FilterQueryLexer=void 0;var FCe=HS(),LCe=Tf(),BCe=US(),jCe=fl,$Ce=MCe(Ri),zCe=function(e){PCe(r,e);function r(t){var n=e.call(this,t)||this;return n._interp=new BCe.LexerATNSimulator(r._ATN,n),n}return Object.defineProperty(r.prototype,"vocabulary",{get:function(){return r.VOCABULARY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"grammarFileName",{get:function(){return"FilterQuery.g4"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ruleNames",{get:function(){return r.ruleNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"serializedATN",{get:function(){return r._serializedATN},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"channelNames",{get:function(){return r.channelNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modeNames",{get:function(){return r.modeNames},enumerable:!1,configurable:!0}),Object.defineProperty(r,"_ATN",{get:function(){return r.__ATN||(r.__ATN=new FCe.ATNDeserializer().deserialize($Ce.toCharArray(r._serializedATN))),r.__ATN},enumerable:!1,configurable:!0}),r.LPAR=1,r.RPAR=2,r.COMMA=3,r.OR=4,r.AND=5,r.NOT=6,r.EQ=7,r.NE=8,r.GT=9,r.GE=10,r.LT=11,r.LE=12,r.APPROX=13,r.ATTRIBUTE_NAME=14,r.NUMBER=15,r.STRING=16,r.TRUE=17,r.FALSE=18,r.SPACE=19,r.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],r.modeNames=["DEFAULT_MODE"],r.ruleNames=["LPAR","RPAR","COMMA","OR","AND","NOT","EQ","NE","GT","GE","LT","LE","APPROX","ATTRIBUTE_NAME","NUMBER","STRING_CONTENT","STRING","TRUE","FALSE","SPACE"],r._LITERAL_NAMES=[void 0,"'('","')'","','","'or'","'and'","'not'","'='","'!='","'>'","'>='","'<'","'<='","'~='",void 0,void 0,void 0,"'true'","'false'"],r._SYMBOLIC_NAMES=[void 0,"LPAR","RPAR","COMMA","OR","AND","NOT","EQ","NE","GT","GE","LT","LE","APPROX","ATTRIBUTE_NAME","NUMBER","STRING","TRUE","FALSE","SPACE"],r.VOCABULARY=new jCe.VocabularyImpl(r._LITERAL_NAMES,r._SYMBOLIC_NAMES,[]),r._serializedATN=`줝쪺֍꾺体؇쉁\b					\x07	\x07\b	\b			
	
\v	\v\f	\f\r	\r								\x07\x07\x07\x07\b\b			

\v\v\v\f\f\r\r\r\x07Q
\fT\vW
Z
\r[_
\x07b
\fe\vi
\rjm
\x07t
\fw\v
\r\x07	\v\x07\r\b	
\v\f\r\x1B!#%')\bC\\aac|\x07002;C\\aac|--//2;\f\f$$^^\v\v""\x07	\v\r\x1B#%')+-\x07/	1\v4\r8<>ACFH\x1BKNl!u#x%|')+,\x07*,-.\x07+./0\x07.0\b12\x07q23\x07t3
45\x07c56\x07p67\x07f7\f89\x07p9:\x07q:;\x07v;<=\x07?=>?\x07#?@\x07?@AB\x07@BCD\x07@DE\x07?EFG\x07>GHI\x07>IJ\x07?JKL\x07LM\x07?MNR	OQ	POQTRPRSSTRUW	VUVWWYXZ	YXZ[[Y[\\\\m]_	^]^__c\`b	a\`becacddfecfh\x070gi	hgijjhjkkmlVl^m nt
op\x07^pt\x07$qr\x07^rt\x07^snsosqtwusuvv"wuxy\x07$yz!z{\x07${$|}\x07v}~\x07t~\x07w\x07g&\x07h\x07c\x07n\x07u\x07g(	\x07\b*\rRV[^cjlsu\b`,r}(LCe.Lexer);uy.FilterQueryLexer=zCe;var Sn={},Ds=wr&&wr.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),WCe=wr&&wr.__createBinding||(Object.create?function(e,r,t,n){n===void 0&&(n=t),Object.defineProperty(e,n,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}),UCe=wr&&wr.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),qCe=wr&&wr.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&WCe(r,e,t);return UCe(r,e),r};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.BoolContext=Sn.ValueContext=Sn.OperatorContext=Sn.BooleanExpressionContext=Sn.ComparisonExpressionContext=Sn.NotExpressionContext=Sn.ParenthesisExpressionContext=Sn.BaseExpressionContext=Sn.AndExpressionContext=Sn.OrExpressionContext=Sn.QueryContext=Sn.FilterQueryParser=void 0;var HCe=HS(),VCe=tC(),GCe=ay(),lu=su(),YCe=ny(),js=ul,qz=Rn,KCe=fl,XCe=qCe(Ri),Yr=function(e){Ds(r,e);function r(t){var n=e.call(this,t)||this;return n._interp=new YCe.ParserATNSimulator(r._ATN,n),n}return Object.defineProperty(r.prototype,"vocabulary",{get:function(){return r.VOCABULARY},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"grammarFileName",{get:function(){return"FilterQuery.g4"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ruleNames",{get:function(){return r.ruleNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"serializedATN",{get:function(){return r._serializedATN},enumerable:!1,configurable:!0}),r.prototype.query=function(){var t=new A9(this._ctx,this.state);this.enterRule(t,0,r.RULE_query);try{this.enterOuterAlt(t,1),this.state=22,this.orExpression(),this.state=23,this.match(r.EOF)}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.orExpression=function(){var t=new uC(this._ctx,this.state);this.enterRule(t,2,r.RULE_orExpression);var n;try{for(this.enterOuterAlt(t,1),this.state=25,this.andExpression(),this.state=30,this._errHandler.sync(this),n=this._input.LA(1);n===r.OR;)this.state=26,this.match(r.OR),this.state=27,this.andExpression(),this.state=32,this._errHandler.sync(this),n=this._input.LA(1)}catch(o){if(o instanceof js.RecognitionException)t.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o);else throw o}finally{this.exitRule()}return t},r.prototype.andExpression=function(){var t=new A2(this._ctx,this.state);this.enterRule(t,4,r.RULE_andExpression);var n;try{for(this.enterOuterAlt(t,1),this.state=33,this.baseExpression(),this.state=38,this._errHandler.sync(this),n=this._input.LA(1);n===r.AND;)this.state=34,this.match(r.AND),this.state=35,this.baseExpression(),this.state=40,this._errHandler.sync(this),n=this._input.LA(1)}catch(o){if(o instanceof js.RecognitionException)t.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o);else throw o}finally{this.exitRule()}return t},r.prototype.baseExpression=function(){var t=new y0(this._ctx,this.state);this.enterRule(t,6,r.RULE_baseExpression);try{switch(this.state=45,this._errHandler.sync(this),this.interpreter.adaptivePredict(this._input,2,this._ctx)){case 1:this.enterOuterAlt(t,1),this.state=41,this.parenthesisExpression();break;case 2:this.enterOuterAlt(t,2),this.state=42,this.notExpression();break;case 3:this.enterOuterAlt(t,3),this.state=43,this.comparisonExpression();break;case 4:this.enterOuterAlt(t,4),this.state=44,this.booleanExpression();break}}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.parenthesisExpression=function(){var t=new HN(this._ctx,this.state);this.enterRule(t,8,r.RULE_parenthesisExpression);try{this.enterOuterAlt(t,1),this.state=47,this.match(r.LPAR),this.state=48,this.orExpression(),this.state=49,this.match(r.RPAR)}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.notExpression=function(){var t=new VN(this._ctx,this.state);this.enterRule(t,10,r.RULE_notExpression);try{this.enterOuterAlt(t,1),this.state=51,this.match(r.NOT),this.state=52,this.baseExpression()}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.comparisonExpression=function(){var t=new GN(this._ctx,this.state);this.enterRule(t,12,r.RULE_comparisonExpression);try{this.enterOuterAlt(t,1),this.state=54,this.match(r.ATTRIBUTE_NAME),this.state=55,this.operator(),this.state=56,this.value()}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.booleanExpression=function(){var t=new YN(this._ctx,this.state);this.enterRule(t,14,r.RULE_booleanExpression);try{this.enterOuterAlt(t,1),this.state=58,this.match(r.ATTRIBUTE_NAME)}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.operator=function(){var t=new KN(this._ctx,this.state);this.enterRule(t,16,r.RULE_operator);var n;try{this.enterOuterAlt(t,1),this.state=60,n=this._input.LA(1),!(n&-32)&&1<<n&(1<<r.EQ|1<<r.NE|1<<r.GT|1<<r.GE|1<<r.LT|1<<r.LE|1<<r.APPROX)?(this._input.LA(1)===qz.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(o){if(o instanceof js.RecognitionException)t.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o);else throw o}finally{this.exitRule()}return t},r.prototype.value=function(){var t=new XN(this._ctx,this.state);this.enterRule(t,18,r.RULE_value);try{switch(this.state=65,this._errHandler.sync(this),this._input.LA(1)){case r.NUMBER:this.enterOuterAlt(t,1),this.state=62,this.match(r.NUMBER);break;case r.STRING:this.enterOuterAlt(t,2),this.state=63,this.match(r.STRING);break;case r.TRUE:case r.FALSE:this.enterOuterAlt(t,3),this.state=64,this.bool();break;default:throw new VCe.NoViableAltException(this)}}catch(n){if(n instanceof js.RecognitionException)t.exception=n,this._errHandler.reportError(this,n),this._errHandler.recover(this,n);else throw n}finally{this.exitRule()}return t},r.prototype.bool=function(){var t=new QN(this._ctx,this.state);this.enterRule(t,20,r.RULE_bool);var n;try{this.enterOuterAlt(t,1),this.state=67,n=this._input.LA(1),n===r.TRUE||n===r.FALSE?(this._input.LA(1)===qz.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):this._errHandler.recoverInline(this)}catch(o){if(o instanceof js.RecognitionException)t.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o);else throw o}finally{this.exitRule()}return t},Object.defineProperty(r,"_ATN",{get:function(){return r.__ATN||(r.__ATN=new HCe.ATNDeserializer().deserialize(XCe.toCharArray(r._serializedATN))),r.__ATN},enumerable:!1,configurable:!0}),r.LPAR=1,r.RPAR=2,r.COMMA=3,r.OR=4,r.AND=5,r.NOT=6,r.EQ=7,r.NE=8,r.GT=9,r.GE=10,r.LT=11,r.LE=12,r.APPROX=13,r.ATTRIBUTE_NAME=14,r.NUMBER=15,r.STRING=16,r.TRUE=17,r.FALSE=18,r.SPACE=19,r.RULE_query=0,r.RULE_orExpression=1,r.RULE_andExpression=2,r.RULE_baseExpression=3,r.RULE_parenthesisExpression=4,r.RULE_notExpression=5,r.RULE_comparisonExpression=6,r.RULE_booleanExpression=7,r.RULE_operator=8,r.RULE_value=9,r.RULE_bool=10,r.ruleNames=["query","orExpression","andExpression","baseExpression","parenthesisExpression","notExpression","comparisonExpression","booleanExpression","operator","value","bool"],r._LITERAL_NAMES=[void 0,"'('","')'","','","'or'","'and'","'not'","'='","'!='","'>'","'>='","'<'","'<='","'~='",void 0,void 0,void 0,"'true'","'false'"],r._SYMBOLIC_NAMES=[void 0,"LPAR","RPAR","COMMA","OR","AND","NOT","EQ","NE","GT","GE","LT","LE","APPROX","ATTRIBUTE_NAME","NUMBER","STRING","TRUE","FALSE","SPACE"],r.VOCABULARY=new KCe.VocabularyImpl(r._LITERAL_NAMES,r._SYMBOLIC_NAMES,[]),r._serializedATN=`줝쪺֍꾺体؇쉁H					\x07	\x07\b	\b			
	
\v	\v\f	\f\x07
\f"\v\x07'
\f*\v0
\x07\x07\x07\b\b\b\b		

\v\v\v\vD
\v\f\f\f\r\b
\f	C\x1B#\b/
1\f58<>CE\x07\x1B \x07"  !!" #(\b$%\x07\x07%'\b&$'*(&())\x07*(+0
,0\f\x07-0\b.0	/+/,/-/.0	12\x072334\x074\v56\x07\b67\b7\r89\x079:
:;\v;<=\x07=>?	?@D\x07AD\x07BD\fC@CACBDEF	F (/C`,r}(GCe.Parser);Sn.FilterQueryParser=Yr;var A9=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.orExpression=function(){return this.getRuleContext(0,uC)},r.prototype.EOF=function(){return this.getToken(Yr.EOF,0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_query},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterQuery&&t.enterQuery(this)},r.prototype.exitRule=function(t){t.exitQuery&&t.exitQuery(this)},r.prototype.accept=function(t){return t.visitQuery?t.visitQuery(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.QueryContext=A9;var uC=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.andExpression=function(t){return t===void 0?this.getRuleContexts(A2):this.getRuleContext(t,A2)},r.prototype.OR=function(t){return t===void 0?this.getTokens(Yr.OR):this.getToken(Yr.OR,t)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_orExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterOrExpression&&t.enterOrExpression(this)},r.prototype.exitRule=function(t){t.exitOrExpression&&t.exitOrExpression(this)},r.prototype.accept=function(t){return t.visitOrExpression?t.visitOrExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.OrExpressionContext=uC;var A2=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.baseExpression=function(t){return t===void 0?this.getRuleContexts(y0):this.getRuleContext(t,y0)},r.prototype.AND=function(t){return t===void 0?this.getTokens(Yr.AND):this.getToken(Yr.AND,t)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_andExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterAndExpression&&t.enterAndExpression(this)},r.prototype.exitRule=function(t){t.exitAndExpression&&t.exitAndExpression(this)},r.prototype.accept=function(t){return t.visitAndExpression?t.visitAndExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.AndExpressionContext=A2;var y0=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.parenthesisExpression=function(){return this.tryGetRuleContext(0,HN)},r.prototype.notExpression=function(){return this.tryGetRuleContext(0,VN)},r.prototype.comparisonExpression=function(){return this.tryGetRuleContext(0,GN)},r.prototype.booleanExpression=function(){return this.tryGetRuleContext(0,YN)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_baseExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterBaseExpression&&t.enterBaseExpression(this)},r.prototype.exitRule=function(t){t.exitBaseExpression&&t.exitBaseExpression(this)},r.prototype.accept=function(t){return t.visitBaseExpression?t.visitBaseExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.BaseExpressionContext=y0;var HN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.LPAR=function(){return this.getToken(Yr.LPAR,0)},r.prototype.orExpression=function(){return this.getRuleContext(0,uC)},r.prototype.RPAR=function(){return this.getToken(Yr.RPAR,0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_parenthesisExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterParenthesisExpression&&t.enterParenthesisExpression(this)},r.prototype.exitRule=function(t){t.exitParenthesisExpression&&t.exitParenthesisExpression(this)},r.prototype.accept=function(t){return t.visitParenthesisExpression?t.visitParenthesisExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.ParenthesisExpressionContext=HN;var VN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.NOT=function(){return this.getToken(Yr.NOT,0)},r.prototype.baseExpression=function(){return this.getRuleContext(0,y0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_notExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterNotExpression&&t.enterNotExpression(this)},r.prototype.exitRule=function(t){t.exitNotExpression&&t.exitNotExpression(this)},r.prototype.accept=function(t){return t.visitNotExpression?t.visitNotExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.NotExpressionContext=VN;var GN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.ATTRIBUTE_NAME=function(){return this.getToken(Yr.ATTRIBUTE_NAME,0)},r.prototype.operator=function(){return this.getRuleContext(0,KN)},r.prototype.value=function(){return this.getRuleContext(0,XN)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_comparisonExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterComparisonExpression&&t.enterComparisonExpression(this)},r.prototype.exitRule=function(t){t.exitComparisonExpression&&t.exitComparisonExpression(this)},r.prototype.accept=function(t){return t.visitComparisonExpression?t.visitComparisonExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.ComparisonExpressionContext=GN;var YN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.ATTRIBUTE_NAME=function(){return this.getToken(Yr.ATTRIBUTE_NAME,0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_booleanExpression},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterBooleanExpression&&t.enterBooleanExpression(this)},r.prototype.exitRule=function(t){t.exitBooleanExpression&&t.exitBooleanExpression(this)},r.prototype.accept=function(t){return t.visitBooleanExpression?t.visitBooleanExpression(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.BooleanExpressionContext=YN;var KN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.EQ=function(){return this.tryGetToken(Yr.EQ,0)},r.prototype.NE=function(){return this.tryGetToken(Yr.NE,0)},r.prototype.LT=function(){return this.tryGetToken(Yr.LT,0)},r.prototype.LE=function(){return this.tryGetToken(Yr.LE,0)},r.prototype.GT=function(){return this.tryGetToken(Yr.GT,0)},r.prototype.GE=function(){return this.tryGetToken(Yr.GE,0)},r.prototype.APPROX=function(){return this.tryGetToken(Yr.APPROX,0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_operator},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterOperator&&t.enterOperator(this)},r.prototype.exitRule=function(t){t.exitOperator&&t.exitOperator(this)},r.prototype.accept=function(t){return t.visitOperator?t.visitOperator(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.OperatorContext=KN;var XN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.NUMBER=function(){return this.tryGetToken(Yr.NUMBER,0)},r.prototype.STRING=function(){return this.tryGetToken(Yr.STRING,0)},r.prototype.bool=function(){return this.tryGetRuleContext(0,QN)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_value},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterValue&&t.enterValue(this)},r.prototype.exitRule=function(t){t.exitValue&&t.exitValue(this)},r.prototype.accept=function(t){return t.visitValue?t.visitValue(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.ValueContext=XN;var QN=function(e){Ds(r,e);function r(t,n){return e.call(this,t,n)||this}return r.prototype.TRUE=function(){return this.tryGetToken(Yr.TRUE,0)},r.prototype.FALSE=function(){return this.tryGetToken(Yr.FALSE,0)},Object.defineProperty(r.prototype,"ruleIndex",{get:function(){return Yr.RULE_bool},enumerable:!1,configurable:!0}),r.prototype.enterRule=function(t){t.enterBool&&t.enterBool(this)},r.prototype.exitRule=function(t){t.exitBool&&t.exitBool(this)},r.prototype.accept=function(t){return t.visitBool?t.visitBool(this):t.visitChildren(this)},r}(lu.ParserRuleContext);Sn.BoolContext=QN;var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.ErrorListener=void 0;var QCe=function(){function e(){this.errors=[]}return e.prototype.syntaxError=function(r,t,n,o,i,a){this.errors.push(new Error(i+" (at position "+o+")"))},e.prototype.requireNoErrors=function(){var r=this.getLatestError();if(r)throw r},e.prototype.getLatestError=function(){return this.errors.length>0?this.errors[this.errors.length-1]:void 0},e}();ly.ErrorListener=QCe;var JCe=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OS,"__esModule",{value:!0});OS.compile=void 0;var Hz=tN,ZCe=JCe(EV),eEe=uy,Cu=Sn,tEe=ly,rEe=function(){function e(r){this.inputParam=r,this.visit=function(t){return""},this.visitChildren=function(t){return""},this.visitTerminal=function(t){return""},this.visitErrorNode=function(t){return""}}return e.prototype.visitQuery=function(r){var t=(r.children||[])[0];return t.accept(this)},e.prototype.visitOrExpression=function(r){var t;if(((t=r.children)===null||t===void 0?void 0:t.length)===1)return r.children[0].accept(this);for(var n=[],o=0;o<r.children.length;o+=2){var i=r.children[o].accept(this);n.push(i)}return n.join(" || ")},e.prototype.visitAndExpression=function(r){if(r.children.length===1)return r.children[0].accept(this);for(var t=[],n=0;n<r.children.length;n+=2){var o=r.children[n].accept(this);t.push(o)}return t.join(" && ")},e.prototype.visitBaseExpression=function(r){var t=(r.children||[])[0];return t.accept(this)},e.prototype.visitParenthesisExpression=function(r){var t=r.children||[];t[0];var n=t[1];t[2];var o=n.accept(this);return"("+o+")"},e.prototype.visitNotExpression=function(r){var t=r.children||[];t[0];var n=t[1],o=n.accept(this);return"!("+o+")"},e.prototype.visitBooleanExpression=function(r){var t=(r.children||[])[0],n=t.symbol.text,o=this.safeAccessor(n);return"(Array.isArray("+o+") ? "+o+".length > 0 : !!"+o+")"},e.prototype.visitComparisonExpression=function(r){var t=r.children||[],n=t[0],o=t[1],i=t[2],a=o.children[0],s=n.symbol.text,u=this.safeAccessor(s),l=i.accept(this);switch(a.symbol.type){case Cu.FilterQueryParser.EQ:return"(Array.isArray("+u+") ? "+u+".indexOf("+l+") !== -1 : "+u+" === "+l+")";case Cu.FilterQueryParser.NE:return"(Array.isArray("+u+") ? "+u+".indexOf("+l+") === -1 : "+u+" !== "+l+")";case Cu.FilterQueryParser.GT:return u+" > "+l;case Cu.FilterQueryParser.GE:return u+" >= "+l;case Cu.FilterQueryParser.LT:return u+" < "+l;case Cu.FilterQueryParser.LE:return u+" <= "+l;case Cu.FilterQueryParser.APPROX:return"!!"+u+".toLowerCase().match("+l.toLowerCase()+")";default:return"false"}},e.prototype.visitValue=function(r){var t=r.children[0];switch(t.symbol.type){case Cu.FilterQueryParser.NUMBER:case Cu.FilterQueryParser.STRING:return t.symbol.text;default:return"undefined"}},e.prototype.visitBool=function(r){var t=r.children[0];return t.symbol.text},e.prototype.safeAccessor=function(r){return"safeGetter("+this.inputParam+", '"+r+"')"},e}(),nEe=function(e){var r=Hz.CharStreams.fromString(e),t=new eEe.FilterQueryLexer(r),n=new tEe.ErrorListener;t.removeErrorListeners(),t.addErrorListener(n);var o=new Hz.CommonTokenStream(t),i=new Cu.FilterQueryParser(o);i.buildParseTree=!0,i.removeErrorListeners(),i.addErrorListener(n);var a=i.query();n.requireNoErrors();var s=a.accept(new rEe("__target")),u=new Function("__target","safeGetter","return "+s+";");return function(l){return u(l,ZCe.default.get)}};OS.compile=nEe;var lC={},pD=wr&&wr.__assign||function(){return pD=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},pD.apply(this,arguments)};Object.defineProperty(lC,"__esModule",{value:!0});lC.validate=void 0;var Vz=tN,oEe=ly,iEe=uy,Yp=Sn,Gz=function(e){return e.map(function(r){return'"'+r+'"'})},aEe=function(){function e(r,t,n){this.parser=r,this.schema=t,this.customSuggestionsFn=n,this.emptySuggestions=function(){return{suggestions:[]}}}return e.prototype.getSuggestions=function(){try{var r=this.getSuggestionsInternal(),t=r.suggestions,n=r.startIndex;return t.sort(),{suggestions:t,startIndex:n}}catch{return this.emptySuggestions()}},e.prototype.getSuggestionsInternal=function(){var r=this.parser.inputStream.size;if(r<=1)return{suggestions:Object.keys(this.schema.properties||{}),startIndex:0};var t=this.parser.inputStream.get(r-2);return t.type===Yp.FilterQueryParser.AND||t.type===Yp.FilterQueryParser.OR?{suggestions:Object.keys(this.schema.properties||{}),startIndex:t.stopIndex+1}:t.type===Yp.FilterQueryParser.ATTRIBUTE_NAME?this.getAttributeSuggestions(t):t.type===Yp.FilterQueryParser.EQ||t.type===Yp.FilterQueryParser.NE?this.getValueSuggestions(t.stopIndex+1):this.emptySuggestions()},e.prototype.getValueSuggestions=function(r){for(var t,n=this.parser.inputStream.get(this.parser.inputStream.size-3),o=((t=n.text)===null||t===void 0?void 0:t.split("."))||[],i=this.schema,a=0;a<o.length&&i;a++){if(!i.properties[o[a]])return this.emptySuggestions();i=i.properties[o[a]]}if(!i)return this.emptySuggestions();if(this.customSuggestionsFn){var s=this.customSuggestionsFn(n.text);if(s)return{suggestions:s,startIndex:r}}var u=[];return i.enum?u=Gz(i.enum):i.type==="array"&&i.items&&i.items.enum&&(u=Gz(i.items.enum)),{suggestions:u,startIndex:r}},e.prototype.getAttributeSuggestions=function(r){for(var t,n=((t=r.text)===null||t===void 0?void 0:t.split("."))||[],o=n.length>0?n[n.length-1]:void 0,i=this.schema,a=0;a<n.length-1;a++){if(!i.properties[n[a]])return this.emptySuggestions();i=i.properties[n[a]]}if(!i||!i.properties)return this.emptySuggestions();var s=r.startIndex+(r.text.lastIndexOf(".")+1);return o?{suggestions:Object.keys(i.properties).filter(function(u){return u.toLowerCase().startsWith(o.toLowerCase())&&o.length<u.length}),startIndex:s}:{suggestions:Object.keys(i.properties),startIndex:s}},e}(),sEe=function(e,r,t){t===void 0&&(t={});var n=Vz.CharStreams.fromString(e),o=new iEe.FilterQueryLexer(n),i=new oEe.ErrorListener;o.removeErrorListeners(),o.addErrorListener(i);var a=new Vz.CommonTokenStream(o),s=new Yp.FilterQueryParser(a);s.buildParseTree=!0,s.removeErrorListeners(),s.addErrorListener(i),s.query();var u=i.getLatestError(),l=new aEe(s,r,t.customSuggestionsFn),c=l.getSuggestions();return pD({valid:!u,error:u},c)};lC.validate=sEe;(function(e){var r=wr&&wr.__createBinding||(Object.create?function(n,o,i,a){a===void 0&&(a=i),Object.defineProperty(n,a,{enumerable:!0,get:function(){return o[i]}})}:function(n,o,i,a){a===void 0&&(a=i),n[a]=o[i]}),t=wr&&wr.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&r(o,n,i)};Object.defineProperty(e,"__esModule",{value:!0}),t(OS,e),t(lC,e)})(Ju);function cu(){const e=Sr(),r=O_(e.breakpoints.down("sm")),t=O_(e.breakpoints.between("sm","md")),n=O_(e.breakpoints.up("md")),[o,i]=N.useState(!1);return N.useEffect(()=>{i(!!r)},[r]),{isMobile:r,isTablet:t,isDesktop:n,isCollapsed:o,toggleSidebar:()=>{i(s=>!s)}}}class uEe{add(r,t,n){if(typeof arguments[0]!="string")for(let o in arguments[0])this.add(o,arguments[0][o],arguments[1]);else(Array.isArray(r)?r:[r]).forEach(function(o){this[o]=this[o]||[],t&&this[o][n?"unshift":"push"](t)},this)}run(r,t){this[r]=this[r]||[],this[r].forEach(function(n){n.call(t&&t.context?t.context:t,t)})}}class lEe{constructor(r){this.jsep=r,this.registered={}}register(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];t.forEach(o=>{if(typeof o!="object"||!o.name||!o.init)throw new Error("Invalid JSEP plugin format");this.registered[o.name]||(o.init(this.jsep),this.registered[o.name]=o)})}}class Ve{static get version(){return"1.4.0"}static toString(){return"JavaScript Expression Parser (JSEP) v"+Ve.version}static addUnaryOp(r){return Ve.max_unop_len=Math.max(r.length,Ve.max_unop_len),Ve.unary_ops[r]=1,Ve}static addBinaryOp(r,t,n){return Ve.max_binop_len=Math.max(r.length,Ve.max_binop_len),Ve.binary_ops[r]=t,n?Ve.right_associative.add(r):Ve.right_associative.delete(r),Ve}static addIdentifierChar(r){return Ve.additional_identifier_chars.add(r),Ve}static addLiteral(r,t){return Ve.literals[r]=t,Ve}static removeUnaryOp(r){return delete Ve.unary_ops[r],r.length===Ve.max_unop_len&&(Ve.max_unop_len=Ve.getMaxKeyLen(Ve.unary_ops)),Ve}static removeAllUnaryOps(){return Ve.unary_ops={},Ve.max_unop_len=0,Ve}static removeIdentifierChar(r){return Ve.additional_identifier_chars.delete(r),Ve}static removeBinaryOp(r){return delete Ve.binary_ops[r],r.length===Ve.max_binop_len&&(Ve.max_binop_len=Ve.getMaxKeyLen(Ve.binary_ops)),Ve.right_associative.delete(r),Ve}static removeAllBinaryOps(){return Ve.binary_ops={},Ve.max_binop_len=0,Ve}static removeLiteral(r){return delete Ve.literals[r],Ve}static removeAllLiterals(){return Ve.literals={},Ve}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(r){this.expr=r,this.index=0}static parse(r){return new Ve(r).parse()}static getMaxKeyLen(r){return Math.max(0,...Object.keys(r).map(t=>t.length))}static isDecimalDigit(r){return r>=48&&r<=57}static binaryPrecedence(r){return Ve.binary_ops[r]||0}static isIdentifierStart(r){return r>=65&&r<=90||r>=97&&r<=122||r>=128&&!Ve.binary_ops[String.fromCharCode(r)]||Ve.additional_identifier_chars.has(String.fromCharCode(r))}static isIdentifierPart(r){return Ve.isIdentifierStart(r)||Ve.isDecimalDigit(r)}throwError(r){const t=new Error(r+" at character "+this.index);throw t.index=this.index,t.description=r,t}runHook(r,t){if(Ve.hooks[r]){const n={context:this,node:t};return Ve.hooks.run(r,n),n.node}return t}searchHook(r){if(Ve.hooks[r]){const t={context:this};return Ve.hooks[r].find(function(n){return n.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let r=this.code;for(;r===Ve.SPACE_CODE||r===Ve.TAB_CODE||r===Ve.LF_CODE||r===Ve.CR_CODE;)r=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");const r=this.gobbleExpressions(),t=r.length===1?r[0]:{type:Ve.COMPOUND,body:r};return this.runHook("after-all",t)}gobbleExpressions(r){let t=[],n,o;for(;this.index<this.expr.length;)if(n=this.code,n===Ve.SEMCOL_CODE||n===Ve.COMMA_CODE)this.index++;else if(o=this.gobbleExpression())t.push(o);else if(this.index<this.expr.length){if(n===r)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){const r=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",r)}gobbleBinaryOp(){this.gobbleSpaces();let r=this.expr.substr(this.index,Ve.max_binop_len),t=r.length;for(;t>0;){if(Ve.binary_ops.hasOwnProperty(r)&&(!Ve.isIdentifierStart(this.code)||this.index+r.length<this.expr.length&&!Ve.isIdentifierPart(this.expr.charCodeAt(this.index+r.length))))return this.index+=t,r;r=r.substr(0,--t)}return!1}gobbleBinaryExpression(){let r,t,n,o,i,a,s,u,l;if(a=this.gobbleToken(),!a||(t=this.gobbleBinaryOp(),!t))return a;for(i={value:t,prec:Ve.binaryPrecedence(t),right_a:Ve.right_associative.has(t)},s=this.gobbleToken(),s||this.throwError("Expected expression after "+t),o=[a,i,s];t=this.gobbleBinaryOp();){if(n=Ve.binaryPrecedence(t),n===0){this.index-=t.length;break}i={value:t,prec:n,right_a:Ve.right_associative.has(t)},l=t;const c=f=>i.right_a&&f.right_a?n>f.prec:n<=f.prec;for(;o.length>2&&c(o[o.length-2]);)s=o.pop(),t=o.pop().value,a=o.pop(),r={type:Ve.BINARY_EXP,operator:t,left:a,right:s},o.push(r);r=this.gobbleToken(),r||this.throwError("Expected expression after "+l),o.push(i,r)}for(u=o.length-1,r=o[u];u>1;)r={type:Ve.BINARY_EXP,operator:o[u-1].value,left:o[u-2],right:r},u-=2;return r}gobbleToken(){let r,t,n,o;if(this.gobbleSpaces(),o=this.searchHook("gobble-token"),o)return this.runHook("after-token",o);if(r=this.code,Ve.isDecimalDigit(r)||r===Ve.PERIOD_CODE)return this.gobbleNumericLiteral();if(r===Ve.SQUOTE_CODE||r===Ve.DQUOTE_CODE)o=this.gobbleStringLiteral();else if(r===Ve.OBRACK_CODE)o=this.gobbleArray();else{for(t=this.expr.substr(this.index,Ve.max_unop_len),n=t.length;n>0;){if(Ve.unary_ops.hasOwnProperty(t)&&(!Ve.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!Ve.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=n;const i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:Ve.UNARY_EXP,operator:t,argument:i,prefix:!0})}t=t.substr(0,--n)}Ve.isIdentifierStart(r)?(o=this.gobbleIdentifier(),Ve.literals.hasOwnProperty(o.name)?o={type:Ve.LITERAL,value:Ve.literals[o.name],raw:o.name}:o.name===Ve.this_str&&(o={type:Ve.THIS_EXP})):r===Ve.OPAREN_CODE&&(o=this.gobbleGroup())}return o?(o=this.gobbleTokenProperty(o),this.runHook("after-token",o)):this.runHook("after-token",!1)}gobbleTokenProperty(r){this.gobbleSpaces();let t=this.code;for(;t===Ve.PERIOD_CODE||t===Ve.OBRACK_CODE||t===Ve.OPAREN_CODE||t===Ve.QUMARK_CODE;){let n;if(t===Ve.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==Ve.PERIOD_CODE)break;n=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===Ve.OBRACK_CODE?(r={type:Ve.MEMBER_EXP,computed:!0,object:r,property:this.gobbleExpression()},r.property||this.throwError('Unexpected "'+this.char+'"'),this.gobbleSpaces(),t=this.code,t!==Ve.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===Ve.OPAREN_CODE?r={type:Ve.CALL_EXP,arguments:this.gobbleArguments(Ve.CPAREN_CODE),callee:r}:(t===Ve.PERIOD_CODE||n)&&(n&&this.index--,this.gobbleSpaces(),r={type:Ve.MEMBER_EXP,computed:!1,object:r,property:this.gobbleIdentifier()}),n&&(r.optional=!0),this.gobbleSpaces(),t=this.code}return r}gobbleNumericLiteral(){let r="",t,n;for(;Ve.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if(this.code===Ve.PERIOD_CODE)for(r+=this.expr.charAt(this.index++);Ve.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(r+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(r+=this.expr.charAt(this.index++));Ve.isDecimalDigit(this.code);)r+=this.expr.charAt(this.index++);Ve.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+r+this.char+")")}return n=this.code,Ve.isIdentifierStart(n)?this.throwError("Variable names cannot start with a number ("+r+this.char+")"):(n===Ve.PERIOD_CODE||r.length===1&&r.charCodeAt(0)===Ve.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:Ve.LITERAL,value:parseFloat(r),raw:r}}gobbleStringLiteral(){let r="";const t=this.index,n=this.expr.charAt(this.index++);let o=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===n){o=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":r+=`
`;break;case"r":r+="\r";break;case"t":r+="	";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:r+=i}else r+=i}return o||this.throwError('Unclosed quote after "'+r+'"'),{type:Ve.LITERAL,value:r,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let r=this.code,t=this.index;for(Ve.isIdentifierStart(r)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(r=this.code,Ve.isIdentifierPart(r));)this.index++;return{type:Ve.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(r){const t=[];let n=!1,o=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===r){n=!0,this.index++,r===Ve.CPAREN_CODE&&o&&o>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(r));break}else if(i===Ve.COMMA_CODE){if(this.index++,o++,o!==t.length){if(r===Ve.CPAREN_CODE)this.throwError("Unexpected token ,");else if(r===Ve.CBRACK_CODE)for(let a=t.length;a<o;a++)t.push(null)}}else if(t.length!==o&&o!==0)this.throwError("Expected comma");else{const a=this.gobbleExpression();(!a||a.type===Ve.COMPOUND)&&this.throwError("Expected comma"),t.push(a)}}return n||this.throwError("Expected "+String.fromCharCode(r)),t}gobbleGroup(){this.index++;let r=this.gobbleExpressions(Ve.CPAREN_CODE);if(this.code===Ve.CPAREN_CODE)return this.index++,r.length===1?r[0]:r.length?{type:Ve.SEQUENCE_EXP,expressions:r}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:Ve.ARRAY_EXP,elements:this.gobbleArguments(Ve.CBRACK_CODE)}}}const cEe=new uEe;Object.assign(Ve,{hooks:cEe,plugins:new lEe(Ve),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"??":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10,"**":11},right_associative:new Set(["**"]),additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});Ve.max_unop_len=Ve.getMaxKeyLen(Ve.unary_ops);Ve.max_binop_len=Ve.getMaxKeyLen(Ve.binary_ops);const rc=e=>new Ve(e).parse(),fEe=Object.getOwnPropertyNames(class{});Object.getOwnPropertyNames(Ve).filter(e=>!fEe.includes(e)&&rc[e]===void 0).forEach(e=>{rc[e]=Ve[e]});rc.Jsep=Ve;const dEe="ConditionalExpression";var pEe={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;const n=t.node,o=this.gobbleExpression();if(o||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;const i=this.gobbleExpression();if(i||this.throwError("Expected expression"),t.node={type:dEe,test:n,consequent:o,alternate:i},n.operator&&e.binary_ops[n.operator]<=.9){let a=n;for(;a.right.operator&&e.binary_ops[a.right.operator]<=.9;)a=a.right;t.node.test=a.right,a.right=t.node,t.node=n}}else this.throwError("Expected :")}})}};rc.plugins.register(pEe);const Yz=47,hEe=92;var vEe={name:"regex",init(e){e.hooks.add("gobble-token",function(t){if(this.code===Yz){const n=++this.index;let o=!1;for(;this.index<this.expr.length;){if(this.code===Yz&&!o){const i=this.expr.slice(n,this.index);let a="";for(;++this.index<this.expr.length;){const u=this.code;if(u>=97&&u<=122||u>=65&&u<=90||u>=48&&u<=57)a+=this.char;else break}let s;try{s=new RegExp(i,a)}catch(u){this.throwError(u.message)}return t.node={type:e.LITERAL,value:s,raw:this.expr.slice(n-1,this.index)},t.node=this.gobbleTokenProperty(t.node),t.node}this.code===e.OBRACK_CODE?o=!0:o&&this.code===e.CBRACK_CODE&&(o=!1),this.index+=this.code===hEe?2:1}this.throwError("Unclosed Regex")}})}};const GT=43,mEe=45,Kp={name:"assignment",assignmentOperators:new Set(["=","*=","**=","/=","%=","+=","-=","<<=",">>=",">>>=","&=","^=","|=","||=","&&=","??="]),updateOperators:[GT,mEe],assignmentPrecedence:.9,init(e){const r=[e.IDENTIFIER,e.MEMBER_EXP];Kp.assignmentOperators.forEach(n=>e.addBinaryOp(n,Kp.assignmentPrecedence,!0)),e.hooks.add("gobble-token",function(o){const i=this.code;Kp.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(this.index+=2,o.node={type:"UpdateExpression",operator:i===GT?"++":"--",argument:this.gobbleTokenProperty(this.gobbleIdentifier()),prefix:!0},(!o.node.argument||!r.includes(o.node.argument.type))&&this.throwError(`Unexpected ${o.node.operator}`))}),e.hooks.add("after-token",function(o){if(o.node){const i=this.code;Kp.updateOperators.some(a=>a===i&&a===this.expr.charCodeAt(this.index+1))&&(r.includes(o.node.type)||this.throwError(`Unexpected ${o.node.operator}`),this.index+=2,o.node={type:"UpdateExpression",operator:i===GT?"++":"--",argument:o.node,prefix:!1})}}),e.hooks.add("after-expression",function(o){o.node&&t(o.node)});function t(n){Kp.assignmentOperators.has(n.operator)?(n.type="AssignmentExpression",t(n.left),t(n.right)):n.operator||Object.values(n).forEach(o=>{o&&typeof o=="object"&&t(o)})}}};rc.plugins.register(vEe,Kp);rc.addUnaryOp("typeof");rc.addLiteral("null",null);rc.addLiteral("undefined",void 0);const gEe=new Set(["constructor","__proto__","__defineGetter__","__defineSetter__"]),yn={evalAst(e,r){switch(e.type){case"BinaryExpression":case"LogicalExpression":return yn.evalBinaryExpression(e,r);case"Compound":return yn.evalCompound(e,r);case"ConditionalExpression":return yn.evalConditionalExpression(e,r);case"Identifier":return yn.evalIdentifier(e,r);case"Literal":return yn.evalLiteral(e,r);case"MemberExpression":return yn.evalMemberExpression(e,r);case"UnaryExpression":return yn.evalUnaryExpression(e,r);case"ArrayExpression":return yn.evalArrayExpression(e,r);case"CallExpression":return yn.evalCallExpression(e,r);case"AssignmentExpression":return yn.evalAssignmentExpression(e,r);default:throw SyntaxError("Unexpected expression",e)}},evalBinaryExpression(e,r){return{"||":(n,o)=>n||o(),"&&":(n,o)=>n&&o(),"|":(n,o)=>n|o(),"^":(n,o)=>n^o(),"&":(n,o)=>n&o(),"==":(n,o)=>n==o(),"!=":(n,o)=>n!=o(),"===":(n,o)=>n===o(),"!==":(n,o)=>n!==o(),"<":(n,o)=>n<o(),">":(n,o)=>n>o(),"<=":(n,o)=>n<=o(),">=":(n,o)=>n>=o(),"<<":(n,o)=>n<<o(),">>":(n,o)=>n>>o(),">>>":(n,o)=>n>>>o(),"+":(n,o)=>n+o(),"-":(n,o)=>n-o(),"*":(n,o)=>n*o(),"/":(n,o)=>n/o(),"%":(n,o)=>n%o()}[e.operator](yn.evalAst(e.left,r),()=>yn.evalAst(e.right,r))},evalCompound(e,r){let t;for(let n=0;n<e.body.length;n++){e.body[n].type==="Identifier"&&["var","let","const"].includes(e.body[n].name)&&e.body[n+1]&&e.body[n+1].type==="AssignmentExpression"&&(n+=1);const o=e.body[n];t=yn.evalAst(o,r)}return t},evalConditionalExpression(e,r){return yn.evalAst(e.test,r)?yn.evalAst(e.consequent,r):yn.evalAst(e.alternate,r)},evalIdentifier(e,r){if(Object.hasOwn(r,e.name))return r[e.name];throw ReferenceError(`${e.name} is not defined`)},evalLiteral(e){return e.value},evalMemberExpression(e,r){const t=String(e.computed?yn.evalAst(e.property):e.property.name),n=yn.evalAst(e.object,r);if(n==null)throw TypeError(`Cannot read properties of ${n} (reading '${t}')`);if(!Object.hasOwn(n,t)&&gEe.has(t))throw TypeError(`Cannot read properties of ${n} (reading '${t}')`);const o=n[t];return typeof o=="function"?o.bind(n):o},evalUnaryExpression(e,r){return{"-":n=>-yn.evalAst(n,r),"!":n=>!yn.evalAst(n,r),"~":n=>~yn.evalAst(n,r),"+":n=>+yn.evalAst(n,r),typeof:n=>typeof yn.evalAst(n,r)}[e.operator](e.argument)},evalArrayExpression(e,r){return e.elements.map(t=>yn.evalAst(t,r))},evalCallExpression(e,r){const t=e.arguments.map(o=>yn.evalAst(o,r));return yn.evalAst(e.callee,r)(...t)},evalAssignmentExpression(e,r){if(e.left.type!=="Identifier")throw SyntaxError("Invalid left-hand side in assignment");const t=e.left.name,n=yn.evalAst(e.right,r);return r[t]=n,r[t]}};class yEe{constructor(r){this.code=r,this.ast=rc(this.code)}runInNewContext(r){const t=Object.assign(Object.create(null),r);return yn.evalAst(this.ast,t)}}function Rc(e,r){return e=e.slice(),e.push(r),e}function hD(e,r){return r=r.slice(),r.unshift(e),r}class xEe extends Error{constructor(r){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=r,this.name="NewError"}}function Ur(e,r,t,n,o){if(!(this instanceof Ur))try{return new Ur(e,r,t,n,o)}catch(a){if(!a.avoidNew)throw a;return a.value}typeof e=="string"&&(o=n,n=t,t=r,r=e,e=null);const i=e&&typeof e=="object";if(e=e||{},this.json=e.json||t,this.path=e.path||r,this.resultType=e.resultType||"value",this.flatten=e.flatten||!1,this.wrap=Object.hasOwn(e,"wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},this.eval=e.eval===void 0?"safe":e.eval,this.ignoreEvalErrors=typeof e.ignoreEvalErrors>"u"?!1:e.ignoreEvalErrors,this.parent=e.parent||null,this.parentProperty=e.parentProperty||null,this.callback=e.callback||n||null,this.otherTypeCallback=e.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},e.autostart!==!1){const a={path:i?e.path:r};i?"json"in e&&(a.json=e.json):a.json=t;const s=this.evaluate(a);if(!s||typeof s!="object")throw new xEe(s);return s}}Ur.prototype.evaluate=function(e,r,t,n){let o=this.parent,i=this.parentProperty,{flatten:a,wrap:s}=this;if(this.currResultType=this.resultType,this.currEval=this.eval,this.currSandbox=this.sandbox,t=t||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,r=r||this.json,e=e||this.path,e&&typeof e=="object"&&!Array.isArray(e)){if(!e.path&&e.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!Object.hasOwn(e,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:r}=e),a=Object.hasOwn(e,"flatten")?e.flatten:a,this.currResultType=Object.hasOwn(e,"resultType")?e.resultType:this.currResultType,this.currSandbox=Object.hasOwn(e,"sandbox")?e.sandbox:this.currSandbox,s=Object.hasOwn(e,"wrap")?e.wrap:s,this.currEval=Object.hasOwn(e,"eval")?e.eval:this.currEval,t=Object.hasOwn(e,"callback")?e.callback:t,this.currOtherTypeCallback=Object.hasOwn(e,"otherTypeCallback")?e.otherTypeCallback:this.currOtherTypeCallback,o=Object.hasOwn(e,"parent")?e.parent:o,i=Object.hasOwn(e,"parentProperty")?e.parentProperty:i,e=e.path}if(o=o||null,i=i||null,Array.isArray(e)&&(e=Ur.toPathString(e)),!e&&e!==""||!r)return;const u=Ur.toPathArray(e);u[0]==="$"&&u.length>1&&u.shift(),this._hasParentSelector=null;const l=this._trace(u,r,["$"],o,i,t).filter(function(c){return c&&!c.isParentSelector});return l.length?!s&&l.length===1&&!l[0].hasArrExpr?this._getPreferredOutput(l[0]):l.reduce((c,f)=>{const d=this._getPreferredOutput(f);return a&&Array.isArray(d)?c=c.concat(d):c.push(d),c},[]):s?[]:void 0};Ur.prototype._getPreferredOutput=function(e){const r=this.currResultType;switch(r){case"all":{const t=Array.isArray(e.path)?e.path:Ur.toPathArray(e.path);return e.pointer=Ur.toPointer(t),e.path=typeof e.path=="string"?e.path:Ur.toPathString(e.path),e}case"value":case"parent":case"parentProperty":return e[r];case"path":return Ur.toPathString(e[r]);case"pointer":return Ur.toPointer(e.path);default:throw new TypeError("Unknown result type")}};Ur.prototype._handleCallback=function(e,r,t){if(r){const n=this._getPreferredOutput(e);e.path=typeof e.path=="string"?e.path:Ur.toPathString(e.path),r(n,t,e)}};Ur.prototype._trace=function(e,r,t,n,o,i,a,s){let u;if(!e.length)return u={path:t,value:r,parent:n,parentProperty:o,hasArrExpr:a},this._handleCallback(u,i,"value"),u;const l=e[0],c=e.slice(1),f=[];function d(p){Array.isArray(p)?p.forEach(h=>{f.push(h)}):f.push(p)}if((typeof l!="string"||s)&&r&&Object.hasOwn(r,l))d(this._trace(c,r[l],Rc(t,l),r,l,i,a));else if(l==="*")this._walk(r,p=>{d(this._trace(c,r[p],Rc(t,p),r,p,i,!0,!0))});else if(l==="..")d(this._trace(c,r,t,n,o,i,a)),this._walk(r,p=>{typeof r[p]=="object"&&d(this._trace(e.slice(),r[p],Rc(t,p),r,p,i,!0))});else{if(l==="^")return this._hasParentSelector=!0,{path:t.slice(0,-1),expr:c,isParentSelector:!0};if(l==="~")return u={path:Rc(t,l),value:o,parent:n,parentProperty:null},this._handleCallback(u,i,"property"),u;if(l==="$")d(this._trace(c,r,t,null,null,i,a));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(l))d(this._slice(l,c,r,t,n,o,i));else if(l.indexOf("?(")===0){if(this.currEval===!1)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const p=l.replace(/^\?\((.*?)\)$/u,"$1"),h=/@.?([^?]*)[['](\??\(.*?\))(?!.\)\])[\]']/gu.exec(p);h?this._walk(r,m=>{const y=[h[2]],v=h[1]?r[m][h[1]]:r[m];this._trace(y,v,t,n,o,i,!0).length>0&&d(this._trace(c,r[m],Rc(t,m),r,m,i,!0))}):this._walk(r,m=>{this._eval(p,r[m],m,t,n,o)&&d(this._trace(c,r[m],Rc(t,m),r,m,i,!0))})}else if(l[0]==="("){if(this.currEval===!1)throw new Error("Eval [(expr)] prevented in JSONPath expression.");d(this._trace(hD(this._eval(l,r,t.at(-1),t.slice(0,-1),n,o),c),r,t,n,o,i,a))}else if(l[0]==="@"){let p=!1;const h=l.slice(1,-2);switch(h){case"scalar":(!r||!["object","function"].includes(typeof r))&&(p=!0);break;case"boolean":case"string":case"undefined":case"function":typeof r===h&&(p=!0);break;case"integer":Number.isFinite(r)&&!(r%1)&&(p=!0);break;case"number":Number.isFinite(r)&&(p=!0);break;case"nonFinite":typeof r=="number"&&!Number.isFinite(r)&&(p=!0);break;case"object":r&&typeof r===h&&(p=!0);break;case"array":Array.isArray(r)&&(p=!0);break;case"other":p=this.currOtherTypeCallback(r,t,n,o);break;case"null":r===null&&(p=!0);break;default:throw new TypeError("Unknown value type "+h)}if(p)return u={path:t,value:r,parent:n,parentProperty:o},this._handleCallback(u,i,"value"),u}else if(l[0]==="`"&&r&&Object.hasOwn(r,l.slice(1))){const p=l.slice(1);d(this._trace(c,r[p],Rc(t,p),r,p,i,a,!0))}else if(l.includes(",")){const p=l.split(",");for(const h of p)d(this._trace(hD(h,c),r,t,n,o,i,!0))}else!s&&r&&Object.hasOwn(r,l)&&d(this._trace(c,r[l],Rc(t,l),r,l,i,a,!0))}if(this._hasParentSelector)for(let p=0;p<f.length;p++){const h=f[p];if(h&&h.isParentSelector){const m=this._trace(h.expr,r,h.path,n,o,i,a);if(Array.isArray(m)){f[p]=m[0];const y=m.length;for(let v=1;v<y;v++)p++,f.splice(p,0,m[v])}else f[p]=m}}return f};Ur.prototype._walk=function(e,r){if(Array.isArray(e)){const t=e.length;for(let n=0;n<t;n++)r(n)}else e&&typeof e=="object"&&Object.keys(e).forEach(t=>{r(t)})};Ur.prototype._slice=function(e,r,t,n,o,i,a){if(!Array.isArray(t))return;const s=t.length,u=e.split(":"),l=u[2]&&Number.parseInt(u[2])||1;let c=u[0]&&Number.parseInt(u[0])||0,f=u[1]&&Number.parseInt(u[1])||s;c=c<0?Math.max(0,c+s):Math.min(s,c),f=f<0?Math.max(0,f+s):Math.min(s,f);const d=[];for(let p=c;p<f;p+=l)this._trace(hD(p,r),t,n,o,i,a,!0).forEach(m=>{d.push(m)});return d};Ur.prototype._eval=function(e,r,t,n,o,i){this.currSandbox._$_parentProperty=i,this.currSandbox._$_parent=o,this.currSandbox._$_property=t,this.currSandbox._$_root=this.json,this.currSandbox._$_v=r;const a=e.includes("@path");a&&(this.currSandbox._$_path=Ur.toPathString(n.concat([t])));const s=this.currEval+"Script:"+e;if(!Ur.cache[s]){let u=e.replaceAll("@parentProperty","_$_parentProperty").replaceAll("@parent","_$_parent").replaceAll("@property","_$_property").replaceAll("@root","_$_root").replaceAll(/@([.\s)[])/gu,"_$_v$1");if(a&&(u=u.replaceAll("@path","_$_path")),this.currEval==="safe"||this.currEval===!0||this.currEval===void 0)Ur.cache[s]=new this.safeVm.Script(u);else if(this.currEval==="native")Ur.cache[s]=new this.vm.Script(u);else if(typeof this.currEval=="function"&&this.currEval.prototype&&Object.hasOwn(this.currEval.prototype,"runInNewContext")){const l=this.currEval;Ur.cache[s]=new l(u)}else if(typeof this.currEval=="function")Ur.cache[s]={runInNewContext:l=>this.currEval(u,l)};else throw new TypeError(`Unknown "eval" property "${this.currEval}"`)}try{return Ur.cache[s].runInNewContext(this.currSandbox)}catch(u){if(this.ignoreEvalErrors)return!1;throw new Error("jsonPath: "+u.message+": "+e)}};Ur.cache={};Ur.toPathString=function(e){const r=e,t=r.length;let n="$";for(let o=1;o<t;o++)/^(~|\^|@.*?\(\))$/u.test(r[o])||(n+=/^[0-9*]+$/u.test(r[o])?"["+r[o]+"]":"['"+r[o]+"']");return n};Ur.toPointer=function(e){const r=e,t=r.length;let n="";for(let o=1;o<t;o++)/^(~|\^|@.*?\(\))$/u.test(r[o])||(n+="/"+r[o].toString().replaceAll("~","~0").replaceAll("/","~1"));return n};Ur.toPathArray=function(e){const{cache:r}=Ur;if(r[e])return r[e].concat();const t=[],o=e.replaceAll(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replaceAll(/[['](\??\(.*?\))[\]'](?!.\])/gu,function(i,a){return"[#"+(t.push(a)-1)+"]"}).replaceAll(/\[['"]([^'\]]*)['"]\]/gu,function(i,a){return"['"+a.replaceAll(".","%@%").replaceAll("~","%%@@%%")+"']"}).replaceAll("~",";~;").replaceAll(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replaceAll("%@%",".").replaceAll("%%@@%%","~").replaceAll(/(?:;)?(\^+)(?:;)?/gu,function(i,a){return";"+a.split("").join(";")+";"}).replaceAll(/;;;|;;/gu,";..;").replaceAll(/;$|'?\]|'$/gu,"").split(";").map(function(i){const a=i.match(/#(\d+)/u);return!a||!a[1]?i:t[a[1]]});return r[e]=o,r[e].concat()};Ur.prototype.safeVm={Script:yEe};const bEe=function(e,r,t){const n=e.length;for(let o=0;o<n;o++){const i=e[o];t(i)&&r.push(e.splice(o--,1)[0])}};class _Ee{constructor(r){this.code=r}runInNewContext(r){let t=this.code;const n=Object.keys(r),o=[];bEe(n,o,l=>typeof r[l]=="function");const i=n.map(l=>r[l]);t=o.reduce((l,c)=>{let f=r[c].toString();return/function/u.test(f)||(f="function "+f),"var "+c+"="+f+";"+l},"")+t,!/(['"])use strict\1/u.test(t)&&!n.includes("arguments")&&(t="var arguments = undefined;"+t),t=t.replace(/;\s*$/u,"");const s=t.lastIndexOf(";"),u=s!==-1?t.slice(0,s+1)+" return "+t.slice(s+1):" return "+t;return new Function(...n,u)(...i)}}Ur.prototype.vm={Script:_Ee};const O9=/CONTAINS\(\s*([$@]?\.{0,2}[\w.]+)\s*,\s*('[^']*'|"[^"]*"|\w+|\[\s*(?:'[^']*'|"[^"]*"|\w+)\s*(?:,\s*(?:'[^']*'|"[^"]*"|\w+)\s*)*\])\s*\)/,ef=e=>{let r;return e!=null&&e.startsWith("CONTAINS")&&(r=O9),r==null?void 0:r.test(e)},wEe=e=>{let r,t;if(e!=null&&e.startsWith("CONTAINS")&&(r=O9,t=e.match(r)),t){const n=t[1],o=t[2];return{firstArgument:n,secondArgument:o}}return{firstArgument:null,secondArgument:null}},tf=(e,r,t)=>{var s,u,l,c;const n=wEe(e);let o,i=!1;try{if((s=n==null?void 0:n.firstArgument)!=null&&s.includes("USER.persona")){const f=localStorage.getItem("token"),d=K0(f);o=(l=(u=d==null?void 0:d.user_metadata)==null?void 0:u.permissions)==null?void 0:l.persona}else o=Ur({path:n==null?void 0:n.firstArgument,json:r})}catch(f){console.error(f),i=!0}if(i){const f=(c=n==null?void 0:n.firstArgument)==null?void 0:c.replace("@.",""),d=`$.${t}.${f}`;try{o=Ur({path:d,json:r})}catch(p){console.error("Error: ",p)}}let a=!1;return o&&e!=null&&e.startsWith("CONTAINS")&&(a=SEe(n==null?void 0:n.firstArgument,n==null?void 0:n.secondArgument,o)),a},SEe=(e,r,t)=>{let n=!1;if(e!=null&&e.startsWith("$.")||e!=null&&e.startsWith("@."))if(typeof r=="string"&&!(r!=null&&r.includes("[")))t==null||t.some(o=>o===r?(n=!0,!0):!1);else if(typeof r=="string"&&(r!=null&&r.includes("["))){const o=Kz(r);t==null||t.some(i=>o!=null&&o.includes(i)?(n=!0,!0):!1)}else n=!0;else if(e!=null&&e.includes("USER.persona")){if(typeof r=="string"&&!(r!=null&&r.includes("[")))t==null||t.some(o=>o===r?(n=!0,!0):!1);else if(typeof r=="string"&&(r!=null&&r.includes("["))){const o=Kz(r);t==null||t.some(i=>o!=null&&o.includes(i)?(n=!0,!0):!1)}}return n},Kz=e=>{const t=e.trim().replace(/^'|'$/g,"").replace(/\b\w+\b/g,n=>`"${n}"`);try{return JSON.parse(t)}catch(n){return console.error("Error: ",n),null}},CEe=e=>{const r=[];return e==null||e.forEach((t,n)=>{var o,i;(t==null?void 0:t.display_type)!=="tab_break"&&((t==null?void 0:t.display_type)==="groupbox"&&(t==null?void 0:t.field_type)===512?(o=t.fields)==null||o.forEach((a,s)=>{var u;(a==null?void 0:a.display_type)==="groupbox"&&(a==null?void 0:a.field_type)===256&&((u=a==null?void 0:a.fields)==null||u.forEach((l,c)=>{var f;(l==null?void 0:l.display_type)==="section_break"&&r.push({parentIndex:s,isArraySection:!0,responsePath:`${t==null?void 0:t.derived_field_name}[${s}].${a==null?void 0:a.derived_field_name}.${(f=a==null?void 0:a.fields[c+1])==null?void 0:f.derived_field_name}`,...l})}))}):(t==null?void 0:t.display_type)==="section_break"&&r.push({parentIndex:0,isArraySection:!1,responsePath:(i=e[n+1])==null?void 0:i.derived_field_name,...t}))}),r},EEe=(e,r,t)=>{if(!e||typeof e!="string"||(e==null?void 0:e.trim())==="")return!1;try{let l=function(){return a?t:r};var n=l;const o=e==null?void 0:e.trim();if(ef(e))return tf(e,r,"");const a=o==null?void 0:o.includes("USER.persona"),s=o.replace(/\$\./g,"").replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g,"=").replace(/\bAND\b/gi,"and").replace(/\bOR\b/gi,"or").replace(/'/g,'"').replace(/\s+/g," ").trim(),u=Ju.compile(s),c=l();return u(c)}catch(o){console.error(o)}},kEe=(e,r,t)=>{let n=0,o=e==null?void 0:e.length;return e==null||e.forEach(i=>{const a=EEe(i.hidden,r,t),s=i.field_notation==="PROGRESS.IGNORE";if(a||s)o-=1;else if(i.responsePath){const u=(i==null?void 0:i.responsePath)+"._ver_status",l=Ze(r,u);l&&(l==null?void 0:l.status)==="success"&&(n+=1)}}),{visibleSectionCount:n,totalSectionCount:o}},REe=(e,r,t)=>{const n=CEe(t),{visibleSectionCount:o,totalSectionCount:i}=kEe(n,e,r),a=o/i*100;return Math.round(a||0)};function TEe(e){const r=[];let t=null;return e==null||e.forEach((n,o)=>{if((n==null?void 0:n.display_type)==="tab_break")t={tab_title:n==null?void 0:n.title,tab_description:n==null?void 0:n.description,tab_hidden:n==null?void 0:n.hidden,tab_mandatory:n==null?void 0:n.mandatory,tab_editable:n==null?void 0:n.editable,sections:[]},r.push(t);else if((n==null?void 0:n.display_type)==="section_break"){const i={section_title:n==null?void 0:n.title,section_description:n==null?void 0:n.description,section_hidden:n==null?void 0:n.hidden,section_mandatory:n==null?void 0:n.mandatory,section_editable:n==null?void 0:n.editable,section_meta:n==null?void 0:n.meta,section_derived_field_name:n==null?void 0:n.derived_field_name,section_fields:[]};let a=o+1;for(;a<e.length&&e[a].display_type!=="section_break"&&e[a].display_type!=="tab_break";)e[a].display_type==="info_pane"&&i.section_fields.push(e[a]),a++;t?t.sections.push(i):r.push(i)}}),r}const D9=e=>{const r=[];let t=[],n=null,o=!1,i=null;return e.forEach(a=>{if(a.display_type==="column_break")o=!0,n&&r.push({columnId:n,fields:t,columnTitle:i}),n=a.derived_field_name,i=a.title,t=[];else{const s={derived_field_name:a.derived_field_name,display_type:a.display_type,title:a.title,mandatory:a.mandatory,options:a.options,category:a.category,hidden:a.hidden,fields:a.fields,editable:a.editable,sequence:a.sequence,description:a.description,meta:a.meta,field_notation:a.field_notation,default_value:a.default_value};o?n&&t.push(s):t.push(s)}}),o?n&&r.push({columnId:n,fields:t,columnTitle:i}):r.push({columnId:"single_column",fields:t,columnTitle:i}),r},AEe=(e,r,t)=>{if(!e||typeof e!="string"||e.trim()==="")return!1;try{const n=e.trim(),o=n.includes("$."),i=n.replace(/\$\./g,"").replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi,"and").replace(/\bOR\b/gi,"or").replace(/'/g,'"').replace(/\s+/g," ").trim();return Ju.compile(i)(o?t:r)}catch(n){return console.error("Error in visibility rule:",{error:n,fieldMeta:e,localResponseBody:r}),!1}};function vD({fields:e,form_name:r,currentSection:t,setCurrentSection:n,progressPercentage:o}){const i=Sr(),{isMobile:a}=cu(),[s,u]=N.useState({}),[l,c]=N.useState(0),{lyikForm:f,responseObject:d,setModalOpen:p,modalOpen:h,handleModalClose:m,errorMessage:y,setErrorMessage:v,userPermissions:g,setResponseObject:x}=N.useContext(tr),b=N.useContext(Ti);let w,E,C;const S=L=>O.jsxs(Re,{sx:{position:"relative",display:"inline-flex"},children:[O.jsx(Hi,{...L,variant:"determinate",value:100,sx:{".MuiCircularProgress-circle":{color:"#cccccc"}}},"grey-circle"),O.jsx(Re,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:O.jsx(Hi,{variant:"determinate",...L,color:"success",sx:z=>({[`& .${ede.circle}`]:{strokeLinecap:"round"}})},"main-circle")}),O.jsx(Re,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:O.jsx(it,{variant:"caption",component:"div",sx:{color:i.palette.progressBar.progressText,m:2},children:`${Math.round(L.value)}%`})})]}),T=(L,z=0)=>{n({sectionName:L,parentIndex:z})},k=L=>{u(z=>({...z,[L]:!z[L]}))},P=(L,z="")=>{var ee,ne;if(!(L!=null&&L.section_hidden))return!1;if(L.section_hidden===!0)return!0;const U=Fg(f.form_fields,L.section_derived_field_name,L.section_parent_index),Y=ef(L==null?void 0:L.section_hidden),q=(U==null?void 0:U.parentResponsePath)+((ee=U==null?void 0:U.infoPane)==null?void 0:ee.derived_field_name),V=q.split("."),H=V.pop(),Z=V.join("."),ue=Ze(d,Z);if(Y){const pe=tf(L==null?void 0:L.section_hidden,d,"");if(pe){if(ue&&H in ue){delete ue[H];const J={...d},se=dt(J,Z,ue);JSON.stringify(d)!==JSON.stringify(se)&&(x(se),sessionStorage.setItem("formResponse",JSON.stringify(se)))}else if(!ue){const J={...d};delete J[H],JSON.stringify(d)!==JSON.stringify(J)&&(x(J),sessionStorage.setItem("formResponse",JSON.stringify(J)))}}else{const J=Ze(d,q);if((!ue||!(H in ue))&&(!J||J===null||J==="")){const se=m0((ne=U==null?void 0:U.infoPane)==null?void 0:ne.fields),j=dt(d,q,se);JSON.stringify(d)!==JSON.stringify(j)&&(x(j),sessionStorage.setItem("formResponse",JSON.stringify(j)))}}return pe}const oe=z?Ze(d,z):Ze(d,U.parentResponsePath);return AEe(L.section_hidden,oe,d)},I=L=>{if(!(L!=null&&L.tab_hidden))return!1;if((L==null?void 0:L.tab_hidden)===!0)return!0;if(ef(L==null?void 0:L.tab_hidden))return tf(L==null?void 0:L.tab_hidden,d,"")},F=(L,z=null)=>{var ne;if(!d||!(f!=null&&f.form_fields))return console.error("Side Panel: Missing required data, returning false"),!1;const U=Fg(f.form_fields,L.section_derived_field_name,L.section_parent_index);if(!((ne=U.infoPane)!=null&&ne.derived_field_name))return console.error("Side Panel: No infoPane or derived_field_name found, returning false"),!1;const Y=`${U.parentResponsePath}${U.infoPane.derived_field_name}._ver_status`,q=Ze(d,Y),V=`${U.parentResponsePath}${U.infoPane.derived_field_name}._approval_status`,H=Ze(d,V),Z=(H==null?void 0:H.status)==="rejected",ue=(H==null?void 0:H.status)==="approved",oe=(q==null?void 0:q.status)==="indeterminate";return{isCompleted:(q==null?void 0:q.status)==="success",isRejected:Z,isApproved:ue,isInReview:oe}},A=(L,z,U)=>{v(`Do you want to delete ${z.group_title}? This cannot be reversed!`),p(!0),RV(f,z.parent_group.form_path+".fields",z.parent_list_index,z.parent_group.group_derived_field_name,d),sessionStorage.setItem("lyikForm",JSON.stringify(f)),sessionStorage.setItem("formResponse",JSON.stringify(d)),c(l+1),b()},D=(L,z,U)=>{var q,V;let Y=((V=(q=z==null?void 0:z.meta)==null?void 0:q.limits)==null?void 0:V.max)||2;if(Array.isArray(z.sections)){let H=z.sections.length;if(H>Y)return;let Z=L;Z.sequence++,z.sections.push(Z),ZI(f,z.form_path+".fields",H+1,U,d,z.group_derived_field_name),sessionStorage.setItem("lyikForm",JSON.stringify(f)),sessionStorage.setItem("formResponse",JSON.stringify(d)),c(l+1),b()}},$=(L,z=null)=>{if(L.type==="section"){if(P(L))return null;const U=z!==null?`${L.section_derived_field_name}[${L.section_parent_index}]`:L.section_derived_field_name,Y=t.sectionName===L.section_derived_field_name&&(L.section_parent_index===void 0||L.section_parent_index===t.parentIndex),{isCompleted:q,isRejected:V,isApproved:H,isInReview:Z}=F(L,z);return O.jsx(IV,{section:{...L,section_title:z!==null?`${L.section_title}`:L.section_title},isActive:Y,isCompleted:q,onClick:T,isEditable:!0,isRejected:V,isApproved:H,isInReview:Z},U)}else if(L.type==="groupbox")return P(L)?null:(Array.isArray(L.entries)?L.entries:[null]).map((Y,q)=>{var Z;const V=`${L.group_derived_field_name}[${L.parent_list_index}]`;let H=!1;return(t.parentIndex===L.parent_list_index||s[V])&&(H=!0),O.jsxs(Re,{children:[O.jsxs(Re,{onClick:()=>k(V),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[O.jsx(it,{sx:{color:i.palette.text.black,fontWeight:"bold",fontSize:{xs:16,md:"20px",sm:"20px"}},children:`${L.group_title}`}),H?O.jsx(hye,{fontSize:"small"}):O.jsx(pye,{fontSize:"small"})]}),O.jsx(Md,{in:H,children:O.jsxs(Re,{sx:{pl:2},children:[L.sections.map(ue=>(w=L.sections[0],E=L.parent_group,C=L.form_path,$(ue,q))),L.parent_list_index>0&&O.jsx(Re,{sx:{display:"flex",justifyContent:"center",mt:2,mb:2,mx:"auto"},children:(Z=g==null?void 0:g.persona)!=null&&Z.includes("CKR")?null:O.jsxs(Zt,{endIcon:O.jsx(ES,{}),sx:{color:"error.main",textTransform:"none",px:1,borderColor:"error.main","&:hover":{borderColor:"error.dark",backgroundColor:"error.lighter"}},onClick:A.bind(this,w,L,C),children:["Delete ",E==null?void 0:E.group_title.replace(" 1","")]})})]})})]},V)});return null},B=JSON.parse(sessionStorage.getItem("configData"));function W(){var L;return!!(!((L=g==null?void 0:g.persona)!=null&&L.includes("CKR"))&&B!=null&&B.progress_bar)}return O.jsxs(Re,{sx:{height:"87vh",overflowY:"auto","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:[a&&O.jsx(it,{color:"secondary",textAlign:"center",fontWeight:"medium",fontSize:18,pt:1,children:r}),W()&&O.jsxs(Re,{sx:{my:2,mx:6,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx(it,{fontWeight:"bold",sx:{color:"#262D64"},children:"Your Progress"}),O.jsx(S,{value:o,size:50})]}),e==null?void 0:e.map((L,z)=>{var U,Y,q;return O.jsxs(Re,{children:[!I(L)&&O.jsx(Re,{sx:{my:2,mx:"auto",backgroundColor:i.palette.primary.main},children:O.jsx(it,{sx:{color:i.palette.primary.contrastText,backgroundColor:i.palette.sidebar.backgroundColor,textAlign:"center",margin:0,py:.5,fontWeight:"bold",fontSize:{xs:16,md:14.12}},children:L==null?void 0:L.tab_title})}),(U=L==null?void 0:L.sections)==null?void 0:U.map(V=>$(V)),(L==null?void 0:L.hasExtendButton)&&O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",gap:1},children:[O.jsx(Bo,{sx:{width:"90%"}}),(Y=g==null?void 0:g.persona)!=null&&Y.includes("CKR")?null:O.jsxs(Zt,{variant:"outlined",endIcon:O.jsx(hV,{}),sx:{width:"88%",height:"30px",fontSize:{xs:16,md:14.12},px:1,py:1.5,borderRadius:2.5,color:i.palette.text.black,textTransform:"none",borderColor:i.palette.primary.black},onClick:D.bind(this,w,E,C),children:["Add ",(q=E==null?void 0:E.group_title)==null?void 0:q.replace(" 1","")]})]}),O.jsx(il,{open:h,handleClose:m,message:y})]},z)})]})}vD.propTypes={fields:fe.array,form_name:fe.string,currentSection:fe.object,setCurrentSection:fe.func,lyikForm:fe.object,progressPercentage:fe.number};function P9({open:e,onClose:r,title:t,children:n}){return O.jsx(tD,{anchor:"right",open:e,onClose:r,PaperProps:{sx:{top:"calc(58px + 16px)",right:0,height:"88.5vh",borderTopLeftRadius:"24px",borderBottomLeftRadius:"24px",borderTopRightRadius:0,borderBottomRightRadius:0,border:"1px solid #F1F1F1",boxShadow:"7px 4px 15.1px 0px rgba(0, 0, 0, 0.08)",backgroundColor:"background.paper"}},children:O.jsxs(Re,{sx:{width:{xs:"calc(100vw - 32px)",sm:400,md:750,lg:950},p:2,display:"flex",flexDirection:"column",height:"100%"},role:"presentation",children:[O.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[O.jsx(it,{fontSize:"22px",component:"h2",fontWeight:"bold",children:"Instructions"}),O.jsx(Uu,{onClick:r,"aria-label":"Close",children:O.jsx(qI,{})})]}),O.jsx(Bo,{sx:{mb:2}}),O.jsx(Re,{sx:{overflowY:"auto",flexGrow:1},dangerouslySetInnerHTML:{__html:n||""}})]})})}P9.propTypes={open:fe.bool.isRequired,onClose:fe.func.isRequired,title:fe.string.isRequired,children:fe.string.isRequired};const OEe=e=>{if(!e)return!1;const r=new DOMParser().parseFromString(e,"text/html");return Array.from(r.body.childNodes).some(t=>t.nodeType===1)};function I9({section_name:e,verifyStatus:r,description:t,checkStatus:n,responsePath:o,isFieldsDisabled:i,fieldNotation:a}){var E,C,S,T;const[s,u]=N.useState(null),[l,c]=N.useState(""),[f,d]=N.useState(!1),{responseObject:p,setResponseObject:h,userPermissions:m}=N.useContext(tr),y=N.useContext(Ti),{isMobile:v}=cu(),g=Ze(p,`${o}._approval_status`),x=Sr();N.useEffect(()=>{const k=sessionStorage.getItem("configData");k&&u(JSON.parse(k))},[]);const b=k=>P=>{if(P.target.checked){c(k);const I=`${o}._approval_status.status`,F=dt(p,I,k);h(F),sessionStorage.setItem("formResponse",JSON.stringify(F)),y()}else{c("");const I=`${o}._approval_status.status`,F=dt(p,I,k);h(F),sessionStorage.setItem("formResponse",JSON.stringify(F)),y()}},w=()=>{var k;if(a!=null&&a.includes("FOR_OFFICE_USE_ONLY"))return!1;if((k=m==null?void 0:m.persona)!=null&&k.includes("CKR"))return!0};return O.jsxs(Re,{children:[O.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",flexDirection:{xs:"column",md:"row"},alignItems:"center",pt:{xs:1,md:0},pl:1,position:"relative"},children:[O.jsx(it,{color:x.palette.text.black,fontSize:{xs:18,md:"22px"},fontWeight:"bold",children:e}),v&&O.jsx(wd,{title:"Click to view instructions",placement:"bottom-start",arrow:!0,sx:{position:"absolute",top:1,right:1},children:O.jsx(Uu,{onClick:()=>d(!0),children:O.jsx(Ik,{fontSize:"large"})})}),O.jsxs(Re,{sx:{display:"flex",gap:1,alignItems:"center"},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(g==null?void 0:g.status)!=="approved"&&(g==null?void 0:g.status)!=="rejected"&&r==="success"&&!((E=m==null?void 0:m.persona)!=null&&E.includes("CKR"))&&O.jsx(it,{variant:"h6",color:"success.main",m:0,children:"Verified"}),(g==null?void 0:g.status)==="approved"&&!((C=m==null?void 0:m.persona)!=null&&C.includes("CKR"))&&O.jsx(it,{variant:"h6",color:"success",m:0,children:"Approved"}),(g==null?void 0:g.status)==="rejected"&&!((S=m==null?void 0:m.persona)!=null&&S.includes("CKR"))&&O.jsx(it,{variant:"h6",color:"error",m:0,children:"Rejected"}),r==="failure"&&O.jsx(it,{variant:"body1",color:"error",mr:2,children:"Verification Failed"}),(g==null?void 0:g.status)!=="approved"&&(g==null?void 0:g.status)!=="rejected"&&r==="indeterminate"&&O.jsx(it,{variant:"body1",color:"warning.main",mr:2,children:"In Review"}),w()&&O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsx(v0,{m:0,p:0,control:O.jsx(C2,{checked:n==="rejected",onChange:b("rejected"),sx:{color:"error.main","&.Mui-checked":{color:"error.main"}}}),label:O.jsx(it,{color:"error.main",fontWeight:"bold",children:"Discrepancy"})}),O.jsx(v0,{control:O.jsx(C2,{checked:n==="approved",onChange:b("approved"),sx:{color:"success.main","&.Mui-checked":{color:"success.main"}}}),label:O.jsx(it,{color:"success.main",fontWeight:"bold",children:"Approve"})})]})]}),!v&&OEe(t)?O.jsx(wd,{title:"View Instructions",placement:"bottom-start",arrow:!0,children:O.jsx(Uu,{onClick:()=>d(!0),children:O.jsx(Ik,{fontSize:"large"})})}):!v&&O.jsx(wd,{title:t||"No Description Available",placement:"bottom-end",arrow:!0,children:O.jsx(Uu,{children:O.jsx(Ik,{style:{fill:"#bbbbbb"},fontSize:"large"})})})]})]}),O.jsx(Bo,{sx:{width:"100%",my:1}}),!((T=m==null?void 0:m.persona)!=null&&T.includes("CKR"))&&i&&O.jsx(Re,{sx:{width:"100%",backgroundColor:"secondary.main",mb:1,py:1,justifyContent:"center",textAlign:"center"},children:O.jsx(it,{variant:"body1",color:x.palette.primary.white,children:"You don't have access to Edit this section!"})}),O.jsx(P9,{open:f,onClose:()=>d(!1),title:e,children:t||"No description available."})]})}I9.propTypes={section_name:fe.string,verifyStatus:fe.string,description:fe.string,checkStatus:fe.string,responsePath:fe.string,isFieldsDisabled:fe.bool,fieldNotation:fe.string};const DEe=Ye(Ja)(({theme:e})=>({color:"black","&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),PEe=Ye(Wge)(({theme:e})=>({"&.Mui-disabled":{color:e.palette.primary.main,cursor:"not-allowed"}})),IEe=Ye(v0)(({theme:e})=>({fontSize:"16px","&.Mui-disabled":{color:"#c4c4c4",cursor:"not-allowed"},"& .MuiRadio-root.Mui-disabled":{cursor:"not-allowed"},"& .MuiTypography-root":{"&.Mui-disabled":{cursor:"not-allowed"}}})),N9=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,isFieldsDisabled:o=!1,updateHasChanges:i,bestFitLayout:a,showFieldLabel:s})=>{const[u,l]=N.useState(""),{responseObject:c,setResponseObject:f}=N.useContext(tr);N.useContext(Ti);const d=N.useRef(!1),p=(m,y)=>{const v=m.split("."),g=v.indexOf(y);return g!==-1?v.slice(0,g+1).join("."):m};N.useEffect(()=>{var m,y,v;if(!d.current){let g=null;const x=p(n,t),b=Ze(c,x),w=b==null?void 0:b._ver_status;if((w==null?void 0:w.status)==="success"){l(g),d.current=!0;return}if((m=e.default_value)!=null&&m.startsWith("$..")){const E=e.default_value.replace("$..","");g=NEe(c,E)}else!((y=e.default_value)!=null&&y.startsWith("@."))&&!((v=e.default_value)!=null&&v.startsWith("$."))&&(g=e.default_value||r);if(!Ze(c,n)&&g){const E=dt(c,n,g);f(E),sessionStorage.setItem("formResponse",JSON.stringify(E))}l(g),d.current=!0}},[e.default_value,r,n,c,f,t,e]),N.useEffect(()=>{const m=Ze(c,n);m!==void 0&&m!==u&&l(m||"")},[c,n,u]);const h=m=>{if(o)return;const y=m.target.value===""?null:m.target.value;if(l(m.target.value),e.derived_field_name&&c&&n){const v=dt(c,n,y);sessionStorage.setItem("formResponse",JSON.stringify(v)),f(v),i()}};return O.jsx(Re,{sx:{my:2,width:a?"fit-content":null},children:O.jsxs(xa,{fullWidth:!0,children:[s&&O.jsxs(DEe,{id:`${e.derived_field_name}-label`,sx:{mb:1,fontSize:"16px",width:a?"fit-content":null},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),O.jsx(Hge,{"aria-labelledby":`${e.derived_field_name}-label`,name:e.derived_field_name,value:u,onChange:h,sx:{fontSize:14.12,"& .MuiFormControlLabel-root":{margin:"4px 0"},width:a?"fit-content":null},children:Object.entries(e.options).map(([m,y])=>O.jsx(IEe,{sx:{fontSize:14.12,width:a?"fit-content":null},value:y,control:O.jsx(PEe,{disabled:o}),label:m,disabled:o},m))})]})})};N9.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,options:fe.objectOf(fe.string).isRequired,default_value:fe.string}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,isFieldsDisabled:fe.bool,updateHasChanges:fe.func,bestFitLayout:fe.bool,showFieldLabel:fe.bool};const NEe=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t},MEe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,fontSize:"16px",fontWeight:500,marginBottom:"8px","&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),M9=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,isFieldsDisabled:o,updateHasChanges:i,bestFitLayout:a,showFieldLabel:s})=>{const{responseObject:u,setResponseObject:l,aadhaar:c,setAadhaar:f,setTrusted:d,trusted:p}=N.useContext(tr),[h,m]=N.useState(!1),[y,v]=N.useState(""),g=N.useContext(Ti),x=N.useRef(null),b=N.useRef(!0),w=N.useRef(null),E=N.useRef(!1),C=Sr(),S=(k,P)=>{const I=k.split("."),F=P.split(".");let A=-1;for(let D=0;D<=I.length-F.length;D++)if(I.slice(D,D+F.length).join(".")===P){A=D;break}return A!==-1?I.slice(0,A+F.length).join("."):k};N.useEffect(()=>{var k,P,I;if(!E.current){let F=null;const A=S(n,t),D=Ze(u,A),$=D==null?void 0:D._ver_status;if(($==null?void 0:$.status)==="success"){v(F),E.current=!0;return}if((k=e.default_value)!=null&&k.startsWith("$..")){const B=e.default_value.replace("$..","");F=FEe(u,B)}else!((P=e.default_value)!=null&&P.startsWith("@."))&&!((I=e.default_value)!=null&&I.startsWith("$."))&&(F=e.default_value||r);if(!Ze(u,n)&&F){const B=dt(u,n,F);l(B),sessionStorage.setItem("formResponse",JSON.stringify(B))}v(F),E.current=!0}},[e.default_value,r,n,u,l,t,e]),N.useEffect(()=>{const k=Ze(u,n);k!==void 0&&k!==w.current&&(v(k||""),w.current=k)},[u,n]),N.useEffect(()=>{var I;if(!e.field_notation)return;const k=e.field_notation.includes("FLD.OVD."),P=e.field_notation.includes("FLD.AADHAAR.");if(!(!k&&!P))try{const F=e.field_notation.split(".").pop(),A=(I=p==null?void 0:p.response)==null?void 0:I[F];if(A===void 0||A===x.current)return;let D=A;if(F==="gender"&&(D={Male:"M",Female:"F",Transgender:"T",Other:"O"}[A]||A),e.options&&!Object.values(e.options).includes(D)){console.warn(`Value ${D} not found in options for field ${n}`);return}x.current=D,(async()=>{if(v(D),!o){const B=dt(u,n,D);sessionStorage.setItem("formResponse",JSON.stringify(B)),await l(B);const W={...p.response};delete W[F];const L={...p,response:W};Object.keys(W).length===0?d(null):d(L)}b.current||g(),b.current=!1})()}catch(F){console.error("Error processing dropdown field:",F)}},[e.field_notation,e.options,n,c,u,o,l,f,g]);const T=async k=>{if(o)return;const P=k.target.value===""?null:k.target.value;if(v(k.target.value),m(e.mandatory&&!P),e.derived_field_name&&u&&n)try{const I=dt(u,n,P);sessionStorage.setItem("formResponse",JSON.stringify(I)),i(),await l(I)}catch(I){console.error("Error updating response:",I)}};return O.jsx(Re,{sx:{my:2,minWidth:a?350:150,maxWidth:350,mx:a?"":"auto"},children:O.jsxs(xa,{error:h,fullWidth:!0,children:[s&&O.jsx(Re,{sx:{ml:2,mb:1},children:O.jsxs(MEe,{htmlFor:e.derived_field_name,sx:{fontWeight:"bold",color:"secondary.main",fontSize:"16px"},children:[e.title,e.mandatory&&(e==null?void 0:e.title)&&O.jsx("span",{className:"required-star",children:"*"})]})}),O.jsxs(G0,{labelId:`${e.derived_field_name}-label`,id:e.derived_field_name,value:y||"",onChange:T,displayEmpty:!0,disabled:e.editable===!1,MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root":{fontSize:14.12}}}},sx:{backgroundColor:C.palette.primary.white,fontSize:14.12,"& .MuiOutlinedInput-notchedOutline":{borderWidth:"1px",borderColor:`${C.palette.grey[400]}`},"&.MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${C.palette.grey[200]}`,transition:"all 0.2s ease-in-out",cursor:o?"not-allowed":"pointer","& .MuiSelect-select":{color:o||y===""?"#a8a8a8":"inherit",WebkitTextFillColor:o?"#a8a8a8":"inherit",pointerEvents:o?"none":"auto",userSelect:o?"none":"auto"},"&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${C.palette.grey[400]}`,"& .MuiOutlinedInput-notchedOutline":{borderColor:o?`${C.palette.grey[400]}`:"primary.main"}},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:o?`${C.palette.grey[400]}`:"primary.main",borderWidth:"1px"}},"& .MuiSelect-select":{px:2,py:1,fontSize:14.12,"&.MuiInputBase-input":{"&::placeholder":{opacity:.5,color:"#bbbbbb"}}}},children:[O.jsx(nv,{value:"",sx:{opacity:.7,color:"#a8a8a8"},children:e.description}),Object.entries(e.options||{}).map(([k,P])=>O.jsx(nv,{value:P,children:k},k))]})]})})};M9.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,editable:fe.bool,options:fe.object,field_notation:fe.string,default_value:fe.string}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,isFieldsDisabled:fe.bool,updateHasChanges:fe.func,bestFitLayout:fe.bool,showFieldLabel:fe.bool};const FEe=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t},LEe=(e,r,t,n,o)=>{const i=Ze(e,r),a=BEe(r,t),s=Ze(e,a),u=l=>typeof l=="string"&&(l.startsWith("@.")||l.startsWith("$."));return u(i)||u(n.default_value)||u(o)?null:i||(s!=null&&s._ver_status?null:n.default_value)||o||null},BEe=(e,r)=>{const t=e.split("."),n=r.split(".");let o=-1;for(let i=0;i<=t.length-n.length;i++)if(t.slice(i,i+n.length).join(".")===r){o=i;break}return o!==-1?t.slice(0,o+n.length).join("."):e},jEe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),F9=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,isFieldsDisabled:o=!1,parentResponsePath:i,updateHasChanges:a,bestFitLayout:s,showFieldLabel:u})=>{var L,z,U,Y;const{responseObject:l,setResponseObject:c,lyikForm:f,pan:d,aadhaar:p,setAadhaar:h,setPan:m,setTrusted:y,trusted:v}=N.useContext(tr),[g,x]=N.useState(!1),[b,w]=N.useState(""),[E,C]=N.useState(""),S=N.useRef(null),T=N.useRef(null),k=N.useContext(Ti),P=N.useRef(!1),I=(L=e.field_notation)==null?void 0:L.replace("API.",""),F=MC(I,n),A=Sr();N.useEffect(()=>{var q,V;if((q=e.field_notation)!=null&&q.includes("FLD.PAN.")){const H=e.field_notation.split(".").pop(),Z=(V=d==null?void 0:d.response)==null?void 0:V[H],ue=typeof Z=="object"?JSON.stringify(Z):String(Z||"");if(w(ue),Z!==void 0&&Z!==S.current){w(ue),S.current=Z;const oe=dt(l,n,ue);sessionStorage.setItem("formResponse",JSON.stringify(oe)),c(oe);const ee={...d,response:{...d.response,[H]:void 0}};m(ee)}}a()},[e.field_notation,n,d,k,l,c,m]),N.useEffect(()=>{if(!(p!=null&&p.response)||!i)return;[{derivedFieldName:"pin",aadhaarKey:"PIN"},{derivedFieldName:"state",aadhaarKey:"State"},{derivedFieldName:"city",aadhaarKey:"city"},{derivedFieldName:"country",aadhaarKey:"country"},{derivedFieldName:"district",aadhaarKey:"dist"}].forEach(({derivedFieldName:V,aadhaarKey:H})=>{const Z=p.response[H];if(Z===void 0)return;const ue=`${i}.${V}`,oe=typeof Z=="object"?JSON.stringify(Z):String(Z||""),ee=dt(l,ue,oe);c(ee),sessionStorage.setItem("formResponse",JSON.stringify(ee));const ne={...p.response};delete ne[H];const pe={...p,response:ne};Object.keys(ne).length===0?h(null):h(pe)}),a()},[p,i,l,c,h]),N.useEffect(()=>{var H;if(!e.field_notation)return;const q=e.field_notation.includes("FLD.OVD.")||e.field_notation.includes("FLD.")||e.field_notation.includes("FLD.PAN."),V=e.field_notation.includes("FLD.AADHAAR.");if(!(V&&(e.field_notation.includes(".PIN")||e.field_notation.includes(".State")||e.field_notation.includes(".city")||e.field_notation.includes(".country")||e.field_notation.includes(".dist")))&&!(!q&&!V)){try{const Z=e.field_notation.split(".").pop(),ue=(H=v==null?void 0:v.response)==null?void 0:H[Z];if(ue!==void 0&&ue!==T.current){const oe=typeof ue=="object"?JSON.stringify(ue):String(ue||"");if(w(oe),T.current=ue,!o){const ee=dt(l,n,oe);sessionStorage.setItem("formResponse",JSON.stringify(ee)),c(ee);const ne={...v.response};delete ne[Z]}}}catch(Z){console.error("Error processing field:",Z)}a()}},[e.field_notation,n,v,l,o,c,y,a]),N.useEffect(()=>{(async()=>{var ue,oe,ee;if(!l||!((oe=(ue=e.meta)==null?void 0:ue.display)!=null&&oe.subscript)||!t)return;const V=ne=>{for(const pe of ne||[]){if(pe.display_type==="info_pane"&&pe.derived_field_name===t)return pe;if(pe.display_type==="groupbox"&&(pe!=null&&pe.fields)){const J=V(pe==null?void 0:pe.fields);if(J)return J}}return null},H=V(f==null?void 0:f.form_fields),Z=(ee=H==null?void 0:H.fields)==null?void 0:ee.find(ne=>ne.derived_field_name==="defaults");if(Z!=null&&Z.options){const ne=e.meta.display.subscript.replace(/{defaults\.options\['([^']+)'\]}/g,(J,se)=>Z.options[se]||"");C(ne);const pe=Ze(l,n);if(Z&&!pe){const J=Ze(Z,`options.${e.derived_field_name}`);if(J){w(J);const se=dt(l,n,J);c(se),sessionStorage.setItem("formResponse",JSON.stringify(se))}}}})()},[(U=(z=e.meta)==null?void 0:z.display)==null?void 0:U.subscript,(Y=e.meta)==null?void 0:Y.defaults,e.derived_field_name,l,t,f==null?void 0:f.form_fields,n,c]),N.useEffect(()=>{var q,V,H,Z;if(!P.current){let ue=LEe(l,n,t,e,r);const oe=D(n,t),ee=Ze(l,oe),ne=ee==null?void 0:ee._ver_status;if((ne==null?void 0:ne.status)==="success"){w(ue),P.current=!0;return}if((q=e.default_value)!=null&&q.startsWith("$..")){const pe=e.default_value.replace("$..","");ue=$(l,pe)}if((V=e==null?void 0:e.default_value)!=null&&V.startsWith("$.")&&!((H=e==null?void 0:e.default_value)!=null&&H.includes("$.."))){const pe=(Z=e==null?void 0:e.default_value)==null?void 0:Z.replace("$.","");ue=Ze(l,pe)}if(!Ze(l,n)&&(e.default_value||r)&&(ne==null?void 0:ne.status)!=="success"){const pe=dt(l,n,ue);c(pe),sessionStorage.setItem("formResponse",JSON.stringify(pe))}w(ue),P.current=!0}},[e.default_value,r,n,l,c,t,e]);const D=(q,V)=>{const H=q.split("."),Z=H.indexOf(V);return Z!==-1?H.slice(0,Z+1).join("."):q},$=(q,V)=>{let H=null;const Z=ue=>{for(const oe in ue){if(oe===V){H=ue[oe];return}typeof ue[oe]=="object"&&ue[oe]!==null&&Z(ue[oe])}};return Z(q),H};N.useEffect(()=>{const q=Ze(l,n);q!==void 0&&q!==b&&w(q||null)},[l,n,b]);const B=q=>{if(o)return;const V=q.target.value===""?null:q.target.value;if(w(q.target.value),e.mandatory&&!V?x(!0):x(!1),e.derived_field_name&&l&&n){const H=dt(l,n,V);c(H),a(),sessionStorage.setItem("formResponse",JSON.stringify(H))}},W=()=>{if(a(),e.field_notation.includes("API")){const q=Ze(l,n),V={[e.derived_field_name]:q};F.uploadTrusted(V)}e.mandatory&&!b?x(!0):x(!1)};return O.jsx(Re,{sx:{my:2,minWidth:s?350:150,maxWidth:350,mx:s?"":"auto"},children:O.jsxs(xa,{error:g,fullWidth:!0,children:[u&&O.jsxs(jEe,{htmlFor:e.derived_field_name,sx:{mb:1,ml:2,fontWeight:"bold",color:"secondary.main",fontSize:"16px"},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),O.jsx(Ga,{id:e.derived_field_name,value:b,onChange:B,onBlur:W,variant:"outlined",fullWidth:!0,placeholder:e==null?void 0:e.description,disabled:e.editable===!1||o,sx:{backgroundColor:A.palette.primary.white,"& .MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${A.palette.grey[200]}`,"& .MuiInputBase-root":{boxShadow:`inset 0px 2px 4px ${A.palette.grey[200]}`},"&.Mui-disabled":{color:"#c4c4c4 !important"},transition:"all 0.2s ease-in-out","&:hover fieldset":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiOutlinedInput-notchedOutline":{borderColor:A.palette.grey[300]},"& .MuiInputBase-input":{px:2,py:1,fontSize:14.12,"&::placeholder":{color:"#555555",opacity:.7}}}}),E&&O.jsx(it,{sx:{mt:.5,color:"text.secondary",fontSize:"0.75rem",display:"block",textAlign:"end",mx:.5},children:E})]})})};F9.propTypes={field:fe.shape({max_width:fe.string||fe.number,derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,editable:fe.bool,field_notation:fe.string,default_value:fe.string||fe.number,meta:fe.shape({display:fe.shape({subscript:fe.string}),defaults:fe.object})}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,isFieldsDisabled:fe.bool,parentResponsePath:fe.string,updateHasChanges:fe.func.isRequired,spanFull:fe.bool,bestFitLayout:fe.bool,showFieldLabel:fe.bool};const $Ee={mt:2,width:150,borderRadius:10,textTransform:"none"};function L9({field:e,defaultValue:r=""}){const t=Sr(),n=Tv(),{responseObject:o,setResponseObject:i}=N.useContext(tr),a=N.useCallback((y,v,g="")=>{if(v in y)return g?`${g}.${v}`:v;for(const x in y)if(typeof y[x]=="object"&&y[x]!==null){const b=g?`${g}.${x}`:x,w=a(y[x],v,b);if(w)return w}return null},[]),s=N.useCallback(()=>{if(!o||!e.derived_field_name)return r;const y=a(o,e.derived_field_name);if(!y)return r;const v=y.split(".");let g=o;for(const x of v)g=g==null?void 0:g[x];return g||r},[o,e.derived_field_name,r,a]),u=N.useCallback((y,v,g)=>{const x=v.split("."),b={...y};let w=b;for(let E=0;E<x.length-1;E++)w[x[E]]={...w[x[E]]},w=w[x[E]];return w[x[x.length-1]]=g,b},[]),[l,c]=N.useState({username:s(),otp:"",showOtpField:!1,transactionId:"",isLoading:!1,isResending:!1,error:null,verifier:!1});N.useEffect(()=>{const y=s();c(v=>({...v,username:y}))},[s]);const f=y=>v=>{const g=y==="otp"?v.target.value.replace(/[^\d]/g,"").slice(0,6):v.target.value;if(c(x=>({...x,[y]:g,error:null})),y==="username"&&e.derived_field_name&&o){const x=a(o,e.derived_field_name);if(x){const b=u(o,x,g);i(b)}}},d=async(y=!1)=>{try{c(g=>({...g,isLoading:!y,isResending:y,error:null,...y&&{otp:""}}));const v=await n.postSendOtp(l.username);c(g=>({...g,showOtpField:!0,transactionId:v.transaction_id,...y&&{error:"OTP resent successfully"}}))}catch{c(g=>({...g,error:y?"Failed to resend OTP":"Failed to send OTP. Please try again."}))}finally{c(v=>({...v,isLoading:!1,isResending:!1}))}},p=()=>d(!1),h=()=>d(!0),m=async()=>{try{c(v=>({...v,isLoading:!0,error:null}));const{auth_code:y}=await n.postVerifyOtp(l.username,l.otp,l.transactionId)}catch{c(v=>({...v,error:"Login failed. Please check your OTP and try again."}))}finally{c(y=>({...y,isLoading:!1,showOtpField:!1,verifier:!0}))}};return O.jsx(Re,{sx:{my:2},children:O.jsxs(xa,{required:e.mandatory,fullWidth:!0,children:[O.jsxs(Re,{children:[O.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsxs(it,{sx:{marginBottom:1,marginLeft:1,color:t.palette.secondary.main,fontWeight:"bold"},children:[e==null?void 0:e.title,e.mandatory&&O.jsx("span",{style:{color:t.palette.error.main,marginLeft:"4px"},children:"*"})]}),l.verifier&&O.jsx(it,{sx:{color:t.palette.success.main,marginLeft:2,marginBottom:1},children:"Verified"})]}),O.jsx(Ga,{fullWidth:!0,value:l.username,onChange:f("username"),error:!!l.error,helperText:l.error,disabled:l.isLoading||l.isResending})]}),l.showOtpField&&O.jsxs(Re,{children:[O.jsx(it,{sx:{color:t.palette.secondary.main,marginBottom:1,marginLeft:1,fontWeight:"bold"},children:"OTP"}),O.jsx(Ga,{fullWidth:!0,value:l.otp,onChange:f("otp"),inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},disabled:l.isLoading||l.isResending}),O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:O.jsx(Zt,{color:"secondary",onClick:h,disabled:l.isLoading||l.isResending,sx:{textTransform:"none","&:hover":{backgroundColor:fr(t.palette.secondary.main,.1)}},children:l.isResending?"Resending...":"Resend OTP"})})]}),O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:O.jsx(Zt,{variant:"contained",onClick:l.showOtpField?m:p,disabled:l.isLoading||l.isResending||!l.username||l.showOtpField&&l.otp.length!==6,sx:{...$Ee,"&:hover":{backgroundColor:fr(t.palette.primary.main,.6)}},children:l.isLoading?"Loading...":l.showOtpField?"Verify":"Send OTP"})})]})})}L9.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool}).isRequired,defaultValue:fe.string};const zEe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),B9=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,isFieldsDisabled:o=!1,updateHasChanges:i,bestFitLayout:a,showFieldLabel:s})=>{const[u,l]=N.useState(null),{responseObject:c,setResponseObject:f}=N.useContext(tr),d=N.useContext(Ti),p=N.useRef(!1),h=(v,g)=>{const x=v.split("."),b=x.indexOf(g);return b!==-1?x.slice(0,b+1).join("."):v};N.useEffect(()=>{var v,g,x,b,w,E;if(!p.current){let C=null;const S=h(n,t),T=Ze(c,S),k=T==null?void 0:T._ver_status;if((k==null?void 0:k.status)==="success"){l(C),p.current=!0;return}if((v=e.default_value)!=null&&v.startsWith("$..")){const P=e.default_value.replace("$..","");C=WEe(c,P)}else if((g=e==null?void 0:e.default_value)!=null&&g.startsWith("$.")&&!((x=e==null?void 0:e.default_value)!=null&&x.includes("$.."))){const P=(b=e==null?void 0:e.default_value)==null?void 0:b.replace("$.","");C=Ze(c,P)}else!((w=e.default_value)!=null&&w.startsWith("@."))&&!((E=e.default_value)!=null&&E.startsWith("$."))&&(C=e.default_value||r);if(!Ze(c,n)&&C){const P=dt(c,n,C);f(P),sessionStorage.setItem("formResponse",JSON.stringify(P))}l(C),p.current=!0}},[e.default_value,r,n,c,f,t,e]),N.useEffect(()=>{const v=Ze(c,n);v!==void 0&&v!==u&&l(v||null)},[c,n,u]);const m=()=>{if(e.meta&&e.meta.actions)try{const v=JSON.parse(e.meta.actions);let g=!1;if(v.copy&&v.copy.forEach(({from_field:x,to_field:b})=>{if(typeof x=="string"&&x.startsWith("@")||typeof b=="string"&&b.startsWith("@")){const w=n.indexOf(t)+t.length,E=n.slice(0,w),C=E+x.replace("@",""),S=Ze(c,C),T=E+b.replace("@",""),k=Ze(c,T);if(S&&k&&typeof S=="object"&&typeof k=="object"){Object.keys(S).forEach(I=>{Object.prototype.hasOwnProperty.call(k,I)&&I!="_ver_status"&&(k[I]=S[I])});const P=dt(c,T,k);f(P),sessionStorage.setItem("formResponse",JSON.stringify(P))}g=!0}}),g)return;v.copy&&v.copy.forEach(({from_field:x,to_field:b})=>{let w="";const E=n.indexOf("].");E>0?w=n.substr(0,E+2):w=n.split(".").join(".")+".",p_e(c,w+x,w+b)&&sessionStorage.setItem("formResponse",JSON.stringify(c))})}catch(v){console.error("Error parsing actions:",v)}},y=v=>{var b;if(o)return;const g=u===v?null:v;if(l(g),u!==v&&m(),n)try{const w=dt(c,n,g);sessionStorage.setItem("formResponse",JSON.stringify(w)),i(),f(w),(b=e==null?void 0:e.meta)!=null&&b.actions&&d()}catch(w){console.error("Error: ",w)}};return O.jsx(Re,{sx:{my:2,width:a?"fit-content":null},children:O.jsxs(xa,{fullWidth:!0,children:[s&&O.jsxs(zEe,{id:`${e.derived_field_name}-label`,sx:{mb:1,fontSize:"20px",width:a?"fit-content":null},children:[e.title,e.mandatory&&(e==null?void 0:e.title)&&O.jsx("span",{className:"required-star",children:"*"})]}),O.jsx(G7,{sx:{width:a?"fit-content":null},children:Object.entries(e.options).map(([v,g])=>O.jsx(v0,{control:O.jsx(C2,{id:e==null?void 0:e.derived_field_name,checked:u===g,onChange:()=>y(g),sx:{"&.Mui-disabled":{color:"#c4c4c4"},cursor:o?"not-allowed":"pointer",width:a?"fit-content":null}}),label:v,sx:{margin:"4px 0","&.Mui-disabled":{color:"#c4c4c4"},cursor:o?"not-allowed":"pointer",width:a?"fit-content":null}},v))})]})})};B9.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,options:fe.objectOf(fe.string).isRequired,default_value:fe.string,meta:fe.shape({actions:fe.object})}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,isFieldsDisabled:fe.bool,updateHasChanges:fe.func,bestFitLayout:fe.bool,showFieldLabel:fe.bool};const WEe=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t};function Mt(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function hn(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}function Qs(e,r){const t=Mt(e);return isNaN(r)?hn(e,NaN):(r&&t.setDate(t.getDate()+r),t)}function nu(e,r){const t=Mt(e);if(isNaN(r))return hn(e,NaN);if(!r)return t;const n=t.getDate(),o=hn(e,t.getTime());o.setMonth(t.getMonth()+r+1,0);const i=o.getDate();return n>=i?o:(t.setFullYear(o.getFullYear(),o.getMonth(),n),t)}function JN(e,r){const t=+Mt(e);return hn(e,t+r)}const j9=6048e5,UEe=864e5,cC=6e4,fC=36e5,qEe=1e3;function HEe(e,r){return JN(e,r*fC)}let VEe={};function rp(){return VEe}function nc(e,r){var s,u,l,c;const t=rp(),n=(r==null?void 0:r.weekStartsOn)??((u=(s=r==null?void 0:r.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,o=Mt(e),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function av(e){return nc(e,{weekStartsOn:1})}function $9(e){const r=Mt(e),t=r.getFullYear(),n=hn(e,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const o=av(n),i=hn(e,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=av(i);return r.getTime()>=o.getTime()?t+1:r.getTime()>=a.getTime()?t:t-1}function Ld(e){const r=Mt(e);return r.setHours(0,0,0,0),r}function O2(e){const r=Mt(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function sv(e,r){const t=Ld(e),n=Ld(r),o=+t-O2(t),i=+n-O2(n);return Math.round((o-i)/UEe)}function GEe(e){const r=$9(e),t=hn(e,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),av(t)}function mD(e,r){return JN(e,r*cC)}function ZN(e,r){const t=r*3;return nu(e,t)}function YEe(e,r){return JN(e,r*1e3)}function D2(e,r){const t=r*7;return Qs(e,t)}function Ul(e,r){return nu(e,r*12)}function Xz(e){let r;return e.forEach(function(t){const n=Mt(t);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function Qz(e){let r;return e.forEach(t=>{const n=Mt(t);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function KEe(e,r){const t=Ld(e),n=Ld(r);return+t==+n}function ql(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function P2(e){if(!ql(e)&&typeof e!="number")return!1;const r=Mt(e);return!isNaN(Number(r))}function I2(e,r){const t=Mt(e),n=Mt(r),o=t.getFullYear()-n.getFullYear(),i=t.getMonth()-n.getMonth();return o*12+i}function Sd(e){const r=Mt(e);return Math.trunc(r.getMonth()/3)+1}function N2(e,r){const t=Mt(e),n=Mt(r),o=t.getFullYear()-n.getFullYear(),i=Sd(t)-Sd(n);return o*4+i}function M2(e,r){const t=Mt(e),n=Mt(r);return t.getFullYear()-n.getFullYear()}function XEe(e,r){const t=Mt(e),n=Mt(r),o=Jz(t,n),i=Math.abs(sv(t,n));t.setDate(t.getDate()-o*i);const a=+(Jz(t,n)===-o),s=o*(i-a);return s===0?0:s}function Jz(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function z9(e){const r=Mt(e);return r.setHours(23,59,59,999),r}function W9(e){const r=Mt(e),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function gD(e){const r=Mt(e),t=r.getMonth(),n=t-t%3;return r.setMonth(n,1),r.setHours(0,0,0,0),r}function U9(e){const r=Mt(e);return r.setDate(1),r.setHours(0,0,0,0),r}function q9(e){const r=Mt(e),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function dC(e){const r=Mt(e),t=hn(e,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function QEe(e,r){var s,u;const t=rp(),n=t.weekStartsOn??((u=(s=t.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??0,o=Mt(e),i=o.getDay(),a=(i<n?-7:0)+6-(i-n);return o.setDate(o.getDate()+a),o.setHours(23,59,59,999),o}const JEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZEe=(e,r,t)=>{let n;const o=JEe[e];return typeof o=="string"?n=o:r===1?n=o.one:n=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function YT(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const eke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nke={date:YT({formats:eke,defaultWidth:"full"}),time:YT({formats:tke,defaultWidth:"full"}),dateTime:YT({formats:rke,defaultWidth:"full"})},oke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ike=(e,r,t,n)=>oke[e];function Qm(e){return(r,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=t!=null&&t.width?String(t.width):a;o=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=t!=null&&t.width?String(t.width):e.defaultWidth;o=e.values[s]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(r):r;return o[i]}}const ake={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ske={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dke=(e,r)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},pke={ordinalNumber:dke,era:Qm({values:ake,defaultWidth:"wide"}),quarter:Qm({values:ske,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qm({values:uke,defaultWidth:"wide"}),day:Qm({values:lke,defaultWidth:"wide"}),dayPeriod:Qm({values:cke,defaultWidth:"wide",formattingValues:fke,defaultFormattingWidth:"wide"})};function Jm(e){return(r,t={})=>{const n=t.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=r.match(o);if(!i)return null;const a=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?vke(s,f=>f.test(a)):hke(s,f=>f.test(a));let l;l=e.valueCallback?e.valueCallback(u):u,l=t.valueCallback?t.valueCallback(l):l;const c=r.slice(a.length);return{value:l,rest:c}}}function hke(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function vke(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function mke(e){return(r,t={})=>{const n=r.match(e.matchPattern);if(!n)return null;const o=n[0],i=r.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const s=r.slice(o.length);return{value:a,rest:s}}}const gke=/^(\d+)(th|st|nd|rd)?/i,yke=/\d+/i,xke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bke={any:[/^b/i,/^(a|c)/i]},_ke={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wke={any:[/1/i,/2/i,/3/i,/4/i]},Ske={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Eke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ake={ordinalNumber:mke({matchPattern:gke,parsePattern:yke,valueCallback:e=>parseInt(e,10)}),era:Jm({matchPatterns:xke,defaultMatchWidth:"wide",parsePatterns:bke,defaultParseWidth:"any"}),quarter:Jm({matchPatterns:_ke,defaultMatchWidth:"wide",parsePatterns:wke,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jm({matchPatterns:Ske,defaultMatchWidth:"wide",parsePatterns:Cke,defaultParseWidth:"any"}),day:Jm({matchPatterns:Eke,defaultMatchWidth:"wide",parsePatterns:kke,defaultParseWidth:"any"}),dayPeriod:Jm({matchPatterns:Rke,defaultMatchWidth:"any",parsePatterns:Tke,defaultParseWidth:"any"})},H9={code:"en-US",formatDistance:ZEe,formatLong:nke,formatRelative:ike,localize:pke,match:Ake,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oke(e){const r=Mt(e);return sv(r,dC(r))+1}function e3(e){const r=Mt(e),t=+av(r)-+GEe(r);return Math.round(t/j9)+1}function t3(e,r){var c,f,d,p;const t=Mt(e),n=t.getFullYear(),o=rp(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??o.firstWeekContainsDate??((p=(d=o.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=hn(e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const s=nc(a,r),u=hn(e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const l=nc(u,r);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Dke(e,r){var s,u,l,c;const t=rp(),n=(r==null?void 0:r.firstWeekContainsDate)??((u=(s=r==null?void 0:r.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??1,o=t3(e,r),i=hn(e,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),nc(i,r)}function V9(e,r){const t=Mt(e),n=+nc(t,r)-+Dke(t,r);return Math.round(n/j9)+1}function fn(e,r){const t=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return t+n}const Tc={y(e,r){const t=e.getFullYear(),n=t>0?t:1-t;return fn(r==="yy"?n%100:n,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):fn(t+1,2)},d(e,r){return fn(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return fn(e.getHours()%12||12,r.length)},H(e,r){return fn(e.getHours(),r.length)},m(e,r){return fn(e.getMinutes(),r.length)},s(e,r){return fn(e.getSeconds(),r.length)},S(e,r){const t=r.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,t-3));return fn(o,r.length)}},jp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zz={G:function(e,r,t){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return t.ordinalNumber(o,{unit:"year"})}return Tc.y(e,r)},Y:function(e,r,t,n){const o=t3(e,n),i=o>0?o:1-o;if(r==="YY"){const a=i%100;return fn(a,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):fn(i,r.length)},R:function(e,r){const t=$9(e);return fn(t,r.length)},u:function(e,r){const t=e.getFullYear();return fn(t,r.length)},Q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return fn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return fn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){const n=e.getMonth();switch(r){case"M":case"MM":return Tc.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return fn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){const o=V9(e,n);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):fn(o,r.length)},I:function(e,r,t){const n=e3(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):fn(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Tc.d(e,r)},D:function(e,r,t){const n=Oke(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):fn(n,r.length)},E:function(e,r,t){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return fn(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return fn(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){const n=e.getDay(),o=n===0?7:n;switch(r){case"i":return String(o);case"ii":return fn(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){const o=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){const n=e.getHours();let o;switch(n===12?o=jp.noon:n===0?o=jp.midnight:o=n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){const n=e.getHours();let o;switch(n>=17?o=jp.evening:n>=12?o=jp.afternoon:n>=4?o=jp.morning:o=jp.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Tc.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Tc.H(e,r)},K:function(e,r,t){const n=e.getHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):fn(n,r.length)},k:function(e,r,t){let n=e.getHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):fn(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Tc.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Tc.s(e,r)},S:function(e,r){return Tc.S(e,r)},X:function(e,r,t){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return tW(n);case"XXXX":case"XX":return ed(n);case"XXXXX":case"XXX":default:return ed(n,":")}},x:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"x":return tW(n);case"xxxx":case"xx":return ed(n);case"xxxxx":case"xxx":default:return ed(n,":")}},O:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+eW(n,":");case"OOOO":default:return"GMT"+ed(n,":")}},z:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+eW(n,":");case"zzzz":default:return"GMT"+ed(n,":")}},t:function(e,r,t){const n=Math.trunc(e.getTime()/1e3);return fn(n,r.length)},T:function(e,r,t){const n=e.getTime();return fn(n,r.length)}};function eW(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),i=n%60;return i===0?t+String(o):t+String(o)+r+fn(i,2)}function tW(e,r){return e%60===0?(e>0?"-":"+")+fn(Math.abs(e)/60,2):ed(e,r)}function ed(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),o=fn(Math.trunc(n/60),2),i=fn(n%60,2);return t+o+r+i}const rW=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},G9=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Pke=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],o=t[2];if(!o)return rW(e,r);let i;switch(n){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",rW(n,r)).replace("{{time}}",G9(o,r))},F2={p:G9,P:Pke},Ike=/^D+$/,Nke=/^Y+$/,Mke=["D","DD","YY","YYYY"];function Y9(e){return Ike.test(e)}function K9(e){return Nke.test(e)}function yD(e,r,t){const n=Fke(e,r,t);if(console.warn(n),Mke.includes(e))throw new RangeError(n)}function Fke(e,r,t){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jke=/^'([^]*?)'?$/,$ke=/''/g,zke=/[a-zA-Z]/;function nW(e,r,t){var c,f,d,p,h,m,y,v;const n=rp(),o=(t==null?void 0:t.locale)??n.locale??H9,i=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,s=Mt(e);if(!P2(s))throw new RangeError("Invalid time value");let u=r.match(Bke).map(g=>{const x=g[0];if(x==="p"||x==="P"){const b=F2[x];return b(g,o.formatLong)}return g}).join("").match(Lke).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:Wke(g)};if(Zz[x])return{isToken:!0,value:g};if(x.match(zke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(u=o.localize.preprocessor(s,u));const l={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return u.map(g=>{if(!g.isToken)return g.value;const x=g.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&K9(x)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Y9(x))&&yD(x,r,String(e));const b=Zz[x[0]];return b(s,x,o.localize,l)}).join("")}function Wke(e){const r=e.match(jke);return r?r[1].replace($ke,"'"):e}function oW(e){return Mt(e).getDate()}function Uke(e){return Mt(e).getDay()}function qke(e){const r=Mt(e),t=r.getFullYear(),n=r.getMonth(),o=hn(e,0);return o.setFullYear(t,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Hke(){return Object.assign({},rp())}function Hu(e){return Mt(e).getHours()}function Vke(e){let t=Mt(e).getDay();return t===0&&(t=7),t}function Vu(e){return Mt(e).getMinutes()}function Wi(e){return Mt(e).getMonth()}function Hl(e){return Mt(e).getSeconds()}function xD(e){return Mt(e).getTime()}function Or(e){return Mt(e).getFullYear()}function df(e,r){const t=Mt(e),n=Mt(r);return t.getTime()>n.getTime()}function Bd(e,r){const t=Mt(e),n=Mt(r);return+t<+n}function Gke(e,r){const t=Mt(e),n=Mt(r);return+t==+n}function Yke(e,r){const t=r instanceof Date?hn(r,0):new r(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const Kke=10;class X9{constructor(){bt(this,"subPriority",0)}validate(r,t){return!0}}class Xke extends X9{constructor(r,t,n,o,i){super(),this.value=r,this.validateValue=t,this.setValue=n,this.priority=o,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,n){return this.setValue(r,t,this.value,n)}}class Qke extends X9{constructor(){super(...arguments);bt(this,"priority",Kke);bt(this,"subPriority",-1)}set(t,n){return n.timestampIsSet?t:hn(t,Yke(t,Date))}}class rn{run(r,t,n,o){const i=this.parse(r,t,n,o);return i?{setter:new Xke(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,n){return!0}}class Jke extends rn{constructor(){super(...arguments);bt(this,"priority",140);bt(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,o){switch(n){case"G":case"GG":case"GGG":return o.era(t,{width:"abbreviated"})||o.era(t,{width:"narrow"});case"GGGGG":return o.era(t,{width:"narrow"});case"GGGG":default:return o.era(t,{width:"wide"})||o.era(t,{width:"abbreviated"})||o.era(t,{width:"narrow"})}}set(t,n,o){return n.era=o,t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}const lo={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Nu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function co(e,r){return e&&{value:r(e.value),rest:e.rest}}function Un(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Mu(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const n=t[1]==="+"?1:-1,o=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:n*(o*fC+i*cC+a*qEe),rest:r.slice(t[0].length)}}function Q9(e){return Un(lo.anyDigitsSigned,e)}function to(e,r){switch(e){case 1:return Un(lo.singleDigit,r);case 2:return Un(lo.twoDigits,r);case 3:return Un(lo.threeDigits,r);case 4:return Un(lo.fourDigits,r);default:return Un(new RegExp("^\\d{1,"+e+"}"),r)}}function L2(e,r){switch(e){case 1:return Un(lo.singleDigitSigned,r);case 2:return Un(lo.twoDigitsSigned,r);case 3:return Un(lo.threeDigitsSigned,r);case 4:return Un(lo.fourDigitsSigned,r);default:return Un(new RegExp("^-?\\d{1,"+e+"}"),r)}}function r3(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function J9(e,r){const t=r>0,n=t?r:1-r;let o;if(n<=50)o=e||100;else{const i=n+50,a=Math.trunc(i/100)*100,s=e>=i%100;o=e+a-(s?100:0)}return t?o:1-o}function Z9(e){return e%400===0||e%4===0&&e%100!==0}class Zke extends rn{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,o){const i=a=>({year:a,isTwoDigitYear:n==="yy"});switch(n){case"y":return co(to(4,t),i);case"yo":return co(o.ordinalNumber(t,{unit:"year"}),i);default:return co(to(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,o){const i=t.getFullYear();if(o.isTwoDigitYear){const s=J9(o.year,i);return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}const a=!("era"in n)||n.era===1?o.year:1-o.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class eRe extends rn{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,o){const i=a=>({year:a,isTwoDigitYear:n==="YY"});switch(n){case"Y":return co(to(4,t),i);case"Yo":return co(o.ordinalNumber(t,{unit:"year"}),i);default:return co(to(n.length,t),i)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,o,i){const a=t3(t,i);if(o.isTwoDigitYear){const u=J9(o.year,a);return t.setFullYear(u,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),nc(t,i)}const s=!("era"in n)||n.era===1?o.year:1-o.year;return t.setFullYear(s,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),nc(t,i)}}class tRe extends rn{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return L2(n==="R"?4:n.length,t)}set(t,n,o){const i=hn(t,0);return i.setFullYear(o,0,4),i.setHours(0,0,0,0),av(i)}}class rRe extends rn{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return L2(n==="u"?4:n.length,t)}set(t,n,o){return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class nRe extends rn{constructor(){super(...arguments);bt(this,"priority",120);bt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,o){switch(n){case"Q":case"QQ":return to(n.length,t);case"Qo":return o.ordinalNumber(t,{unit:"quarter"});case"QQQ":return o.quarter(t,{width:"abbreviated",context:"formatting"})||o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return o.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(t,{width:"wide",context:"formatting"})||o.quarter(t,{width:"abbreviated",context:"formatting"})||o.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,o){return t.setMonth((o-1)*3,1),t.setHours(0,0,0,0),t}}class oRe extends rn{constructor(){super(...arguments);bt(this,"priority",120);bt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,o){switch(n){case"q":case"qq":return to(n.length,t);case"qo":return o.ordinalNumber(t,{unit:"quarter"});case"qqq":return o.quarter(t,{width:"abbreviated",context:"standalone"})||o.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return o.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(t,{width:"wide",context:"standalone"})||o.quarter(t,{width:"abbreviated",context:"standalone"})||o.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,o){return t.setMonth((o-1)*3,1),t.setHours(0,0,0,0),t}}class iRe extends rn{constructor(){super(...arguments);bt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);bt(this,"priority",110)}parse(t,n,o){const i=a=>a-1;switch(n){case"M":return co(Un(lo.month,t),i);case"MM":return co(to(2,t),i);case"Mo":return co(o.ordinalNumber(t,{unit:"month"}),i);case"MMM":return o.month(t,{width:"abbreviated",context:"formatting"})||o.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return o.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(t,{width:"wide",context:"formatting"})||o.month(t,{width:"abbreviated",context:"formatting"})||o.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,o){return t.setMonth(o,1),t.setHours(0,0,0,0),t}}class aRe extends rn{constructor(){super(...arguments);bt(this,"priority",110);bt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,o){const i=a=>a-1;switch(n){case"L":return co(Un(lo.month,t),i);case"LL":return co(to(2,t),i);case"Lo":return co(o.ordinalNumber(t,{unit:"month"}),i);case"LLL":return o.month(t,{width:"abbreviated",context:"standalone"})||o.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return o.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(t,{width:"wide",context:"standalone"})||o.month(t,{width:"abbreviated",context:"standalone"})||o.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,o){return t.setMonth(o,1),t.setHours(0,0,0,0),t}}function sRe(e,r,t){const n=Mt(e),o=V9(n,t)-r;return n.setDate(n.getDate()-o*7),n}class uRe extends rn{constructor(){super(...arguments);bt(this,"priority",100);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,o){switch(n){case"w":return Un(lo.week,t);case"wo":return o.ordinalNumber(t,{unit:"week"});default:return to(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,o,i){return nc(sRe(t,o,i),i)}}function lRe(e,r){const t=Mt(e),n=e3(t)-r;return t.setDate(t.getDate()-n*7),t}class cRe extends rn{constructor(){super(...arguments);bt(this,"priority",100);bt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,o){switch(n){case"I":return Un(lo.week,t);case"Io":return o.ordinalNumber(t,{unit:"week"});default:return to(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,o){return av(lRe(t,o))}}const fRe=[31,28,31,30,31,30,31,31,30,31,30,31],dRe=[31,29,31,30,31,30,31,31,30,31,30,31];class pRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"subPriority",1);bt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,o){switch(n){case"d":return Un(lo.date,t);case"do":return o.ordinalNumber(t,{unit:"date"});default:return to(n.length,t)}}validate(t,n){const o=t.getFullYear(),i=Z9(o),a=t.getMonth();return i?n>=1&&n<=dRe[a]:n>=1&&n<=fRe[a]}set(t,n,o){return t.setDate(o),t.setHours(0,0,0,0),t}}class hRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"subpriority",1);bt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,o){switch(n){case"D":case"DD":return Un(lo.dayOfYear,t);case"Do":return o.ordinalNumber(t,{unit:"date"});default:return to(n.length,t)}}validate(t,n){const o=t.getFullYear();return Z9(o)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,o){return t.setMonth(0,o),t.setHours(0,0,0,0),t}}function n3(e,r,t){var f,d,p,h;const n=rp(),o=(t==null?void 0:t.weekStartsOn)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((h=(p=n.locale)==null?void 0:p.options)==null?void 0:h.weekStartsOn)??0,i=Mt(e),a=i.getDay(),u=(r%7+7)%7,l=7-o,c=r<0||r>6?r-(a+l)%7:(u+l)%7-(a+l)%7;return Qs(i,c)}class vRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,o){switch(n){case"E":case"EE":case"EEE":return o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return o.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return o.day(t,{width:"wide",context:"formatting"})||o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,o,i){return t=n3(t,o,i),t.setHours(0,0,0,0),t}}class mRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,o,i){const a=s=>{const u=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+u};switch(n){case"e":case"ee":return co(to(n.length,t),a);case"eo":return co(o.ordinalNumber(t,{unit:"day"}),a);case"eee":return o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"});case"eeeee":return o.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return o.day(t,{width:"wide",context:"formatting"})||o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,o,i){return t=n3(t,o,i),t.setHours(0,0,0,0),t}}class gRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,o,i){const a=s=>{const u=Math.floor((s-1)/7)*7;return(s+i.weekStartsOn+6)%7+u};switch(n){case"c":case"cc":return co(to(n.length,t),a);case"co":return co(o.ordinalNumber(t,{unit:"day"}),a);case"ccc":return o.day(t,{width:"abbreviated",context:"standalone"})||o.day(t,{width:"short",context:"standalone"})||o.day(t,{width:"narrow",context:"standalone"});case"ccccc":return o.day(t,{width:"narrow",context:"standalone"});case"cccccc":return o.day(t,{width:"short",context:"standalone"})||o.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return o.day(t,{width:"wide",context:"standalone"})||o.day(t,{width:"abbreviated",context:"standalone"})||o.day(t,{width:"short",context:"standalone"})||o.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,o,i){return t=n3(t,o,i),t.setHours(0,0,0,0),t}}function yRe(e,r){const t=Mt(e),n=Vke(t),o=r-n;return Qs(t,o)}class xRe extends rn{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,o){const i=a=>a===0?7:a;switch(n){case"i":case"ii":return to(n.length,t);case"io":return o.ordinalNumber(t,{unit:"day"});case"iii":return co(o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return co(o.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return co(o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return co(o.day(t,{width:"wide",context:"formatting"})||o.day(t,{width:"abbreviated",context:"formatting"})||o.day(t,{width:"short",context:"formatting"})||o.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,n){return n>=1&&n<=7}set(t,n,o){return t=yRe(t,o),t.setHours(0,0,0,0),t}}class bRe extends rn{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,o){switch(n){case"a":case"aa":case"aaa":return o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return o.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(t,{width:"wide",context:"formatting"})||o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,o){return t.setHours(r3(o),0,0,0),t}}class _Re extends rn{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,o){switch(n){case"b":case"bb":case"bbb":return o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return o.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(t,{width:"wide",context:"formatting"})||o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,o){return t.setHours(r3(o),0,0,0),t}}class wRe extends rn{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,o){switch(n){case"B":case"BB":case"BBB":return o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return o.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(t,{width:"wide",context:"formatting"})||o.dayPeriod(t,{width:"abbreviated",context:"formatting"})||o.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,o){return t.setHours(r3(o),0,0,0),t}}class SRe extends rn{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,o){switch(n){case"h":return Un(lo.hour12h,t);case"ho":return o.ordinalNumber(t,{unit:"hour"});default:return to(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,o){const i=t.getHours()>=12;return i&&o<12?t.setHours(o+12,0,0,0):!i&&o===12?t.setHours(0,0,0,0):t.setHours(o,0,0,0),t}}class CRe extends rn{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,o){switch(n){case"H":return Un(lo.hour23h,t);case"Ho":return o.ordinalNumber(t,{unit:"hour"});default:return to(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,o){return t.setHours(o,0,0,0),t}}class ERe extends rn{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,o){switch(n){case"K":return Un(lo.hour11h,t);case"Ko":return o.ordinalNumber(t,{unit:"hour"});default:return to(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,o){return t.getHours()>=12&&o<12?t.setHours(o+12,0,0,0):t.setHours(o,0,0,0),t}}class kRe extends rn{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,o){switch(n){case"k":return Un(lo.hour24h,t);case"ko":return o.ordinalNumber(t,{unit:"hour"});default:return to(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,o){const i=o<=24?o%24:o;return t.setHours(i,0,0,0),t}}class RRe extends rn{constructor(){super(...arguments);bt(this,"priority",60);bt(this,"incompatibleTokens",["t","T"])}parse(t,n,o){switch(n){case"m":return Un(lo.minute,t);case"mo":return o.ordinalNumber(t,{unit:"minute"});default:return to(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,o){return t.setMinutes(o,0,0),t}}class TRe extends rn{constructor(){super(...arguments);bt(this,"priority",50);bt(this,"incompatibleTokens",["t","T"])}parse(t,n,o){switch(n){case"s":return Un(lo.second,t);case"so":return o.ordinalNumber(t,{unit:"second"});default:return to(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,o){return t.setSeconds(o,0),t}}class ARe extends rn{constructor(){super(...arguments);bt(this,"priority",30);bt(this,"incompatibleTokens",["t","T"])}parse(t,n){const o=i=>Math.trunc(i*Math.pow(10,-n.length+3));return co(to(n.length,t),o)}set(t,n,o){return t.setMilliseconds(o),t}}class ORe extends rn{constructor(){super(...arguments);bt(this,"priority",10);bt(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Mu(Nu.basicOptionalMinutes,t);case"XX":return Mu(Nu.basic,t);case"XXXX":return Mu(Nu.basicOptionalSeconds,t);case"XXXXX":return Mu(Nu.extendedOptionalSeconds,t);case"XXX":default:return Mu(Nu.extended,t)}}set(t,n,o){return n.timestampIsSet?t:hn(t,t.getTime()-O2(t)-o)}}class DRe extends rn{constructor(){super(...arguments);bt(this,"priority",10);bt(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Mu(Nu.basicOptionalMinutes,t);case"xx":return Mu(Nu.basic,t);case"xxxx":return Mu(Nu.basicOptionalSeconds,t);case"xxxxx":return Mu(Nu.extendedOptionalSeconds,t);case"xxx":default:return Mu(Nu.extended,t)}}set(t,n,o){return n.timestampIsSet?t:hn(t,t.getTime()-O2(t)-o)}}class PRe extends rn{constructor(){super(...arguments);bt(this,"priority",40);bt(this,"incompatibleTokens","*")}parse(t){return Q9(t)}set(t,n,o){return[hn(t,o*1e3),{timestampIsSet:!0}]}}class IRe extends rn{constructor(){super(...arguments);bt(this,"priority",20);bt(this,"incompatibleTokens","*")}parse(t){return Q9(t)}set(t,n,o){return[hn(t,o),{timestampIsSet:!0}]}}const NRe={G:new Jke,y:new Zke,Y:new eRe,R:new tRe,u:new rRe,Q:new nRe,q:new oRe,M:new iRe,L:new aRe,w:new uRe,I:new cRe,d:new pRe,D:new hRe,E:new vRe,e:new mRe,c:new gRe,i:new xRe,a:new bRe,b:new _Re,B:new wRe,h:new SRe,H:new CRe,K:new ERe,k:new kRe,m:new RRe,s:new TRe,S:new ARe,X:new ORe,x:new DRe,t:new PRe,T:new IRe},MRe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FRe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LRe=/^'([^]*?)'?$/,BRe=/''/g,jRe=/\S/,$Re=/[a-zA-Z]/;function KT(e,r,t,n){var m,y,v,g,x,b,w,E;const o=Hke(),i=(n==null?void 0:n.locale)??o.locale??H9,a=(n==null?void 0:n.firstWeekContainsDate)??((y=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((g=(v=o.locale)==null?void 0:v.options)==null?void 0:g.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((b=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??o.weekStartsOn??((E=(w=o.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0;if(r==="")return e===""?Mt(t):hn(t,NaN);const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i},l=[new Qke],c=r.match(FRe).map(C=>{const S=C[0];if(S in F2){const T=F2[S];return T(C,i.formatLong)}return C}).join("").match(MRe),f=[];for(let C of c){!(n!=null&&n.useAdditionalWeekYearTokens)&&K9(C)&&yD(C,r,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Y9(C)&&yD(C,r,e);const S=C[0],T=NRe[S];if(T){const{incompatibleTokens:k}=T;if(Array.isArray(k)){const I=f.find(F=>k.includes(F.token)||F.token===S);if(I)throw new RangeError(`The format string mustn't contain \`${I.fullToken}\` and \`${C}\` at the same time`)}else if(T.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);f.push({token:S,fullToken:C});const P=T.run(e,C,i.match,u);if(!P)return hn(t,NaN);l.push(P.setter),e=P.rest}else{if(S.match($Re))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");if(C==="''"?C="'":S==="'"&&(C=zRe(C)),e.indexOf(C)===0)e=e.slice(C.length);else return hn(t,NaN)}}if(e.length>0&&jRe.test(e))return hn(t,NaN);const d=l.map(C=>C.priority).sort((C,S)=>S-C).filter((C,S,T)=>T.indexOf(C)===S).map(C=>l.filter(S=>S.priority===C).sort((S,T)=>T.subPriority-S.subPriority)).map(C=>C[0]);let p=Mt(t);if(isNaN(p.getTime()))return hn(t,NaN);const h={};for(const C of d){if(!C.validate(p,u))return hn(t,NaN);const S=C.set(p,h,u);Array.isArray(S)?(p=S[0],Object.assign(h,S[1])):p=S}return hn(t,p)}function zRe(e){return e.match(LRe)[1].replace(BRe,"'")}function WRe(e,r){const t=Mt(e),n=Mt(r);return t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()}function URe(e,r){const t=gD(e),n=gD(r);return+t==+n}function qRe(e,r){const t=Mt(e),n=Mt(r);return t.getFullYear()===n.getFullYear()}function x0(e,r){const t=+Mt(e),[n,o]=[+Mt(r.start),+Mt(r.end)].sort((i,a)=>i-a);return t>=n&&t<=o}function HRe(e,r){return Qs(e,-1)}function VRe(e,r){const n=XRe(e);let o;if(n.date){const u=QRe(n.date,2);o=JRe(u.restDateString,u.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const i=o.getTime();let a=0,s;if(n.time&&(a=ZRe(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(s=eTe(n.timezone),isNaN(s))return new Date(NaN)}else{const u=new Date(i+a),l=new Date(0);return l.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),l.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),l}return new Date(i+a+s)}const L1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},GRe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,YRe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,KRe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function XRe(e){const r={},t=e.split(L1.dateTimeDelimiter);let n;if(t.length>2)return r;if(/:/.test(t[0])?n=t[0]:(r.date=t[0],n=t[1],L1.timeZoneDelimiter.test(r.date)&&(r.date=e.split(L1.timeZoneDelimiter)[0],n=e.substr(r.date.length,e.length))),n){const o=L1.timezone.exec(n);o?(r.time=n.replace(o[1],""),r.timezone=o[1]):r.time=n}return r}function QRe(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=e.match(t);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function JRe(e,r){if(r===null)return new Date(NaN);const t=e.match(GRe);if(!t)return new Date(NaN);const n=!!t[4],o=Zm(t[1]),i=Zm(t[2])-1,a=Zm(t[3]),s=Zm(t[4]),u=Zm(t[5])-1;if(n)return iTe(r,s,u)?tTe(r,s,u):new Date(NaN);{const l=new Date(0);return!nTe(r,i,a)||!oTe(r,o)?new Date(NaN):(l.setUTCFullYear(r,i,Math.max(o,a)),l)}}function Zm(e){return e?parseInt(e):1}function ZRe(e){const r=e.match(YRe);if(!r)return NaN;const t=XT(r[1]),n=XT(r[2]),o=XT(r[3]);return aTe(t,n,o)?t*fC+n*cC+o*1e3:NaN}function XT(e){return e&&parseFloat(e.replace(",","."))||0}function eTe(e){if(e==="Z")return 0;const r=e.match(KRe);if(!r)return 0;const t=r[1]==="+"?-1:1,n=parseInt(r[2]),o=r[3]&&parseInt(r[3])||0;return sTe(n,o)?t*(n*fC+o*cC):NaN}function tTe(e,r,t){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,i=(r-1)*7+t+1-o;return n.setUTCDate(n.getUTCDate()+i),n}const rTe=[31,null,31,30,31,30,31,31,30,31,30,31];function eG(e){return e%400===0||e%4===0&&e%100!==0}function nTe(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(rTe[r]||(eG(e)?29:28))}function oTe(e,r){return r>=1&&r<=(eG(e)?366:365)}function iTe(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function aTe(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function sTe(e,r){return r>=0&&r<=59}function Da(e,r){const t=Mt(e),n=t.getFullYear(),o=t.getDate(),i=hn(e,0);i.setFullYear(n,r,15),i.setHours(0,0,0,0);const a=qke(i);return t.setMonth(r,Math.min(o,a)),t}function uTe(e,r){let t=Mt(e);return isNaN(+t)?hn(e,NaN):(r.year!=null&&t.setFullYear(r.year),r.month!=null&&(t=Da(t,r.month)),r.date!=null&&t.setDate(r.date),r.hours!=null&&t.setHours(r.hours),r.minutes!=null&&t.setMinutes(r.minutes),r.seconds!=null&&t.setSeconds(r.seconds),r.milliseconds!=null&&t.setMilliseconds(r.milliseconds),t)}function N_(e,r){const t=Mt(e);return t.setHours(r),t}function M_(e,r){const t=Mt(e);return t.setMinutes(r),t}function Xp(e,r){const t=Mt(e),n=Math.trunc(t.getMonth()/3)+1,o=r-n;return Da(t,t.getMonth()+o*3)}function F_(e,r){const t=Mt(e);return t.setSeconds(r),t}function Ru(e,r){const t=Mt(e);return isNaN(+t)?hn(e,NaN):(t.setFullYear(r),t)}function Cd(e,r){return nu(e,-r)}function tG(e,r){return ZN(e,-1)}function iW(e,r){return D2(e,-1)}function uv(e,r){return Ul(e,-r)}function pC(){return typeof window<"u"}function Yv(e){return rG(e)?(e.nodeName||"").toLowerCase():"#document"}function za(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function hl(e){var r;return(r=(rG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function rG(e){return pC()?e instanceof Node||e instanceof za(e).Node:!1}function Ui(e){return pC()?e instanceof Element||e instanceof za(e).Element:!1}function el(e){return pC()?e instanceof HTMLElement||e instanceof za(e).HTMLElement:!1}function aW(e){return!pC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof za(e).ShadowRoot}function cy(e){const{overflow:r,overflowX:t,overflowY:n,display:o}=Rs(e);return/auto|scroll|overlay|hidden|clip/.test(r+n+t)&&!["inline","contents"].includes(o)}function lTe(e){return["table","td","th"].includes(Yv(e))}function hC(e){return[":popover-open",":modal"].some(r=>{try{return e.matches(r)}catch{return!1}})}function o3(e){const r=i3(),t=Ui(e)?Rs(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function cTe(e){let r=pf(e);for(;el(r)&&!lv(r);){if(o3(r))return r;if(hC(r))return null;r=pf(r)}return null}function i3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lv(e){return["html","body","#document"].includes(Yv(e))}function Rs(e){return za(e).getComputedStyle(e)}function vC(e){return Ui(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pf(e){if(Yv(e)==="html")return e;const r=e.assignedSlot||e.parentNode||aW(e)&&e.host||hl(e);return aW(r)?r.host:r}function nG(e){const r=pf(e);return lv(r)?e.ownerDocument?e.ownerDocument.body:e.body:el(r)&&cy(r)?r:nG(r)}function b0(e,r,t){var n;r===void 0&&(r=[]),t===void 0&&(t=!0);const o=nG(e),i=o===((n=e.ownerDocument)==null?void 0:n.body),a=za(o);if(i){const s=bD(a);return r.concat(a,a.visualViewport||[],cy(o)?o:[],s&&t?b0(s):[])}return r.concat(o,b0(o,[],t))}function bD(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const cv=Math.min,Ed=Math.max,B2=Math.round,B1=Math.floor,Gu=e=>({x:e,y:e}),fTe={left:"right",right:"left",bottom:"top",top:"bottom"},dTe={start:"end",end:"start"};function pTe(e,r,t){return Ed(e,cv(r,t))}function mC(e,r){return typeof e=="function"?e(r):e}function fv(e){return e.split("-")[0]}function fy(e){return e.split("-")[1]}function hTe(e){return e==="x"?"y":"x"}function a3(e){return e==="y"?"height":"width"}function _0(e){return["top","bottom"].includes(fv(e))?"y":"x"}function s3(e){return hTe(_0(e))}function vTe(e,r,t){t===void 0&&(t=!1);const n=fy(e),o=s3(e),i=a3(o);let a=o==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(a=j2(a)),[a,j2(a)]}function mTe(e){const r=j2(e);return[_D(e),r,_D(r)]}function _D(e){return e.replace(/start|end/g,r=>dTe[r])}function gTe(e,r,t){const n=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return t?r?o:n:r?n:o;case"left":case"right":return r?i:a;default:return[]}}function yTe(e,r,t,n){const o=fy(e);let i=gTe(fv(e),t==="start",n);return o&&(i=i.map(a=>a+"-"+o),r&&(i=i.concat(i.map(_D)))),i}function j2(e){return e.replace(/left|right|bottom|top/g,r=>fTe[r])}function xTe(e){return{top:0,right:0,bottom:0,left:0,...e}}function oG(e){return typeof e!="number"?xTe(e):{top:e,right:e,bottom:e,left:e}}function $2(e){const{x:r,y:t,width:n,height:o}=e;return{width:n,height:o,top:t,left:r,right:r+n,bottom:t+o,x:r,y:t}}function sW(e,r,t){let{reference:n,floating:o}=e;const i=_0(r),a=s3(r),s=a3(a),u=fv(r),l=i==="y",c=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,d=n[s]/2-o[s]/2;let p;switch(u){case"top":p={x:c,y:n.y-o.height};break;case"bottom":p={x:c,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(fy(r)){case"start":p[a]-=d*(t&&l?-1:1);break;case"end":p[a]+=d*(t&&l?-1:1);break}return p}const bTe=async(e,r,t)=>{const{placement:n="bottom",strategy:o="absolute",middleware:i=[],platform:a}=t,s=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(r));let l=await a.getElementRects({reference:e,floating:r,strategy:o}),{x:c,y:f}=sW(l,n,u),d=n,p={},h=0;for(let m=0;m<s.length;m++){const{name:y,fn:v}=s[m],{x:g,y:x,data:b,reset:w}=await v({x:c,y:f,initialPlacement:n,placement:d,strategy:o,middlewareData:p,rects:l,platform:a,elements:{reference:e,floating:r}});c=g??c,f=x??f,p={...p,[y]:{...p[y],...b}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(l=w.rects===!0?await a.getElementRects({reference:e,floating:r,strategy:o}):w.rects),{x:c,y:f}=sW(l,d,u)),m=-1)}return{x:c,y:f,placement:d,strategy:o,middlewareData:p}};async function _Te(e,r){var t;r===void 0&&(r={});const{x:n,y:o,platform:i,rects:a,elements:s,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=mC(r,e),h=oG(p),y=s[d?f==="floating"?"reference":"floating":f],v=$2(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(y)))==null||t?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:c,strategy:u})),g=f==="floating"?{x:n,y:o,width:a.floating.width,height:a.floating.height}:a.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=$2(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:x,strategy:u}):g);return{top:(v.top-w.top+h.top)/b.y,bottom:(w.bottom-v.bottom+h.bottom)/b.y,left:(v.left-w.left+h.left)/b.x,right:(w.right-v.right+h.right)/b.x}}const wTe=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:n,placement:o,rects:i,platform:a,elements:s,middlewareData:u}=r,{element:l,padding:c=0}=mC(e,r)||{};if(l==null)return{};const f=oG(c),d={x:t,y:n},p=s3(o),h=a3(p),m=await a.getDimensions(l),y=p==="y",v=y?"top":"left",g=y?"bottom":"right",x=y?"clientHeight":"clientWidth",b=i.reference[h]+i.reference[p]-d[p]-i.floating[h],w=d[p]-i.reference[p],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let C=E?E[x]:0;(!C||!await(a.isElement==null?void 0:a.isElement(E)))&&(C=s.floating[x]||i.floating[h]);const S=b/2-w/2,T=C/2-m[h]/2-1,k=cv(f[v],T),P=cv(f[g],T),I=k,F=C-m[h]-P,A=C/2-m[h]/2+S,D=pTe(I,A,F),$=!u.arrow&&fy(o)!=null&&A!==D&&i.reference[h]/2-(A<I?k:P)-m[h]/2<0,B=$?A<I?A-I:A-F:0;return{[p]:d[p]+B,data:{[p]:D,centerOffset:A-D-B,...$&&{alignmentOffset:B}},reset:$}}}),STe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,n;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:u,elements:l}=r,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...y}=mC(e,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const v=fv(o),g=_0(s),x=fv(s)===s,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),w=d||(x||!m?[j2(s)]:mTe(s)),E=h!=="none";!d&&E&&w.push(...yTe(s,m,h,b));const C=[s,...w],S=await _Te(r,y),T=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&T.push(S[v]),f){const A=vTe(o,a,b);T.push(S[A[0]],S[A[1]])}if(k=[...k,{placement:o,overflows:T}],!T.every(A=>A<=0)){var P,I;const A=(((P=i.flip)==null?void 0:P.index)||0)+1,D=C[A];if(D)return{data:{index:A,overflows:k},reset:{placement:D}};let $=(I=k.filter(B=>B.overflows[0]<=0).sort((B,W)=>B.overflows[1]-W.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(p){case"bestFit":{var F;const B=(F=k.filter(W=>{if(E){const L=_0(W.placement);return L===g||L==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((W,L)=>W[1]-L[1])[0])==null?void 0:F[0];B&&($=B);break}case"initialPlacement":$=s;break}if(o!==$)return{reset:{placement:$}}}return{}}}};async function CTe(e,r){const{placement:t,platform:n,elements:o}=e,i=await(n.isRTL==null?void 0:n.isRTL(o.floating)),a=fv(t),s=fy(t),u=_0(t)==="y",l=["left","top"].includes(a)?-1:1,c=i&&u?-1:1,f=mC(r,e);let{mainAxis:d,crossAxis:p,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof h=="number"&&(p=s==="end"?h*-1:h),u?{x:p*c,y:d*l}:{x:d*l,y:p*c}}const ETe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,n;const{x:o,y:i,placement:a,middlewareData:s}=r,u=await CTe(r,e);return a===((t=s.offset)==null?void 0:t.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:i+u.y,data:{...u,placement:a}}}}};function iG(e){const r=Rs(e);let t=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const o=el(e),i=o?e.offsetWidth:t,a=o?e.offsetHeight:n,s=B2(t)!==i||B2(n)!==a;return s&&(t=i,n=a),{width:t,height:n,$:s}}function u3(e){return Ui(e)?e:e.contextElement}function Rh(e){const r=u3(e);if(!el(r))return Gu(1);const t=r.getBoundingClientRect(),{width:n,height:o,$:i}=iG(r);let a=(i?B2(t.width):t.width)/n,s=(i?B2(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const kTe=Gu(0);function aG(e){const r=za(e);return!i3()||!r.visualViewport?kTe:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function RTe(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==za(e)?!1:r}function jd(e,r,t,n){r===void 0&&(r=!1),t===void 0&&(t=!1);const o=e.getBoundingClientRect(),i=u3(e);let a=Gu(1);r&&(n?Ui(n)&&(a=Rh(n)):a=Rh(e));const s=RTe(i,t,n)?aG(i):Gu(0);let u=(o.left+s.x)/a.x,l=(o.top+s.y)/a.y,c=o.width/a.x,f=o.height/a.y;if(i){const d=za(i),p=n&&Ui(n)?za(n):n;let h=d,m=bD(h);for(;m&&n&&p!==h;){const y=Rh(m),v=m.getBoundingClientRect(),g=Rs(m),x=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,b=v.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;u*=y.x,l*=y.y,c*=y.x,f*=y.y,u+=x,l+=b,h=za(m),m=bD(h)}}return $2({width:c,height:f,x:u,y:l})}function l3(e,r){const t=vC(e).scrollLeft;return r?r.left+t:jd(hl(e)).left+t}function sG(e,r,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect(),o=n.left+r.scrollLeft-(t?0:l3(e,n)),i=n.top+r.scrollTop;return{x:o,y:i}}function TTe(e){let{elements:r,rect:t,offsetParent:n,strategy:o}=e;const i=o==="fixed",a=hl(n),s=r?hC(r.floating):!1;if(n===a||s&&i)return t;let u={scrollLeft:0,scrollTop:0},l=Gu(1);const c=Gu(0),f=el(n);if((f||!f&&!i)&&((Yv(n)!=="body"||cy(a))&&(u=vC(n)),el(n))){const p=jd(n);l=Rh(n),c.x=p.x+n.clientLeft,c.y=p.y+n.clientTop}const d=a&&!f&&!i?sG(a,u,!0):Gu(0);return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-u.scrollLeft*l.x+c.x+d.x,y:t.y*l.y-u.scrollTop*l.y+c.y+d.y}}function ATe(e){return Array.from(e.getClientRects())}function OTe(e){const r=hl(e),t=vC(e),n=e.ownerDocument.body,o=Ed(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),i=Ed(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let a=-t.scrollLeft+l3(e);const s=-t.scrollTop;return Rs(n).direction==="rtl"&&(a+=Ed(r.clientWidth,n.clientWidth)-o),{width:o,height:i,x:a,y:s}}function DTe(e,r){const t=za(e),n=hl(e),o=t.visualViewport;let i=n.clientWidth,a=n.clientHeight,s=0,u=0;if(o){i=o.width,a=o.height;const l=i3();(!l||l&&r==="fixed")&&(s=o.offsetLeft,u=o.offsetTop)}return{width:i,height:a,x:s,y:u}}function PTe(e,r){const t=jd(e,!0,r==="fixed"),n=t.top+e.clientTop,o=t.left+e.clientLeft,i=el(e)?Rh(e):Gu(1),a=e.clientWidth*i.x,s=e.clientHeight*i.y,u=o*i.x,l=n*i.y;return{width:a,height:s,x:u,y:l}}function uW(e,r,t){let n;if(r==="viewport")n=DTe(e,t);else if(r==="document")n=OTe(hl(e));else if(Ui(r))n=PTe(r,t);else{const o=aG(e);n={x:r.x-o.x,y:r.y-o.y,width:r.width,height:r.height}}return $2(n)}function uG(e,r){const t=pf(e);return t===r||!Ui(t)||lv(t)?!1:Rs(t).position==="fixed"||uG(t,r)}function ITe(e,r){const t=r.get(e);if(t)return t;let n=b0(e,[],!1).filter(s=>Ui(s)&&Yv(s)!=="body"),o=null;const i=Rs(e).position==="fixed";let a=i?pf(e):e;for(;Ui(a)&&!lv(a);){const s=Rs(a),u=o3(a);!u&&s.position==="fixed"&&(o=null),(i?!u&&!o:!u&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||cy(a)&&!u&&uG(e,a))?n=n.filter(c=>c!==a):o=s,a=pf(a)}return r.set(e,n),n}function NTe(e){let{element:r,boundary:t,rootBoundary:n,strategy:o}=e;const a=[...t==="clippingAncestors"?hC(r)?[]:ITe(r,this._c):[].concat(t),n],s=a[0],u=a.reduce((l,c)=>{const f=uW(r,c,o);return l.top=Ed(f.top,l.top),l.right=cv(f.right,l.right),l.bottom=cv(f.bottom,l.bottom),l.left=Ed(f.left,l.left),l},uW(r,s,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function MTe(e){const{width:r,height:t}=iG(e);return{width:r,height:t}}function FTe(e,r,t){const n=el(r),o=hl(r),i=t==="fixed",a=jd(e,!0,i,r);let s={scrollLeft:0,scrollTop:0};const u=Gu(0);if(n||!n&&!i)if((Yv(r)!=="body"||cy(o))&&(s=vC(r)),n){const d=jd(r,!0,i,r);u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}else o&&(u.x=l3(o));const l=o&&!n&&!i?sG(o,s):Gu(0),c=a.left+s.scrollLeft-u.x-l.x,f=a.top+s.scrollTop-u.y-l.y;return{x:c,y:f,width:a.width,height:a.height}}function QT(e){return Rs(e).position==="static"}function lW(e,r){if(!el(e)||Rs(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return hl(e)===t&&(t=t.ownerDocument.body),t}function lG(e,r){const t=za(e);if(hC(e))return t;if(!el(e)){let o=pf(e);for(;o&&!lv(o);){if(Ui(o)&&!QT(o))return o;o=pf(o)}return t}let n=lW(e,r);for(;n&&lTe(n)&&QT(n);)n=lW(n,r);return n&&lv(n)&&QT(n)&&!o3(n)?t:n||cTe(e)||t}const LTe=async function(e){const r=this.getOffsetParent||lG,t=this.getDimensions,n=await t(e.floating);return{reference:FTe(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function BTe(e){return Rs(e).direction==="rtl"}const jTe={convertOffsetParentRelativeRectToViewportRelativeRect:TTe,getDocumentElement:hl,getClippingRect:NTe,getOffsetParent:lG,getElementRects:LTe,getClientRects:ATe,getDimensions:MTe,getScale:Rh,isElement:Ui,isRTL:BTe};function cG(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function $Te(e,r){let t=null,n;const o=hl(e);function i(){var s;clearTimeout(n),(s=t)==null||s.disconnect(),t=null}function a(s,u){s===void 0&&(s=!1),u===void 0&&(u=1),i();const l=e.getBoundingClientRect(),{left:c,top:f,width:d,height:p}=l;if(s||r(),!d||!p)return;const h=B1(f),m=B1(o.clientWidth-(c+d)),y=B1(o.clientHeight-(f+p)),v=B1(c),x={rootMargin:-h+"px "+-m+"px "+-y+"px "+-v+"px",threshold:Ed(0,cv(1,u))||1};let b=!0;function w(E){const C=E[0].intersectionRatio;if(C!==u){if(!b)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!cG(l,e.getBoundingClientRect())&&a(),b=!1}try{t=new IntersectionObserver(w,{...x,root:o.ownerDocument})}catch{t=new IntersectionObserver(w,x)}t.observe(e)}return a(!0),i}function zTe(e,r,t,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,l=u3(e),c=o||i?[...l?b0(l):[],...b0(r)]:[];c.forEach(v=>{o&&v.addEventListener("scroll",t,{passive:!0}),i&&v.addEventListener("resize",t)});const f=l&&s?$Te(l,t):null;let d=-1,p=null;a&&(p=new ResizeObserver(v=>{let[g]=v;g&&g.target===l&&p&&(p.unobserve(r),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(r)})),t()}),l&&!u&&p.observe(l),p.observe(r));let h,m=u?jd(e):null;u&&y();function y(){const v=jd(e);m&&!cG(m,v)&&t(),m=v,h=requestAnimationFrame(y)}return t(),()=>{var v;c.forEach(g=>{o&&g.removeEventListener("scroll",t),i&&g.removeEventListener("resize",t)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,u&&cancelAnimationFrame(h)}}const WTe=ETe,UTe=STe,cW=wTe,qTe=(e,r,t)=>{const n=new Map,o={platform:jTe,...t},i={...o.platform,_c:n};return bTe(e,r,{...o,platform:i})};var L_=typeof document<"u"?N.useLayoutEffect:N.useEffect;function z2(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,n,o;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(n=t;n--!==0;)if(!z2(e[n],r[n]))return!1;return!0}if(o=Object.keys(e),t=o.length,t!==Object.keys(r).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(r,o[n]))return!1;for(n=t;n--!==0;){const i=o[n];if(!(i==="_owner"&&e.$$typeof)&&!z2(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}function fG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fW(e,r){const t=fG(e);return Math.round(r*t)/t}function JT(e){const r=N.useRef(e);return L_(()=>{r.current=e}),r}function HTe(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:n=[],platform:o,elements:{reference:i,floating:a}={},transform:s=!0,whileElementsMounted:u,open:l}=e,[c,f]=N.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[d,p]=N.useState(n);z2(d,n)||p(n);const[h,m]=N.useState(null),[y,v]=N.useState(null),g=N.useCallback(W=>{W!==E.current&&(E.current=W,m(W))},[]),x=N.useCallback(W=>{W!==C.current&&(C.current=W,v(W))},[]),b=i||h,w=a||y,E=N.useRef(null),C=N.useRef(null),S=N.useRef(c),T=u!=null,k=JT(u),P=JT(o),I=JT(l),F=N.useCallback(()=>{if(!E.current||!C.current)return;const W={placement:r,strategy:t,middleware:d};P.current&&(W.platform=P.current),qTe(E.current,C.current,W).then(L=>{const z={...L,isPositioned:I.current!==!1};A.current&&!z2(S.current,z)&&(S.current=z,F0.flushSync(()=>{f(z)}))})},[d,r,t,P,I]);L_(()=>{l===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[l]);const A=N.useRef(!1);L_(()=>(A.current=!0,()=>{A.current=!1}),[]),L_(()=>{if(b&&(E.current=b),w&&(C.current=w),b&&w){if(k.current)return k.current(b,w,F);F()}},[b,w,F,k,T]);const D=N.useMemo(()=>({reference:E,floating:C,setReference:g,setFloating:x}),[g,x]),$=N.useMemo(()=>({reference:b,floating:w}),[b,w]),B=N.useMemo(()=>{const W={position:t,left:0,top:0};if(!$.floating)return W;const L=fW($.floating,c.x),z=fW($.floating,c.y);return s?{...W,transform:"translate("+L+"px, "+z+"px)",...fG($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:L,top:z}},[t,s,$.floating,c.x,c.y]);return N.useMemo(()=>({...c,update:F,refs:D,elements:$,floatingStyles:B}),[c,F,D,$,B])}const VTe=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:n,padding:o}=typeof e=="function"?e(t):e;return n&&r(n)?n.current!=null?cW({element:n.current,padding:o}).fn(t):{}:n?cW({element:n,padding:o}).fn(t):{}}}},GTe=(e,r)=>({...WTe(e),options:[e,r]}),YTe=(e,r)=>({...UTe(e),options:[e,r]}),KTe=(e,r)=>({...VTe(e),options:[e,r]}),dG={...Lh},XTe=dG.useInsertionEffect,QTe=XTe||(e=>e());function JTe(e){const r=N.useRef(()=>{});return QTe(()=>{r.current=e}),N.useCallback(function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.current==null?void 0:r.current(...n)},[])}var W2=typeof document<"u"?N.useLayoutEffect:N.useEffect;let dW=!1,ZTe=0;const pW=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZTe++;function eAe(){const[e,r]=N.useState(()=>dW?pW():void 0);return W2(()=>{e==null&&r(pW())},[]),N.useEffect(()=>{dW=!0},[]),e}const tAe=dG.useId,pG=tAe||eAe,rAe=N.forwardRef(function(r,t){const{context:{placement:n,elements:{floating:o},middlewareData:{arrow:i,shift:a}},width:s=14,height:u=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:f,stroke:d,d:p,style:{transform:h,...m}={},...y}=r,v=pG(),[g,x]=N.useState(!1);if(W2(()=>{if(!o)return;Rs(o).direction==="rtl"&&x(!0)},[o]),!o)return null;const[b,w]=n.split("-"),E=b==="top"||b==="bottom";let C=f;(E&&a!=null&&a.x||!E&&a!=null&&a.y)&&(C=null);const S=c*2,T=S/2,k=s/2*(l/-8+1),P=u/2*l/4,I=!!p,F=C&&w==="end"?"bottom":"top";let A=C&&w==="end"?"right":"left";C&&g&&(A=w==="end"?"left":"right");const D=(i==null?void 0:i.x)!=null?C||i.x:"",$=(i==null?void 0:i.y)!=null?C||i.y:"",B=p||"M0,0"+(" H"+s)+(" L"+(s-k)+","+(u-P))+(" Q"+s/2+","+u+" "+k+","+(u-P))+" Z",W={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[b];return O.jsxs("svg",{...y,"aria-hidden":!0,ref:t,width:I?s:s+S,height:s,viewBox:"0 0 "+s+" "+(u>s?u:s),style:{position:"absolute",pointerEvents:"none",[A]:D,[F]:$,[b]:E||I?"100%":"calc(100% - "+S/2+"px)",transform:[W,h].filter(L=>!!L).join(" "),...m},children:[S>0&&O.jsx("path",{clipPath:"url(#"+v+")",fill:"none",stroke:d,strokeWidth:S+(p?0:1),d:B}),O.jsx("path",{stroke:S&&!p?y.fill:"none",d:B}),O.jsx("clipPath",{id:v,children:O.jsx("rect",{x:-T,y:T*(I?-1:1),width:s+S,height:s})})]})});function nAe(){const e=new Map;return{emit(r,t){var n;(n=e.get(r))==null||n.forEach(o=>o(t))},on(r,t){e.set(r,[...e.get(r)||[],t])},off(r,t){var n;e.set(r,((n=e.get(r))==null?void 0:n.filter(o=>o!==t))||[])}}}const oAe=N.createContext(null),iAe=N.createContext(null),aAe=()=>{var e;return((e=N.useContext(oAe))==null?void 0:e.id)||null},sAe=()=>N.useContext(iAe);function uAe(e){const{open:r=!1,onOpenChange:t,elements:n}=e,o=pG(),i=N.useRef({}),[a]=N.useState(()=>nAe()),s=aAe()!=null,[u,l]=N.useState(n.reference),c=JTe((p,h,m)=>{i.current.openEvent=p?h:void 0,a.emit("openchange",{open:p,event:h,reason:m,nested:s}),t==null||t(p,h,m)}),f=N.useMemo(()=>({setPositionReference:l}),[]),d=N.useMemo(()=>({reference:u||n.reference||null,floating:n.floating||null,domReference:n.reference}),[u,n.reference,n.floating]);return N.useMemo(()=>({dataRef:i,open:r,onOpenChange:c,elements:d,events:a,floatingId:o,refs:f}),[r,c,d,a,o,f])}function lAe(e){e===void 0&&(e={});const{nodeId:r}=e,t=uAe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||t,o=n.elements,[i,a]=N.useState(null),[s,u]=N.useState(null),c=(o==null?void 0:o.domReference)||i,f=N.useRef(null),d=sAe();W2(()=>{c&&(f.current=c)},[c]);const p=HTe({...e,elements:{...o,...s&&{reference:s}}}),h=N.useCallback(x=>{const b=Ui(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;u(b),p.refs.setReference(b)},[p.refs]),m=N.useCallback(x=>{(Ui(x)||x===null)&&(f.current=x,a(x)),(Ui(p.refs.reference.current)||p.refs.reference.current===null||x!==null&&!Ui(x))&&p.refs.setReference(x)},[p.refs]),y=N.useMemo(()=>({...p.refs,setReference:m,setPositionReference:h,domReference:f}),[p.refs,m,h]),v=N.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),g=N.useMemo(()=>({...p,...n,refs:y,elements:v,nodeId:r}),[p,y,v,r,n]);return W2(()=>{n.dataRef.current.floatingContext=g;const x=d==null?void 0:d.nodesRef.current.find(b=>b.id===r);x&&(x.context=g)}),N.useMemo(()=>({...p,context:g,refs:y,elements:v}),[p,y,v,g])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var wD=function(r,t){return wD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},wD(r,t)};function Go(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");wD(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Gr=function(){return Gr=Object.assign||function(t){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Gr.apply(this,arguments)};function Bu(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}var cAe=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,n=e.showTime,o=n===void 0?!1:n,i=e.className,a=e.children,s=t?"Choose Time":"Choose Date".concat(o?" and Time":"");return qe.createElement("div",{className:i,role:"dialog","aria-label":s,"aria-modal":"true"},a)},fAe=function(e,r){var t=N.useRef(null),n=N.useRef(e);n.current=e;var o=N.useCallback(function(i){var a;t.current&&!t.current.contains(i.target)&&(r&&i.target instanceof HTMLElement&&i.target.classList.contains(r)||(a=n.current)===null||a===void 0||a.call(n,i))},[r]);return N.useEffect(function(){return document.addEventListener("mousedown",o),function(){document.removeEventListener("mousedown",o)}},[o]),t},gC=function(e){var r=e.children,t=e.onClickOutside,n=e.className,o=e.containerRef,i=e.style,a=e.ignoreClass,s=fAe(t,a);return qe.createElement("div",{className:n,style:i,ref:function(u){s.current=u,o&&(o.current=u)}},r)},Ot;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Ot||(Ot={}));function hG(){var e=typeof window<"u"?window:globalThis;return e}var dy=12,dAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function vn(e){if(e==null)return new Date;var r=typeof e=="string"?VRe(e):Mt(e);return Ml(r)?r:new Date}function ZT(e,r,t,n,o){var i,a=null,s=kd(t)||kd(Lg()),u=!0;if(Array.isArray(r))return r.forEach(function(c){var f=KT(e,c,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(u=Ml(f,o)&&e===In(f,c,t)),Ml(f,o)&&u&&(a=f)}),a;if(a=KT(e,r,new Date,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n)u=Ml(a)&&e===In(a,r,t);else if(!Ml(a)){var l=((i=r.match(dAe))!==null&&i!==void 0?i:[]).map(function(c){var f=c[0];if(f==="p"||f==="P"){var d=F2[f];return s?d(c,s.formatLong):f}return c}).join("");e.length>0&&(a=KT(e,l.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ml(a)||(a=new Date(e))}return Ml(a)&&u?a:null}function Ml(e,r){return P2(e)&&!Bd(e,r??new Date("1/1/1800"))}function In(e,r,t){if(t==="en")return nW(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?kd(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!n&&Lg()&&kd(Lg())&&(n=kd(Lg())),nW(e,r,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function cs(e,r){var t=r.dateFormat,n=r.locale,o=Array.isArray(t)&&t.length>0?t[0]:t;return e&&In(e,o,n)||""}function pAe(e,r,t){if(!e)return"";var n=cs(e,t),o=r?cs(r,t):"";return"".concat(n," - ").concat(o)}function hAe(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?cs(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var n=cs(e[1],r);return"".concat(t,", ").concat(n)}var o=e.length-1;return"".concat(t," (+").concat(o,")")}function eA(e,r){var t=r.hour,n=t===void 0?0:t,o=r.minute,i=o===void 0?0:o,a=r.second,s=a===void 0?0:a;return N_(M_(F_(e,s),i),n)}function vAe(e){return e3(e)}function mAe(e,r){return In(e,"ddd",r)}function B_(e){return Ld(e)}function rf(e,r,t){var n=kd(r||Lg());return nc(e,{locale:n,weekStartsOn:t})}function Vl(e){return U9(e)}function gg(e){return dC(e)}function hW(e){return gD(e)}function vW(){return Ld(vn())}function mW(e){return z9(e)}function gAe(e){return QEe(e)}function yAe(e){return W9(e)}function Ou(e,r){return e&&r?qRe(e,r):!e&&!r}function $i(e,r){return e&&r?WRe(e,r):!e&&!r}function U2(e,r){return e&&r?URe(e,r):!e&&!r}function Wr(e,r){return e&&r?KEe(e,r):!e&&!r}function vd(e,r){return e&&r?Gke(e,r):!e&&!r}function yg(e,r,t){var n,o=Ld(r),i=z9(t);try{n=x0(e,{start:o,end:i})}catch{n=!1}return n}function Lg(){var e=hG();return e.__localeId__}function kd(e){if(typeof e=="string"){var r=hG();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function xAe(e,r,t){return r(In(e,"EEEE",t))}function bAe(e,r){return In(e,"EEEEEE",r)}function _Ae(e,r){return In(e,"EEE",r)}function c3(e,r){return In(Da(vn(),e),"LLLL",r)}function vG(e,r){return In(Da(vn(),e),"LLL",r)}function wAe(e,r){return In(Xp(vn(),e),"QQQ",r)}function vs(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.excludeDateIntervals,s=t.includeDates,u=t.includeDateIntervals,l=t.filterDate;return py(e,{minDate:n,maxDate:o})||i&&i.some(function(c){return c instanceof Date?Wr(e,c):Wr(e,c.date)})||a&&a.some(function(c){var f=c.start,d=c.end;return x0(e,{start:f,end:d})})||s&&!s.some(function(c){return Wr(e,c)})||u&&!u.some(function(c){var f=c.start,d=c.end;return x0(e,{start:f,end:d})})||l&&!l(vn(e))||!1}function f3(e,r){var t=r===void 0?{}:r,n=t.excludeDates,o=t.excludeDateIntervals;return o&&o.length>0?o.some(function(i){var a=i.start,s=i.end;return x0(e,{start:a,end:s})}):n&&n.some(function(i){var a;return i instanceof Date?Wr(e,i):Wr(e,(a=i.date)!==null&&a!==void 0?a:new Date)})||!1}function mG(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.includeDates,s=t.filterDate;return py(e,{minDate:n?U9(n):void 0,maxDate:o?W9(o):void 0})||(i==null?void 0:i.some(function(u){return $i(e,u instanceof Date?u:u.date)}))||a&&!a.some(function(u){return $i(e,u)})||s&&!s(vn(e))||!1}function j1(e,r,t,n){var o=Or(e),i=Wi(e),a=Or(r),s=Wi(r),u=Or(n);return o===a&&o===u?i<=t&&t<=s:o<a?u===o&&i<=t||u===a&&s>=t||u<a&&u>o:!1}function SAe(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.includeDates;return py(e,{minDate:n,maxDate:o})||i&&i.some(function(s){return $i(s instanceof Date?s:s.date,e)})||a&&!a.some(function(s){return $i(s,e)})||!1}function $1(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.includeDates,s=t.filterDate;return py(e,{minDate:n,maxDate:o})||(i==null?void 0:i.some(function(u){return U2(e,u instanceof Date?u:u.date)}))||a&&!a.some(function(u){return U2(e,u)})||s&&!s(vn(e))||!1}function z1(e,r,t){if(!r||!t||!P2(r)||!P2(t))return!1;var n=Or(r),o=Or(t);return n<=e&&o>=e}function j_(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.maxDate,i=t.excludeDates,a=t.includeDates,s=t.filterDate,u=new Date(e,0,1);return py(u,{minDate:n?dC(n):void 0,maxDate:o?q9(o):void 0})||(i==null?void 0:i.some(function(l){return Ou(u,l instanceof Date?l:l.date)}))||a&&!a.some(function(l){return Ou(u,l)})||s&&!s(vn(u))||!1}function W1(e,r,t,n){var o=Or(e),i=Sd(e),a=Or(r),s=Sd(r),u=Or(n);return o===a&&o===u?i<=t&&t<=s:o<a?u===o&&i<=t||u===a&&s>=t||u<a&&u>o:!1}function py(e,r){var t,n=r===void 0?{}:r,o=n.minDate,i=n.maxDate;return(t=o&&sv(e,o)<0||i&&sv(e,i)>0)!==null&&t!==void 0?t:!1}function gW(e,r){return r.some(function(t){return Hu(t)===Hu(e)&&Vu(t)===Vu(e)&&Hl(t)===Hl(e)})}function yW(e,r){var t=r===void 0?{}:r,n=t.excludeTimes,o=t.includeTimes,i=t.filterTime;return n&&gW(e,n)||o&&!gW(e,o)||i&&!i(e)||!1}function xW(e,r){var t=r.minTime,n=r.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var o=vn();o=N_(o,Hu(e)),o=M_(o,Vu(e)),o=F_(o,Hl(e));var i=vn();i=N_(i,Hu(t)),i=M_(i,Vu(t)),i=F_(i,Hl(t));var a=vn();a=N_(a,Hu(n)),a=M_(a,Vu(n)),a=F_(a,Hl(n));var s;try{s=!x0(o,{start:i,end:a})}catch{s=!1}return s}function bW(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.includeDates,i=Cd(e,1);return n&&I2(n,i)>0||o&&o.every(function(a){return I2(a,i)>0})||!1}function _W(e,r){var t=r===void 0?{}:r,n=t.maxDate,o=t.includeDates,i=nu(e,1);return n&&I2(i,n)>0||o&&o.every(function(a){return I2(i,a)>0})||!1}function CAe(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.includeDates,i=dC(e),a=tG(i);return n&&N2(n,a)>0||o&&o.every(function(s){return N2(s,a)>0})||!1}function EAe(e,r){var t=r===void 0?{}:r,n=t.maxDate,o=t.includeDates,i=q9(e),a=ZN(i,1);return n&&N2(a,n)>0||o&&o.every(function(s){return N2(a,s)>0})||!1}function wW(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.includeDates,i=uv(e,1);return n&&M2(n,i)>0||o&&o.every(function(a){return M2(a,i)>0})||!1}function kAe(e,r){var t=r===void 0?{}:r,n=t.minDate,o=t.yearItemNumber,i=o===void 0?dy:o,a=gg(uv(e,i)),s=zc(a,i).endPeriod,u=n&&Or(n);return u&&u>s||!1}function SW(e,r){var t=r===void 0?{}:r,n=t.maxDate,o=t.includeDates,i=Ul(e,1);return n&&M2(i,n)>0||o&&o.every(function(a){return M2(i,a)>0})||!1}function RAe(e,r){var t=r===void 0?{}:r,n=t.maxDate,o=t.yearItemNumber,i=o===void 0?dy:o,a=Ul(e,i),s=zc(a,i).startPeriod,u=n&&Or(n);return u&&u<s||!1}function gG(e){var r=e.minDate,t=e.includeDates;if(t&&r){var n=t.filter(function(o){return sv(o,r)>=0});return Qz(n)}else return t?Qz(t):r}function yG(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var n=t.filter(function(o){return sv(o,r)<=0});return Xz(n)}else return t?Xz(t):r}function CW(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var n=new Map,o=0,i=e.length;o<i;o++){var a=e[o];if(ql(a)){var s=In(a,"MM.dd.yyyy"),u=n.get(s)||[];u.includes(r)||(u.push(r),n.set(s,u))}else if(typeof a=="object"){var l=Object.keys(a),c=(t=l[0])!==null&&t!==void 0?t:"",f=a[c];if(typeof c=="string"&&Array.isArray(f))for(var d=0,p=f.length;d<p;d++){var h=f[d];if(h){var s=In(h,"MM.dd.yyyy"),u=n.get(s)||[];u.includes(c)||(u.push(c),n.set(s,u))}}}}return n}function TAe(e,r){return e.length!==r.length?!1:e.every(function(t,n){return t===r[n]})}function AAe(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(n){var o=n.date,i=n.holidayName;if(ql(o)){var a=In(o,"MM.dd.yyyy"),s=t.get(a)||{className:"",holidayNames:[]};if(!("className"in s&&s.className===r&&TAe(s.holidayNames,[i]))){s.className=r;var u=s.holidayNames;s.holidayNames=u?Bu(Bu([],u,!0),[i],!1):[i],t.set(a,s)}}}),t}function OAe(e,r,t,n,o){for(var i=o.length,a=[],s=0;s<i;s++){var u=e,l=o[s];l&&(u=HEe(u,Hu(l)),u=mD(u,Vu(l)),u=YEe(u,Hl(l)));var c=mD(e,(t+1)*n);df(u,r)&&Bd(u,c)&&l!=null&&a.push(l)}return a}function EW(e){return e<10?"0".concat(e):"".concat(e)}function zc(e,r){r===void 0&&(r=dy);var t=Math.ceil(Or(e)/r)*r,n=t-(r-1);return{startPeriod:n,endPeriod:t}}function DAe(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function kW(e){var r=e.getSeconds(),t=e.getMilliseconds();return Mt(e.getTime()-r*1e3-t)}function PAe(e,r){return kW(e).getTime()===kW(r).getTime()}function RW(e){if(!ql(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function TW(e,r){if(!ql(e)||!ql(r))throw new Error("Invalid date received");var t=RW(e),n=RW(r);return Bd(t,n)}function xG(e){return e.key===Ot.Space}var IAe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.inputRef=qe.createRef(),n.onTimeChange=function(o){var i,a;n.setState({time:o});var s=n.props.date,u=s instanceof Date&&!isNaN(+s),l=u?s:new Date;if(o!=null&&o.includes(":")){var c=o.split(":"),f=c[0],d=c[1];l.setHours(Number(f)),l.setMinutes(Number(d))}(a=(i=n.props).onChange)===null||a===void 0||a.call(i,l)},n.renderTimeInput=function(){var o=n.state.time,i=n.props,a=i.date,s=i.timeString,u=i.customTimeInput;return u?N.cloneElement(u,{date:a,value:o,onChange:n.onTimeChange}):qe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var l;(l=n.inputRef.current)===null||l===void 0||l.focus()},required:!0,value:o,onChange:function(l){n.onTimeChange(l.target.value||s)}})},n.state={time:n.props.timeString},n}return r.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},r.prototype.render=function(){return qe.createElement("div",{className:"react-datepicker__input-time-container"},qe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),qe.createElement("div",{className:"react-datepicker-time__input-container"},qe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(N.Component),NAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=N.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var o,i,a=n.key;a===Ot.Space&&(n.preventDefault(),n.key=Ot.Enter),(i=(o=t.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},t.isSameDay=function(n){return Wr(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var o=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!o&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),vs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return f3(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Wr(t.props.day,rf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Wr(n,rf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,o=n.day,i=n.highlightDates;if(!i)return!1;var a=In(o,"MM.dd.yyyy");return i.get(a)},t.getHolidaysClass=function(){var n,o=t.props,i=o.day,a=o.holidays;if(!a)return[void 0];var s=In(i,"MM.dd.yyyy");return a.has(s)?[(n=a.get(s))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,o=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:yg(o,i,a)},t.isInSelectingRange=function(){var n,o=t.props,i=o.day,a=o.selectsStart,s=o.selectsEnd,u=o.selectsRange,l=o.selectsDisabledDaysInRange,c=o.startDate,f=o.endDate,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(a||s||u)||!d||!l&&t.isDisabled()?!1:a&&f&&(Bd(d,f)||vd(d,f))?yg(i,d,f):s&&c&&(df(d,c)||vd(d,c))||u&&c&&!f&&(df(d,c)||vd(d,c))?yg(i,c,d):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var o=t.props,i=o.day,a=o.startDate,s=o.selectsStart,u=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return s?Wr(i,u):Wr(i,a)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var o=t.props,i=o.day,a=o.endDate,s=o.selectsEnd,u=o.selectsRange,l=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return s||u?Wr(i,l):Wr(i,a)},t.isRangeStart=function(){var n=t.props,o=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Wr(i,o)},t.isRangeEnd=function(){var n=t.props,o=n.day,i=n.startDate,a=n.endDate;return!i||!a?!1:Wr(a,o)},t.isWeekend=function(){var n=Uke(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Wi(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Wi(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(vn())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var o=t.props.dayClassName?t.props.dayClassName(n):void 0;return ct("react-datepicker__day",o,"react-datepicker__day--"+mAe(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,o=n.day,i=n.ariaLabelPrefixWhenEnabled,a=i===void 0?"Choose":i,s=n.ariaLabelPrefixWhenDisabled,u=s===void 0?"Not available":s,l=t.isDisabled()||t.isExcluded()?u:a;return"".concat(l," ").concat(In(o,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,o=n.day,i=n.holidays,a=i===void 0?new Map:i,s=n.excludeDates,u=In(o,"MM.dd.yyyy"),l=[];return a.has(u)&&l.push.apply(l,a.get(u).holidayNames),t.isExcluded()&&l.push(s==null?void 0:s.filter(function(c){return c instanceof Date?Wr(c,o):Wr(c==null?void 0:c.date,o)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),l.join(", ")},t.getTabIndex=function(){var n=t.props.selected,o=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Wr(o,n))?0:-1;return i},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(oW(t.props.day),t.props.day):oW(t.props.day)},t.render=function(){return qe.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&qe.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,n,o;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((o=document.activeElement)===null||o===void 0?void 0:o.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(N.Component),MAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=N.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var o,i,a=n.key;a===Ot.Space&&(n.preventDefault(),n.key=Ot.Enter),(i=(o=t.props).handleOnKeyDown)===null||i===void 0||i.call(o,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Wr(t.props.date,t.props.selected)&&Wr(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Wr(t.props.date,t.props.selected)&&Wr(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var o=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Wr(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(o=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,n=t.weekNumber,o=t.isWeekDisabled,i=t.ariaLabelPrefix,a=i===void 0?r.defaultProps.ariaLabelPrefix:i,s=t.onClick,u={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!s&&!o,"react-datepicker__week-number--selected":!!s&&Wr(this.props.date,this.props.selected)};return qe.createElement("div",{ref:this.weekNumberEl,className:ct(u),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},r}(N.Component),FAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(n){return vs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,o){t.props.onDayClick&&t.props.onDayClick(n,o)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,o,i){for(var a,s,u,l=new Date(n),c=0;c<7;c++){var f=new Date(n);f.setDate(f.getDate()+c);var d=!t.isDisabled(f);if(d){l=f;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(l,o,i),t.props.showWeekPicker&&t.handleDayClick(l,i),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:r.defaultProps.shouldCloseOnSelect)&&((u=(s=t.props).setOpen)===null||u===void 0||u.call(s,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):vAe(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),o=Qs(n,6),i=new Date(n);i<=o;){if(!t.isDisabled(i))return!1;i=Qs(i,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),o=[],i=t.formatWeekNumber(n);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,i):void 0;o.push(qe.createElement(MAe,Gr({key:"W"},r.defaultProps,t.props,{weekNumber:i,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:a})))}return o.concat([0,1,2,3,4,5,6].map(function(s){var u=Qs(n,s);return qe.createElement(NAe,Gr({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return rf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Wr(t.startOfWeek(),t.props.selected)&&Wr(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Wr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return qe.createElement("div",{className:ct(t)},this.renderDays())},r}(N.Component),eg,LAe=6,Th={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},tA=(eg={},eg[Th.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},eg[Th.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},eg[Th.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},eg),U1=1;function AW(e,r){return e?Th.FOUR_COLUMNS:r?Th.TWO_COLUMNS:Th.THREE_COLUMNS}var BAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Bu([],Array(12),!0).map(function(){return N.createRef()}),t.QUARTER_REFS=Bu([],Array(4),!0).map(function(){return N.createRef()}),t.isDisabled=function(n){return vs(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return f3(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,o){var i,a;(a=(i=t.props).onDayClick)===null||a===void 0||a.call(i,n,o,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var o,i;(i=(o=t.props).onDayMouseEnter)===null||i===void 0||i.call(o,n)},t.handleMouseLeave=function(){var n,o;(o=(n=t.props).onMouseLeave)===null||o===void 0||o.call(n)},t.isRangeStartMonth=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate;return!a||!s?!1:$i(Da(i,n),a)},t.isRangeStartQuarter=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate;return!a||!s?!1:U2(Xp(i,n),a)},t.isRangeEndMonth=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate;return!a||!s?!1:$i(Da(i,n),s)},t.isRangeEndQuarter=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate;return!a||!s?!1:U2(Xp(i,n),s)},t.isInSelectingRangeMonth=function(n){var o,i=t.props,a=i.day,s=i.selectsStart,u=i.selectsEnd,l=i.selectsRange,c=i.startDate,f=i.endDate,d=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return!(s||u||l)||!d?!1:s&&f?j1(d,f,n,a):u&&c||l&&c&&!f?j1(c,d,n,a):!1},t.isSelectingMonthRangeStart=function(n){var o;if(!t.isInSelectingRangeMonth(n))return!1;var i=t.props,a=i.day,s=i.startDate,u=i.selectsStart,l=Da(a,n),c=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return u?$i(l,c):$i(l,s)},t.isSelectingMonthRangeEnd=function(n){var o;if(!t.isInSelectingRangeMonth(n))return!1;var i=t.props,a=i.day,s=i.endDate,u=i.selectsEnd,l=i.selectsRange,c=Da(a,n),f=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return u||l?$i(c,f):$i(c,s)},t.isInSelectingRangeQuarter=function(n){var o,i=t.props,a=i.day,s=i.selectsStart,u=i.selectsEnd,l=i.selectsRange,c=i.startDate,f=i.endDate,d=(o=t.props.selectingDate)!==null&&o!==void 0?o:t.props.preSelection;return!(s||u||l)||!d?!1:s&&f?W1(d,f,n,a):u&&c||l&&c&&!f?W1(c,d,n,a):!1},t.isWeekInMonth=function(n){var o=t.props.day,i=Qs(n,6);return $i(n,o)||$i(i,o)},t.isCurrentMonth=function(n,o){return Or(n)===Or(vn())&&o===Wi(vn())},t.isCurrentQuarter=function(n,o){return Or(n)===Or(vn())&&o===Sd(vn())},t.isSelectedMonth=function(n,o,i){return Wi(i)===o&&Or(n)===Or(i)},t.isSelectMonthInList=function(n,o,i){return i.some(function(a){return t.isSelectedMonth(n,o,a)})},t.isSelectedQuarter=function(n,o,i){return Sd(n)===o&&Or(n)===Or(i)},t.renderWeeks=function(){for(var n=[],o=t.props.fixedHeight,i=0,a=!1,s=rf(Vl(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(h){return t.props.showWeekPicker?rf(h,t.props.locale,t.props.calendarStartDay):t.props.preSelection},l=function(h){return t.props.showWeekPicker?rf(h,t.props.locale,t.props.calendarStartDay):t.props.selected},c=t.props.selected?l(t.props.selected):void 0,f=t.props.preSelection?u(t.props.preSelection):void 0;n.push(qe.createElement(FAe,Gr({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:s,month:Wi(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:c,preSelection:f,showWeekNumber:t.props.showWeekNumbers}))),!a;){i++,s=D2(s,1);var d=o&&i>=LAe,p=!o&&!t.isWeekInMonth(s);if(d||p)if(t.props.peekNextMonth)a=!0;else break}return n},t.onMonthClick=function(n,o){var i=t.isMonthDisabledForLabelDate(o),a=i.isDisabled,s=i.labelDate;a||t.handleDayClick(Vl(s),n)},t.onMonthMouseEnter=function(n){var o=t.isMonthDisabledForLabelDate(n),i=o.isDisabled,a=o.labelDate;i||t.handleDayMouseEnter(Vl(a))},t.handleMonthNavigation=function(n,o){var i,a,s,u;(a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,o),(u=(s=t.MONTH_REFS[n])===null||s===void 0?void 0:s.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(n,o,i){var a,s=t.props,u=s.selected,l=s.preSelection,c=s.setPreSelection,f=s.minDate,d=s.maxDate,p=s.showFourColumnMonthYearPicker,h=s.showTwoColumnMonthYearPicker;if(l){var m=AW(p,h),y=t.getVerticalOffset(m),v=(a=tA[m])===null||a===void 0?void 0:a.grid,g=function(C,S,T){var k,P,I=S,F=T;switch(C){case Ot.ArrowRight:I=nu(S,U1),F=T===11?0:T+U1;break;case Ot.ArrowLeft:I=Cd(S,U1),F=T===0?11:T-U1;break;case Ot.ArrowUp:I=Cd(S,y),F=!((k=v==null?void 0:v[0])===null||k===void 0)&&k.includes(T)?T+12-y:T-y;break;case Ot.ArrowDown:I=nu(S,y),F=!((P=v==null?void 0:v[v.length-1])===null||P===void 0)&&P.includes(T)?T-12+y:T+y;break}return{newCalculatedDate:I,newCalculatedMonth:F}},x=function(C,S,T){for(var k=40,P=C,I=!1,F=0,A=g(P,S,T),D=A.newCalculatedDate,$=A.newCalculatedMonth;!I;){if(F>=k){D=S,$=T;break}if(f&&D<f){P=Ot.ArrowRight;var B=g(P,D,$);D=B.newCalculatedDate,$=B.newCalculatedMonth}if(d&&D>d){P=Ot.ArrowLeft;var B=g(P,D,$);D=B.newCalculatedDate,$=B.newCalculatedMonth}if(SAe(D,t.props)){var B=g(P,D,$);D=B.newCalculatedDate,$=B.newCalculatedMonth}else I=!0;F++}return{newCalculatedDate:D,newCalculatedMonth:$}};if(o===Ot.Enter){t.isMonthDisabled(i)||(t.onMonthClick(n,i),c==null||c(u));return}var b=x(o,l,i),w=b.newCalculatedDate,E=b.newCalculatedMonth;switch(o){case Ot.ArrowRight:case Ot.ArrowLeft:case Ot.ArrowUp:case Ot.ArrowDown:t.handleMonthNavigation(E,w);break}}},t.getVerticalOffset=function(n){var o,i;return(i=(o=tA[n])===null||o===void 0?void 0:o.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(n,o){var i=t.props,a=i.disabledKeyboardNavigation,s=i.handleOnMonthKeyDown,u=n.key;u!==Ot.Tab&&n.preventDefault(),a||t.handleKeyboardNavigation(n,u,o),s&&s(n)},t.onQuarterClick=function(n,o){var i=Xp(t.props.day,o);$1(i,t.props)||t.handleDayClick(hW(i),n)},t.onQuarterMouseEnter=function(n){var o=Xp(t.props.day,n);$1(o,t.props)||t.handleDayMouseEnter(hW(o))},t.handleQuarterNavigation=function(n,o){var i,a,s,u;t.isDisabled(o)||t.isExcluded(o)||((a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,o),(u=(s=t.QUARTER_REFS[n-1])===null||s===void 0?void 0:s.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(n,o){var i,a,s=n.key;if(!t.props.disabledKeyboardNavigation)switch(s){case Ot.Enter:t.onQuarterClick(n,o),(a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,t.props.selected);break;case Ot.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(o===4?1:o+1,ZN(t.props.preSelection,1));break;case Ot.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(o===1?4:o-1,tG(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var o,i=t.props,a=i.day,s=i.minDate,u=i.maxDate,l=i.excludeDates,c=i.includeDates,f=Da(a,n);return{isDisabled:(o=(s||u||l||c)&&mG(f,t.props))!==null&&o!==void 0?o:!1,labelDate:f}},t.isMonthDisabled=function(n){var o=t.isMonthDisabledForLabelDate(n).isDisabled;return o},t.getMonthClassNames=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate,u=o.preSelection,l=o.monthClassName,c=l?l(Da(i,n)):void 0,f=t.getSelection();return ct("react-datepicker__month-text","react-datepicker__month-".concat(n),c,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":f?t.isSelectMonthInList(i,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(i,n,u)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":a&&s?j1(a,s,n,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(i,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var o=Wi(t.props.preSelection),i=t.isMonthDisabledForLabelDate(o).isDisabled,a=n===o&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var o=Sd(t.props.preSelection),i=$1(t.props.day,t.props),a=n===o&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(n){var o=t.props,i=o.chooseDayAriaLabelPrefix,a=i===void 0?"Choose":i,s=o.disabledDayAriaLabelPrefix,u=s===void 0?"Not available":s,l=o.day,c=o.locale,f=Da(l,n),d=t.isDisabled(f)||t.isExcluded(f)?u:a;return"".concat(d," ").concat(In(f,"MMMM yyyy",c))},t.getQuarterClassNames=function(n){var o=t.props,i=o.day,a=o.startDate,s=o.endDate,u=o.selected,l=o.minDate,c=o.maxDate,f=o.excludeDates,d=o.includeDates,p=o.filterDate,h=o.preSelection,m=o.disabledKeyboardNavigation,y=(l||c||f||d||p)&&$1(Xp(i,n),t.props);return ct("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(i,n,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!m&&h&&t.isSelectedQuarter(i,n,h)&&!y,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":a&&s?W1(a,s,n,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n)})},t.getMonthContent=function(n){var o=t.props,i=o.showFullMonthYearPicker,a=o.renderMonthContent,s=o.locale,u=o.day,l=vG(n,s),c=c3(n,s);return a?a(n,l,c,u):i?c:l},t.getQuarterContent=function(n){var o,i=t.props,a=i.renderQuarterContent,s=i.locale,u=wAe(n,s);return(o=a==null?void 0:a(n,u))!==null&&o!==void 0?o:u},t.renderMonths=function(){var n,o=t.props,i=o.showTwoColumnMonthYearPicker,a=o.showFourColumnMonthYearPicker,s=o.day,u=o.selected,l=(n=tA[AW(a,i)])===null||n===void 0?void 0:n.grid;return l==null?void 0:l.map(function(c,f){return qe.createElement("div",{className:"react-datepicker__month-wrapper",key:f},c.map(function(d,p){return qe.createElement("div",{ref:t.MONTH_REFS[d],key:p,onClick:function(h){t.onMonthClick(h,d)},onKeyDown:function(h){xG(h)&&(h.preventDefault(),h.key=Ot.Enter),t.onMonthKeyDown(h,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(d)}:void 0,tabIndex:Number(t.getTabIndex(d)),className:t.getMonthClassNames(d),"aria-disabled":t.isMonthDisabled(d),role:"option","aria-label":t.getAriaLabel(d),"aria-current":t.isCurrentMonth(s,d)?"date":void 0,"aria-selected":u?t.isSelectedMonth(s,d,u):void 0},t.getMonthContent(d))}))})},t.renderQuarters=function(){var n=t.props,o=n.day,i=n.selected,a=[1,2,3,4];return qe.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(s,u){return qe.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(l){t.onQuarterClick(l,s)},onKeyDown:function(l){t.onQuarterKeyDown(l,s)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(s)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(s)}:void 0,className:t.getQuarterClassNames(s),"aria-selected":i?t.isSelectedQuarter(o,s,i):void 0,tabIndex:Number(t.getQuarterTabIndex(s)),"aria-current":t.isCurrentQuarter(o,s)?"date":void 0},t.getQuarterContent(s))}))},t.getClassNames=function(){var n=t.props,o=n.selectingDate,i=n.selectsStart,a=n.selectsEnd,s=n.showMonthYearPicker,u=n.showQuarterYearPicker,l=n.showWeekPicker;return ct("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(i||a)},{"react-datepicker__monthPicker":s},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":l})},t}return r.prototype.getSelection=function(){var t=this.props,n=t.selected,o=t.selectedDates,i=t.selectsMultiple;if(i)return o;if(n)return[n]},r.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,o=t.showQuarterYearPicker,i=t.day,a=t.ariaLabelPrefix,s=a===void 0?"Month ":a,u=s?s.trim()+" ":"";return qe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(In(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():o?this.renderQuarters():this.renderWeeks())},r}(N.Component),jAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,o){return qe.createElement("div",{className:t.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,o),"aria-selected":t.isSelectedMonth(o)?"true":void 0},t.isSelectedMonth(o)?qe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return qe.createElement(gC,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(N.Component),$Ae=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(o,i){return qe.createElement("option",{key:o,value:i},o)})},t.renderSelectMode=function(n){return qe.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(o){return t.onChange(parseInt(o.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,o){return qe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},qe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),qe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[t.props.month]))},t.renderDropdown=function(n){return qe.createElement(jAe,Gr({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var o=t.state.dropdownVisible,i=[t.renderReadView(!o,n)];return o&&i.unshift(t.renderDropdown(n)),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return vG(i,t.props.locale)}:function(i){return c3(i,t.props.locale)}),o;switch(this.props.dropdownMode){case"scroll":o=this.renderScrollMode(n);break;case"select":o=this.renderSelectMode(n);break}return qe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},o)},r}(N.Component);function zAe(e,r){for(var t=[],n=Vl(e),o=Vl(r);!df(n,o);)t.push(vn(n)),n=nu(n,1);return t}var WAe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(o){var i=xD(o),a=Ou(n.props.date,o)&&$i(n.props.date,o);return qe.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":a?"true":void 0},a?qe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",In(o,n.props.dateFormat,n.props.locale))})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:zAe(n.props.minDate,n.props.maxDate)},n}return r.prototype.render=function(){var t=ct({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return qe.createElement(gC,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(N.Component),UAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Vl(t.props.minDate),o=Vl(t.props.maxDate),i=[];!df(n,o);){var a=xD(n);i.push(qe.createElement("option",{key:a,value:a},In(n,t.props.dateFormat,t.props.locale))),n=nu(n,1)}return i},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return qe.createElement("select",{value:xD(Vl(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var o=In(t.props.date,t.props.dateFormat,t.props.locale);return qe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},qe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),qe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))},t.renderDropdown=function(){return qe.createElement(WAe,Gr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,o=[t.renderReadView(!n)];return n&&o.unshift(t.renderDropdown()),o},t.onChange=function(n){t.toggleDropdown();var o=vn(n);Ou(t.props.date,o)&&$i(t.props.date,o)||t.props.onChange(o)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return qe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(N.Component),qAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,o,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((o=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&o!==void 0?o:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(n){var o,i;(t.props.minTime||t.props.maxTime)&&xW(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&yW(n,t.props)||(i=(o=t.props).onChange)===null||i===void 0||i.call(o,n)},t.isSelectedTime=function(n){return t.props.selected&&PAe(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&xW(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&yW(n,t.props)},t.liClasses=function(n){var o,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Hu(n)*3600+Vu(n)*60+Hl(n))%(((o=t.props.intervals)!==null&&o!==void 0?o:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(n,o){var i,a;n.key===Ot.Space&&(n.preventDefault(),n.key=Ot.Enter),(n.key===Ot.ArrowUp||n.key===Ot.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Ot.ArrowDown||n.key===Ot.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Ot.Enter&&t.handleClick(o),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.renderTimes=function(){for(var n,o=[],i=typeof t.props.format=="string"?t.props.format:"p",a=(n=t.props.intervals)!==null&&n!==void 0?n:r.defaultProps.intervals,s=t.props.selected||t.props.openToDate||vn(),u=B_(s),l=t.props.injectTimes&&t.props.injectTimes.sort(function(y,v){return y.getTime()-v.getTime()}),c=60*DAe(s),f=c/a,d=0;d<f;d++){var p=mD(u,d*a);if(o.push(p),l){var h=OAe(u,p,d,a,l);o=o.concat(h)}}var m=o.reduce(function(y,v){return v.getTime()<=s.getTime()?v:y},o[0]);return o.map(function(y){return qe.createElement("li",{key:y.valueOf(),onClick:t.handleClick.bind(t,y),className:t.liClasses(y),ref:function(v){y===m&&(t.centerLi=v)},onKeyDown:function(v){t.handleOnKeyDown(v,y)},tabIndex:y===m?0:-1,role:"option","aria-selected":t.isSelectedTime(y)?"true":void 0,"aria-disabled":t.isDisabledTime(y)?"true":void 0},In(y,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?qe.createElement(qe.Fragment,null):qe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},qe.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,n,o=this.state.height;return qe.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),qe.createElement("div",{className:"react-datepicker__time"},qe.createElement("div",{className:"react-datepicker__time-box"},qe.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:o?{height:o}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},r}(N.Component),OW=3,HAe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.YEAR_REFS=Bu([],Array(n.props.yearItemNumber),!0).map(function(){return N.createRef()}),n.isDisabled=function(o){return vs(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return f3(o,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var o;return(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection},n.updateFocusOnPaginate=function(o){var i=function(){var a,s;(s=(a=n.YEAR_REFS[o])===null||a===void 0?void 0:a.current)===null||s===void 0||s.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(o,i){n.props.onDayClick&&n.props.onDayClick(o,i)},n.handleYearNavigation=function(o,i){var a,s,u,l,c=n.props,f=c.date,d=c.yearItemNumber;if(!(f===void 0||d===void 0)){var p=zc(f,d).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((s=(a=n.props).setPreSelection)===null||s===void 0||s.call(a,i),o-p<0?n.updateFocusOnPaginate(d-(p-o)):o-p>=d?n.updateFocusOnPaginate(Math.abs(d-(o-p))):(l=(u=n.YEAR_REFS[o-p])===null||u===void 0?void 0:u.current)===null||l===void 0||l.focus())}},n.isSameDay=function(o,i){return Wr(o,i)},n.isCurrentYear=function(o){return o===Or(vn())},n.isRangeStart=function(o){return n.props.startDate&&n.props.endDate&&Ou(Ru(vn(),o),n.props.startDate)},n.isRangeEnd=function(o){return n.props.startDate&&n.props.endDate&&Ou(Ru(vn(),o),n.props.endDate)},n.isInRange=function(o){return z1(o,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(o){var i=n.props,a=i.selectsStart,s=i.selectsEnd,u=i.selectsRange,l=i.startDate,c=i.endDate;return!(a||s||u)||!n.selectingDate()?!1:a&&c?z1(o,n.selectingDate(),c):s&&l||u&&l&&!c?z1(o,l,n.selectingDate()):!1},n.isSelectingRangeStart=function(o){var i;if(!n.isInSelectingRange(o))return!1;var a=n.props,s=a.startDate,u=a.selectsStart,l=Ru(vn(),o);return u?Ou(l,(i=n.selectingDate())!==null&&i!==void 0?i:null):Ou(l,s??null)},n.isSelectingRangeEnd=function(o){var i;if(!n.isInSelectingRange(o))return!1;var a=n.props,s=a.endDate,u=a.selectsEnd,l=a.selectsRange,c=Ru(vn(),o);return u||l?Ou(c,(i=n.selectingDate())!==null&&i!==void 0?i:null):Ou(c,s??null)},n.isKeyboardSelected=function(o){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var i=n.props,a=i.minDate,s=i.maxDate,u=i.excludeDates,l=i.includeDates,c=i.filterDate,f=gg(Ru(n.props.date,o)),d=(a||s||u||l||c)&&j_(o,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Wr(f,gg(n.props.selected))&&Wr(f,gg(n.props.preSelection))&&!d}},n.onYearClick=function(o,i){var a=n.props.date;a!==void 0&&n.handleYearClick(gg(Ru(a,i)),o)},n.onYearKeyDown=function(o,i){var a,s,u=o.key,l=n.props,c=l.date,f=l.yearItemNumber,d=l.handleOnKeyDown;if(u!==Ot.Tab&&o.preventDefault(),!n.props.disabledKeyboardNavigation)switch(u){case Ot.Enter:if(n.props.selected==null)break;n.onYearClick(o,i),(s=(a=n.props).setPreSelection)===null||s===void 0||s.call(a,n.props.selected);break;case Ot.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,Ul(n.props.preSelection,1));break;case Ot.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,uv(n.props.preSelection,1));break;case Ot.ArrowUp:{if(c===void 0||f===void 0||n.props.preSelection==null)break;var p=zc(c,f).startPeriod,h=OW,m=i-h;if(m<p){var y=f%h;i>=p&&i<p+y?h=y:h+=y,m=i-h}n.handleYearNavigation(m,uv(n.props.preSelection,h));break}case Ot.ArrowDown:{if(c===void 0||f===void 0||n.props.preSelection==null)break;var v=zc(c,f).endPeriod,h=OW,m=i+h;if(m>v){var y=f%h;i<=v&&i>v-y?h=y:h+=y,m=i+h}n.handleYearNavigation(m,Ul(n.props.preSelection,h));break}}d&&d(o)},n.getYearClassNames=function(o){var i=n.props,a=i.date,s=i.minDate,u=i.maxDate,l=i.selected,c=i.excludeDates,f=i.includeDates,d=i.filterDate,p=i.yearClassName;return ct("react-datepicker__year-text","react-datepicker__year-".concat(o),a?p==null?void 0:p(Ru(a,o)):void 0,{"react-datepicker__year-text--selected":l?o===Or(l):void 0,"react-datepicker__year-text--disabled":(s||u||c||f||d)&&j_(o,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(o),"react-datepicker__year-text--range-start":n.isRangeStart(o),"react-datepicker__year-text--range-end":n.isRangeEnd(o),"react-datepicker__year-text--in-range":n.isInRange(o),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(o),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(o),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(o),"react-datepicker__year-text--today":n.isCurrentYear(o)})},n.getYearTabIndex=function(o){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=Or(n.props.preSelection),a=j_(o,n.props);return o===i&&!a?"0":"-1"},n.getYearContent=function(o){return n.props.renderYearContent?n.props.renderYearContent(o):o},n}return r.prototype.render=function(){var t=this,n=[],o=this.props,i=o.date,a=o.yearItemNumber,s=o.onYearMouseEnter,u=o.onYearMouseLeave;if(i===void 0)return null;for(var l=zc(i,a),c=l.startPeriod,f=l.endPeriod,d=function(m){n.push(qe.createElement("div",{ref:p.YEAR_REFS[m-c],onClick:function(y){t.onYearClick(y,m)},onKeyDown:function(y){xG(y)&&(y.preventDefault(),y.key=Ot.Enter),t.onYearKeyDown(y,m)},tabIndex:Number(p.getYearTabIndex(m)),className:p.getYearClassNames(m),onMouseEnter:p.props.usePointerEvent?void 0:function(y){return s(y,m)},onPointerEnter:p.props.usePointerEvent?function(y){return s(y,m)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(y){return u(y,m)},onPointerLeave:p.props.usePointerEvent?function(y){return u(y,m)}:void 0,key:m,"aria-current":p.isCurrentYear(m)?"date":void 0},p.getYearContent(m)))},p=this,h=c;h<=f;h++)d(h);return qe.createElement("div",{className:"react-datepicker__year"},qe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},r}(N.Component);function VAe(e,r,t,n){for(var o=[],i=0;i<2*r+1;i++){var a=e+r-i,s=!0;t&&(s=Or(t)<=a),n&&s&&(s=Or(n)>=a),s&&o.push(a)}return o}var GAe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;n.renderOptions=function(){var s=n.props.year,u=n.state.yearsList.map(function(f){return qe.createElement("div",{className:s===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":s===f?"true":void 0},s===f?qe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),l=n.props.minDate?Or(n.props.minDate):null,c=n.props.maxDate?Or(n.props.maxDate):null;return(!c||!n.state.yearsList.find(function(f){return f===c}))&&u.unshift(qe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},qe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!l||!n.state.yearsList.find(function(f){return f===l}))&&u.push(qe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},qe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},n.onChange=function(s){n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(s){var u=n.state.yearsList.map(function(l){return l+s});n.setState({yearsList:u})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var o=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=o||(i?10:5);return n.state={yearsList:VAe(n.props.year,a,n.props.minDate,n.props.maxDate)},n.dropdownRef=N.createRef(),n}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,o=n?n.find(function(i){return i.ariaSelected}):null;t.scrollTop=o&&o instanceof HTMLElement?o.offsetTop+(o.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=ct({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return qe.createElement(gC,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(N.Component),YAe=function(e){Go(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Or(t.props.minDate):1900,o=t.props.maxDate?Or(t.props.maxDate):2100,i=[],a=n;a<=o;a++)i.push(qe.createElement("option",{key:a,value:a},a));return i},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return qe.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return qe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(o){return t.toggleDropdown(o)}},qe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),qe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return qe.createElement(GAe,Gr({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,o=[t.renderReadView(!n)];return n&&o.unshift(t.renderDropdown()),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,o){var i;(i=t.onSelect)===null||i===void 0||i.call(t,n,o),t.setOpen()},t.onSelect=function(n,o){var i,a;(a=(i=t.props).onSelect)===null||a===void 0||a.call(i,n,o)},t.setOpen=function(){var n,o;(o=(n=t.props).setOpen)===null||o===void 0||o.call(n,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return qe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(N.Component),KAe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],XAe=function(e){var r=(e.className||"").split(/\s+/);return KAe.some(function(t){return r.indexOf(t)>=0})},QAe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(o){n.props.onClickOutside(o)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(o){var i,a;XAe(o.target)&&((a=(i=n.props).onDropdownFocus)===null||a===void 0||a.call(i,o))},n.getDateInView=function(){var o=n.props,i=o.preSelection,a=o.selected,s=o.openToDate,u=gG(n.props),l=yG(n.props),c=vn(),f=s||a||i;return f||(u&&Bd(c,u)?u:l&&df(c,l)?l:c)},n.increaseMonth=function(){n.setState(function(o){var i=o.date;return{date:nu(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(o){var i=o.date;return{date:Cd(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(o,i,a){n.props.onSelect(o,i,a),n.props.setPreSelection&&n.props.setPreSelection(o)},n.handleDayMouseEnter=function(o){n.setState({selectingDate:o}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(o,i){n.setState({selectingDate:Ru(vn(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(o,i)},n.handleYearMouseLeave=function(o,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(o,i)},n.handleYearChange=function(o){var i,a,s,u;(a=(i=n.props).onYearChange)===null||a===void 0||a.call(i,o),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(o),(u=(s=n.props).setOpen)===null||u===void 0||u.call(s,!0)),n.props.setPreSelection&&n.props.setPreSelection(o)},n.getEnabledPreSelectionDateForMonth=function(o){if(!vs(o,n.props))return o;for(var i=Vl(o),a=yAe(o),s=XEe(a,i),u=null,l=0;l<=s;l++){var c=Qs(i,l);if(!vs(c,n.props)){u=c;break}}return u},n.handleMonthChange=function(o){var i,a,s,u=(i=n.getEnabledPreSelectionDateForMonth(o))!==null&&i!==void 0?i:o;n.handleCustomMonthChange(u),n.props.adjustDateOnChange&&(n.props.onSelect(u),(s=(a=n.props).setOpen)===null||s===void 0||s.call(a,!0)),n.props.setPreSelection&&n.props.setPreSelection(u)},n.handleCustomMonthChange=function(o){var i,a;(a=(i=n.props).onMonthChange)===null||a===void 0||a.call(i,o),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(o){n.handleYearChange(o),n.handleMonthChange(o)},n.changeYear=function(o){n.setState(function(i){var a=i.date;return{date:Ru(a,Number(o))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(o){n.setState(function(i){var a=i.date;return{date:Da(a,Number(o))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(o){n.setState(function(i){var a=i.date;return{date:Ru(Da(a,Wi(o)),Or(o))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(o){o===void 0&&(o=n.state.date);var i=rf(o,n.props.locale,n.props.calendarStartDay),a=[];return n.props.showWeekNumbers&&a.push(qe.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(s){var u=Qs(i,s),l=n.formatWeekday(u,n.props.locale),c=n.props.weekDayClassName?n.props.weekDayClassName(u):void 0;return qe.createElement("div",{key:s,"aria-label":In(u,"EEEE",n.props.locale),className:ct("react-datepicker__day-name",c)},l)}))},n.formatWeekday=function(o,i){return n.props.formatWeekDay?xAe(o,n.props.formatWeekDay,i):n.props.useWeekdaysShort?_Ae(o,i):bAe(o,i)},n.decreaseYear=function(){n.setState(function(o){var i,a=o.date;return{date:uv(a,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var o,i,a;if(!n.props.renderCustomHeader){var s=(o=n.props.monthsShown)!==null&&o!==void 0?o:r.defaultProps.monthsShown,u=n.props.showPreviousMonths?s-1:0,l=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:u,c=Cd(n.state.date,l),f;switch(!0){case n.props.showMonthYearPicker:f=wW(n.state.date,n.props);break;case n.props.showYearPicker:f=kAe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=CAe(n.state.date,n.props);break;default:f=bW(c,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],h=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),h=void 0);var m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,v=y.previousMonthButtonLabel,g=v===void 0?r.defaultProps.previousMonthButtonLabel:v,x=y.previousYearButtonLabel,b=x===void 0?r.defaultProps.previousYearButtonLabel:x,w=n.props,E=w.previousMonthAriaLabel,C=E===void 0?typeof g=="string"?g:"Previous Month":E,S=w.previousYearAriaLabel,T=S===void 0?typeof b=="string"?b:"Previous Year":S;return qe.createElement("button",{type:"button",className:p.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":m?T:C},qe.createElement("span",{className:d.join(" ")},m?b:g))}}},n.increaseYear=function(){n.setState(function(o){var i,a=o.date;return{date:Ul(a,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var o;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=SW(n.state.date,n.props);break;case n.props.showYearPicker:i=RAe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=EAe(n.state.date,n.props);break;default:i=_W(n.state.date,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:r.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var u=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(u=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),u=void 0);var l=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,c=n.props,f=c.nextMonthButtonLabel,d=f===void 0?r.defaultProps.nextMonthButtonLabel:f,p=c.nextYearButtonLabel,h=p===void 0?r.defaultProps.nextYearButtonLabel:p,m=n.props,y=m.nextMonthAriaLabel,v=y===void 0?typeof d=="string"?d:"Next Month":y,g=m.nextYearAriaLabel,x=g===void 0?typeof h=="string"?h:"Next Year":g;return qe.createElement("button",{type:"button",className:a.join(" "),onClick:u,onKeyDown:n.props.handleOnKeyDown,"aria-label":l?x:v},qe.createElement("span",{className:s.join(" ")},l?h:d))}}},n.renderCurrentMonth=function(o){o===void 0&&(o=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),qe.createElement("h2",{className:i.join(" ")},In(o,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showYearDropdown||o))return qe.createElement(YAe,Gr({},r.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Or(n.state.date)}))},n.renderMonthDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showMonthDropdown||o))return qe.createElement($Ae,Gr({},r.defaultProps,n.props,{month:Wi(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(o){if(o===void 0&&(o=!1),!(!n.props.showMonthYearDropdown||o))return qe.createElement(UAe,Gr({},r.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(o){n.props.onSelect(vW(),o),n.props.setPreSelection&&n.props.setPreSelection(vW())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return qe.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(o){var i=o.monthDate,a=o.i;return qe.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),qe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(a!==0),n.renderMonthYearDropdown(a!==0),n.renderYearDropdown(a!==0)),qe.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))},n.renderCustomHeader=function(o){var i,a,s=o.monthDate,u=o.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var l=bW(n.state.date,n.props),c=_W(n.state.date,n.props),f=wW(n.state.date,n.props),d=SW(n.state.date,n.props),p=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return qe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(a=(i=n.props).renderCustomHeader)===null||a===void 0?void 0:a.call(i,Gr(Gr({},n.state),{customHeaderCount:u,monthDate:s,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:c,prevYearButtonDisabled:f,nextYearButtonDisabled:d})),p&&qe.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderYearHeader=function(o){var i=o.monthDate,a=n.props,s=a.showYearPicker,u=a.yearItemNumber,l=u===void 0?r.defaultProps.yearItemNumber:u,c=zc(i,l),f=c.startPeriod,d=c.endPeriod;return qe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(f," - ").concat(d):Or(i))},n.renderHeader=function(o){var i=o.monthDate,a=o.i,s=a===void 0?0:a,u={monthDate:i,i:s};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(u);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(u);default:return n.renderDefaultHeader(u)}},n.renderMonths=function(){var o,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var a=[],s=(o=n.props.monthsShown)!==null&&o!==void 0?o:r.defaultProps.monthsShown,u=n.props.showPreviousMonths?s-1:0,l=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ul(n.state.date,u):Cd(n.state.date,u),c=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:u,f=0;f<s;++f){var d=f-c+u,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ul(l,d):nu(l,d),h="month-".concat(f),m=f<s-1,y=f>0;a.push(qe.createElement("div",{key:h,ref:function(v){n.monthContainer=v??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:f}),qe.createElement(BAe,Gr({},r.defaultProps,n.props,{ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:m,monthShowsDuplicateDaysStart:y}))))}return a}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return qe.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),qe.createElement(HAe,Gr({},r.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return qe.createElement(qAe,Gr({},r.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var o=n.props.selected?new Date(n.props.selected):void 0,i=o&&Ml(o)&&!!n.props.selected,a=i?"".concat(EW(o.getHours()),":").concat(EW(o.getMinutes())):"";if(n.props.showTimeInput)return qe.createElement(IAe,Gr({},r.defaultProps,n.props,{date:o,timeString:a,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var o,i=zc(n.state.date,(o=n.props.yearItemNumber)!==null&&o!==void 0?o:r.defaultProps.yearItemNumber),a=i.startPeriod,s=i.endPeriod,u;return n.props.showYearPicker?u="".concat(a," - ").concat(s):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?u=Or(n.state.date):u="".concat(c3(Wi(n.state.date),n.props.locale)," ").concat(Or(n.state.date)),qe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&u)},n.renderChildren=function(){if(n.props.children)return qe.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=N.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:dy}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},r.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Wr(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var o=!$i(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return o&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Wr(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||cAe;return qe.createElement(gC,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},qe.createElement(t,{className:ct("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(N.Component),JAe=function(e){var r=e.icon,t=e.className,n=t===void 0?"":t,o=e.onClick,i="react-datepicker__calendar-icon";return typeof r=="string"?qe.createElement("i",{className:"".concat(i," ").concat(r," ").concat(n),"aria-hidden":"true",onClick:o}):qe.isValidElement(r)?qe.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(i," ").concat(n),onClick:function(a){typeof r.props.onClick=="function"&&r.props.onClick(a),typeof o=="function"&&o(a)}}):qe.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:o},qe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},bG=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return ph.createPortal(this.props.children,this.el)},r}(N.Component),ZAe="[tabindex], a, button, input, select, textarea",eOe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},_G=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var o;return Array.prototype.slice.call((o=n.tabLoopRef.current)===null||o===void 0?void 0:o.querySelectorAll(ZAe),1,-1).filter(eOe)},n.handleFocusStart=function(){var o=n.getTabChildren();o&&o.length>1&&o[o.length-1].focus()},n.handleFocusEnd=function(){var o=n.getTabChildren();o&&o.length>1&&o[0].focus()},n.tabLoopRef=N.createRef(),n}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?qe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},qe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,qe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(N.Component);function tOe(e){var r=function(t){var n,o=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=N.useRef(null),a=lAe(Gr({open:!o,whileElementsMounted:zTe,placement:t.popperPlacement,middleware:Bu([YTe({padding:15}),GTe(10),KTe({element:i})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),s=Gr(Gr({},t),{hidePopper:o,popperProps:Gr(Gr({},a),{arrowRef:i})});return qe.createElement(e,Gr({},s))};return r}var rOe=function(e){Go(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t=this.props,n=t.className,o=t.wrapperClassName,i=t.hidePopper,a=i===void 0?r.defaultProps.hidePopper:i,s=t.popperComponent,u=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,f=t.portalId,d=t.portalHost,p=t.popperProps,h=t.showArrow,m=void 0;if(!a){var y=ct("react-datepicker-popper",n);m=qe.createElement(_G,{enableTabLoop:l},qe.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:y,"data-placement":p.placement,onKeyDown:c},s,h&&qe.createElement(rAe,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=N.createElement(this.props.popperContainer,{},m)),f&&!a&&(m=qe.createElement(bG,{portalId:f,portalHost:d},m));var v=ct("react-datepicker-wrapper",o);return qe.createElement(qe.Fragment,null,qe.createElement("div",{ref:p.refs.setReference,className:v},u),m)},r}(N.Component),nOe=tOe(rOe),DW="react-datepicker-ignore-onclickoutside";function oOe(e,r){return e&&r?Wi(e)!==Wi(r)||Or(e)!==Or(r):e!==r}var rA="Date input not valid.",iOe=function(e){Go(r,e);function r(t){var n=e.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:vn()},n.modifyHolidays=function(){var o;return(o=n.props.holidays)===null||o===void 0?void 0:o.reduce(function(i,a){var s=new Date(a.date);return Ml(s)?Bu(Bu([],i,!0),[Gr(Gr({},a),{date:s})],!1):i},[])},n.calcInitialState=function(){var o,i=n.getPreSelection(),a=gG(n.props),s=yG(n.props),u=a&&Bd(i,B_(a))?a:s&&df(i,mW(s))?s:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(o=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&o!==void 0?o:u,highlightDates:CW(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Gr(Gr({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Gr(Gr({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.safeFocus=function(){setTimeout(function(){var o,i;(i=(o=n.input)===null||o===void 0?void 0:o.focus)===null||i===void 0||i.call(o,{preventScroll:!0})},0)},n.safeBlur=function(){setTimeout(function(){var o,i;(i=(o=n.input)===null||o===void 0?void 0:o.blur)===null||i===void 0||i.call(o)},0)},n.setFocus=function(){n.safeFocus()},n.setBlur=function(){n.safeBlur(),n.cancelFocusInput()},n.setOpen=function(o,i){i===void 0&&(i=!1),n.setState({open:o,preSelection:o&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:nA},function(){o||n.setState(function(a){return{focused:i?a.focused:!1}},function(){!i&&n.setBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ql(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(o){var i,a,s=n.state.wasHidden,u=s?n.state.open:!0;s&&n.resetHiddenStatus(),!n.state.preventFocus&&u&&((a=(i=n.props).onFocus)===null||a===void 0||a.call(i,o),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(o){var i,a;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((a=(i=n.props).onBlur)===null||a===void 0||a.call(i,o)),n.setState({focused:!1})},n.handleCalendarClickOutside=function(o){var i,a;n.props.inline||n.setOpen(!1),(a=(i=n.props).onClickOutside)===null||a===void 0||a.call(i,o),n.props.withPortal&&o.preventDefault()},n.handleChange=function(){for(var o,i,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=a[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,a),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){n.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:aOe});var l=n.props,c=l.dateFormat,f=c===void 0?r.defaultProps.dateFormat:c,d=l.strictParsing,p=d===void 0?r.defaultProps.strictParsing:d,h=l.selectsRange,m=l.startDate,y=l.endDate,v=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(h){var g=v.split("-",2).map(function(k){return k.trim()}),x=g[0],b=g[1],w=ZT(x??"",f,n.props.locale,p),E=ZT(b??"",f,n.props.locale,p),C=(m==null?void 0:m.getTime())!==(w==null?void 0:w.getTime()),S=(y==null?void 0:y.getTime())!==(E==null?void 0:E.getTime());if(!C&&!S||w&&vs(w,n.props)||E&&vs(E,n.props))return;(i=(o=n.props).onChange)===null||i===void 0||i.call(o,[w,E],u)}else{var T=ZT(v,f,n.props.locale,p,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&T&&!Wr(T,n.props.selected)&&(T=uTe(n.props.selected,{hours:Hu(T),minutes:Vu(T),seconds:Hl(T)})),(T||!v)&&n.setSelected(T,u,!0)}}},n.handleSelect=function(o,i,a){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(o,i,!1,a),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(o);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var s=n.props,u=s.startDate,l=s.endDate;u&&!l&&(n.props.swapRange||!TW(o,u))&&n.setOpen(!1)}},n.setSelected=function(o,i,a,s){var u,l,c=o;if(n.props.showYearPicker){if(c!==null&&j_(Or(c),n.props))return}else if(n.props.showMonthYearPicker){if(c!==null&&mG(c,n.props))return}else if(c!==null&&vs(c,n.props))return;var f=n.props,d=f.onChange,p=f.selectsRange,h=f.startDate,m=f.endDate,y=f.selectsMultiple,v=f.selectedDates,g=f.minTime,x=f.swapRange;if(!vd(n.props.selected,c)||n.props.allowSameDay||p||y)if(c!==null&&(n.props.selected&&(!a||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(c=eA(c,{hour:Hu(n.props.selected),minute:Vu(n.props.selected),second:Hl(n.props.selected)})),!a&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&g&&(c=eA(c,{hour:g.getHours(),minute:g.getMinutes(),second:g.getSeconds()})),n.props.inline||n.setState({preSelection:c}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:s})),p){var b=!h&&!m,w=h&&!m,E=h&&m;b?d==null||d([c,null],i):w&&(c===null?d==null||d([null,null],i):TW(c,h)?x?d==null||d([c,h],i):d==null||d([c,null],i):d==null||d([h,c],i)),E&&(d==null||d([c,null],i))}else if(y){if(c!==null)if(!(v!=null&&v.length))d==null||d([c],i);else{var C=v.some(function(T){return Wr(T,c)});if(C){var S=v.filter(function(T){return!Wr(T,c)});d==null||d(S,i)}else d==null||d(Bu(Bu([],v,!0),[c],!1),i)}}else d==null||d(c,i);a||((l=(u=n.props).onSelect)===null||l===void 0||l.call(u,c,i),n.setState({inputValue:null}))},n.setPreSelection=function(o){var i=ql(n.props.minDate),a=ql(n.props.maxDate),s=!0;if(o){var u=B_(o);if(i&&a)s=yg(o,n.props.minDate,n.props.maxDate);else if(i){var l=B_(n.props.minDate);s=df(o,l)||vd(u,l)}else if(a){var c=mW(n.props.maxDate);s=Bd(o,c)||vd(u,c)}}s&&n.setState({preSelection:o})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(o){var i,a;if(!(n.props.selectsRange||n.props.selectsMultiple)){var s=n.props.selected?n.props.selected:n.getPreSelection(),u=n.props.selected?o:eA(s,{hour:Hu(o),minute:Vu(o)});n.setState({preSelection:u}),(a=(i=n.props).onChange)===null||a===void 0||a.call(i,u),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var o,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(o=n.props).onInputClick)===null||i===void 0||i.call(o)},n.onInputKeyDown=function(o){var i,a,s,u,l,c;(a=(i=n.props).onKeyDown)===null||a===void 0||a.call(i,o);var f=o.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===Ot.ArrowDown||f===Ot.ArrowUp||f===Ot.Enter)&&((s=n.onInputClick)===null||s===void 0||s.call(n));return}if(n.state.open){if(f===Ot.ArrowDown||f===Ot.ArrowUp){o.preventDefault();var d=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((u=n.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(d);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var h=vn(n.state.preSelection);f===Ot.Enter?(o.preventDefault(),o.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===nA?(n.handleSelect(h,o),!n.props.shouldCloseOnSelect&&n.setPreSelection(h)):n.setOpen(!1)):f===Ot.Escape?(o.preventDefault(),o.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===Ot.Tab&&n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:rA})}},n.onPortalKeyDown=function(o){var i=o.key;i===Ot.Escape&&(o.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(o){var i,a,s,u,l,c,f=n.props,d=f.minDate,p=f.maxDate,h=f.disabledKeyboardNavigation,m=f.showWeekPicker,y=f.shouldCloseOnSelect,v=f.locale,g=f.calendarStartDay,x=f.adjustDateOnChange,b=f.inline;if((a=(i=n.props).onKeyDown)===null||a===void 0||a.call(i,o),!h){var w=o.key,E=o.shiftKey,C=vn(n.state.preSelection),S=function(D,$){var B=$;switch(D){case Ot.ArrowRight:B=m?D2($,1):Qs($,1);break;case Ot.ArrowLeft:B=m?iW($):HRe($);break;case Ot.ArrowUp:B=iW($);break;case Ot.ArrowDown:B=D2($,1);break;case Ot.PageUp:B=E?uv($,1):Cd($,1);break;case Ot.PageDown:B=E?Ul($,1):nu($,1);break;case Ot.Home:B=rf($,v,g);break;case Ot.End:B=gAe($);break}return B},T=function(D,$){for(var B=40,W=D,L=!1,z=0,U=S(D,$);!L;){if(z>=B){U=$;break}d&&U<d&&(W=Ot.ArrowRight,U=vs(d,n.props)?S(W,U):d),p&&U>p&&(W=Ot.ArrowLeft,U=vs(p,n.props)?S(W,U):p),vs(U,n.props)?((W===Ot.PageUp||W===Ot.Home)&&(W=Ot.ArrowRight),(W===Ot.PageDown||W===Ot.End)&&(W=Ot.ArrowLeft),U=S(W,U)):L=!0,z++}return U};if(w===Ot.Enter){o.preventDefault(),n.handleSelect(C,o),!y&&n.setPreSelection(C);return}else if(w===Ot.Escape){o.preventDefault(),n.setOpen(!1),n.inputOk()||(u=(s=n.props).onInputError)===null||u===void 0||u.call(s,{code:1,msg:rA});return}var k=null;switch(w){case Ot.ArrowLeft:case Ot.ArrowRight:case Ot.ArrowUp:case Ot.ArrowDown:case Ot.PageUp:case Ot.PageDown:case Ot.Home:case Ot.End:k=T(w,C);break}if(!k){(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:rA});return}if(o.preventDefault(),n.setState({lastPreSelectChange:nA}),x&&n.setSelected(k),n.setPreSelection(k),b){var P=Wi(C),I=Wi(k),F=Or(C),A=Or(k);P!==I||F!==A?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(o){var i=o.key;i===Ot.Escape&&(o.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(o){o&&o.preventDefault&&o.preventDefault(),n.sendFocusBackToInput();var i=n.props,a=i.selectsRange,s=i.onChange;a?s==null||s([null,null],o):s==null||s(null,o),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(o){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(o.target===document||o.target===document.documentElement||o.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(o)&&n.setOpen(!1)},n.renderCalendar=function(){var o,i;return!n.props.inline&&!n.isCalendarOpen()?null:qe.createElement(QAe,Gr({showMonthYearDropdown:void 0,ref:function(a){n.calendar=a}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(o=n.props.dateFormatCalendar)!==null&&o!==void 0?o:r.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:AAe(n.modifyHolidays()),outsideClickIgnoreClass:DW,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var o=n.props,i=o.dateFormat,a=i===void 0?r.defaultProps.dateFormat:i,s=o.locale,u=n.props.showTimeInput||n.props.showTimeSelect,l=u?"PPPPp":"PPPP",c;return n.props.selectsRange?c="Selected start date: ".concat(cs(n.props.startDate,{dateFormat:l,locale:s}),". ").concat(n.props.endDate?"End date: "+cs(n.props.endDate,{dateFormat:l,locale:s}):""):n.props.showTimeSelectOnly?c="Selected time: ".concat(cs(n.props.selected,{dateFormat:a,locale:s})):n.props.showYearPicker?c="Selected year: ".concat(cs(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?c="Selected month: ".concat(cs(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?c="Selected quarter: ".concat(cs(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(cs(n.props.selected,{dateFormat:l,locale:s})),qe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},n.renderDateInput=function(){var o,i,a,s=ct(n.props.className,(o={},o[DW]=n.state.open,o)),u=n.props.customInput||qe.createElement("input",{type:"text"}),l=n.props.customInputRef||"ref",c=n.props,f=c.dateFormat,d=f===void 0?r.defaultProps.dateFormat:f,p=c.locale,h=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?pAe(n.props.startDate,n.props.endDate,{dateFormat:d,locale:p}):n.props.selectsMultiple?hAe((a=n.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:d,locale:p}):cs(n.props.selected,{dateFormat:d,locale:p});return N.cloneElement(u,(i={},i[l]=function(m){n.input=m},i.value=h,i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=ct(u.props.className,s),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var o=n.props,i=o.isClearable,a=o.disabled,s=o.selected,u=o.startDate,l=o.endDate,c=o.clearButtonTitle,f=o.clearButtonClassName,d=f===void 0?"":f,p=o.ariaLabelClose,h=p===void 0?"Close":p,m=o.selectedDates;return i&&(s!=null||u!=null||l!=null||m!=null&&m.length)?qe.createElement("button",{type:"button",className:ct("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":h,onClick:n.onClearClick,title:c,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:dy,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,n){var o,i,a,s;t.inline&&oOe(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:CW(this.props.highlightDates)}),!n.focused&&!vd(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(o=this.props).onCalendarOpen)===null||i===void 0||i.call(o)),n.open===!0&&this.state.open===!1&&((s=(a=this.props).onCalendarClose)===null||s===void 0||s.call(a)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,o=t.icon,i=t.calendarIconClassname,a=t.calendarIconClassName,s=t.toggleCalendarOnIconClick,u=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),qe.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&qe.createElement(JAe,Gr({icon:o,className:ct(a,!a&&i,u&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?qe.createElement(_G,{enableTabLoop:this.props.enableTabLoop},qe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=qe.createElement(bG,Gr({portalId:this.props.portalId},this.props),n)),qe.createElement("div",null,this.renderInputContainer(),n)}return qe.createElement(nOe,Gr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(N.Component),aOe="input",nA="navigate";const q1=e=>{if(!e)return null;const r=new Date(e);if(isNaN(r.getTime()))return null;const t=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${t}`},oA=e=>{if(!e)return null;if(typeof e=="string"&&(e!=null&&e.includes("-")))if(e!=null&&e.includes("T")){const r=e.split("T"),[t,n,o]=r[0].split("-"),i=new Date(t,n-1,o);return isNaN(i.getTime())?null:i}else{const[r,t,n]=e.split("-"),o=new Date(r,t-1,n);return isNaN(o.getTime())?null:o}return null},sOe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),uOe=Ye("div")(({theme:e})=>({"& .react-datepicker-wrapper":{width:"100%",position:"relative"},"& .react-datepicker":{position:"absolute",left:-140,top:0,backgroundColor:e.palette.background.paper,color:e.palette.text.brand,border:`1px solid ${e.palette.divider}`,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[3],"& .react-datepicker__header":{backgroundColor:e.palette.background.paper,borderBottom:`1px solid ${e.palette.divider}`,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,padding:"10px 0"},"& .react-datepicker__current-month":{color:e.palette.text.brand,fontWeight:e.typography.fontWeightBold,fontSize:e.typography.pxToRem(16),marginBottom:"10px"},"& .react-datepicker__day-name, & .react-datepicker__day":{color:e.palette.text.brand,width:"2rem",lineHeight:"2rem",margin:"0.2rem",borderRadius:"50%"},"& .react-datepicker__day--selected, & .react-datepicker__day--keyboard-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,borderRadius:"50%",fontWeight:e.typography.fontWeightBold},"& .react-datepicker__day:hover":{backgroundColor:e.palette.action.hover},"& .react-datepicker__day--disabled":{color:"#c4c4c4",cursor:"not-allowed","&:hover":{backgroundColor:"transparent"}},"& .react-datepicker__day--outside-month":{color:e.palette.text.secondary},"& .react-datepicker__navigation":{top:"12px"},"& .react-datepicker__year-select, & .react-datepicker__month-select":{padding:e.spacing(.5),borderRadius:e.shape.borderRadius,border:`1px solid ${e.palette.divider}`}}})),wG=N.forwardRef(function({value:r,onClick:t,label:n,error:o,helperText:i,isVerified:a,mandatory:s,isClearable:u,onClear:l,isFieldsDisabled:c,updateHasChanges:f,bestFitLayout:d,showFieldLabel:p,...h},m){const y=Sr();return O.jsxs(Re,{sx:{minWidth:d?350:150,maxWidth:350,mx:d?"":"auto",my:2},children:[n&&p&&O.jsxs(sOe,{sx:{color:y.palette.secondary.main,ml:2,mb:1,fontWeight:"bold",fontSize:"16px",display:"block"},children:[n,s&&n&&O.jsx("span",{className:"required-star",children:"*"})]}),O.jsx(Ga,{fullWidth:!0,inputRef:m,onClick:c?void 0:t,value:r,error:o,helperText:i,variant:"outlined",sx:{backgroundColor:y.palette.primary.white,"& .MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${y.palette.grey[200]}`,transition:"all 0.2s ease-in-out","&.Mui-disabled":{color:"#c4c4c4"},"&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${y.palette.grey[400]}`,"& fieldset":{borderColor:"primary.main"}},"& fieldset":{borderWidth:"1px",borderColor:`${y.palette.grey[400]}`},"&:hover fieldset":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiInputBase-input":{px:2,py:1,fontSize:14.12,"&::placeholder":{color:"#555555",opacity:.7}}},InputProps:{readOnly:!0,endAdornment:O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,mr:1,height:"100%"},children:[r&&u&&!c&&O.jsx(Re,{onClick:v=>{v.stopPropagation(),l()},sx:{cursor:"pointer",display:"flex",alignItems:"center",height:"100%",padding:"0 8px","&:hover":{backgroundColor:"action.hover"}},children:O.jsxs("svg",{height:"16",width:"16",viewBox:"0 0 16 16",style:{display:"block"},children:[O.jsx("circle",{cx:"8",cy:"8",r:"8",fill:y.palette.primary.grey}),O.jsx("line",{x1:"4",y1:"4",x2:"12",y2:"12",stroke:y.palette.primary.white,strokeWidth:"2"}),O.jsx("line",{x1:"12",y1:"4",x2:"4",y2:"12",stroke:y.palette.primary.white,strokeWidth:"2"})]})}),a&&O.jsx(UI,{color:"success"})]})},...h})]})});wG.propTypes={value:fe.string,onClick:fe.func,label:fe.string,error:fe.bool,helperText:fe.string,isVerified:fe.bool,mandatory:fe.bool,isClearable:fe.bool,onClear:fe.func,isFieldsDisabled:fe.bool,bestFitLayout:fe.bool};function SG({field:e,defaultValue:r="",fieldPath:t,infoPaneDerivedFieldName:n,isFieldsDisabled:o=!1,updateHasChanges:i,bestFitLayout:a,showFieldLabel:s}){var I,F;const{responseObject:u,setResponseObject:l,pan:c,setPan:f,aadhaar:d,setAadhaar:p,setTrusted:h,trusted:m}=N.useContext(tr),[y,v]=N.useState(!1),[g,x]=N.useState(""),b=N.useRef(null),w=N.useRef(!1),E=(A,D)=>{const $=A.split("."),B=$.indexOf(D);return B!==-1?$.slice(0,B+1).join("."):A},[C,S]=N.useState(()=>{const A=Ze(u,t);return A?oA(A):null});N.useEffect(()=>{var A,D,$;if(!w.current){let B=null;const W=E(t,n),L=Ze(u,W),z=L==null?void 0:L._ver_status;if((z==null?void 0:z.status)==="success"){S(B),w.current=!0;return}if((A=e.default_value)!=null&&A.startsWith("$..")){const U=e.default_value.replace("$..","");B=lOe(u,U)}else!((D=e.default_value)!=null&&D.startsWith("@."))&&!(($=e.default_value)!=null&&$.startsWith("$."))&&(B=e.default_value||r);if(!Ze(u,t)&&B){const U=dt(u,t,q1(B));l(U),sessionStorage.setItem("formResponse",JSON.stringify(U))}S(B),w.current=!0}},[e.default_value,r,t,u,l,n,e]),N.useEffect(()=>{const A=Ze(u,t);if(A){const D=oA(A);D&&(!C||D.getTime()!==C.getTime())&&S(D)}},[u,t,C]),N.useEffect(()=>{var A,D,$,B,W,L,z;if((A=e.field_notation)!=null&&A.includes("FLD.PAN.")||(D=e.field_notation)!=null&&D.includes("FLD.AADHAAR.")||($=e.field_notation)!=null&&$.includes("FLD.OVD")||(B=e.field_notation)!=null&&B.includes("FLD.")){const U=e.field_notation.split(".").pop(),Y=(W=e.field_notation)==null?void 0:W.includes("FLD.PAN."),q=Y?(L=m==null?void 0:m.response)==null?void 0:L[U]:(z=d==null?void 0:d.response)==null?void 0:z[U];if(q!==void 0&&q!==b.current)try{let V;if(typeof q=="object"?V=q1(q):q?V=q1(new Date(q)):V=null,V){const H=oA(V);if(H){S(H),b.current=q;const Z=dt(u,t,V);sessionStorage.setItem("formResponse",JSON.stringify(Z)),l(Z)}if(Y){const Z={...c,response:{...c.response,[U]:void 0}};f(Z)}else{const Z={...d,response:{...d.response,[U]:void 0}};p(Z)}}}catch(V){console.error("Error processing date value:",V),v(!0),x(`Invalid date format from ${Y?"PAN":"Aadhaar"} data`)}}},[e.field_notation,t,c,d,u,f,p,l]);const T=A=>{var D;if(!o)try{if((D=e==null?void 0:e.meta)!=null&&D.only_future&&A&&A<new Date){S(null),v(!0),x("Past dates are not allowed for this field.");return}if(S(A),e.mandatory&&!A?(v(!0),x("This field is required")):(v(!1),x("")),t){const $=q1(A),B=dt(u,t,$);sessionStorage.setItem("formResponse",JSON.stringify(B)),i(),l(B)}}catch($){console.error("Error handling date change:",$),v(!0),x("Invalid date format")}},k=()=>{o||T(null)};N.useEffect(()=>{var A;e.mandatory&&!C?(v(!0),x("This field is required")):(A=e==null?void 0:e.meta)!=null&&A.only_future&&C&&C<new Date&&(v(!0),x("Past dates are not allowed for this field."))},[e.mandatory,C,(I=e==null?void 0:e.meta)==null?void 0:I.only_future]);const P=(F=e==null?void 0:e.meta)!=null&&F.only_future?new Date:null;return O.jsx(Re,{children:O.jsx(xa,{required:e.mandatory,fullWidth:!0,error:y,sx:{minWidth:120},children:O.jsx(uOe,{children:O.jsx(iOe,{id:e.derived_field_name,selected:C,onChange:T,customInput:O.jsx(wG,{label:e.title,error:y,helperText:g,isVerified:!1,mandatory:e.mandatory,isClearable:!e.mandatory,onClear:k,isFieldsDisabled:o,bestFitLayout:a,showFieldLabel:s}),dateFormat:"dd/MM/yyyy",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",disabled:e.editable===!1||o,placeholderText:e.description,isClearable:!1,minDate:P})})})})}SG.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,editable:fe.bool,field_notation:fe.string,meta:fe.shape({only_future:fe.bool})}).isRequired,defaultValue:fe.string,fieldPath:fe.string,infoPaneDerivedFieldName:fe.string,isFieldsDisabled:fe.bool,updateHasChanges:fe.func,bestFitLayout:fe.bool,showFieldLabel:fe.bool};const lOe=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t};var CG={exports:{}};(function(e,r){(function(n,o){e.exports=o(N)})(wr,function(t){return function(n){var o={};function i(a){if(o[a])return o[a].exports;var s=o[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(a,s,u){i.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:u})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,s){if(s&1&&(a=i(a)),s&8||s&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),s&2&&typeof a!="string")for(var l in a)i.d(u,l,(function(c){return a[c]}).bind(null,l));return u},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,o,i){i.r(o);var a=i("react"),s=function(){var d=function(p,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var v in y)y.hasOwnProperty(v)&&(m[v]=y[v])},d(p,h)};return function(p,h){d(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),u=function(){return u=Object.assign||function(d){for(var p,h=1,m=arguments.length;h<m;h++){p=arguments[h];for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(d[y]=p[y])}return d},u.apply(this,arguments)},l=function(d,p){var h={};for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&p.indexOf(m)<0&&(h[m]=d[m]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,m=Object.getOwnPropertySymbols(d);y<m.length;y++)p.indexOf(m[y])<0&&Object.prototype.propertyIsEnumerable.call(d,m[y])&&(h[m[y]]=d[m[y]]);return h};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(p){var h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return h?new Promise(function(m,y){h.call(navigator,p,m,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=function(d){s(p,d);function p(h){var m=d.call(this,h)||this;return m.canvas=null,m.ctx=null,m.requestUserMediaId=0,m.unmounted=!1,m.state={hasUserMedia:!1},m}return p.prototype.componentDidMount=function(){var h=this,m=h.state,y=h.props;if(this.unmounted=!1,!c()){y.onUserMediaError("getUserMedia not supported");return}m.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},p.prototype.componentDidUpdate=function(h){var m=this.props;if(!c()){m.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(h.audioConstraints)!==JSON.stringify(m.audioConstraints),v=JSON.stringify(h.videoConstraints)!==JSON.stringify(m.videoConstraints),g=h.minScreenshotWidth!==m.minScreenshotWidth,x=h.minScreenshotHeight!==m.minScreenshotHeight;(v||g||x)&&(this.canvas=null,this.ctx=null),(y||v)&&(this.stopAndCleanup(),this.requestUserMedia())},p.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},p.stopMediaStream=function(h){h&&(h.getVideoTracks&&h.getAudioTracks?(h.getVideoTracks().map(function(m){h.removeTrack(m),m.stop()}),h.getAudioTracks().map(function(m){h.removeTrack(m),m.stop()})):h.stop())},p.prototype.stopAndCleanup=function(){var h=this.state;h.hasUserMedia&&(p.stopMediaStream(this.stream),h.src&&window.URL.revokeObjectURL(h.src))},p.prototype.getScreenshot=function(h){var m=this,y=m.state,v=m.props;if(!y.hasUserMedia)return null;var g=this.getCanvas(h);return g&&g.toDataURL(v.screenshotFormat,v.screenshotQuality)},p.prototype.getCanvas=function(h){var m=this,y=m.state,v=m.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,x=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var b=g/x;g=v.minScreenshotWidth||this.video.clientWidth,x=g/b,v.minScreenshotHeight&&x<v.minScreenshotHeight&&(x=v.minScreenshotHeight,g=x*b)}this.canvas=document.createElement("canvas"),this.canvas.width=(h==null?void 0:h.width)||g,this.canvas.height=(h==null?void 0:h.height)||x,this.ctx=this.canvas.getContext("2d")}var w=this,E=w.ctx,C=w.canvas;return E&&C&&(C.width=(h==null?void 0:h.width)||C.width,C.height=(h==null?void 0:h.height)||C.height,v.mirrored&&(E.translate(C.width,0),E.scale(-1,1)),E.imageSmoothingEnabled=v.imageSmoothing,E.drawImage(this.video,0,0,(h==null?void 0:h.width)||C.width,(h==null?void 0:h.height)||C.height),v.mirrored&&(E.scale(-1,1),E.translate(-C.width,0))),C},p.prototype.requestUserMedia=function(){var h=this,m=this.props,y=function(x,b){var w={video:typeof b<"u"?b:!0};m.audio&&(w.audio=typeof x<"u"?x:!0),h.requestUserMediaId++;var E=h.requestUserMediaId;navigator.mediaDevices.getUserMedia(w).then(function(C){h.unmounted||E!==h.requestUserMediaId?p.stopMediaStream(C):h.handleUserMedia(null,C)}).catch(function(C){h.handleUserMedia(C)})};if("mediaDevices"in navigator)y(m.audioConstraints,m.videoConstraints);else{var v=function(x){return{optional:[{sourceId:x}]}},g=function(x){var b=x.deviceId;return typeof b=="string"?b:Array.isArray(b)&&b.length>0?b[0]:typeof b=="object"&&b.ideal?b.ideal:null};MediaStreamTrack.getSources(function(x){var b=null,w=null;x.forEach(function(S){S.kind==="audio"?b=S.id:S.kind==="video"&&(w=S.id)});var E=g(m.audioConstraints);E&&(b=E);var C=g(m.videoConstraints);C&&(w=C),y(v(b),v(w))})}},p.prototype.handleUserMedia=function(h,m){var y=this.props;if(h||!m){this.setState({hasUserMedia:!1}),y.onUserMediaError(h);return}this.stream=m;try{this.video&&(this.video.srcObject=m),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(m)})}y.onUserMedia(m)},p.prototype.render=function(){var h=this,m=this,y=m.state,v=m.props,g=v.audio;v.forceScreenshotSourceSize;var x=v.disablePictureInPicture;v.onUserMedia,v.onUserMediaError,v.screenshotFormat,v.screenshotQuality,v.minScreenshotWidth,v.minScreenshotHeight,v.audioConstraints,v.videoConstraints,v.imageSmoothing;var b=v.mirrored,w=v.style,E=w===void 0?{}:w,C=v.children,S=l(v,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=b?u(u({},E),{transform:(E.transform||"")+" scaleX(-1)"}):E,k={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",u({autoPlay:!0,disablePictureInPicture:x,src:y.src,muted:!g,playsInline:!0,ref:function(P){h.video=P},style:T},S)),C&&C(k))},p.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},p}(a.Component);o.default=f},react:function(n,o){n.exports=t}}).default})})(CG);var cOe=CG.exports;const yC=rl(cOe);let fOe=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((r,t)=>(t&=63,t<36?r+=t.toString(36):t<62?r+=(t-26).toString(36).toUpperCase():t>62?r+="-":r+="_",r),"");const dOe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),EG=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a=!1,bestFitLayout:s,showFieldLabel:u})=>{var Z,ue,oe;const[l,c]=N.useState(r),[f,d]=N.useState(""),p=Sr(),{isMobile:h}=cu(),[m,y]=N.useState(!1),v=N.useRef(null),[g,x]=N.useState(null),[b,w]=N.useState(""),{responseObject:E,setResponseObject:C,setUploadedFiles:S,uploadedFiles:T,lyikForm:k,setModalOpen:P,setErrorMessage:I,setTrustedApiFailure:F}=N.useContext(tr),A=(Z=e.field_notation)==null?void 0:Z.replace("API.",""),D=MC(A,n,t),{getDocument:$,loading:B}=AS(),W=(ue=e.field_notation)==null?void 0:ue.includes("API."),L=N.useContext(Ti);N.useEffect(()=>{const ee=Ze(E,n);if(ee!=null&&ee.doc_name?(c(ee.doc_name),x(ee)):c(ee),ee&&typeof ee=="string")if((T==null?void 0:T.length)>0){const ne=T==null?void 0:T.find(pe=>pe.filename===ee);if(console.log("Existing File: ",ne),!ne){c("");const pe=dt(E,n,null);C(pe),sessionStorage.setItem("formResponse",JSON.stringify(pe))}}else{const ne=T==null?void 0:T.find(pe=>pe.filename===ee);if(console.log("Existing File: ",ne),!ne){c("");const pe=dt(E,n,null);C(pe),sessionStorage.setItem("formResponse",JSON.stringify(pe))}}if(ee&&(T!=null&&T.length)){const ne=T.find(pe=>pe.filename===ee);if(ne!=null&&ne.file&&ne.file.type.startsWith("image/")){const pe=URL.createObjectURL(ne.file);d(pe)}}},[n,E,T]);const z=async()=>{if(g&&(k!=null&&k.uri))try{const ne=await $(k.uri,g==null?void 0:g.doc_id);if(d(ne),((g==null?void 0:g.doc_name.toLowerCase())||"").includes(".pdf"))var ee=window.open(ne)}catch(ne){console.error("Error retrieving document:",ne),I("Cannot Fetch Document: contact the administrator"),P(!0)}},U=()=>fOe(8),Y=async ee=>{var pe,J;if(a)return;w("");const ne=ee.target.files[0];if(ne){let se=[];if((pe=e.meta)!=null&&pe.file_type?se=e.meta.file_type.split(",").map(de=>de.trim().toLowerCase()).map(de=>{switch(de){case".pdf":return"application/pdf";case".jpg":case".jpeg":return"image/jpeg";case".png":return"image/png";default:return""}}).filter(de=>de!==""):se=["image/jpeg","image/png"],!se.includes(ne.type)){w(`Invalid file type. Allowed file types are: ${((J=e.meta)==null?void 0:J.file_type)||"JPG, JPEG, PNG"}`);return}const j=ne.name,ce=j.lastIndexOf("."),re=j.substring(0,ce),Q=j.substring(ce),G=`${re}_${U()}${Q}`;c(G),x(null);const X=URL.createObjectURL(ne);if(d(X),S(te=>{const de=new File([ne],G,{type:ne.type});return[...te,{file:de,filename:G}]}),e.derived_field_name&&n){let te=dt(E,n,G);if(sessionStorage.setItem("formResponse",JSON.stringify(te)),C(te),W&&ne){o("Fetching Data"),i(!0);try{const de={[e==null?void 0:e.derived_field_name]:ne.name},ae=await D.uploadTrusted(de,ne);(ae==null?void 0:ae.status)==="failure"&&F(ye=>({...ye,[n]:ae==null?void 0:ae.message})),(ae==null?void 0:ae.status)!=="failure"&&F(ye=>{typeof ye=="object"&&ye[n]&&delete ye[n]})}catch(de){console.error("Error processing PAN OCR:",de),o(""),i(!1)}finally{o(""),i(!1)}}}}},q=()=>{if(a)return;const ee=l||E[n];if(ee&&T&&S(ne=>ne.filter(pe=>pe.filename!==ee)),f&&(URL.revokeObjectURL(f),d("")),c(""),x(null),w(""),e.derived_field_name&&n){const ne=dt(E,n,null);sessionStorage.setItem("formResponse",JSON.stringify(ne)),C(ne)}e.derived_field_name==="cancelled_cheque_image"&&L()},V=()=>{if(v.current){const ee=v.current.getScreenshot();fetch(ee).then(ne=>ne.blob()).then(ne=>{const pe=new File([ne],"captured_photo.jpg",{type:"image/jpeg"});H(pe),y(!1)})}},H=async ee=>{const ne=ee.name,pe=ne.lastIndexOf("."),J=ne.substring(0,pe),se=ne.substring(pe),j=`${J}_${U()}${se}`;c(j);const ce=URL.createObjectURL(ee);if(d(ce),S(re=>[...re,{filename:j,file:ee}]),e.derived_field_name&&n){let re=dt(E,n,j);if(sessionStorage.setItem("formResponse",JSON.stringify(re)),C(re),W&&ee){o("Fetching Data"),i(!0);try{const Q={[e==null?void 0:e.derived_field_name]:ee.name},G=await D.uploadTrusted(Q,ee)}catch(Q){console.error("Error processing PAN OCR:",Q),o(""),i(!1)}finally{o(""),i(!1)}}}};return O.jsxs(Re,{sx:{my:2,minWidth:s?350:150,maxWidth:350,mx:s?"":"auto"},children:[O.jsxs(xa,{fullWidth:!0,children:[u&&O.jsxs(dOe,{sx:{mb:1,ml:2,fontWeight:"bold",fontSize:"16px",color:p.palette.secondary.main},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),b&&O.jsx(f0,{severity:"error",sx:{mb:2},children:b}),l?O.jsxs(Re,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:2,p:2,backgroundColor:p.palette.primary.white},children:[O.jsx(Md,{in:!!f,timeout:1e3,children:!(l!=null&&l.includes("pdf"))&&O.jsx(Re,{sx:{mb:2},children:O.jsx(Re,{component:"img",src:f,alt:"Preview",sx:{width:"100%",height:"300px",borderRadius:1,objectFit:"contain",backgroundColor:"grey.100"}})})}),O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[f?O.jsx(HI,{sx:{color:"grey.600",fontSize:20}}):O.jsx(k2,{sx:{color:"grey.600",fontSize:20}}),g!=null&&g.doc_id&&!f?O.jsx(Rv,{component:"button",onClick:z,disabled:B,sx:{color:"secondary.main",fontWeight:500,textDecoration:"none",cursor:"pointer",border:"none",background:"none",padding:0,font:"inherit",display:"inline",backgroundColor:"transparent","&:hover":{textDecoration:"underline"}},children:B?"Opening...":l}):O.jsx(it,{sx:{color:"secondary.main",fontWeight:500},children:l})]}),O.jsx(ES,{onClick:q,sx:{color:a?"#c4c4c4":"grey.600",cursor:a?"default":"pointer","&:hover":{color:a?"#c4c4c4":"error.main"},"&::placeholder":{color:"#bbbbbb"}}})]})]}):O.jsxs(Re,{sx:{border:"2px dashed",borderColor:"grey.300",borderRadius:2,p:2,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:p.palette.primary.white,gap:1},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(vV,{sx:{color:"grey.600",fontSize:24}}),O.jsx(it,{sx:{color:"text.secondary",fontSize:"16px"},children:e.description||"Upload a document"})]}),O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:1},children:[O.jsxs(Zt,{variant:"contained",component:"label",disabled:a,sx:{minWidth:h?140:100,borderRadius:"20px",px:2,"&.Mui-disabled":{backgroundColor:"#BBBBBB",color:p.palette.primary.white,opacity:.7}},children:[O.jsx(it,{fontSize:14,fontWeight:500,children:"Upload"}),O.jsx("input",{type:"file",hidden:!0,onChange:Y,accept:((oe=e==null?void 0:e.meta)==null?void 0:oe.file_type)||"image/jpeg,image/jpg,image/png",disabled:a,name:e==null?void 0:e.derived_field_name})]}),h&&O.jsx(Zt,{variant:"contained",startIcon:O.jsx(WI,{}),onClick:()=>y(!0),disabled:a,component:"label",sx:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:140,textTransform:"none",bgcolor:"primary.main",borderRadius:10,"&.Mui-disabled":{backgroundColor:"#CDCDCD",color:p.palette.primary.white,opacity:.7}},children:O.jsx(it,{fontSize:14,fontWeight:500,children:"Take Photo"})})]})]})]}),O.jsx(kv,{open:m,onClose:()=>y(!1),children:O.jsxs(Re,{sx:{width:"80%",height:"auto",margin:"10% auto",background:"primary.white",padding:2,borderRadius:2,textAlign:"center"},children:[O.jsx(it,{variant:"h6",sx:{mb:2},children:"Capture Photo"}),O.jsx(yC,{audio:!1,ref:v,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment"},style:{width:"100%",borderRadius:5}}),O.jsx(Zt,{variant:"contained",sx:{mt:2,borderRadius:10},onClick:V,children:"Capture"})]})})]})};EG.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,field_notation:fe.string,meta:fe.shape({accept:fe.string,file_type:fe.string})}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func,isFieldsDisabled:fe.bool,bestFitLayout:fe.bool,showFieldLabel:fe.bool};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var kG=function(e,r){return(kG=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])})(e,r)};function fu(e,r){function t(){this.constructor=e}kG(e,r),e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function zt(e,r,t,n){return new(t||(t=Promise))(function(o,i){function a(l){try{u(n.next(l))}catch(c){i(c)}}function s(l){try{u(n.throw(l))}catch(c){i(c)}}function u(l){l.done?o(l.value):new t(function(c){c(l.value)}).then(a,s)}u((n=n.apply(e,[])).next())})}function Wt(e,r){var t,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,n=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(c[0]===6&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=r.call(e,a)}catch(f){c=[6,f],n=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}var pOe=function(){function e(r){this.global=r,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(r,t){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=r,this.platform=t},e.prototype.registerFlag=function(r,t,n){if(this.flagRegistry[r]={evaluationFn:t,setHook:n},this.urlFlags[r]!=null){var o=this.urlFlags[r];console.warn("Setting feature override from URL "+r+": "+o+"."),this.set(r,o)}},e.prototype.get=function(r){return r in this.flags?this.flags[r]:(this.flags[r]=this.evaluateFlag(r),this.flags[r])},e.prototype.getNumber=function(r){return this.get(r)},e.prototype.getBool=function(r){return this.get(r)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(r,t){if(this.flagRegistry[r]==null)throw new Error("Cannot set flag "+r+" as it has not been registered.");this.flags[r]=t,this.flagRegistry[r].setHook!=null&&this.flagRegistry[r].setHook(t)},e.prototype.evaluateFlag=function(r){if(this.flagRegistry[r]==null)throw new Error("Cannot evaluate flag '"+r+"': no evaluation function found.");return this.flagRegistry[r].evaluationFn()},e.prototype.setFlags=function(r){this.flags=Object.assign({},r)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var r=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var t,n,o=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(i){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];return hOe(n,a[0],a[1]),a.join("=")}),n);"tfjsflags"in o&&o.tfjsflags.split(",").forEach(function(i){var a=i.split(":"),s=a[0],u=a[1];r.urlFlags[s]=function(l,c){if((c=c.toLowerCase())==="true"||c==="false")return c==="true";if(""+ +c===c)return+c;throw new Error("Could not parse value flag value "+c+" for flag "+l+".")}(s,u)})}},e}();function hOe(e,r,t){e[decodeURIComponent(r)]=decodeURIComponent(t||"")}function Je(){return RG}var RG=null,q2=new Map,SD=new Map;function TG(e,r){var t=OG(e,r);return q2.get(t)}function vOe(e){return SD.get(e)}function PW(e){for(var r=q2.entries(),t=[];;){var n=r.next(),o=n.done,i=n.value;if(o)break;var a=i[0],s=i[1];a.split("_")[0]===e&&t.push(s)}return t}function AG(e){var r=e.kernelName,t=e.backendName,n=OG(r,t);if(q2.has(n))throw new Error("The kernel '"+r+"' for backend '"+t+"' is already registered");q2.set(n,e)}function mOe(e){var r=e.kernelName;SD.has(r)&&console.warn("Overriding the gradient for '"+r+"'"),SD.set(r,e)}function OG(e,r){return r+"_"+e}function CD(e,r,t){return Math.max(e,Math.min(r,t))}function DG(e){return e%2==0?e:e+1}function gOe(e){for(var r=0,t=0;t<e.length;t++)r+=e[t];return r}function be(e,r){if(!e)throw new Error(typeof r=="string"?r:r())}function on(e,r,t){t===void 0&&(t=""),be(Wo(e,r),function(){return t+" Shapes "+e+" and "+r+" must match"})}function Kv(e){be(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function dv(e,r,t){if(r===void 0&&(r=[]),t===void 0&&(t=!1),r==null&&(r=[]),Array.isArray(e)||Yu(e)&&!t)for(var n=0;n<e.length;++n)dv(e[n],r,t);else r.push(e);return r}function qt(e){if(e.length===0)return 1;for(var r=e[0],t=1;t<e.length;t++)r*=e[t];return r}function Wo(e,r){if(e===r)return!0;if(e==null||r==null||e.length!==r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function fo(e){return e%1==0}function yOe(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var r=Math.exp(2*e);return(r-1)/(r+1)}function ED(e){var r=Math.ceil(Math.sqrt(e));return[r,Math.ceil(e/r)]}function Ah(e,r){return r<=e.length?e:e+" ".repeat(r-e.length)}function IW(e,r,t){return r===void 0&&(r=function(n){return 0}),new Promise(function(n,o){var i=0,a=function(){if(e())n();else{i++;var s=r(i);t!=null&&i>=t?o():setTimeout(a,s)}};a()})}function xOe(e,r){for(var t=1,n=-1,o=0;o<e.length;++o)if(e[o]>=0)t*=e[o];else if(e[o]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+n+" and dim "+o);n=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(n===-1){if(r>0&&r!==t)throw Error("Size("+r+") must match the product of shape "+e);return e}if(t===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(r%t!=0)throw Error("The implicit shape can't be a fractional number. Got "+r+" / "+t);var i=e.slice();return i[n]=r/t,i}function Po(e,r){var t=r.length;return be((e=e==null?r.map(function(n,o){return o}):[].concat(e)).every(function(n){return n>=-t&&n<t}),function(){return"All values in axis param must be in range [-"+t+", "+t+") but got axis "+e}),be(e.every(function(n){return fo(n)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(n){return n<0?t+n:n})}function ud(e,r){for(var t=[],n=[],o=r!=null&&Array.isArray(r)&&r.length===0,i=r==null||o?null:Po(r,e).sort(),a=0,s=0;s<e.length;++s){if(i!=null){if(i[a]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(i[a]==null||i[a]>s)&&e[s]===1&&(t.push(e[s]),n.push(s)),i[a]<=s&&a++}e[s]!==1&&(t.push(e[s]),n.push(s))}return{newShape:t,keptDims:n}}function w0(e,r){var t=null;if(e==null||e==="float32")t=new Float32Array(r);else if(e==="int32")t=new Int32Array(r);else{if(e!=="bool")throw new Error("Unknown data type "+e);t=new Uint8Array(r)}return t}function H2(e,r){var t=null;if(e==null||e==="float32")t=new Float32Array(r);else if(e==="int32")t=new Int32Array(r);else if(e==="bool")t=new Uint8Array(r);else{if(e!=="string")throw new Error("Unknown data type "+e);t=new Array(r)}return t}function bOe(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+r+" being uploaded contains "+n+".")}}function _Oe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function wOe(e,r){return r!=="complex64"&&(r!=="float32"||e==="complex64")&&(r!=="int32"||e==="float32"||e==="complex64")&&(r!=="bool"||e!=="bool")}function Yu(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function PG(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function SOe(e){if(e==null)return 0;var r=0;return e.forEach(function(t){return r+=t.length}),r}function d3(e){return typeof e=="string"||e instanceof String}function COe(e){return typeof e=="boolean"}function EOe(e){return typeof e=="number"}function hy(e){return Array.isArray(e)?hy(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":EOe(e)?"float32":d3(e)?"string":COe(e)?"bool":"float32"}function kD(e){return!!(e&&e.constructor&&e.call&&e.apply)}function RD(e,r){for(var t=r;t<e;++t)if(e%t==0)return t;return e}function Ku(e){var r=e.length;if(r<2)return[];var t=new Array(r-1);t[r-2]=e[r-1];for(var n=r-3;n>=0;--n)t[n]=t[n+1]*e[n+1];return t}function IG(e,r,t){if(r==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=dv(e)),t&&bOe(e,r),function(i,a){return i instanceof Float32Array&&a==="float32"||i instanceof Int32Array&&a==="int32"||i instanceof Uint8Array&&a==="bool"}(e,r))return e;if(r==null||r==="float32"||r==="complex64")return new Float32Array(e);if(r==="int32")return new Int32Array(e);if(r==="bool"){for(var n=new Uint8Array(e.length),o=0;o<n.length;++o)Math.round(e[o])!==0&&(n[o]=1);return n}throw new Error("Unknown data type "+r)}function NW(e,r){if(e.length===0)return r[0];var t=e.reduce(function(n,o){return n*o});if(t===0)return[];if(t!==r.length)throw new Error("["+e+"] does not match the input size.");return function n(o,i,a){var s=new Array;if(i.length===1)for(var u=i[0],l=0;l<u;l++)s[l]=a[o+l];else{u=i[0];var c=i.slice(1),f=c.reduce(function(d,p){return d*p});for(l=0;l<u;l++)s[l]=n(o+l*f,c,a)}return s}(0,e,r)}function NG(e,r){for(var t=vy(e,r),n=0;n<t.length;n++)t[n]=1;return t}function vy(e,r){if(r==null||r==="float32"||r==="complex64")return new Float32Array(e);if(r==="int32")return new Int32Array(e);if(r==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+r)}function Du(){return Je().platform.now()}function MG(e){e.forEach(function(r){be(Number.isInteger(r)&&r>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function kOe(e,r){return r===void 0&&(r="utf-8"),r=r||"utf-8",Je().platform.encode(e,r)}function V2(e,r){return r===void 0&&(r="utf-8"),r=r||"utf-8",Je().platform.decode(e,r)}function MW(e,r,t){if(r===0)return 0;if(r===1)return e[0];for(var n=e[e.length-1],o=0;o<e.length-1;++o)n+=t[o]*e[o];return n}function ROe(e,r,t){if(r===0)return[];if(r===1)return[e];for(var n=new Array(r),o=0;o<n.length-1;++o)n[o]=Math.floor(e/t[o]),e-=n[o]*t[o];return n[n.length-1]=e,n}var TOe=function(){function e(r,t){this.backendTimer=r,this.logger=t,t==null&&(this.logger=new AOe)}return e.prototype.profileKernel=function(r,t,n){var o,i=this,a=this.backendTimer.time(function(){o=n()});return o.forEach(function(s){s.data().then(function(u){(function(l,c,f){if(c!=="float32")return!1;for(var d=0;d<l.length;d++){var p=l[d];if(isNaN(p)||!isFinite(p))return console.warn("Found "+p+" in the result of '"+f+"'"),!0}})(u,s.dtype,r),a.then(function(l){var c="";l.getExtraProfileInfo!=null&&(c=l.getExtraProfileInfo()),i.logger.logKernelProfile(r,s,u,l.kernelMs,t,c)})})}),o},e}(),AOe=function(){function e(){}return e.prototype.logKernelProfile=function(r,t,n,o,i,a){var s=typeof o=="number"?Ah(o+"ms",9):o.error,u=Ah(r,25),l=t.rank,c=t.size,f=Ah(t.shape.toString(),14),d="";for(var p in i){var h=i[p].shape||t.shape,m=h.length;d+=p+": "+m+"D "+(m>0?h:"")+" "}console.log("%c"+u+"	%c"+s+"	%c"+l+"D "+f+"	%c"+c+"	%c"+d+"	%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),FW=20,tg=3,iA=7;function OOe(e,r,t,n){var o=Ku(r),i=function(l,c,f,d){var p=qt(c),h=d[d.length-1],m=new Array(h).fill(0),y=c.length,v=f==="complex64"?ng(l):l;if(y>1)for(var g=0;g<p/h;g++)for(var x=g*h,b=0;b<h;b++)m[b]=Math.max(m[b],rg(v[x+b],0,f).length);return m}(e,r,t,o),a=r.length,s=function l(c,f,d,p,h,m){m===void 0&&(m=!0);var y=d==="complex64"?2:1,v=f[0],g=f.length;if(g===0)return d==="complex64"?[rg(ng(c)[0],0,d)]:d==="bool"?[FG(c[0])]:[c[0].toString()];if(g===1){if(v>FW){var x=tg*y,b=Array.from(c.slice(0,x)),w=Array.from(c.slice((v-tg)*y,v*y));return d==="complex64"&&(b=ng(b),w=ng(w)),["["+b.map(function(D,$){return rg(D,h[$],d)}).join(", ")+", ..., "+w.map(function(D,$){return rg(D,h[v-tg+$],d)}).join(", ")+"]"]}return["["+(d==="complex64"?ng(c):Array.from(c)).map(function(D,$){return rg(D,h[$],d)}).join(", ")+"]"]}var E=f.slice(1),C=p.slice(1),S=p[0]*y,T=[];if(v>FW){for(var k=0;k<tg;k++){var P=(I=k*S)+S;T.push.apply(T,l(c.slice(I,P),E,d,C,h,!1))}for(T.push("..."),k=v-tg;k<v;k++)P=(I=k*S)+S,T.push.apply(T,l(c.slice(I,P),E,d,C,h,k===v-1))}else for(k=0;k<v;k++){var I;P=(I=k*S)+S,T.push.apply(T,l(c.slice(I,P),E,d,C,h,k===v-1))}var F=g===2?",":"";for(T[0]="["+T[0]+F,k=1;k<T.length-1;k++)T[k]=" "+T[k]+F;var A=`,
`;for(k=2;k<g;k++)A+=`
`;return T[T.length-1]=" "+T[T.length-1]+"]"+(m?"":A),T}(e,r,t,o,i),u=["Tensor"];return n&&(u.push("  dtype: "+t),u.push("  rank: "+a),u.push("  shape: ["+r+"]"),u.push("  values:")),u.push(s.map(function(l){return"    "+l}).join(`
`)),u.join(`
`)}function rg(e,r,t){return Ah(Array.isArray(e)?parseFloat(e[0].toFixed(iA))+" + "+parseFloat(e[1].toFixed(iA))+"j":d3(e)?"'"+e+"'":t==="bool"?FG(e):parseFloat(e.toFixed(iA)).toString(),r)}function FG(e){return e===0?"false":"true"}function ng(e){for(var r=[],t=0;t<e.length;t+=2)r.push([e[t],e[t+1]]);return r}var S0=function(){function e(r,t,n){var o=this;if(this.dtype=t,this.shape=r.slice(),this.size=qt(r),n!=null){var i=n.length;be(i===this.size,function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+o.size+"'."})}if(t==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||H2(t,this.size),this.strides=Ku(r)}return e.prototype.set=function(r){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];n.length===0&&(n=[0]),be(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var i=this.locToIndex(n);this.values[i]=r},e.prototype.get=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];r.length===0&&(r=[0]);for(var n=0,o=0,i=r;o<i.length;o++){var a=i[o];if(a<0||a>=this.shape[n]){var s="Requested out of range element at "+r+".   Buffer shape="+this.shape;throw new Error(s)}n++}for(var u=r[r.length-1],l=0;l<r.length-1;++l)u+=this.strides[l]*r[l];return this.values[u]},e.prototype.locToIndex=function(r){if(this.rank===0)return 0;if(this.rank===1)return r[0];for(var t=r[r.length-1],n=0;n<r.length-1;++n)t+=this.strides[n]*r[n];return t},e.prototype.indexToLoc=function(r){if(this.rank===0)return[];if(this.rank===1)return[r];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(r/this.strides[n]),r-=t[n]*this.strides[n];return t[t.length-1]=r,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return Fu().makeTensor(this.values,this.shape,this.dtype)},e}(),Fu=null,Ue=null,LG=null,Wn=function(){function e(r,t,n,o){this.kept=!1,this.isDisposedInternal=!1,this.shape=r.slice(),this.dtype=t||"float32",this.size=qt(r),this.strides=Ku(r),this.dataId=n,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),be(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(r,t){return this.throwIfDisposed(),this.reshape([r,t])},e.prototype.as3D=function(r,t,n){return this.throwIfDisposed(),this.reshape([r,t,n])},e.prototype.as4D=function(r,t,n,o){return this.throwIfDisposed(),this.reshape([r,t,n,o])},e.prototype.as5D=function(r,t,n,o,i){return this.throwIfDisposed(),this.reshape([r,t,n,o,i])},e.prototype.asType=function(r){return this.throwIfDisposed(),Ue.cast(this,r)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return zt(this,void 0,void 0,function(){var r;return Wt(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return r=t.sent(),[2,Ue.buffer(this.shape,this.dtype,r)]}})})},e.prototype.bufferSync=function(){return Ue.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return zt(this,void 0,void 0,function(){var r;return Wt(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return r=t.sent(),[2,NW(this.shape,r)]}})})},e.prototype.arraySync=function(){return NW(this.shape,this.dataSync())},e.prototype.data=function(){return zt(this,void 0,void 0,function(){var r,t;return Wt(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),r=Fu().read(this.dataId),this.dtype!=="string"?[3,2]:[4,r];case 1:t=n.sent();try{return[2,t.map(function(o){return V2(o)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,r]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var r=Fu().readSync(this.dataId);if(this.dtype==="string")try{return r.map(function(t){return V2(t)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return r},e.prototype.bytes=function(){return zt(this,void 0,void 0,function(){var r;return Wt(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,Fu().read(this.dataId)];case 1:return r=t.sent(),this.dtype==="string"?[2,r]:[2,new Uint8Array(r.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(Fu().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(r){return r===void 0&&(r=!1),Ue.print(this,r)},e.prototype.reshape=function(r){return this.throwIfDisposed(),Ue.reshape(this,r)},e.prototype.reshapeAs=function(r){return this.throwIfDisposed(),this.reshape(r.shape)},e.prototype.expandDims=function(r){return r===void 0&&(r=0),Ue.expandDims(this,r)},e.prototype.cumsum=function(r,t,n){return r===void 0&&(r=0),t===void 0&&(t=!1),n===void 0&&(n=!1),Ue.cumsum(this,r,t,n)},e.prototype.squeeze=function(r){return this.throwIfDisposed(),Ue.squeeze(this,r)},e.prototype.clone=function(){return this.throwIfDisposed(),Ue.clone(this)},e.prototype.oneHot=function(r,t,n){return this.throwIfDisposed(),Ue.oneHot(this,r,t,n)},e.prototype.toString=function(r){return r===void 0&&(r=!1),OOe(this.dataSync(),this.shape,this.dtype,r)},e.prototype.tile=function(r){return this.throwIfDisposed(),Ue.tile(this,r)},e.prototype.gather=function(r,t){return t===void 0&&(t=0),this.throwIfDisposed(),Ue.gather(this,r,t)},e.prototype.matMul=function(r,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!1),this.throwIfDisposed(),Ue.matMul(this,r,t,n)},e.prototype.dot=function(r){return this.throwIfDisposed(),Ue.dot(this,r)},e.prototype.norm=function(r,t,n){return r===void 0&&(r="euclidean"),t===void 0&&(t=null),n===void 0&&(n=!1),this.throwIfDisposed(),Ue.norm(this,r,t,n)},e.prototype.slice=function(r,t){return this.throwIfDisposed(),Ue.slice(this,r,t)},e.prototype.reverse=function(r){return this.throwIfDisposed(),Ue.reverse(this,r)},e.prototype.concat=function(r,t){return t===void 0&&(t=0),this.throwIfDisposed(),r instanceof e&&(r=[r]),Ue.concat([this].concat(r),t)},e.prototype.split=function(r,t){return t===void 0&&(t=0),this.throwIfDisposed(),Ue.split(this,r,t)},e.prototype.stack=function(r,t){return t===void 0&&(t=0),Ue.stack([this,r],t)},e.prototype.unstack=function(r){return r===void 0&&(r=0),Ue.unstack(this,r)},e.prototype.pad=function(r,t){return t===void 0&&(t=0),Ue.pad(this,r,t)},e.prototype.batchNormalization=function(r,t,n,o,i){return n===void 0&&(n=.001),LG("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(r,t,i,o,n)},e.prototype.batchNorm=function(r,t,n,o,i){return i===void 0&&(i=.001),this.throwIfDisposed(),Ue.batchNorm(this,r,t,n,o,i)},e.prototype.all=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.all(this,r,t)},e.prototype.any=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.any(this,r,t)},e.prototype.logSumExp=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.logSumExp(this,r,t)},e.prototype.sum=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.sum(this,r,t)},e.prototype.prod=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.prod(this,r,t)},e.prototype.mean=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.mean(this,r,t)},e.prototype.min=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.min(this,r,t)},e.prototype.max=function(r,t){return r===void 0&&(r=null),t===void 0&&(t=!1),this.throwIfDisposed(),Ue.max(this,r,t)},e.prototype.argMin=function(r){return r===void 0&&(r=null),this.throwIfDisposed(),Ue.argMin(this,r)},e.prototype.argMax=function(r){return r===void 0&&(r=null),this.throwIfDisposed(),Ue.argMax(this,r)},e.prototype.cast=function(r){return this.throwIfDisposed(),Ue.cast(this,r)},e.prototype.add=function(r){return this.throwIfDisposed(),Ue.add(this,r)},e.prototype.addStrict=function(r){return this.throwIfDisposed(),Ue.addStrict(this,r)},e.prototype.atan2=function(r){return this.throwIfDisposed(),Ue.atan2(this,r)},e.prototype.sub=function(r){return this.throwIfDisposed(),Ue.sub(this,r)},e.prototype.subStrict=function(r){return this.throwIfDisposed(),Ue.subStrict(this,r)},e.prototype.pow=function(r){return this.throwIfDisposed(),Ue.pow(this,r)},e.prototype.powStrict=function(r){return this.throwIfDisposed(),Ue.powStrict(this,r)},e.prototype.mul=function(r){return this.throwIfDisposed(),Ue.mul(this,r)},e.prototype.mulStrict=function(r){return this.throwIfDisposed(),Ue.mulStrict(this,r)},e.prototype.div=function(r){return this.throwIfDisposed(),Ue.div(this,r)},e.prototype.divNoNan=function(r){return this.throwIfDisposed(),Ue.divNoNan(this,r)},e.prototype.floorDiv=function(r){return this.throwIfDisposed(),Ue.floorDiv(this,r)},e.prototype.divStrict=function(r){return this.throwIfDisposed(),Ue.divStrict(this,r)},e.prototype.minimum=function(r){return this.throwIfDisposed(),Ue.minimum(this,r)},e.prototype.minimumStrict=function(r){return this.throwIfDisposed(),Ue.minimumStrict(this,r)},e.prototype.maximum=function(r){return this.throwIfDisposed(),Ue.maximum(this,r)},e.prototype.maximumStrict=function(r){return this.throwIfDisposed(),Ue.maximumStrict(this,r)},e.prototype.mod=function(r){return this.throwIfDisposed(),Ue.mod(this,r)},e.prototype.modStrict=function(r){return this.throwIfDisposed(),Ue.modStrict(this,r)},e.prototype.squaredDifferenceStrict=function(r){return this.throwIfDisposed(),Ue.squaredDifferenceStrict(this,r)},e.prototype.transpose=function(r){return this.throwIfDisposed(),Ue.transpose(this,r)},e.prototype.notEqual=function(r){return this.throwIfDisposed(),Ue.notEqual(this,r)},e.prototype.notEqualStrict=function(r){return this.throwIfDisposed(),Ue.notEqualStrict(this,r)},e.prototype.less=function(r){return this.throwIfDisposed(),Ue.less(this,r)},e.prototype.lessStrict=function(r){return this.throwIfDisposed(),Ue.lessStrict(this,r)},e.prototype.equal=function(r){return this.throwIfDisposed(),Ue.equal(this,r)},e.prototype.equalStrict=function(r){return this.throwIfDisposed(),Ue.equalStrict(this,r)},e.prototype.lessEqual=function(r){return this.throwIfDisposed(),Ue.lessEqual(this,r)},e.prototype.lessEqualStrict=function(r){return this.throwIfDisposed(),Ue.lessEqualStrict(this,r)},e.prototype.greater=function(r){return this.throwIfDisposed(),Ue.greater(this,r)},e.prototype.greaterStrict=function(r){return this.throwIfDisposed(),Ue.greaterStrict(this,r)},e.prototype.greaterEqual=function(r){return this.throwIfDisposed(),Ue.greaterEqual(this,r)},e.prototype.greaterEqualStrict=function(r){return this.throwIfDisposed(),Ue.greaterEqualStrict(this,r)},e.prototype.logicalAnd=function(r){return this.throwIfDisposed(),Ue.logicalAnd(this,r)},e.prototype.logicalOr=function(r){return this.throwIfDisposed(),Ue.logicalOr(this,r)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Ue.logicalNot(this)},e.prototype.logicalXor=function(r){return this.throwIfDisposed(),Ue.logicalXor(this,r)},e.prototype.where=function(r,t){return this.throwIfDisposed(),Ue.where(r,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),Ue.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Ue.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Ue.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Ue.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Ue.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Ue.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Ue.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Ue.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Ue.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Ue.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Ue.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Ue.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Ue.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Ue.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Ue.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Ue.abs(this)},e.prototype.clipByValue=function(r,t){return this.throwIfDisposed(),Ue.clipByValue(this,r,t)},e.prototype.relu=function(){return this.throwIfDisposed(),Ue.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Ue.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Ue.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Ue.selu(this)},e.prototype.leakyRelu=function(r){return r===void 0&&(r=.2),this.throwIfDisposed(),Ue.leakyRelu(this,r)},e.prototype.prelu=function(r){return this.throwIfDisposed(),Ue.prelu(this,r)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Ue.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Ue.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Ue.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Ue.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Ue.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Ue.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Ue.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Ue.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Ue.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Ue.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Ue.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Ue.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Ue.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Ue.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Ue.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Ue.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Ue.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Ue.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Ue.round(this)},e.prototype.step=function(r){return r===void 0&&(r=0),this.throwIfDisposed(),Ue.step(this,r)},e.prototype.softmax=function(r){return r===void 0&&(r=-1),this.throwIfDisposed(),Ue.softmax(this,r)},e.prototype.logSoftmax=function(r){return r===void 0&&(r=-1),this.throwIfDisposed(),Ue.logSoftmax(this,r)},e.prototype.resizeBilinear=function(r,t){return t===void 0&&(t=!1),this.throwIfDisposed(),Ue.image.resizeBilinear(this,r,t)},e.prototype.resizeNearestNeighbor=function(r,t){return t===void 0&&(t=!1),this.throwIfDisposed(),Ue.image.resizeNearestNeighbor(this,r,t)},e.prototype.conv1d=function(r,t,n,o,i,a){return o===void 0&&(o="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),Ue.conv1d(this,r,t,n,o,i,a)},e.prototype.conv2d=function(r,t,n,o,i,a){return o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Ue.conv2d(this,r,t,n,o,i,a)},e.prototype.conv2dTranspose=function(r,t,n,o,i){return this.throwIfDisposed(),Ue.conv2dTranspose(this,r,t,n,o,i)},e.prototype.depthwiseConv2D=function(r,t,n,o,i,a){return o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Ue.depthwiseConv2d(this,r,t,n,o,i,a)},e.prototype.separableConv2d=function(r,t,n,o,i,a){return i===void 0&&(i=[1,1]),a===void 0&&(a="NHWC"),this.throwIfDisposed(),Ue.separableConv2d(this,r,t,n,o,i,a)},e.prototype.avgPool=function(r,t,n,o){return this.throwIfDisposed(),Ue.avgPool(this,r,t,n,o)},e.prototype.maxPool=function(r,t,n,o){return this.throwIfDisposed(),Ue.maxPool(this,r,t,n,o)},e.prototype.localResponseNormalization=function(r,t,n,o){return r===void 0&&(r=5),t===void 0&&(t=1),n===void 0&&(n=1),o===void 0&&(o=.5),Ue.localResponseNormalization(this,r,t,n,o)},e.prototype.pool=function(r,t,n,o,i){return this.throwIfDisposed(),Ue.pool(this,r,t,n,o,i)},e.prototype.variable=function(r,t,n){return r===void 0&&(r=!0),this.throwIfDisposed(),Fu().makeVariable(this,r,t,n)},e.prototype.unsortedSegmentSum=function(r,t){return this.throwIfDisposed(),Ue.unsortedSegmentSum(this,r,t)},e.prototype.batchToSpaceND=function(r,t){return this.throwIfDisposed(),Ue.batchToSpaceND(this,r,t)},e.prototype.spaceToBatchND=function(r,t){return this.throwIfDisposed(),Ue.spaceToBatchND(this,r,t)},e.prototype.topk=function(r,t){return r===void 0&&(r=1),t===void 0&&(t=!0),this.throwIfDisposed(),Ue.topk(this,r,t)},e.prototype.stridedSlice=function(r,t,n,o,i,a,s,u){return o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),this.throwIfDisposed(),Ue.stridedSlice(this,r,t,n,o,i,a,s,u)},e.prototype.depthToSpace=function(r,t){return this.throwIfDisposed(),Ue.depthToSpace(this,r,t)},e.prototype.fft=function(){return this.throwIfDisposed(),Ue.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Ue.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Ue.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Ue.spectral.irfft(this)},e}();Object.defineProperty(Wn,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var LW,TD,AD,OD,DD,pv=function(e){function r(t,n,o,i){var a=e.call(this,t.shape,t.dtype,t.dataId,i)||this;return a.trainable=n,a.name=o,a}return fu(r,e),r.prototype.assign=function(t){if(t.dtype!==this.dtype)throw new Error("dtype of the new value ("+t.dtype+") and previous value ("+this.dtype+") must match");if(!Wo(t.shape,this.shape))throw new Error("shape of the new value ("+t.shape+") and previous value ("+this.shape+") must match");Fu().disposeTensor(this),this.dataId=t.dataId,Fu().incRef(this,null)},r.prototype.dispose=function(){Fu().disposeVariable(this),this.isDisposedInternal=!0},r}(Wn);Object.defineProperty(pv,Symbol.hasInstance,{value:function(e){return e instanceof Wn&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(LW||(LW={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(TD||(TD={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(AD||(AD={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(OD||(OD={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(DD||(DD={}));var DOe={float32:OD,int32:TD,bool:AD,complex64:DD};function ti(e,r){if(e==="string"||r==="string"){if(e==="string"&&r==="string")return"string";throw new Error("Can not upcast "+e+" with "+r)}return DOe[e][r]}function aA(e){return ti(e,"int32")}function Gn(e,r){if(e.dtype===r.dtype)return[e,r];var t=ti(e.dtype,r.dtype);return[e.cast(t),r.cast(t)]}function POe(e,r){be(e.dtype===r.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+r.dtype+") input must match"})}function BG(e){var r=[];return function t(n,o,i){if(n!=null){if(n instanceof Wn)return void o.push(n);if(a=n,!(!Array.isArray(a)&&typeof a!="object")){var a,s=n;for(var u in s){var l=s[u];i.has(l)||(i.add(l),t(l,o,i))}}}}(e,r,new Set),r}var sA,BW=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var r in this.registeredVariables)this.registeredVariables[r].dispose()},e}(),IOe=function(){function e(r){this.ENV=r,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new BW}return e.prototype.ready=function(){return zt(this,void 0,void 0,function(){var r,t,n;return Wt(this,function(o){switch(o.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];r=this.getSortedBackends(),t=0,o.label=1;case 1:return t<r.length?(n=r[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return o.sent()?[4,this.setBackend(n)]:[3,4];case 3:return o.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var r=this.initializeBackendsAndReturnBest(),t=r.name;if(r.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(r){return!(r in this.registry)&&(!(r in this.registryFactory)||this.initializeBackend(r).asyncInit)?null:this.registry[r]},e.prototype.findBackendFactory=function(r){return r in this.registryFactory?this.registryFactory[r].factory:null},e.prototype.registerBackend=function(r,t,n){return n===void 0&&(n=1),r in this.registryFactory?(console.warn(r+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[r]={factory:t,priority:n},!0)},e.prototype.setBackend=function(r){return zt(this,void 0,void 0,function(){var t,n,o;return Wt(this,function(i){switch(i.label){case 0:if(this.registryFactory[r]==null)throw new Error("Backend name '"+r+"' not found in registry");return this.backendName=r,this.registry[r]!=null?[3,4]:(this.backendInstance=null,t=this.initializeBackend(r),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return o=i.sent(),[3,3];case 2:o=n,i.label=3;case 3:if(!o)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[r],this.setupRegisteredKernels(),this.profiler=new TOe(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var r=this;PW(this.backendName).forEach(function(t){t.setupFunc!=null&&t.setupFunc(r.backendInstance)})},e.prototype.disposeRegisteredKernels=function(r){var t=this;PW(r).forEach(function(n){n.disposeFunc!=null&&n.disposeFunc(t.registry[r])})},e.prototype.initializeBackend=function(r){var t=this,n=this.registryFactory[r];if(n==null)throw new Error("Cannot initialize backend "+r+", no registration found.");try{var o=n.factory();if(Promise.resolve(o)===o){var i=++this.pendingBackendInitId,a=o.then(function(s){return!(i<t.pendingBackendInitId)&&(t.registry[r]=s,t.pendingBackendInit=null,!0)}).catch(function(s){return!(i<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+r+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[r]=o,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+r+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(r){if(!(r in this.registryFactory))throw new Error(r+" backend not found in registry");this.backendName===r&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,r in this.registry&&(this.disposeRegisteredKernels(r),this.registry[r].dispose(),delete this.registry[r]),delete this.registryFactory[r],this.backendName===r&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var r=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return r.registryFactory[n].priority-r.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var r=this.getSortedBackends(),t=0;t<r.length;t++){var n=r[t],o=this.initializeBackend(n),i=o.success,a=o.asyncInit;if(a||i)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(r,t){var n=this.state.tensorInfo.get(t),o=n.backend,i=this.readSync(t);o.disposeData(t),n.backend=r,r.move(t,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(r,t){var n,o=this,i=null;if(t==null){if(typeof r!="function")throw new Error("Please provide a function to tidy()");t=r}else{if(typeof r!="string"&&!(r instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof t!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=r}return this.scopedRun(function(){return o.startScope(i)},function(){return o.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(r,t,n){r();try{var o=n();return t(),o}catch(i){throw t(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(r){var t=this.makeTensorFromDataId(r.dataId,r.shape,r.dtype),n={x:r};return this.addTapeNode(this.state.activeScope.name,n,[t],function(o){return{x:function(){return o.toFloat()}}},[]),t},e.prototype.runKernel=function(r,t,n,o,i){return this.runKernelFunc(null,t,null,r,n,o,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(r,t,n){var o=this.backend.numDataIds(),i=0;n.forEach(function(u){i+=u.dtype==="complex64"?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=o-t-i-a;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+r+"'")},e.prototype.runKernelFunc=function(r,t,n,o,i,a,s){var u,l=this;a===void 0&&(a=[]),s===void 0&&(s=[]);var c=[],f=this.isTapeOn();o==null&&(o=this.state.activeScope!=null?this.state.activeScope.name:"");var d,p=function(g){f&&(c=g.map(function(x){return l.keep(l.clone(x))}))},h=this.state.numBytes,m=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var y,v=TG(o,this.backendName);return d=v!=null?function(){var g=l.backend.numDataIds();y=v.kernelFunc({inputs:t,attrs:i,backend:l.backend});var x=Array.isArray(y)?y:[y];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(o,g,x);var b=x.map(function(E){var C=E.dataId,S=E.shape,T=E.dtype;return l.makeTensorFromDataId(C,S,T)}),w=b.filter(function(E,C){return s[C]});return p((a||[]).slice().concat(w)),b}:function(){var g=l.backend.numDataIds();y=l.tidy(function(){return r(l.backend,p)});var x=Array.isArray(y)?y:[y];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(o,g,x),x},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){u=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(o,t,function(){return d()}):d()}),f&&this.addTapeNode(o,t,u,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:o,bytesAdded:this.state.numBytes-h,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-m,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(g){return t[g].shape}),outputShapes:u.map(function(g){return g.shape})}),Array.isArray(y)?u:u[0]},e.prototype.makeTensor=function(r,t,n,o){if(r==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",o=o||this.backend;var i=r;n==="string"&&d3(r[0])&&(i=r.map(function(c){return kOe(c)}));var a=o.write(i,t,n),s=new Wn(t,n,a,this.nextTensorId());if(this.incRef(s,o),n==="string"){var u=this.state.tensorInfo.get(a),l=SOe(i);this.state.numBytes+=l-u.bytes,u.bytes=l}return s},e.prototype.makeTensorFromDataId=function(r,t,n,o){var i=new Wn(t,n=n||"float32",r,this.nextTensorId());return this.incRef(i,o),i},e.prototype.makeVariable=function(r,t,n,o){t===void 0&&(t=!0),n=n||this.nextVariableId().toString(),o!=null&&o!==r.dtype&&(r=r.asType(o));var i=new pv(r,t,n,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(r,t){var n=this.state.tensorInfo.has(r.dataId)?this.state.tensorInfo.get(r.dataId).refCount:0;if(this.state.numTensors++,r.dtype==="string"&&this.state.numStringTensors++,n===0){this.state.numDataBuffers++;var o=0;r.dtype!=="complex64"&&r.dtype!=="string"&&(o=r.size*PG(r.dtype)),this.state.tensorInfo.set(r.dataId,{backend:t||this.backend,dtype:r.dtype,shape:r.shape,bytes:o,refCount:0}),this.state.numBytes+=o}this.state.tensorInfo.get(r.dataId).refCount++,r instanceof pv||this.track(r)},e.prototype.disposeTensor=function(r){if(this.state.tensorInfo.has(r.dataId)){this.state.numTensors--,r.dtype==="string"&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(r.dataId);t.refCount<=1?(r.dtype!=="complex64"&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(r.dataId),this.state.tensorInfo.delete(r.dataId)):this.state.tensorInfo.get(r.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var r in this.state.registeredVariables){var t=this.state.registeredVariables[r];this.disposeVariable(t)}},e.prototype.disposeVariable=function(r){this.disposeTensor(r),this.state.registeredVariables[r.name]!=null&&delete this.state.registeredVariables[r.name]},e.prototype.memory=function(){var r=this.backend.memory();return r.numTensors=this.state.numTensors,r.numDataBuffers=this.state.numDataBuffers,r.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(r.unreliable=!0,r.reasons==null&&(r.reasons=[]),r.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),r},e.prototype.profile=function(r){return zt(this,void 0,void 0,function(){var t,n;return Wt(this,function(o){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=r(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(i){return i.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(r,t,n,o,i){var a=this,s={id:this.state.nextTapeNodeId++,kernelName:r,inputs:t,outputs:n,saved:i},u=vOe(r);u!=null&&(o=u.gradFunc),o!=null&&(s.gradient=function(l){return l=l.map(function(c,f){if(c==null){var d=n[f],p=vy(d.size,d.dtype);return a.makeTensor(p,d.shape,d.dtype)}return c}),o(l.length>1?l:l[0],i)}),this.state.activeTape.push(s)},e.prototype.keep=function(r){return r.kept=!0,r},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(r){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};r&&(t.name=r),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(r){for(var t=this,n=BG(r),o=new Set(n.map(function(u){return u.id})),i=0;i<this.state.activeScope.track.length;i++){var a=this.state.activeScope.track[i];a.kept||o.has(a.id)||a.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(u){u.kept||u.scopeId!==s.id||t.track(u)})},e.prototype.gradients=function(r,t,n,o){var i=this;if(o===void 0&&(o=!1),be(t.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun(function(){return i.startTape()},function(){return i.endTape()},function(){return i.tidy("forward",r)});be(a instanceof Wn,function(){return"The result y returned by f() must be a tensor."});var s=function(u,l,c){for(var f={},d={},p=0;p<l.length;p++)f[l[p].id]=!0;for(p=0;p<u.length;p++){var h=(E=u[p]).inputs;for(var m in h){for(var y=h[m],v=!1,g=0;g<l.length;g++)if(f[y.id]){E.outputs.forEach(function(k){return f[k.id]=!0}),v=!0,d[E.id]=!0;break}if(v)break}}var x={};x[c.id]=!0;var b={};for(p=u.length-1;p>=0;p--)for(h=(E=u[p]).inputs,g=0;g<E.outputs.length;g++)if(x[E.outputs[g].id]){for(var m in h)x[h[m].id]=!0,b[E.id]=!0;break}var w=[];for(p=0;p<u.length;p++){var E;if(d[(E=u[p]).id]&&b[E.id]){var C={};for(var m in E.inputs){var S=E.inputs[m];f[S.id]&&(C[m]=S)}var T=Object.assign({},E);T.inputs=C,T.outputs=E.outputs,w.push(T)}}return w}(this.state.activeTape,t,a);if(!o&&s.length===0&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var u,l,c={};c[a.id]=n??(u=a.shape,l=NG(qt(u),"float32"),Oe.makeTensor(l,u,"float32")),function(d,p,h){for(var m=function(v){var g=p[v],x=[];if(g.outputs.forEach(function(C){var S=d[C.id];S!=null?x.push(S):x.push(null)}),g.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+g.kernelName+".");var b=g.gradient(x),w=function(C){if(!(C in b))throw new Error("Cannot backprop through input "+C+". Available gradients found: "+Object.keys(b)+".");var S=h(function(){return b[C]()});if(S.dtype!=="float32")throw new Error("Error in gradient for op "+g.kernelName+". The gradient of input "+C+" must have 'float32' dtype, but has '"+S.dtype+"'");var T=g.inputs[C];if(!Wo(S.shape,T.shape))throw new Error("Error in gradient for op "+g.kernelName+". The gradient of input '"+C+"' has shape '"+S.shape+"', which does not match the shape of the input '"+T.shape+"'");if(d[T.id]==null)d[T.id]=S;else{var k=d[T.id];d[T.id]=k.add(S),k.dispose()}};for(var E in g.inputs)w(E)},y=p.length-1;y>=0;y--)m(y)}(c,s,function(d){return i.tidy(d)});var f=t.map(function(d){return c[d.id]});return i.state.gradientDepth===0&&(i.state.activeTape.forEach(function(d){for(var p=0,h=d.saved;p<h.length;p++)h[p].dispose()}),i.state.activeTape=null),{value:a,grads:f}})},e.prototype.customGrad=function(r){var t=this;return be(kD(r),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];be(o.every(function(s){return s instanceof Wn}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return o.forEach(function(s,u){a[u]=s}),t.runKernelFunc(function(s,u){return be((n=r.apply(void 0,o.concat([u]))).value instanceof Wn,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),be(kD(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},a,function(s,u){var l=n.gradFunc(s,u),c=Array.isArray(l)?l:[l];be(c.length===o.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),be(c.every(function(d){return d instanceof Wn}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var f={};return c.forEach(function(d,p){f[p]=function(){return d}}),f})}},e.prototype.readSync=function(r){return this.state.tensorInfo.get(r).backend.readSync(r)},e.prototype.read=function(r){return this.state.tensorInfo.get(r).backend.read(r)},e.prototype.time=function(r){return zt(this,void 0,void 0,function(){var t,n;return Wt(this,function(o){switch(o.label){case 0:return t=Du(),[4,this.backend.time(r)];case 1:return(n=o.sent()).wallMs=Du()-t,[2,n]}})})},e.prototype.track=function(r){return this.state.activeScope!=null&&(r.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(r)),r},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var r in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new BW,this.registry)this.disposeRegisteredKernels(r),this.registry[r].dispose(),delete this.registry[r];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),Oe=function(){var e=function(){if(sA==null){var t=void 0;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else{if(typeof self>"u")throw new Error("Could not find a global object");t=self}sA=t}return sA}();if(e._tfengine==null){var r=new pOe(e);e._tfengine=new IOe(r)}return function(t){RG=t}(e._tfengine.ENV),Fu=function(){return e._tfengine},e._tfengine}();function jG(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var Dl=Je();Dl.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),Dl.registerFlag("IS_BROWSER",function(){return jG()}),Dl.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),Dl.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),Dl.registerFlag("PROD",function(){return!1}),Dl.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return Dl.getBool("DEBUG")}),Dl.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),Dl.registerFlag("IS_TEST",function(){return!1});var C0,Fa,Ia,td={},uA={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function NOe(e,r){td[e]=r}function vl(e){e in td||(td[e]=function(t){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=function(o){if(typeof OffscreenCanvas<"u"&&o===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(t);return n.addEventListener("webglcontextlost",function(o){o.preventDefault(),delete td[t]},!1),t===1?n.getContext("webgl",uA)||n.getContext("experimental-webgl",uA):n.getContext("webgl2",uA)}(e));var r=td[e];return r.isContextLost()?(delete td[e],vl(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),td[e])}function xC(e,r){return[r,e]}function Bg(e){var r=qt(e);return ED(Math.ceil(r/4))}function my(e,r){return[Math.max(1,Math.ceil(r/2)),Math.max(1,Math.ceil(e/2))]}function p3(e,r){var t,n,o,i,a,s,u,l,c,f=e;return Je().getNumber("WEBGL_VERSION")===2?(t=f.R32F,n=f.R16F,o=f.RGBA16F,i=f.RGBA32F,a=f.RED,s=4,u=1,l=f.HALF_FLOAT,c=f.FLOAT):(t=e.RGBA,n=e.RGBA,o=e.RGBA,i=f.RGBA,a=e.RGBA,s=4,u=4,l=r!=null?r.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:t,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:i,textureFormatFloat:a,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:u,textureTypeHalfFloat:l,textureTypeFloat:c}}function Yt(e,r,t){var n=t();return r&&function(o){var i=o.getError();if(i!==o.NO_ERROR)throw new Error("WebGL Error: "+BOe(o,i))}(e),n}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(C0||(C0={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Fa||(Fa={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Ia||(Ia={}));var MOe=596e-10,FOe=65504;function LOe(e){return!!(Je().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||MOe<Math.abs(e)&&Math.abs(e)<FOe)}function BOe(e,r){switch(r){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+r}}function H1(e,r,t){return lc(e,r,function(){return e.getExtension(t)},'Extension "'+t+'" not supported on this browser.')}function jOe(e,r,t){var n=lc(e,r,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(Yt(e,r,function(){return e.shaderSource(n,t)}),Yt(e,r,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function $Oe(e,r,t){var n=lc(e,r,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(Yt(e,r,function(){return e.shaderSource(n,t)}),Yt(e,r,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw function(o,i){var a=zOe.exec(i);if(a==null)return console.log("Couldn't parse line number in error: "+i),void console.log(o);for(var s=+a[1],u=o.split(`
`),l=u.length.toString().length+2,c=u.map(function(y,v){return Ah((v+1).toString(),l)+y}),f=0,d=0;d<c.length;d++)f=Math.max(c[d].length,f);var p=c.slice(0,s-1),h=c.slice(s-1,s),m=c.slice(s);console.log(p.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+Ah(h[0],f),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(m.join(`
`))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var lA,cA,zOe=/ERROR: [0-9]+:([0-9]+):/g;function WOe(e,r){return lc(e,r,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function UOe(e,r,t){if(Yt(e,r,function(){return e.linkProgram(t)}),e.getProgramParameter(t,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function fA(e,r,t){if(Yt(e,r,function(){return e.validateProgram(t)}),e.getProgramParameter(t,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function qOe(e,r,t){var n=lc(e,r,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Yt(e,r,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),Yt(e,r,function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function HOe(e,r,t){var n=lc(e,r,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return Yt(e,r,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)}),Yt(e,r,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)}),n}function VOe(e,r){return lc(e,r,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function GOe(e,r){var t=Je().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||r<=0){var n="["+e+"x"+r+"]";throw new Error("Requested texture size "+n+" is invalid.")}if(e>t||r>t)throw n="["+e+"x"+r+"]",new Error("Requested texture size "+n+" greater than WebGL maximum on this browser / GPU "+("["+t+"x"+t+"]")+".")}function YOe(e,r){return lc(e,r,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function jW(e,r,t,n,o,i,a,s){var u=e.getAttribLocation(t,n);return u!==-1&&(Yt(e,r,function(){return e.bindBuffer(e.ARRAY_BUFFER,o)}),Yt(e,r,function(){return e.vertexAttribPointer(u,i,e.FLOAT,!1,a,s)}),Yt(e,r,function(){return e.enableVertexAttribArray(u)}),!0)}function KOe(e,r,t,n){eDe(e,n),Yt(e,r,function(){return e.activeTexture(e.TEXTURE0+n)}),Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,t)})}function XOe(e,r,t,n){return lc(e,r,function(){return e.getUniformLocation(t,n)},'uniform "'+n+'" not present in program.')}function QOe(e,r,t){return e.getUniformLocation(r,t)}function JOe(e,r,t,n,o,i){Yt(e,r,function(){return KOe(e,r,n,i)}),Yt(e,r,function(){return e.uniform1i(o,i)})}function dA(e,r,t,n){Yt(e,r,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),Yt(e,r,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})}function $W(e,r,t){Yt(e,r,function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)}),Yt(e,r,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function V1(e){var r=e.checkFramebufferStatus(e.FRAMEBUFFER);if(r!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+ZOe(e,r))}function ZOe(e,r){switch(r){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+r}}function lc(e,r,t,n){var o=Yt(e,r,function(){return t()});if(o==null)throw new Error(n);return o}function eDe(e,r){var t=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=r+e.TEXTURE0;if(n<e.TEXTURE0||n>t)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+t+"]")+".")}function G2(e,r){return r===void 0&&(r=2),qt(e.slice(0,e.length-r))}function Y2(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function pA(e){var r=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(r=[G2(e)].concat(Y2(e))),r}function tDe(e,r){var t;r===void 0&&(r=!1);var n=Je().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(r&&(n*=2,(e=e.map(function(l,c){return c>=e.length-2?DG(e[c]):e[c]})).length===1&&(e=[2,e[0]])),e.length!==2){var o=ud(e);e=o.newShape}var i=qt(e);if(e.length<=1&&i<=n)return[1,i];if(e.length===2&&e[0]<=n&&e[1]<=n)return e;if(e.length===3&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(r){var a=G2(e),s=2,u=2;return e.length&&(s=(t=Y2(e))[0],u=t[1]),ED(i=a*(s/2)*(u/2)).map(function(l){return 2*l})}return ED(i)}function G1(e){return e%2==0}function Y1(e,r){if(Wo(e=e.slice(-2),r=r.slice(-2))||!e.length||!r.length||e[0]===0||e[1]===0||r[0]===0||r[1]===0)return!0;if(e.length!==r.length){var t=e.slice(-1)[0],n=r.slice(-1)[0];if(t===n||G1(t)&&G1(n)&&(e[0]===1||r[0]===1))return!0}return e[1]===r[1]&&G1(e[0])&&G1(r[0])}function rDe(e){if(lA==null){var r=vl(e);lA=r.getParameter(r.MAX_TEXTURE_SIZE)}return lA}function nDe(e){if(cA==null){var r=vl(e);cA=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,cA)}function oDe(e){if(e===0)return 0;var r=vl(e);return xs(r,"EXT_disjoint_timer_query_webgl2")&&e===2?2:xs(r,"EXT_disjoint_timer_query")?1:0}function xs(e,r){return e.getExtension(r)!=null}function zW(e){try{if(vl(e)!=null)return!0}catch{return!1}return!1}function iDe(e){if(e===0)return!1;var r=vl(e);if(e===1){if(!xs(r,"OES_texture_float"))return!1}else if(!xs(r,"EXT_color_buffer_float"))return!1;return PD(r)}function aDe(e){if(e===0)return!1;var r=vl(e);if(e!==1){if(xs(r,"EXT_color_buffer_float"))return PD(r);if(xs(r,"EXT_color_buffer_half_float")){var t=r.getExtension("EXT_color_buffer_half_float");return function(n,o){var i=p3(n,o),a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texImage2D(n.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var s=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,a,0);var u=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(a),n.deleteFramebuffer(s),u}(r,t)}return!1}return!!xs(r,"OES_texture_float")&&!!xs(r,"WEBGL_color_buffer_float")&&PD(r)}function PD(e){var r=p3(e),t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,r.internalFormatFloat,1,1,0,r.textureFormatFloat,r.textureTypeFloat,null);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(t),e.deleteFramebuffer(n),o}function sDe(e){return e===2&&vl(e).fenceSync!=null}var cr=Je();function $G(e){Je().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Ft(e,r){return Oe.tidy(e,r)}function va(e){BG(e).forEach(function(r){return r.dispose()})}function uDe(e){return Oe.keep(e)}function K2(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];Je().getBool("IS_TEST")||console.warn.apply(console,e)}function Of(e,r){var t=e;if(Yu(e))return r==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var n=[];Array.isArray(t)||Yu(t)&&r!=="string";)n.push(t.length),t=t[0];return Array.isArray(e)&&Je().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function o(i,a,s){if(s=s||[],!Array.isArray(i)&&!Yu(i))return void be(a.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+a[0]+" elements"});be(a.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"}),be(i.length===a[0],function(){return"Element arr["+s.join("][")+"] should have "+a[0]+" elements, but has "+i.length+" elements"});for(var u=a.slice(1),l=0;l<i.length;++l)o(i[l],u,s.concat(l))}(e,n,[]),n}function WW(e,r,t,n){if(e!=null&&(e!=="numeric"&&e!==r||e==="numeric"&&r==="string"))throw new Error("Argument '"+t+"' passed to '"+n+"' must be "+e+" tensor, but got "+r+" tensor")}function ge(e,r,t,n){if(n===void 0&&(n="numeric"),e instanceof Wn)return WW(n,e.dtype,r,t),e;var o=hy(e);if(o!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(o=n),WW(n,o,r,t),e==null||!Yu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+r+"' passed to '"+t+"' must be a Tensor or TensorLike, but got '"+i+"'")}var a=Of(e,o);Yu(e)||Array.isArray(e)||(e=[e]);var s=o!=="string"?IG(e,o,Je().getBool("DEBUG")):dv(e,[],!0);return Oe.makeTensor(s,a,o)}function X2(e,r,t,n){if(n===void 0&&(n="numeric"),!Array.isArray(e))throw new Error("Argument "+r+" passed to "+t+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(o,i){return ge(o,r+"["+i+"]",t)},n)}function zG(e,r){for(var t=0;t<e.length;++t)if(e[e.length-t-1]!==r-1-t)return!1;return!0}function lDe(e,r,t){for(var n=e.length+r.length,o=[],i=0,a=0,s=0;s<n;s++)t.indexOf(s)===-1?o.push(e[i++]):o.push(r[a++]);return o}function yi(e,r){for(var t=[],n=e.length,o=0;o<n;o++)r.indexOf(o)===-1&&t.push(e[o]);return[t,r.map(function(i){return e[i]})]}function ga(e,r){return lDe(e,r.map(function(t){return 1}),r)}function Pa(e,r,t){be(zG(r,t),function(){return e+" supports only inner-most axes for now. Got axes "+r+" and rank-"+t+" input."})}function ml(e,r){if(zG(e,r))return null;for(var t=[],n=0;n<r;++n)e.indexOf(n)===-1&&t.push(n);return e.forEach(function(o){return t.push(o)}),t}function h3(e){return e.map(function(r,t){return[t,r]}).sort(function(r,t){return r[1]-t[1]}).map(function(r){return r[0]})}function gl(e,r){for(var t=[],n=r-e;n<r;++n)t.push(n);return t}function cDe(e,r){var t=e[0].length;e.forEach(function(o,i){be(o.length===t,function(){return"Error in concat"+t+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+t+")"})}),be(r>=0&&r<t,function(){return"Error in concat"+t+"D: axis must be between 0 and "+(t-1)+"."});var n=e[0];e.forEach(function(o,i){for(var a=0;a<t;a++)be(a===r||o[a]===n[a],function(){return"Error in concat"+t+"D: Shape of tensors["+i+"] ("+o+") does not match the shape of the rest ("+n+") along the non-concatenated axis "+i+"."})})}function hv(e,r){for(var t=e[0].slice(),n=1;n<e.length;n++)t[r]+=e[n][r];return t}function ke(e){var r=Object.keys(e);if(r.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+r.length+" keys.");var t=r[0],n=e[t];t.endsWith("_")&&(t=t.substring(0,t.length-1));var o=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];Oe.startScope(t);try{var s=n.apply(void 0,i);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Oe.endScope(s),s}catch(u){throw Oe.endScope(null),u}};return Object.defineProperty(o,"name",{value:t,configurable:!0}),o}cr.registerFlag("HAS_WEBGL",function(){return cr.getNumber("WEBGL_VERSION")>0}),cr.registerFlag("WEBGL_VERSION",function(){return zW(2)?2:zW(1)?1:0}),cr.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return cr.get("WEBGL_VERSION")===2}),cr.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),cr.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),cr.registerFlag("WEBGL_PACK",function(){return cr.getBool("HAS_WEBGL")}),cr.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_CLIP",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),cr.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_PACK_REDUCE",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_LAZILY_UNPACK",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_CONV_IM2COL",function(){return cr.getBool("WEBGL_PACK")}),cr.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return rDe(cr.getNumber("WEBGL_VERSION"))}),cr.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return nDe(cr.getNumber("WEBGL_VERSION"))}),cr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=cr.getNumber("WEBGL_VERSION");return e===0?0:oDe(e)}),cr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return cr.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),cr.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return iDe(cr.getNumber("WEBGL_VERSION"))}),cr.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!cr.getBool("WEBGL_FORCE_F16_TEXTURES")&&cr.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),cr.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return aDe(cr.getNumber("WEBGL_VERSION"))}),cr.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return sDe(cr.getNumber("WEBGL_VERSION"))}),cr.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return cr.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),LG=$G;var ei=ke({complex_:function(e,r){var t=ge(e,"real","complex"),n=ge(r,"imag","complex");return on(t.shape,n.shape,"real and imag shapes, "+t.shape+" and "+n.shape+", must match in call to tf.complex()."),Oe.runKernelFunc(function(o){return o.complex(t,n)},{$real:t,$imag:n})}}),gs=ke({real_:function(e){var r=ge(e,"input","real");return Oe.runKernelFunc(function(t){return t.real(r)},{$input:r})}}),Lu=ke({imag_:function(e){var r=ge(e,"input","imag");return Oe.runKernelFunc(function(t){return t.imag(r)},{$input:r})}});function ni(e,r,t){return Df(e,r,Of(e,t),t)}function Df(e,r,t,n){if(n==null&&(n=hy(e)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Yu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(r!=null){MG(r);var o=qt(r),i=qt(t);be(o===i,function(){return"Based on the provided shape, ["+r+"], the tensor should have "+o+" values but has "+i});for(var a=0;a<t.length;++a){var s=t[a],u=a!==t.length-1||s!==qt(r.slice(a));be(t[a]===r[a]||!u,function(){return"Error creating a new Tensor. Inferred shape ("+t+") does not match the provided shape ("+r+"). "})}}return Yu(e)||Array.isArray(e)||(e=[e]),r=r||t,e=n!=="string"?IG(e,n,Je().getBool("DEBUG")):dv(e,[],!0),Oe.makeTensor(e,r,n)}function Ct(e,r){if((Yu(e)&&r!=="string"||Array.isArray(e))&&r!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(r==="string"&&Yu(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Df(e,[],[],r)}function bo(e,r){Kv(e);var t=Of(e,r);if(t.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Df(e,null,t,r)}function nf(e,r,t){if(Kv(e),r!=null&&r.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=Of(e,t);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&r==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Df(e,r,n,t)}function v3(e,r,t){if(Kv(e),r!=null&&r.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=Of(e,t);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&r==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Df(e,r,n,t)}function sa(e,r,t){if(Kv(e),r!=null&&r.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=Of(e,t);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&r==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Df(e,r,n,t)}function fDe(e,r,t){if(Kv(e),r!=null&&r.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=Of(e,t);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&r==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Df(e,r,n,t)}function dDe(e,r,t){if(Kv(e),r!=null&&r.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=Of(e,t);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&r==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Df(e,r=r||n,n,t)}function pDe(e,r,t,n){return r===void 0&&(r=!0),Oe.makeVariable(e,r,t,n)}function Xv(e,r){if(r===void 0&&(r="float32"),r==="complex64"){var t=Xv(e,"float32"),n=Dn(e,"float32");return ei(t,n)}var o=NG(qt(e),r);return Oe.makeTensor(o,e,r)}function Dn(e,r){if(r===void 0&&(r="float32"),r==="complex64"){var t=Dn(e,"float32"),n=Dn(e,"float32");return ei(t,n)}var o=vy(qt(e),r);return Oe.makeTensor(o,e,r)}function Xu(e,r,t){return Oe.runKernelFunc(function(n){return n.fill(e,r,t)},{})}function hDe(e,r,t){if(t<=0)throw new Error("The number of values should be positive.");return Oe.runKernelFunc(function(n){return n.linspace(e,r,t)},{})}function Q2(e,r,t,n){if(t===void 0&&(t=1),n===void 0&&(n="float32"),t===0)throw new Error("Cannot have a step of zero");if(e===r||e<r&&t<0||r<e&&t>1)return Dn([0],n);var o=vy(Math.abs(Math.ceil((r-e)/t)),n);r<e&&t===1&&(t=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+t;return bo(o,n)}var WG=ke({onesLike_:function(e){var r=ge(e,"x","onesLike");if(r.dtype==="complex64"){var t=WG(gs(r)),n=Hr(Lu(r));return ei(t,n)}return Oe.runKernelFunc(function(o){return o.onesLike(r)},{$x:r},function(o,i){return{$x:function(){return Hr(o)}}})}}),Hr=ke({zerosLike_:function(e){var r=ge(e,"x","zerosLike");return Oe.runKernelFunc(function(t){return t.zerosLike(r)},{$x:r},function(t,n){return{$x:function(){return Hr(t)}}})}}),To=ke({concat_:function(e,r){r===void 0&&(r=0),be(e.length>=1,function(){return"Pass at least one tensor to concat"});var t=X2(e,"tensors","concat");t[0].dtype==="complex64"&&t.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),r=Po(r,t[0].shape)[0];var n=hv(t.map(function(s){return s.shape}),r);if(qt(n)===0)return ni([],n);if((t=t.filter(function(s){return s.size>0})).length===1)return t[0];var o=t.map(function(s){return s.shape});cDe(o,r);var i=t,a={axis:r};return Oe.runKernelFunc(function(s){return s.concat(t,r)},i,function(s){var u=o.map(function(l){return l[r]});return m3(s,u,r).map(function(l){return function(){return l}})},"Concat",a)}}),vDe=ke({concat1d_:function(e){return To(e,0)}}),mDe=ke({concat2d_:function(e,r){return To(e,r)}}),gDe=ke({concat3d_:function(e,r){return To(e,r)}}),yDe=ke({concat4d_:function(e,r){return To(e,r)}}),m3=ke({split_:function(e,r,t){t===void 0&&(t=0);var n,o=ge(e,"x","split");return t=Po(t,o.shape)[0],typeof r=="number"?(be(o.shape[t]%r==0,function(){return"Number of splits must evenly divide the axis."}),n=new Array(r).fill(o.shape[t]/r)):(be(o.shape[t]===r.reduce(function(i,a){return i+a}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=r),Oe.runKernelFunc(function(i){return i.split(o,n,t)},{$x:o},function(i){return{$x:function(){return To(i,t)}}})}});function np(e,r){return e(r={exports:{}},r.exports),r.exports}var xDe=np(function(e){(function(r,t,n){function o(s){var u,l=this,c=(u=4022871197,function(f){f=f.toString();for(var d=0;d<f.length;d++){var p=.02519603282416938*(u+=f.charCodeAt(d));p-=u=p>>>0,u=(p*=u)>>>0,u+=4294967296*(p-=u)}return 23283064365386963e-26*(u>>>0)});l.next=function(){var f=2091639*l.s0+23283064365386963e-26*l.c;return l.s0=l.s1,l.s1=l.s2,l.s2=f-(l.c=0|f)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(s),l.s0<0&&(l.s0+=1),l.s1-=c(s),l.s1<0&&(l.s1+=1),l.s2-=c(s),l.s2<0&&(l.s2+=1),c=null}function i(s,u){return u.c=s.c,u.s0=s.s0,u.s1=s.s1,u.s2=s.s2,u}function a(s,u){var l=new o(s),c=u&&u.state,f=l.next;return f.int32=function(){return 4294967296*l.next()|0},f.double=function(){return f()+11102230246251565e-32*(2097152*f()|0)},f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.alea=a})(0,e)}),bDe=np(function(e){(function(r,t,n){function o(s){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var f=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^f^f>>>8},s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u}function a(s,u){var l=new o(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.xor128=a})(0,e)}),_De=np(function(e){(function(r,t,n){function o(s){var u=this,l="";u.next=function(){var f=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^f^f<<1)|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,s===(0|s)?u.x=s:l+=s;for(var c=0;c<l.length+64;c++)u.x^=0|l.charCodeAt(c),c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(s,u){return u.x=s.x,u.y=s.y,u.z=s.z,u.w=s.w,u.v=s.v,u.d=s.d,u}function a(s,u){var l=new o(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.xorwow=a})(0,e)}),wDe=np(function(e){(function(r,t,n){function o(s){var u=this;u.next=function(){var l,c,f=u.x,d=u.i;return l=f[d],c=(l^=l>>>7)^l<<24,c^=(l=f[d+1&7])^l>>>10,c^=(l=f[d+3&7])^l>>>3,c^=(l=f[d+4&7])^l<<7,l=f[d+7&7],c^=(l^=l<<13)^l<<9,f[d]=c,u.i=d+1&7,c},function(l,c){var f,d=[];if(c===(0|c))d[0]=c;else for(c=""+c,f=0;f<c.length;++f)d[7&f]=d[7&f]<<15^c.charCodeAt(f)+d[f+1&7]<<13;for(;d.length<8;)d.push(0);for(f=0;f<8&&d[f]===0;++f);for(f==8?d[7]=-1:d[f],l.x=d,l.i=0,f=256;f>0;--f)l.next()}(u,s)}function i(s,u){return u.x=s.x.slice(),u.i=s.i,u}function a(s,u){s==null&&(s=+new Date);var l=new o(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(c.x&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.xorshift7=a})(0,e)}),SDe=np(function(e){(function(r,t,n){function o(s){var u=this;u.next=function(){var l,c,f=u.w,d=u.X,p=u.i;return u.w=f=f+1640531527|0,c=d[p+34&127],l=d[p=p+1&127],c^=c<<13,l^=l<<17,c^=c>>>15,l^=l>>>12,c=d[p]=c^l,u.i=p,c+(f^f>>>16)|0},function(l,c){var f,d,p,h,m,y=[],v=128;for(c===(0|c)?(d=c,c=null):(c+="\0",d=0,v=Math.max(v,c.length)),p=0,h=-32;h<v;++h)c&&(d^=c.charCodeAt((h+32)%c.length)),h===0&&(m=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,h>=0&&(m=m+1640531527|0,p=(f=y[127&h]^=d+m)==0?p+1:0);for(p>=128&&(y[127&(c&&c.length||0)]=-1),p=127,h=512;h>0;--h)d=y[p+34&127],f=y[p=p+1&127],d^=d<<13,f^=f<<17,d^=d>>>15,f^=f>>>12,y[p]=d^f;l.w=m,l.X=y,l.i=p}(u,s)}function i(s,u){return u.i=s.i,u.w=s.w,u.X=s.X.slice(),u}function a(s,u){s==null&&(s=+new Date);var l=new o(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(c.X&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.xor4096=a})(0,e)}),CDe=np(function(e){(function(r,t,n){function o(s){var u=this,l="";u.next=function(){var f=u.b,d=u.c,p=u.d,h=u.a;return f=f<<25^f>>>7^d,d=d-p|0,p=p<<24^p>>>8^h,h=h-f|0,u.b=f=f<<20^f>>>12^d,u.c=d=d-p|0,u.d=p<<16^d>>>16^h,u.a=h-f|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,s===Math.floor(s)?(u.a=s/4294967296|0,u.b=0|s):l+=s;for(var c=0;c<l.length+20;c++)u.b^=0|l.charCodeAt(c),u.next()}function i(s,u){return u.a=s.a,u.b=s.b,u.c=s.c,u.d=s.d,u}function a(s,u){var l=new o(s),c=u&&u.state,f=function(){return(l.next()>>>0)/4294967296};return f.double=function(){do var d=((l.next()>>>11)+(l.next()>>>0)/4294967296)/2097152;while(d===0);return d},f.int32=l.next,f.quick=f,c&&(typeof c=="object"&&i(c,l),f.state=function(){return i(l,{})}),f}t&&t.exports?t.exports=a:this.tychei=a})(0,e)}),rd=np(function(e){(function(r,t){var n,o=this,i=256,a=6,s="random",u=t.pow(i,a),l=t.pow(2,52),c=2*l,f=i-1;function d(v,g,x){var b=[],w=m(function S(T,k){var P,I=[],F=typeof T;if(k&&F=="object")for(P in T)try{I.push(S(T[P],k-1))}catch{}return I.length?I:F=="string"?T:T+"\0"}((g=g==1?{entropy:!0}:g||{}).entropy?[v,y(r)]:v??function(){try{var S;return n&&(S=n.randomBytes)?S=S(i):(S=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(S)),y(S)}catch{var T=o.navigator,k=T&&T.plugins;return[+new Date,o,k,o.screen,y(r)]}}(),3),b),E=new p(b),C=function(){for(var S=E.g(a),T=u,k=0;S<l;)S=(S+k)*i,T*=i,k=E.g(1);for(;S>=c;)S/=2,T/=2,k>>>=1;return(S+k)/T};return C.int32=function(){return 0|E.g(4)},C.quick=function(){return E.g(4)/4294967296},C.double=C,m(y(E.S),r),(g.pass||x||function(S,T,k,P){return P&&(P.S&&h(P,E),S.state=function(){return h(E,{})}),k?(t[s]=S,T):S})(C,w,"global"in g?g.global:this==t,g.state)}function p(v){var g,x=v.length,b=this,w=0,E=b.i=b.j=0,C=b.S=[];for(x||(v=[x++]);w<i;)C[w]=w++;for(w=0;w<i;w++)C[w]=C[E=f&E+v[w%x]+(g=C[w])],C[E]=g;(b.g=function(S){for(var T,k=0,P=b.i,I=b.j,F=b.S;S--;)T=F[P=f&P+1],k=k*i+F[f&(F[P]=F[I=f&I+T])+(F[I]=T)];return b.i=P,b.j=I,k})(i)}function h(v,g){return g.i=v.i,g.j=v.j,g.S=v.S.slice(),g}function m(v,g){for(var x,b=v+"",w=0;w<b.length;)g[f&w]=f&(x^=19*g[f&w])+b.charCodeAt(w++);return y(g)}function y(v){return String.fromCharCode.apply(0,v)}if(t["seed"+s]=d,m(t.random(),r),e.exports){e.exports=d;try{n=require("crypto")}catch{}}})([],Math)});rd.alea=xDe,rd.xor128=bDe,rd.xorwow=_De,rd.xorshift7=wDe,rd.xor4096=SDe,rd.tychei=CDe;var bC=rd.alea,g3=function(){function e(r,t,n,o,i){this.mean=r,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=i||Math.random();this.random=bC(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var r=this.nextVal;return this.nextVal=NaN,r}for(var t,n,o=!1;!o;){var i=void 0,a=void 0,s=void 0;do s=(i=2*this.random()-1)*i+(a=2*this.random()-1)*a;while(s>=1||s===0);var u=Math.sqrt(-2*Math.log(s)/s);t=this.mean+this.stdDev*i*u,n=this.mean+this.stdDev*a*u,this.truncated&&!this.isValidTruncated(t)||(o=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(r){return this.dtype==null||this.dtype==="float32"?r:Math.round(r)},e.prototype.isValidTruncated=function(r){return r<=this.upper&&r>=this.lower},e}(),EDe=function(){function e(r,t,n,o){this.alpha=r,this.beta=1/t,this.dtype=n;var i=o||Math.random();this.randu=bC(i.toString()),this.randn=new g3(0,1,n,!1,this.randu()),this.d=r<1?r+2/3:r-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var r,t,n,o,i,a;;){do o=this.randn.nextValue(),a=1+this.c*o;while(a<=0);if(a*=a*a,t=1-.331*(r=o*o)*r,n=.5*r+this.d*(1-a+Math.log(a)),(i=this.randu())<t||Math.log(i)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(r){return this.dtype==="float32"?r:Math.round(r)},e}(),kDe=function(){function e(r,t,n,o){var i=this;if(r===void 0&&(r=0),t===void 0&&(t=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=r,this.range=t-r,this.dtype=n,o==null&&(o=Math.random()),typeof o=="number"&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+r+" - "+t+" <= 1 and dtype is not float");this.random=bC(o)}return e.prototype.convertValue=function(r){return this.canReturnFloat()?r:Math.round(r)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function hr(e,r,t){return r===void 0&&(r="float32"),r=r||"float32",MG(e),new S0(e,r,t)}function RDe(e,r){r===void 0&&(r=!1),console.log(e.toString(r))}var UG=ke({batchToSpaceND_:function(e,r,t){var n=ge(e,"x","batchToSpaceND"),o=r.reduce(function(i,a){return i*a});return be(n.rank>=1+r.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+r.length}),be(t.length===r.length,function(){return"crops.length is "+t.length+" but should be equal to blockShape.length  "+r.length}),be(n.shape[0]%o==0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of the elements of blockShape "+r.join(" * ")+" === "+o}),Oe.runKernelFunc(function(i){return i.batchToSpaceND(n,r,t)},{$x:n},function(i){return{$x:function(){return i.spaceToBatchND(r,t)}}})}}),TDe=ke({broadcastTo_:function(e,r){var t=ge(e,"broadcastTo","x"),n=t.shape;if(r.some(function(u){return!(u>0)||u%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+r+"].");if(r.length<t.rank)throw new Error("broadcastTo(): shape.length="+r.length+" < input.rank="+t.rank+".");if(r.length>t.rank){for(var o=t.shape.slice();o.length<r.length;)o.unshift(1);t=t.reshape(o)}for(var i=Array.from(r),a=r.length-1;a>=0;a--)if(t.shape[a]===r[a])i[a]=1;else if(t.shape[a]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+r+"].");var s=i.map(function(u,l){return u>1?l:-1}).filter(function(u){return u>=0});return s.length===0?t.clone():Oe.runKernelFunc(function(u){return u.tile(t,i)},{input:t},function(u){return{input:function(){return u.sum(s,!0)}}})}}),ADe=ke({cast_:function(e,r){var t=ge(e,"x","cast");if(!_Oe(r))throw new Error("Failed to cast to unknown dtype "+r);if(r==="string"&&t.dtype!=="string"||r!=="string"&&t.dtype==="string")throw new Error("Only strings can be casted to strings");var n={dtype:r};return Oe.runKernelFunc(function(o){return o.cast(t,r)},{x:t},function(o){return{x:function(){return o.clone()}}},"Cast",n)}}),ODe=ke({clone_:function(e){var r=ge(e,"x","clone",null);return Oe.runKernelFunc(function(){return Oe.makeTensorFromDataId(r.dataId,r.shape,r.dtype)},{$x:r},function(t){return{$x:function(){return t.toFloat()}}})}}),DDe=ke({cumsum_:function(e,r,t,n){r===void 0&&(r=0),t===void 0&&(t=!1),n===void 0&&(n=!1);var o=ge(e,"x","cumsum"),i=ml([r|=0],o.rank),a=o;i!=null&&(a=o.transpose(i));var s=gl(1,o.rank)[0],u=Oe.runKernelFunc(function(l){return l.cumsum(a,s,t,n)},{permutedX:a},function(l){return{permutedX:function(){return l.cumsum(r,t,!n)}}});return i!=null&&(u=u.transpose(i)),u}}),PDe=ke({depthToSpace_:function(e,r,t){t===void 0&&(t="NHWC");var n=ge(e,"x","depthToSpace"),o=t==="NHWC"?n.shape[1]:n.shape[2],i=t==="NHWC"?n.shape[2]:n.shape[3],a=t==="NHWC"?n.shape[3]:n.shape[1];return be(o*r>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+o+" and "+r+`  for depthToSpace with input shape
      `+n.shape}),be(i*r>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+r+` for depthToSpace with input shape
          `+n.shape}),be(a%(r*r)==0,function(){return"Dimension size must be evenly divisible by "+r*r+" but is "+a+" for depthToSpace with input shape "+n.shape}),Oe.runKernelFunc(function(s){return s.depthToSpace(n,r,t)},{$x:n})}}),ms=ke({expandDims_:function(e,r){r===void 0&&(r=0);var t=ge(e,"x","expandDims",null);be(r<=t.rank,function(){return"Axis must be <= rank of the tensor"});var n=t.shape.slice();return r<0&&(be(-(t.rank+1)<=r,function(){return"Axis must be in the interval ["+-(t.rank+1)+", "+t.rank+"]"}),r=t.rank+r+1),n.splice(r,0,1),Vs(t,n)}}),qG=ke({eye_:function(e,r,t,n){n===void 0&&(n="float32"),r==null&&(r=e);for(var o=hr([e,r],n),i=e<=r?e:r,a=0;a<i;++a)o.set(1,a,a);var s=o.toTensor().as2D(e,r);if(t==null)return s;if(t.length===1)return Oh(ms(s,0),[t[0],1,1]);if(t.length===2)return Oh(ms(ms(s,0),0),[t[0],t[1],1,1]);if(t.length===3)return Oh(ms(ms(ms(s,0),0),0),[t[0],t[1],t[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+t.length+"D.")}}),IDe=ke({multinomial_:function(e,r,t,n){n===void 0&&(n=!1);var o=ge(e,"logits","multinomial"),i=o.size,a=o.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(a>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+a);t=t||Math.random();var s=a===1?o.as2D(1,-1):o,u=Oe.runKernelFunc(function(l){return l.multinomial(s,n,r,t)},{logits2D:s});return a===1?u.as1D():u}}),ID=ke({oneHot_:function(e,r,t,n){if(t===void 0&&(t=1),n===void 0&&(n=0),r<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+r);var o=ge(e,"indices","oneHot","int32"),i=o.shape.concat([r]);return o=o.flatten(),Oe.runKernelFunc(function(a){return a.oneHot(o,r,t,n)},{$indices:o},function(a){return{$indices:function(){return Dn(o.shape,"float32")}}}).reshape(i)}}),op=ke({pad_:function(e,r,t){t===void 0&&(t=0);var n=ge(e,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:r,constantValue:t};return Oe.runKernelFunc(function(i){return i.pad(n,r,t)},{x:n},function(i){var a=r.map(function(s){return s[0]});return{x:function(){return i.slice(a,n.shape)}}},"PadV2",o)}}),NDe=ke({pad1d_:function(e,r,t){return t===void 0&&(t=0),be(r.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),op(e,[r],t)}}),MDe=ke({pad2d_:function(e,r,t){return t===void 0&&(t=0),be(r.length===2&&r[0].length===2&&r[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),op(e,r,t)}}),FDe=ke({pad3d_:function(e,r,t){return t===void 0&&(t=0),be(r.length===3&&r[0].length===2&&r[1].length===2&&r[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),op(e,r,t)}}),LDe=ke({pad4d_:function(e,r,t){return t===void 0&&(t=0),be(r.length===4&&r[0].length===2&&r[1].length===2&&r[2].length===2&&r[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),op(e,r,t)}}),BDe=ke({rand_:function(e,r,t){var n=qt(e),o=null;if(t==null||t==="float32")o=new Float32Array(n);else if(t==="int32")o=new Int32Array(n);else{if(t!=="bool")throw new Error("Unknown data type "+t);o=new Uint8Array(n)}for(var i=0;i<n;i++)o[i]=r();return Oe.makeTensor(o,e,t)}}),jDe=ke({randomNormal_:function(e,r,t,n,o){if(r===void 0&&(r=0),t===void 0&&(t=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var i=new g3(r,t,n,!1,o),a=hr(e,n),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),$De=ke({randomGamma_:function(e,r,t,n,o){if(t===void 0&&(t=1),n===void 0&&(n="float32"),t==null&&(t=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var i=new EDe(r,t,n,o),a=hr(e,n),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),HG=ke({randomUniform_:function(e,r,t,n,o){r===void 0&&(r=0),t===void 0&&(t=1),n===void 0&&(n="float32");for(var i=hr(e,n),a=new kDe(r,t,null,o),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),Vs=ke({reshape_:function(e,r){var t=ge(e,"x","reshape",null);r=xOe(r,t.size),be(t.size===qt(r),function(){return"new shape and old shape must have the same number of elements."});var n={shape:r};return Oe.runKernelFunc(function(o){return o.reshape(t,r)},{x:t},function(o){return{x:function(){return o.reshape(t.shape)}}},"Reshape",n)}}),VG=ke({spaceToBatchND_:function(e,r,t){var n=ge(e,"x","spaceToBatchND");return be(n.rank>=1+r.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+r.length}),be(t.length===r.length,function(){return"paddings.shape[0] "+t.length+" must be equal to [blockShape] "+r.length}),be(n.shape.reduce(function(o,i,a){return a>0&&a<=r.length?o&&(i+t[a-1][0]+t[a-1][1])%r[a-1]==0:o},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+t.toString()+" must be divisible by blockShapes "+r.toString()}),Oe.runKernelFunc(function(o){return o.spaceToBatchND(n,r,t)},{$x:n},function(o){return{$x:function(){return o.batchToSpaceND(r,t)}}})}}),GG=ke({squeeze_:function(e,r){var t=ge(e,"x","squeeze");return Vs(t,ud(t.shape,r).newShape)}}),Wa=ke({stack_:function(e,r){r===void 0&&(r=0);var t=X2(e,"tensors","stack");if(be(t.length>=1,function(){return"Pass at least one tensor to tf.stack"}),t.length===1)return t[0].expandDims(r);var n=t[0].rank,o=t[0].shape,i=t[0].dtype;be(r<=n,function(){return"Axis must be <= rank of the tensor"}),t.forEach(function(s){on(o,s.shape,"All tensors passed to stack must have matching shapes")}),t.forEach(function(s){be(i===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var a=t.map(function(s){return s.expandDims(r)});return To(a,r)}}),Oh=ke({tile_:function(e,r){var t=ge(e,"x","tile",null);be(t.rank===r.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of reps "+r+"."});var n=[t],o={reps:r};return Oe.runKernelFunc(function(i,a){var s=i.tile(t,r);return a([t]),s},{x:t},function(i,a){var s=a[0];return{x:function(){var u=Hr(s);if(s.rank===1)for(var l=0;l<r[0];++l)u=u.add(i.slice([l*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(l=0;l<r[0];++l)for(var c=0;c<r[1];++c)u=u.add(i.slice([l*s.shape[0],c*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(l=0;l<r[0];++l)for(c=0;c<r[1];++c)for(var f=0;f<r[2];++f)u=u.add(i.slice([l*s.shape[0],c*s.shape[1],f*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(l=0;l<r[0];++l)for(c=0;c<r[1];++c)for(f=0;f<r[2];++f)for(var d=0;d<r[3];++d)u=u.add(i.slice([l*s.shape[0],c*s.shape[1],f*s.shape[2],d*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return u}}},"Tile",o,n)}}),zDe=ke({truncatedNormal_:function(e,r,t,n,o){if(r===void 0&&(r=0),t===void 0&&(t=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var i=new g3(r,t,n,!0,o),a=hr(e,n),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),Ao=ke({unstack_:function(e,r){r===void 0&&(r=0),r=r||0;var t=ge(e,"x","unstack");be(r>=-t.shape.length&&r<t.shape.length,function(){return"Axis = "+r+" is not in [-"+t.shape.length+", "+t.shape.length+")"}),r<0&&(r+=t.shape.length);var n={axis:r};return Oe.runKernelFunc(function(o){return o.unstack(t,r)},{x:t},function(o){return{x:function(){return Wa(o,r)}}},"Unpack",n)}}),WDe=function(e,r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s,u,l,c,f;return Wt(this,function(d){switch(d.label){case 0:return t=ge(e,"x","setdiff1d"),n=ge(r,"y","setdiff1d"),be(t.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+t.dtype+") and y ("+n.dtype+")."}),be(t.rank===1,function(){return"x should be 1D tensor, but got x ("+t.shape+")."}),be(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,t.data()];case 1:return o=d.sent(),[4,n.data()];case 2:for(i=d.sent(),a=new Set(i),s=0,c=0;c<o.length;c++)a.has(o[c])||s++;for(u=new S0([s],t.dtype),l=new S0([s],"int32"),c=0,f=0;c<o.length;c++)a.has(o[c])||(u.values[f]=o[c],l.values[f]=c,f++);return[2,[u.toTensor(),l.toTensor()]]}})})};function J2(e,r,t,n){n===void 0&&(n=!0);var o=[];if(n)(o=o.concat(r.slice(0))).push(e[0]/t),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var i=r.length,a=0;a<i;++a)o=o.concat([e[a+1]/r[a],r[a]]);o=o.concat(e.slice(i+1))}return o}function Z2(e,r,t){t===void 0&&(t=!0);var n=[];if(t){n.push(r);for(var o=r+1;o<e;++o)o<=2*r?(n.push(o),n.push(o-(r+1))):n.push(o)}else{var i=[],a=[];for(o=1;o<e;++o)o>=2*r+1||o%2==1?a.push(o):i.push(o);n.push.apply(n,i),n.push(0),n.push.apply(n,a)}return n}function ew(e,r,t,n){n===void 0&&(n=!0);var o=[];n?o.push(e[0]/t):o.push(e[0]*t);for(var i=1;i<e.length;++i)i<=r.length?n?o.push(r[i-1]*e[i]):o.push(e[i]/r[i-1]):o.push(e[i]);return o}function YG(e,r){for(var t=[0],n=0;n<r;++n)t.push(e[n][0]);return t}function KG(e,r,t){for(var n=e.slice(0,1),o=0;o<t;++o)n.push(e[o+1]-r[o][0]-r[o][1]);return n}function XG(e,r){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(r.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+r.rank+".");if(r.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+r.dtype+".");if(r.shape[r.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+r.shape[r.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var t=r.shape,n=t[t.length-1],o=1,i=0;i<t.length-1;++i)o*=t[i];var a=e.shape,s=t.slice();s.pop();var u=1;for(i=n;i<e.rank;++i)u*=a[i],s.push(a[i]);var l=Ku(e.shape).map(function(c){return c/u}).concat([1]).slice(0,n);return[s,o,u,l]}var QG=30;function hA(e){return e<=QG?e:RD(e,Math.floor(Math.sqrt(e)))}function UDe(e,r,t){var n=r.rank>1?r.shape[r.rank-1]:1,o=r.rank>1?r.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+t.shape+", indices.shape: "+r.shape+", shape: "+e+", sliceDim: "+n+", and batchDim: "+o+".";if(t.rank<o)throw new Error(i+" update.rank < "+o+". ");if(e.length<n+(t.rank-o))throw new Error(i+" Output shape length < "+(n+(t.rank-o)));if(t.rank!==o+e.length-n)throw new Error(i+" update.rank != "+(o+e.length-n));for(var a=0;a<o;++a)if(t.shape[a]!==r.shape[a])throw new Error(i+" updates.shape["+a+"] ("+t.shape[a]+") != indices.shape["+a+"] ("+r.shape[a]+").");for(a=0;a<t.rank-o;++a)if(t.shape[a+o]!==e[a+n])throw new Error(i+" updates.shape["+(a+o)+"] ("+t.shape[a+o]+") != shape["+(a+o)+"] ("+e[a+o]+")")}function qDe(e,r,t){if(r.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+r.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(r.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+r.dtype);if(t.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+t);if(t.length===0){if(r.size===0)throw new Error("Indices specified for empty output. indices shape: "+r.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}UDe(t,r,e)}function tw(e,r,t){for(var n=r.shape.length,o=n>1?r.shape[n-1]:1,i=t.length,a=1,s=o;s<i;++s)a*=t[s];var u=o<1?1:o;return{sliceRank:o,numUpdates:qt(r.shape)/u,sliceSize:a,strides:Ku(t.slice(0,o)).concat([1]),outputSize:qt(t)}}function HDe(e,r,t){be(e.rank===r.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+r+" must match the rank of the array ("+e.rank+")."}),be(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of size "+t+" must match the rank of the array ("+e.rank+")."});for(var n=function(i){be(r[i]+t[i]<=e.shape[i],function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(r[i]+t[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"})},o=0;o<e.rank;++o)n(o)}function UW(e){for(var r=[],t=0;e>0;)1&e&&r.push(t),e/=2,t++;return r}function y3(e,r,t){for(var n=[],o=0;o<e.length;o++)n[o]=Math.ceil((r[o]-e[o])/t[o]);return n}function VDe(e,r,t,n,o){var i=r[o],a=t[o]||1;(e&1<<o||i==null)&&(i=a>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=n[o];return i<0&&(i+=s),i=CD(0,i,s-1)}function GDe(e,r,t,n,o){var i=r[o],a=t[o]||1;(e&1<<o||i==null)&&(i=a>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=n[o];return i<0&&(i+=s),i=a>0?CD(0,i,s):CD(-1,i,s-1)}function JG(e,r,t){for(var n=t.length,o=0;o<t.length;o++)if(t[o]>1){n=o;break}for(o=n+1;o<t.length;o++)if(r[o]>0||t[o]!==e[o])return!1;return!0}function ZG(e,r){for(var t=e.length>0?e[e.length-1]:1,n=0;n<e.length-1;n++)t+=e[n]*r[n];return t}function YDe(e,r){be(kD(e),function(){return"The f passed in variableGrads(f) must be a function"}),be(r==null||Array.isArray(r)&&r.every(function(c){return c instanceof pv}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var t=r!=null;if(!t)for(var n in r=[],Oe.registeredVariables)r.push(Oe.registeredVariables[n]);var o=t?r.filter(function(c){return!c.trainable}):null,i=r.length;be((r=r.filter(function(c){return c.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."});var a=Oe.gradients(e,r,null,!0),s=a.value,u=a.grads;be(u.some(function(c){return c!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),be(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var l={};return r.forEach(function(c,f){u[f]!=null&&(l[c.name]=u[f])}),o!=null&&o.forEach(function(c){return l[c.name]=null}),{value:s,grads:l}}function _C(e){return Oe.customGrad(e)}var cc=ke({softmax_:function(e,r){r===void 0&&(r=-1);var t=ge(e,"logits","softmax","float32");if(r===-1&&(r=t.rank-1),r!==t.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and dim was "+r);return Oe.runKernelFunc(function(n,o){var i=n.softmax(t,r);return o([i]),i},{logits:t},function(n,o){var i=o[0],a=n.mul(i);return{logits:function(){return a.sub(a.sum([r],!0).mul(i))}}},"Softmax",{dim:r},[],[!0])}}),KDe=ke({logSoftmax_:function(e,r){r===void 0&&(r=-1);var t=ge(e,"logits","logSoftmax");if(r===-1&&(r=t.rank-1),r!==t.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+t.rank+" and axis was "+r);return _C(function(n,o){var i=n.max(r,!0),a=n.sub(i),s=a.toFloat().sub(a.exp().sum(r,!0).log());return o([s]),{value:s,gradFunc:function(u,l){var c=l[0].exp();return u.sub(u.sum(r,!0).mul(c))}}})(t)}}),eY=function(){function e(r,t){this.backend=r,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(r){return this.data.has(r)||this.dataMover.moveData(this.backend,r),this.data.get(r)},e.prototype.set=function(r,t){this.dataIdsCount++,this.data.set(r,t)},e.prototype.has=function(r){return this.data.has(r)},e.prototype.delete=function(r){return this.dataIdsCount--,this.data.delete(r)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),tY=function(){function e(){}return e.prototype.time=function(r){return ze("time")},e.prototype.read=function(r){return ze("read")},e.prototype.readSync=function(r){return ze("readSync")},e.prototype.numDataIds=function(){return ze("numDataIds")},e.prototype.disposeData=function(r){return ze("disposeData")},e.prototype.write=function(r,t,n){return ze("write")},e.prototype.move=function(r,t,n,o){return ze("move")},e.prototype.memory=function(){return ze("memory")},e.prototype.floatPrecision=function(){return ze("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(r,t,n,o){return ze("batchMatMul")},e.prototype.fusedBatchMatMul=function(r){return r.a,r.b,r.transposeA,r.transposeB,r.bias,r.activation,r.preluActivationWeights,ze("fusedBatchMatMul")},e.prototype.slice=function(r,t,n){return ze("slice")},e.prototype.stridedSlice=function(r,t,n,o){return ze("stridedSlice")},e.prototype.unstack=function(r,t){return ze("unstack")},e.prototype.reverse=function(r,t){return ze("reverse")},e.prototype.concat=function(r,t){return ze("concat")},e.prototype.neg=function(r){return ze("neg")},e.prototype.add=function(r,t){return ze("add")},e.prototype.addN=function(r){return ze("addN")},e.prototype.subtract=function(r,t){return ze("subtract")},e.prototype.multiply=function(r,t){return ze("multiply")},e.prototype.realDivide=function(r,t){return ze("realDivide")},e.prototype.floorDiv=function(r,t){return ze("floorDiv")},e.prototype.sum=function(r,t){return ze("sum")},e.prototype.prod=function(r,t){return ze("prod")},e.prototype.unsortedSegmentSum=function(r,t,n){return ze("unsortedSegmentSum")},e.prototype.argMin=function(r,t){return ze("argMin")},e.prototype.argMax=function(r,t){return ze("argMax")},e.prototype.equal=function(r,t){return ze("equal")},e.prototype.notEqual=function(r,t){return ze("notEqual")},e.prototype.less=function(r,t){return ze("less")},e.prototype.lessEqual=function(r,t){return ze("lessEqual")},e.prototype.greater=function(r,t){return ze("greater")},e.prototype.greaterEqual=function(r,t){return ze("greaterEqual")},e.prototype.logicalNot=function(r){return ze("logicalNot")},e.prototype.logicalAnd=function(r,t){return ze("logicalAnd")},e.prototype.logicalOr=function(r,t){return ze("logicalOr")},e.prototype.where=function(r){return ze("where")},e.prototype.select=function(r,t,n){return ze("select")},e.prototype.topk=function(r,t,n){return ze("topk")},e.prototype.min=function(r,t){return ze("min")},e.prototype.minimum=function(r,t){return ze("minimum")},e.prototype.mod=function(r,t){return ze("mod")},e.prototype.max=function(r,t){return ze("max")},e.prototype.maximum=function(r,t){return ze("maximum")},e.prototype.all=function(r,t){return ze("all")},e.prototype.any=function(r,t){return ze("any")},e.prototype.squaredDifference=function(r,t){return ze("squaredDifference")},e.prototype.ceil=function(r){return ze("ceil")},e.prototype.floor=function(r){return ze("floor")},e.prototype.round=function(r){return ze("round")},e.prototype.sign=function(r){return ze("sign")},e.prototype.isNaN=function(r){return ze("isNaN")},e.prototype.isInf=function(r){return ze("isInf")},e.prototype.isFinite=function(r){return ze("isFinite")},e.prototype.pow=function(r,t){return ze("pow")},e.prototype.exp=function(r){return ze("exp")},e.prototype.expm1=function(r){return ze("expm1")},e.prototype.softmax=function(r,t){return ze("softmax")},e.prototype.log=function(r){return ze("log")},e.prototype.log1p=function(r){return ze("log1p")},e.prototype.sqrt=function(r){return ze("sqrt")},e.prototype.rsqrt=function(r){return ze("rsqrt")},e.prototype.square=function(r){return ze("square")},e.prototype.reciprocal=function(r){return ze("reciprocal")},e.prototype.relu=function(r){return ze("relu")},e.prototype.relu6=function(r){return ze("relu6")},e.prototype.prelu=function(r,t){return ze("prelu")},e.prototype.elu=function(r){return ze("elu")},e.prototype.eluDer=function(r,t){return ze("eluDer")},e.prototype.selu=function(r){return ze("selu")},e.prototype.int=function(r){return ze("int")},e.prototype.clip=function(r,t,n){return ze("clip")},e.prototype.abs=function(r){return ze("abs")},e.prototype.complexAbs=function(r){return ze("complexAbs")},e.prototype.sigmoid=function(r){return ze("sigmoid")},e.prototype.softplus=function(r){return ze("softplus")},e.prototype.sin=function(r){return ze("sin")},e.prototype.cos=function(r){return ze("cos")},e.prototype.tan=function(r){return ze("tan")},e.prototype.asin=function(r){return ze("asin")},e.prototype.acos=function(r){return ze("acos")},e.prototype.atan=function(r){return ze("atan")},e.prototype.atan2=function(r,t){return ze("atan2")},e.prototype.sinh=function(r){return ze("sinh")},e.prototype.cosh=function(r){return ze("cosh")},e.prototype.tanh=function(r){return ze("tanh")},e.prototype.asinh=function(r){return ze("asinh")},e.prototype.acosh=function(r){return ze("acosh")},e.prototype.atanh=function(r){return ze("atanh")},e.prototype.erf=function(r){return ze("erf")},e.prototype.step=function(r,t){return ze("step")},e.prototype.fusedConv2d=function(r){return r.input,r.filter,r.convInfo,r.bias,r.activation,r.preluActivationWeights,ze("fusedConv2d")},e.prototype.conv2d=function(r,t,n){return ze("conv2d")},e.prototype.conv2dDerInput=function(r,t,n){return ze("conv2dDerInput")},e.prototype.conv2dDerFilter=function(r,t,n){return ze("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(r){return r.input,r.filter,r.convInfo,r.bias,r.activation,r.preluActivationWeights,ze("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(r,t,n){return ze("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(r,t,n){return ze("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(r,t,n){return ze("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(r,t,n){return ze("conv3d")},e.prototype.conv3dDerInput=function(r,t,n){return ze("conv3dDerInput")},e.prototype.conv3dDerFilter=function(r,t,n){return ze("conv3dDerFilter")},e.prototype.maxPool=function(r,t){return ze("maxPool")},e.prototype.maxPoolBackprop=function(r,t,n,o){return ze("maxPoolBackprop")},e.prototype.avgPool=function(r,t){return ze("avgPool")},e.prototype.avgPoolBackprop=function(r,t,n){return ze("avgPoolBackprop")},e.prototype.avgPool3d=function(r,t){return ze("avgPool3d")},e.prototype.avgPool3dBackprop=function(r,t,n){return ze("avgPool3dBackprop")},e.prototype.maxPool3d=function(r,t){return ze("maxPool3d")},e.prototype.maxPool3dBackprop=function(r,t,n,o){return ze("maxPool3dBackprop")},e.prototype.reshape=function(r,t){return ze("reshape")},e.prototype.cast=function(r,t){return ze("cast")},e.prototype.tile=function(r,t){return ze("tile")},e.prototype.pad=function(r,t,n){return ze("pad")},e.prototype.transpose=function(r,t){return ze("transpose")},e.prototype.gather=function(r,t,n){return ze("gather")},e.prototype.gatherND=function(r,t){return ze("gatherND")},e.prototype.scatterND=function(r,t,n){return ze("scatterND")},e.prototype.batchToSpaceND=function(r,t,n){return ze("batchToSpaceND")},e.prototype.spaceToBatchND=function(r,t,n){return ze("spaceToBatchND")},e.prototype.resizeBilinear=function(r,t,n,o){return ze("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(r,t,n){return ze("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(r,t,n,o){return ze("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(r,t,n){return ze("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(r,t,n,o,i,a){return ze("batchNormalization")},e.prototype.localResponseNormalization4D=function(r,t,n,o,i){return ze("localResponseNormalization4D")},e.prototype.LRNGrad=function(r,t,n,o,i,a,s){return ze("LRNGrad")},e.prototype.multinomial=function(r,t,n,o){return ze("multinomial")},e.prototype.oneHot=function(r,t,n,o){return ze("oneHot")},e.prototype.cumsum=function(r,t,n,o){return ze("cumsum")},e.prototype.nonMaxSuppression=function(r,t,n,o,i){return ze("nonMaxSuppression")},e.prototype.fft=function(r){return ze("fft")},e.prototype.ifft=function(r){return ze("ifft")},e.prototype.complex=function(r,t){return ze("complex")},e.prototype.real=function(r){return ze("real")},e.prototype.imag=function(r){return ze("imag")},e.prototype.cropAndResize=function(r,t,n,o,i,a){return ze("cropAndResize")},e.prototype.depthToSpace=function(r,t,n){return ze("depthToSpace")},e.prototype.split=function(r,t,n){return ze("split")},e.prototype.sparseToDense=function(r,t,n,o){return ze("sparseToDense")},e.prototype.diag=function(r){return ze("diag")},e.prototype.fill=function(r,t,n){return ze("fill")},e.prototype.onesLike=function(r){return ze("onesLike")},e.prototype.zerosLike=function(r){return ze("zerosLike")},e.prototype.linspace=function(r,t,n){return ze("linspace")},e.prototype.dispose=function(){return ze("dispose")},e}();function ze(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Wc(e,r){for(var t=e.length,n=[],o=0;o<t;o++){var i=t-1-o,a=e[i]||1;(r[r.length-1-o]||1)>1&&a===1&&n.unshift(i)}return n}function Oo(e,r){for(var t=[],n=0;n<r.length;n++){var o=e[e.length-n-1],i=r.length-n-1,a=r[i];(o==null||o===1&&a>1)&&t.unshift(i)}return t}function Nr(e,r){for(var t=[],n=Math.max(e.length,r.length),o=0;o<n;o++){var i=e[e.length-o-1];i==null&&(i=1);var a=r[r.length-o-1];if(a==null&&(a=1),i===1)t.unshift(a);else if(a===1)t.unshift(i);else{if(i!==a)throw Error("Operands could not be broadcast together with shapes "+e+" and "+r+".");t.unshift(i)}}return t}function E0(e,r,t,n,o,i,a){a===void 0&&(a="channelsLast");var s,u=ow(r),l=u[0],c=u[1];if(a==="channelsLast")s=[l,c,e[3],e[3]];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);s=[l,c,e[1],e[1]]}return ip(e,s,t,n,o,i,!1,a)}function rw(e,r,t,n,o,i,a){a===void 0&&(a="NDHWC");var s,u,l=ND(r),c=l[0],f=l[1],d=l[2];if(a==="NDHWC")u="channelsLast",s=[c,f,d,e[4],e[4]];else{if(a!=="NCDHW")throw new Error("Unknown dataFormat "+a);u="channelsFirst",s=[c,f,d,e[1],e[1]]}return nw(e,s,t,n,o,!1,u,i)}function ip(e,r,t,n,o,i,a,s){a===void 0&&(a=!1),s===void 0&&(s="channelsLast");var u=[-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3];if(s==="channelsLast")l=e[0],c=e[1],f=e[2],d=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);l=e[0],d=e[1],c=e[2],f=e[3]}var p,h=r[0],m=r[1],y=r[3],v=ow(t),g=v[0],x=v[1],b=ow(n),w=b[0],E=b[1],C=Dh(h,w),S=Dh(m,E),T=function(A,D,$,B,W,L,z,U){var Y,q,V;if(typeof A=="number"){Y={top:A,bottom:A,left:A,right:A,type:A===0?"VALID":"NUMBER"};var H=function(pe,J,se,j,ce){j==null&&(j=rY(pe,J,se));var re=pe[0],Q=pe[1],G=jg((re-J+2*j)/se+1,ce);be(fo(G),function(){return"The output # of rows ("+G+") must be an integer. Change the stride and/or zero pad parameters"});var X=jg((Q-J+2*j)/se+1,ce);return be(fo(X),function(){return"The output # of columns ("+X+") must be an integer. Change the stride and/or zero pad parameters"}),[G,X]}([D,$],L,B,A,U);q=H[0],V=H[1]}else if(A==="same"){q=Math.ceil(D/B),V=Math.ceil($/W);var Z=Math.max(0,(q-1)*B+L-D),ue=Math.max(0,(V-1)*W+z-$),oe=Math.floor(Z/2),ee=Z-oe,ne=Math.floor(ue/2);Y={top:oe,bottom:ee,left:ne,right:ue-ne,type:"SAME"}}else{if(A!=="valid")throw Error("Unknown padding parameter: "+A);Y={top:0,bottom:0,left:0,right:0,type:"VALID"},q=Math.ceil((D-L+1)/B),V=Math.ceil(($-z+1)/W)}return{padInfo:Y,outHeight:q,outWidth:V}}(o,c,f,g,x,C,S,i),k=T.padInfo,P=T.outHeight,I=T.outWidth,F=a?y*d:y;return s==="channelsFirst"?p=[l,F,P,I]:s==="channelsLast"&&(p=[l,P,I,F]),{batchSize:l,dataFormat:s,inHeight:c,inWidth:f,inChannels:d,outHeight:P,outWidth:I,outChannels:F,padInfo:k,strideHeight:g,strideWidth:x,filterHeight:h,filterWidth:m,effectiveFilterHeight:C,effectiveFilterWidth:S,dilationHeight:w,dilationWidth:E,inShape:e,outShape:p,filterShape:r}}function nw(e,r,t,n,o,i,a,s){i===void 0&&(i=!1),a===void 0&&(a="channelsLast");var u=[-1,-1,-1,-1,-1],l=u[0],c=u[1],f=u[2],d=u[3],p=u[4];if(a==="channelsLast")l=e[0],c=e[1],f=e[2],d=e[3],p=e[4];else{if(a!=="channelsFirst")throw new Error("Unknown dataFormat "+a);l=e[0],p=e[1],c=e[2],f=e[3],d=e[4]}var h,m=r[0],y=r[1],v=r[2],g=r[4],x=ND(t),b=x[0],w=x[1],E=x[2],C=ND(n),S=C[0],T=C[1],k=C[2],P=Dh(m,S),I=Dh(y,T),F=Dh(v,k),A=function(z,U,Y,q,V,H,Z,ue,oe,ee,ne){var pe,J,se,j;if(typeof z=="number"){pe={top:z,bottom:z,left:z,right:z,front:z,back:z,type:z===0?"VALID":"NUMBER"};var ce=function(ie,he,_e,Se,xe,De){xe==null&&(xe=rY(ie,he,Se));var $e=ie[0],Be=ie[1],we=ie[2],Me=jg(($e-he+2*xe)/Se+1,De);be(fo(Me),function(){return"The output # of depths ("+Me+") must be an integer. Change the stride and/or zero pad parameters"});var Le=jg((Be-he+2*xe)/Se+1,De);be(fo(Le),function(){return"The output # of rows ("+Le+") must be an integer. Change the stride and/or zero pad parameters"});var Fe=jg((we-he+2*xe)/Se+1,De);return be(fo(Fe),function(){return"The output # of columns ("+Fe+") must be an integer. Change the stride and/or zero pad parameters"}),[Me,Le,Fe,_e]}([U,Y,q,1],ue,1,V,z,ne);J=ce[0],se=ce[1],j=ce[2]}else if(z==="same"){J=Math.ceil(U/V),se=Math.ceil(Y/H),j=Math.ceil(q/Z);var re=(J-1)*V+ue-U,Q=(se-1)*H+oe-Y,G=(j-1)*Z+ee-q,X=Math.floor(re/2),te=re-X,de=Math.floor(Q/2),ae=Q-de,ye=Math.floor(G/2);pe={top:de,bottom:ae,left:ye,right:G-ye,front:X,back:te,type:"SAME"}}else{if(z!=="valid")throw Error("Unknown padding parameter: "+z);pe={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},J=Math.ceil((U-ue+1)/V),se=Math.ceil((Y-oe+1)/H),j=Math.ceil((q-ee+1)/Z)}return{padInfo:pe,outDepth:J,outHeight:se,outWidth:j}}(o,c,f,d,b,w,E,P,I,F,s),D=A.padInfo,$=A.outDepth,B=A.outHeight,W=A.outWidth,L=i?g*p:g;return a==="channelsFirst"?h=[l,L,$,B,W]:a==="channelsLast"&&(h=[l,$,B,W,L]),{batchSize:l,dataFormat:a,inDepth:c,inHeight:f,inWidth:d,inChannels:p,outDepth:$,outHeight:B,outWidth:W,outChannels:L,padInfo:D,strideDepth:b,strideHeight:w,strideWidth:E,filterDepth:m,filterHeight:y,filterWidth:v,effectiveFilterDepth:P,effectiveFilterHeight:I,effectiveFilterWidth:F,dilationDepth:S,dilationHeight:T,dilationWidth:k,inShape:e,outShape:h,filterShape:r}}function rY(e,r,t,n){n===void 0&&(n=1);var o=Dh(r,n);return Math.floor((e[0]*(t-1)-t+o)/2)}function ow(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function ND(e){return typeof e=="number"?[e,e,e]:e}function Dh(e,r){return r<=1?e:e+(e-1)*(r-1)}function jg(e,r){if(!r)return e;switch(r){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+r)}}function vv(e){var r=ow(e),t=r[0],n=r[1],o=r[2];return t===1&&n===1&&o===1}function ya(e,r){return vv(e)||vv(r)}function x3(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function nY(e,r,t){if(r==="complex64"){if(e.dtype==="complex64")return e.clone();var n=Dn(e.shape),o=e.toFloat(),i=t.complex(o,n);return n.dispose(),o.dispose(),i}if(!wOe(e.dtype,r))return Oe.makeTensorFromDataId(e.dataId,e.shape,r);if(e.dtype==="complex64"){var a=t.real(e);return i=a.cast(r),a.dispose(),i}if(r==="int32")return t.int(e);if(r==="bool"){var s=Ct(0,e.dtype);return i=t.notEqual(e,s),s.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+r)}function MD(e,r){return Oe.makeTensorFromDataId(e.dataId,r,e.dtype)}function oY(e,r,t){var n=(r-e)/(t-1),o=vy(t,"float32");o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return bo(o,"float32")}function FD(e,r){if(e.length!==r.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+r.length+".");for(var t=new Float32Array(2*e.length),n=0;n<t.length;n+=2)t[n]=e[n/2],t[n+1]=r[n/2];return t}function qW(e,r){return{real:e[2*r],imag:e[2*r+1]}}function XDe(e,r,t,n){e[2*n]=r,e[2*n+1]=t}function QDe(e,r,t){var n=(t?2:-2)*Math.PI*(e/r);return{real:Math.cos(n),imag:Math.sin(n)}}function JDe(e,r,t){var n=function(i,a,s){return function(u,l,c){for(var f=0,d=u.length,p=0,h=!1;f<d;){var m=c(l,u[p=f+(d-f>>>1)]);m>0?f=p+1:(d=p,h=!m)}return h?f:-f-1}(i,a,s||ZDe)}(e,r,t),o=n<0?-(n+1):n;e.splice(o,0,r)}function ZDe(e,r){return e>r?1:e<r?-1:0}function b3(e,r,t,n,o){return iY(e,r,t,n,o,0).selectedIndices}function _3(e,r,t,n,o,i){var a=iY(e,r,t,n,o,i);return a.numValidOutputs.dispose(),{selectedIndices:a.selectedIndices,selectedScores:a.selectedScores}}function iY(e,r,t,n,o,i,a,s){s===void 0&&(s=!1);for(var u=Array.from(r).map(function(b,w){return{score:b,boxIndex:w,suppressBeginIndex:0}}).filter(function(b){return b.score>o}).sort(HW),l=i>0?-.5/i:0,c=[],f=[];c.length<t&&u.length>0;){var d=u.pop(),p=d.score,h=d.boxIndex,m=d.suppressBeginIndex;if(p<o)break;for(var y=!1,v=c.length-1;v>=m;--v){var g=ePe(e,h,c[v]);if(g>=n){y=!0;break}if(d.score=d.score*tPe(n,l,g),d.score<=o)break}d.suppressBeginIndex=c.length,y||(d.score===p?(c.push(h),f.push(d.score)):d.score>o&&JDe(u,d,HW))}var x=c.length;return s&&(c.fill(0,x),f.fill(0,x)),{selectedIndices:bo(c,"int32"),selectedScores:bo(f,"float32"),numValidOutputs:Ct(x,"int32")}}function ePe(e,r,t){var n=e.subarray(4*r,4*r+4),o=e.subarray(4*t,4*t+4),i=Math.min(n[0],n[2]),a=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),u=Math.max(n[1],n[3]),l=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),f=Math.max(o[0],o[2]),d=Math.max(o[1],o[3]),p=(s-i)*(u-a),h=(f-l)*(d-c);if(p<=0||h<=0)return 0;var m=Math.max(i,l),y=Math.max(a,c),v=Math.min(s,f),g=Math.min(u,d),x=Math.max(v-m,0)*Math.max(g-y,0);return x/(p+h-x)}function tPe(e,r,t){var n=Math.exp(r*t*t);return t<=e?n:0}function HW(e,r){return e.score-r.score||e.score===r.score&&r.boxIndex-e.boxIndex}function aY(e,r,t){var n=new Array(e.rank).fill(0),o=e.shape.slice();return r.map(function(i){o[t]=i;var a=e.slice(n,o);return n[t]+=i,a})}function sY(e,r){for(var t=new Array(e.rank),n=0;n<t.length;n++)t[n]=e.shape[n]*r[n];var o=hr(t,e.dtype);for(n=0;n<o.values.length;++n){for(var i=o.indexToLoc(n),a=new Array(e.rank),s=0;s<a.length;s++)a[s]=i[s]%e.shape[s];var u=e.locToIndex(a);o.values[n]=e.values[u]}return o.toTensor()}function uY(e,r,t,n,o){for(var i=r[r.length-1],a=[e.length/i,i],s=a[0],u=a[1],l=w0(t,s*n),c=w0("int32",s*n),f=0;f<s;f++){for(var d=f*u,p=e.subarray(d,d+u),h=[],m=0;m<p.length;m++)h.push({value:p[m],index:m});h.sort(function(b,w){return w.value-b.value});var y=f*n,v=l.subarray(y,y+n),g=c.subarray(y,y+n);for(m=0;m<n;m++)v[m]=h[m].value,g[m]=h[m].index}var x=r.slice();return x[x.length-1]=n,[ni(l,x,t),ni(c,x,"int32")]}function w3(e,r){for(var t=[],n=0;n<r.length;n++)r[n]&&t.push(n);var o=hr(e,"int32"),i=hr([t.length,e.length],"int32");for(n=0;n<t.length;n++){var a=o.indexToLoc(t[n]),s=n*e.length;i.values.set(a,s)}return i.toTensor()}var rPe=function(e,r){this.outputShape=[],this.outputShape=e,this.variableNames=r.map(function(o,i){return"T"+i});var t=[];this.variableNames.forEach(function(o){t.push("float v"+o+" = get"+o+"AtOutCoords();")});var n=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        float result = `+n+`;
        setOutput(result);
      }
    `},nPe=function(e,r){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=r.map(function(o,i){return"T"+i});var t=[];this.variableNames.forEach(function(o){t.push("vec4 v"+o+" = get"+o+"AtOutCoords();")});var n=this.variableNames.map(function(o){return"v"+o}).join(" + ");this.userCode=`
      void main() {
        `+t.join(`
        `)+`

        vec4 result = `+n+`;
        setOutput(result);
      }
    `},oPe=function(e,r,t){this.variableNames=["A"];var n=e.windowSize,o=e.batchSize,i=e.inSize,a=Math.ceil(i/n);t||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];var s=r==="max"?">":"<",u=t?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+n+`; i++) {
          int inIdx = `+u+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function lY(e,r){return["x","y","z","w","u","v"].slice(0,r).map(function(t){return e+"."+t})}function ua(e,r){return r===1?[e]:lY(e,r)}function _i(){var e,r,t,n,o,i,a,s,u,l;return Je().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",r="in",t="out",n="in",o="texture",i="outputColor",a="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,u="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",r="attribute",t="varying",n="varying",o="texture2D",i="gl_FragColor",a="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:r,varyingVs:t,varyingFs:n,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:u,defineRound:l}}function md(e,r,t){t===void 0&&(t="index");var n=Ku(r);return n.map(function(o,i){return"int "+e[i]+" = "+t+" / "+o+"; "+(i===n.length-1?"int "+e[i+1]+" = "+t+" - "+e[i]+" * "+o:"index -= "+e[i]+" * "+o)+";"}).join("")}function S3(e){var r=Ku(e).map(function(t){return t.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+r[0]+" + coords.y * "+r[1]+` + coords.z;
  }
`}var cY=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function iPe(e,r,t,n){var o=[];e.forEach(function(p){var h=qt(p.shapeInfo.logicalShape);p.shapeInfo.isUniform?o.push("uniform float "+p.name+(h>1?"["+h+"]":"")+";"):(o.push("uniform sampler2D "+p.name+";"),o.push("uniform int offset"+p.name+";"))});var i,a,s=o.join(`
`),u=e.map(function(p){return function(h,m,y){y===void 0&&(y=!1);var v="";v+=y?fY(h):Qp(h);var g=h.shapeInfo.logicalShape,x=m.logicalShape;return g.length<=x.length&&(v+=y?function(b,w){var E,C=b.name,S=C.charAt(0).toUpperCase()+C.slice(1),T="get"+S+"AtOutCoords",k=b.shapeInfo.logicalShape.length,P=w.logicalShape.length,I=Wc(b.shapeInfo.logicalShape,w.logicalShape),F=kn(P),A=P-k,D=["x","y","z","w","u","v"];E=k===0?"":P<2&&I.length>=1?"coords = 0;":I.map(function(Y){return"coords."+D[Y+A]+" = 0;"}).join(`
`);var $="";$=P<2&&k>0?"coords":b.shapeInfo.logicalShape.map(function(Y,q){return"coords."+D[q+A]}).join(", ");var B="return outputValue;",W=qt(b.shapeInfo.logicalShape)===1,L=qt(w.logicalShape)===1;if(k!==1||W||L){if(W&&!L)B=P===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(I.length){var z=k-2,U=k-1;I.indexOf(z)>-1&&I.indexOf(U)>-1?B="return vec4(outputValue.x);":I.indexOf(z)>-1?B="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":I.indexOf(U)>-1&&(B="return vec4(outputValue.xx, outputValue.zz);")}}else B=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+T+`() {
      `+F+` coords = getOutputCoords();
      `+E+`
      vec4 outputValue = get`+S+"("+$+`);
      `+B+`
    }
  `}(h,m):function(b,w){var E=b.name,C=E.charAt(0).toUpperCase()+E.slice(1),S="get"+C+"AtOutCoords",T=w.texShape,k=b.shapeInfo.texShape,P=b.shapeInfo.logicalShape.length,I=w.logicalShape.length;if(!b.shapeInfo.isUniform&&P===I&&b.shapeInfo.flatOffset==null&&Wo(k,T))return`
      float `+S+`() {
        return sampleTexture(`+E+`, resultUV);
      }
    `;var F,A=kn(I),D=Wc(b.shapeInfo.logicalShape,w.logicalShape),$=I-P,B=["x","y","z","w","u","v"];F=P===0?"":I<2&&D.length>=1?"coords = 0;":D.map(function(L){return"coords."+B[L+$]+" = 0;"}).join(`
`);var W="";return W=I<2&&P>0?"coords":b.shapeInfo.logicalShape.map(function(L,z){return"coords."+B[z+$]}).join(", "),`
    float `+S+`() {
      `+A+` coords = getOutputCoords();
      `+F+`
      return get`+C+"("+W+`);
    }
  `}(h,m)),v}(p,r,n)}).join(`
`),l=r.texShape,c=_i(),f=function(p){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+p.texture2D+`(textureSampler, uv).r;
    }
  `}(c),d=function(p){return p.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+p.varyingFs+` vec2 resultUV;
    `+p.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+p.defineSpecialNaN+`
    `+p.defineSpecialInf+`
    `+p.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+aPe+`
    `+sPe+`
    `+uPe+`
  `}(c);return r.isPacked?(i=function(p,h){switch(p.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(b,w){var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];return E[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+E[1]+`.0);
      }
    `:E[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+E[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      return 2 * (resTexRC.x * `+E[1]+` + resTexRC.y);
    }
  `}(0,h);case 2:return function(b,w){var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)];if(Wo(b,w))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+E[0]+", "+E[1]+`));
      }
    `;var C=Math.ceil(b[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));

      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      int r = 2 * (index / `+C+`);
      int c = imod(index, `+C+`) * 2;

      return ivec2(r, c);
    }
  `}(p,h);case 3:return m=p,y=h,v=[Math.ceil(y[0]/2),Math.ceil(y[1]/2)],g=Math.ceil(m[2]/2),x=g*Math.ceil(m[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+v[0]+", "+v[1]+`));
      int index = resTexRC.x * `+v[1]+` + resTexRC.y;

      int b = index / `+x+`;
      index -= b * `+x+`;

      int r = 2 * (index / `+g+`);
      int c = imod(index, `+g+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(b,w){for(var E=[Math.ceil(w[0]/2),Math.ceil(w[1]/2)],C=Math.ceil(b[b.length-1]/2),S=C*Math.ceil(b[b.length-2]/2),T=S,k="",P="b, r, c",I=2;I<b.length-1;I++)T*=b[b.length-I-1],k=`
      int b`+I+" = index / "+T+`;
      index -= b`+I+" * "+T+`;
    `+k,P="b"+I+", "+P;return`
    ivec`+b.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+k+`

      int b = index / `+S+`;
      index -= b * `+S+`;

      int r = 2 * (index / `+C+`);
      int c = imod(index, `+C+`) * 2;

      return ivec`+b.length+"("+P+`);
    }
  `}(p,h)}var m,y,v,g,x}(r.logicalShape,l),a=function(p){return`
    void setOutput(vec4 val) {
      `+p.output+` = val;
    }
  `}(c)):(i=function(p,h){switch(p.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(v,g){return g[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+g[1]+`.0);
      }
    `:g[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+g[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      return resTexRC.x * `+g[1]+` + resTexRC.y;
    }
  `}(0,h);case 2:return function(v,g){return Wo(v,g)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+g[0]+", "+g[1]+`));
      }
    `:v[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+g[0]+", "+g[1]+`));
        int index = resTexRC.x * `+g[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:v[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+g[0]+", "+g[1]+`));
        int index = resTexRC.x * `+g[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;
      int r = index / `+v[1]+`;
      int c = index - r * `+v[1]+`;
      return ivec2(r, c);
    }
  `}(p,h);case 3:return m=h,y=md(["r","c","d"],p),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+m[0]+", "+m[1]+`));
      int index = resTexRC.x * `+m[1]+` + resTexRC.y;
      `+y+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(v,g){var x=md(["r","c","d","d2"],v);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;
      `+x+`
      return ivec4(r, c, d, d2);
    }
  `}(p,h);case 5:return function(v,g){var x=md(["r","c","d","d2","d3"],v);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+g[0]+`,
                             `+g[1]+`));

      int index = resTexRC.x * `+g[1]+` + resTexRC.y;

      `+x+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(p,h);case 6:return function(v,g){var x=md(["r","c","d","d2","d3","d4"],v);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;

      `+x+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(p,h);default:throw new Error(p.length+"-D output sampling is not yet supported")}var m,y}(r.logicalShape,l),a=function(p){return`
    void setOutput(float val) {
      `+p.output+` = vec4(val, 0, 0, 0);
    }
  `}(c)),n&&(d+=lPe),[d,f,a,s,i,u,t].join(`
`)}function Qp(e){var r=e.shapeInfo.logicalShape;switch(r.length){case 0:return function(t){var n=t.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return"float "+o+"() {return "+n+";}";var i=t.shapeInfo.texShape,a=i[0],s=i[1];if(a===1&&s===1)return`
      float `+o+`() {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var u=t.shapeInfo.texShape,l=u[0],c=u[1],f=Kf(n);return`
    float `+o+`() {
      vec2 uv = uvFromFlat(`+l+", "+c+", "+f+`);
      return sampleTexture(`+n+`, uv);
    }
  `}(e);case 1:return function(t){var n=t.name,o="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float `+o+`(int index) {
        `+$p(t)+`
      }
    `;var i=t.shapeInfo.texShape,a=i[0],s=i[1];if(s===1&&a===1)return`
      float `+o+`(int index) {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var u=Kf(n);return s===1?`
      float `+o+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+u+") + 0.5) / "+a+`.0);
        return sampleTexture(`+n+`, uv);
      }
    `:a===1?`
      float `+o+`(int index) {
        vec2 uv = vec2((float(index + `+u+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+n+`, uv);
      }
    `:`
    float `+o+`(int index) {
      vec2 uv = uvFromFlat(`+a+", "+s+", index + "+u+`);
      return sampleTexture(`+n+`, uv);
    }
  `}(e);case 2:return function(t){var n=t.shapeInfo.logicalShape,o=t.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=t.shapeInfo.texShape;if(a!=null&&Wo(n,a)){var s=a[0],u=a[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+u+".0, "+s+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `}var l=ud(n),c=l.newShape,f=l.keptDims,d=c;if(d.length<n.length){var p=Jp(t,d);return`
      `+Qp(p)+`
      float `+i+`(int row, int col) {
        return `+i+"("+Zp(["row","col"],f)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+n[1]+`, 1)));
        `+$p(t)+`
      }
    `;var h=a[0],m=a[1],y=Kf(o);return m===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+h+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `:h===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+y+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+m+`.0, 0.5);
      return sampleTexture(`+o+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+n[1]+" + col + "+y+`;
    vec2 uv = uvFromFlat(`+h+", "+m+`, index);
    return sampleTexture(`+o+`, uv);
  }
`}(e);case 3:return function(t){var n=t.shapeInfo.logicalShape,o=t.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=n[1]*n[2],s=n[2],u=ud(n),l=u.newShape,c=u.keptDims,f=l;if(f.length<n.length){var d=Jp(t,f);return`
        `+Qp(d)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+Zp(["row","col","depth"],c)+`);
        }
      `}if(t.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+a+", "+s+`, 1)));
        `+$p(t)+`
      }
    `;var p=t.shapeInfo.texShape,h=p[0],m=p[1],y=t.shapeInfo.flatOffset;if(m===a&&y==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+m+".0, "+h+`.0);
          return sampleTexture(`+o+`, uv);
        }
      `;if(m===s&&y==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+n[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+m+".0, "+h+`.0);
      return sampleTexture(`+o+`, uv);
    }
  `;var v=Kf(o);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+a+" + col * "+s+" + depth + "+v+`;
        vec2 uv = uvFromFlat(`+h+", "+m+`, index);
        return sampleTexture(`+o+`, uv);
      }
  `}(e);case 4:return function(t){var n=t.shapeInfo.logicalShape,o=t.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=n[3],s=n[2]*a,u=n[1]*s,l=ud(n),c=l.newShape,f=l.keptDims;if(c.length<n.length){var d=Jp(t,c);return`
      `+Qp(d)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+Zp(["row","col","depth","depth2"],f)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+u+", "+s+", "+a+`, 1)));
        `+$p(t)+`
      }
    `;var p=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,m=h[0],y=h[1];if(y===u&&p==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+a+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+y+".0, "+m+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(y===a&&p==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+n[1]*n[2]+", "+n[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+y+".0, "+m+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var v=Kf(o);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+s+` +
          depth * `+a+` + depth2;
      vec2 uv = uvFromFlat(`+m+", "+y+", index + "+v+`);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);case 5:return function(t){var n=t.shapeInfo.logicalShape,o=t.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=n[4],s=n[3]*a,u=n[2]*s,l=n[1]*u,c=ud(n),f=c.newShape,d=c.keptDims;if(f.length<n.length){var p=Jp(t,f);return`
      `+Qp(p)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+Zp(["row","col","depth","depth2","depth3"],d)+`);
      }
    `}if(t.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+l+", "+u+", "+s+", "+a+`)) +
          depth3;
        `+$p(t)+`
      }
    `;var h=t.shapeInfo.flatOffset,m=t.shapeInfo.texShape,y=m[0],v=m[1];if(v===l&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+u+", "+s+", "+a+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+v+".0, "+y+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(v===a&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]+`,
               `+n[2]*n[3]+", "+n[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+v+".0, "+y+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var g=Kf(o);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+u+" + depth * "+s+` +
          depth2 * `+a+" + depth3 + "+g+`;
      vec2 uv = uvFromFlat(`+y+", "+v+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);case 6:return function(t){var n=t.shapeInfo.logicalShape,o=t.name,i="get"+o.charAt(0).toUpperCase()+o.slice(1),a=ud(n),s=a.newShape,u=a.keptDims;if(s.length<n.length){var l=Jp(t,s);return`
      `+Qp(l)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+Zp(["row","col","depth","depth2","depth3","depth4"],u)+`);
      }
    `}var c=n[5],f=n[4]*c,d=n[3]*f,p=n[2]*d,h=n[1]*p;if(t.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+h+", "+p+", "+d+", "+f+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+c+`, 1)));
        `+$p(t)+`
      }
    `;var m=t.shapeInfo.flatOffset,y=t.shapeInfo.texShape,v=y[0],g=y[1];if(g===h&&m==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+p+", "+d+", "+f+", "+c+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;if(g===c&&m==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]*n[4]+`,
               `+n[2]*n[3]*n[4]+`,
               `+n[3]*n[4]+`,
               `+n[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+g+".0, "+v+`.0);
        return sampleTexture(`+o+`, uv);
      }
    `;var x=Kf(o);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+h+" + col * "+p+" + depth * "+d+` +
          depth2 * `+f+" + depth3 * "+c+" + depth4 + "+x+`;
      vec2 uv = uvFromFlat(`+v+", "+g+`, index);
      return sampleTexture(`+o+`, uv);
    }
  `}(e);default:throw new Error(r.length+"-D input sampling is not yet supported")}}function fY(e){var r,t,n;switch(e.shapeInfo.logicalShape.length){case 0:return r=e.name,t="get"+r.charAt(0).toUpperCase()+r.slice(1),n=_i(),`
    vec4 `+t+`() {
      return `+n.texture2D+"("+r+`, halfCR);
    }
  `;case 1:return function(o){var i=o.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),s=o.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=_i();return`
    vec4 `+a+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+u[0]+", "+u[1]+`, index);
      return `+l.texture2D+"("+i+`, uv);
    }
  `}(e);case 2:return function(o){var i=o.shapeInfo.logicalShape,a=o.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),u=o.shapeInfo.texShape,l=u[0],c=u[1],f=_i();if(u!=null&&Wo(i,u))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+l+`.0);

        return `+f.texture2D+"("+a+`, uv);
      }
    `;var d=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],p=Math.ceil(i[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+p+", "+d[0]+", "+d[1]+`, row, col);
      return `+f.texture2D+"("+a+`, uv);
    }
  `}(e);case 3:return function(o){var i=o.shapeInfo.logicalShape,a=o.name,s="get"+a.charAt(0).toUpperCase()+a.slice(1),u=o.shapeInfo.texShape,l=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];if(i[0]===1){var c=i.slice(1),f=Jp(o,c);return`
        `+fY(f)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+Zp(["b","row","col"],[1,2])+`);
        }
      `}var d=l[0],p=l[1],h=Math.ceil(i[2]/2),m=h*Math.ceil(i[1]/2),y=_i();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+d+", "+p+", "+m+", "+h+`, b, row, col);
      return `+y.texture2D+"("+a+`, uv);
    }
  `}(e);default:return function(o){for(var i=o.shapeInfo.logicalShape,a=i.length,s=o.name,u="get"+s.charAt(0).toUpperCase()+s.slice(1),l=o.shapeInfo.texShape,c=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],f=c[0],d=c[1],p=Math.ceil(i[a-1]/2),h=p*Math.ceil(i[a-2]/2),m="int b, int row, int col",y="b * "+h+" + (row / 2) * "+p+" + (col / 2)",v=2;v<a-1;v++)m="int b"+v+", "+m,h*=i[a-v-1],y="b"+v+" * "+h+" + "+y;var g=_i();return`
    vec4 `+u+"("+m+`) {
      int index = `+y+`;
      int texR = index / `+d+`;
      int texC = index - texR * `+d+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+d+", "+f+`);
      return `+g.texture2D+"("+s+`, uv);
    }
  `}(e)}}var aPe=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,sPe=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,uPe=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,lPe=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function Kf(e){return"offset"+e}function $p(e){var r=e.name,t=qt(e.shapeInfo.logicalShape);return t<2?"return "+r+";":`
    for (int i = 0; i < `+t+`; i++) {
      if (i == index) {
        return `+r+`[i];
      }
    }
  `}function kn(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Jp(e,r){var t=JSON.parse(JSON.stringify(e));return t.shapeInfo.logicalShape=r,t}function Zp(e,r){return r.map(function(t){return e[t]}).join(", ")}var cPe=function(e,r,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,be(e.length>2,function(){return"Packed arg"+(t.charAt(0).toUpperCase()+t.slice(1))+" supports only inputs with rank above 2."});var o=e[e.length-1],i=Math.ceil(o/r);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),n||this.variableNames.push("bestIndicesA");var a,s,u=this.outputShape,l=u.length,c=kn(l),f=ua("coords",l);if(i===1){var d=kn(s=l+1);a=`
        `+d+" sourceLocR = "+d+"("+f.join()+`, 0);
        ++`+f[l-1]+`;
        `+d+" sourceLocG = "+d+"("+f.join()+`, 0);
        ++`+f[l-2]+`;
        `+d+" sourceLocA = "+d+"("+f.join()+`, 0);
        --`+f[l-1]+`;
        `+d+" sourceLocB = "+d+"("+f.join()+`, 0);
        --`+f[l-2]+";"}else s=l,a=`
        `+c+` sourceLocR = coords;
        ++`+f[l-1]+`;
        `+c+` sourceLocG = coords;
        ++`+f[l-2]+`;
        `+c+` sourceLocA = coords;
        --`+f[l-1]+`;
        `+c+` sourceLocB = coords;
        --`+f[l-2]+";";var p=["x","y","z","w","u","v"].slice(0,s),h="."+p[s-1],m=p.map(function(S){return"int "+S}),y=ua("sourceLocR",s-1).concat("inIdx.r"),v=ua("sourceLocG",s-1).concat("inIdx.g"),g=ua("sourceLocB",s-1).concat("inIdx.b"),x=ua("sourceLocA",s-1).concat("inIdx.a"),b=t==="max"?"greaterThan":"lessThan",w=n?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+y.join()+`),
                             getBestIndicesAChannel(`+v.join()+`),
                             getBestIndicesAChannel(`+g.join()+`),
                             getBestIndicesAChannel(`+x.join()+")));",E=`vec4(
            getAChannel(`+y.join()+`),
            hasNextCol ? getAChannel(`+v.join()+`) : 0.,
            hasNextRow ? getAChannel(`+g.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+x.join()+") : 0.)",C=n?"":`
      float getBestIndicesAChannel(`+m.join()+`) {
        return getChannel(getBestIndicesA(`+p.join()+`),
                                          vec2(`+p.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+m.join()+`) {
        return getChannel(getA(`+p.join()+`),
                               vec2(`+p.slice(-2).join()+`));
      }
      `+C+`
      void main() {
        `+c+` coords = getOutputCoords();
        bool hasNextCol = `+f[l-1]+" < "+(u[l-1]-1)+`;
        bool hasNextRow = `+f[l-2]+" < "+(u[l-2]-1)+`;
        `+a+`
        ivec4 srcIdx = ivec4(sourceLocR`+h+", sourceLocG"+h+`,
          sourceLocB`+h+", sourceLocA"+h+") * "+r+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+E+`;

        for (int i = 0; i < `+r+`; i++) {
          inIdx = srcIdx;
          `+w+`
          vec4 candidate = `+E+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+b+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},fPe=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var r=e.filterHeight,t=e.filterWidth,n=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,u=e.effectiveFilterWidth,l=s-1-e.padInfo.top,c=u-1-e.padInfo.left,f=1/(r*t);this.userCode=`
      const ivec2 pads = ivec2(`+l+", "+c+`);
      const float avgMultiplier = float(`+f+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+u+`;
            wC+= `+a+`) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},dPe=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var r=e.filterDepth,t=e.filterHeight,n=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=c-1-e.padInfo.front,h=f-1-e.padInfo.top,m=d-1-e.padInfo.left,y=1/(r*t*n);this.userCode=`
      const ivec3 pads = ivec3(`+p+", "+h+", "+m+`);
      const float avgMultiplier = float(`+y+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+o+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+f+`;
              wR += `+u+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+l+`) {
              float dyC = float(dyCCorner + wC) / `+a+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},pPe=function(e,r,t,n,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],Nr(e,r),Nr(e,t);var a="0.0";n!=null&&(Nr(e,n),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="1.0";o!=null&&(Nr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+a+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},hPe=function(e,r,t,n,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],Nr(e,r),Nr(e,t);var a="vec4(0.0)";n!=null&&(Nr(e,n),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");var s="vec4(1.0)";o!=null&&(Nr(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+a+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},vPe="return areal * breal - aimag * bimag;",mPe="return areal * bimag + aimag * breal;",VW=function(e,r,t){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=Nr(r,t),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},vA="return a + b;",mA="return a - b;",GW="return a * b;",dY="return (a < 0.) ? b * a : a;",Xn=function(e,r,t){this.variableNames=["A","B"],this.outputShape=Nr(r,t),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},pY=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,Pl=function(e,r,t,n){n===void 0&&(n=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=Nr(r,t);var o=this.outputShape.length,i="";if(n)if(o===0||qt(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+kn(o)+` coords = getOutputCoords();
        `,o===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var a=ua("coords",o);i+=`
            bool nextRowOutOfBounds =
              (`+a[o-2]+" + 1) >= "+this.outputShape[o-2]+`;
            bool nextColOutOfBounds =
              (`+a[o-1]+" + 1) >= "+this.outputShape[o-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},gPe=function(){function e(r){this.variableNames=["A"],this.outputShape=r,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(r,t){var n=this;return function(o,i){n.minLoc==null&&(n.minLoc=o.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=o.getUniformLocationNoThrow(i,"maxVal")),o.gl.uniform1f(n.minLoc,r),o.gl.uniform1f(n.maxLoc,t)}},e}(),yPe=function(){function e(r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(r,t){var n=this;return function(o,i){n.minLoc==null&&(n.minLoc=o.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=o.getUniformLocationNoThrow(i,"maxVal")),o.gl.uniform1f(n.minLoc,r),o.gl.uniform1f(n.maxLoc,t)}},e}(),xPe=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},bPe=function(e){this.outputShape=[],this.outputShape=hv(e,1),this.variableNames=e.map(function(s,u){return"T"+u});var r=new Array(e.length-1);r[0]=e[0][1];for(var t=1;t<r.length;t++)r[t]=r[t-1]+e[t][1];var n=["if (yC < "+r[0]+") setOutput(getT0(yR, yC));"];for(t=1;t<r.length;t++){var o=r[t-1];n.push("else if (yC < "+r[t]+") setOutput(getT"+t+"(yR, yC-"+o+"));")}var i=r.length,a=r[r.length-1];n.push("else setOutput(getT"+i+"(yR, yC-"+a+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+n.join(`
        `)+`
      }
    `},_Pe=function(e,r){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=hv(e,r);var t=this.outputShape,n=t.length,o=kn(n),i=ua("coords",n),a=["x","y","z","w","u","v"].slice(0,n);this.variableNames=e.map(function(y,v){return"T"+v});var s=new Array(e.length-1);s[0]=e[0][r];for(var u=1;u<s.length;u++)s[u]=s[u-1]+e[u][r];var l=a[r],c=a.slice(-2),f=a.join(),d="if ("+l+" < "+s[0]+`) {
        return getChannel(
            getT0(`+f+"), vec2("+c.join()+`));
        }`;for(u=1;u<s.length;u++){var p=s[u-1];d+=`
        if (`+l+" < "+s[u]+"  && "+l+" >= "+s[u-1]+`) {
          return getChannel(
            getT`+u+"("+K1(a,l,p)+`),
            vec2(`+K1(c,l,p)+`));
        }`}var h=s.length,m=s[s.length-1];d+=`
        return getChannel(
          getT`+h+"("+K1(a,l,m)+`),
          vec2(`+K1(c,l,m)+"));",this.userCode=`
      float getValue(`+a.map(function(y){return"int "+y})+`) {
        `+d+`
      }

      void main() {
        `+o+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[n-1]+" = "+i[n-1]+` + 1;
        if (`+i[n-1]+" < "+t[n-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[n-2]+" = "+i[n-2]+` + 1;
        if (`+i[n-2]+" < "+t[n-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[n-1]+" = "+i[n-1]+` - 1;
        if (`+i[n-2]+" < "+t[n-2]+` &&
            `+i[n-1]+" < "+t[n-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function K1(e,r,t){var n=e.indexOf(r);return e.map(function(o,i){return i===n?o+" - "+t:o}).join()}var wPe=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var r=e.strideHeight,t=e.strideWidth,n=e.padInfo.top,o=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+r+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},SPe=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var r=e.filterHeight,t=e.filterWidth,n=e.strideHeight,o=e.strideWidth,i=e.dataFormat==="channelsLast",a=r-1-e.padInfo.top,s=t-1-e.padInfo.left,u=i?1:2,l=i?2:3,c=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+c+`];

        ivec2 dyCorner = ivec2(coords[`+u+"], coords["+l+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+r+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+r+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},CPe=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var r=e.strideDepth,t=e.strideHeight,n=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+r+" - "+o+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+t+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+n+" - "+a+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},EPe=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var r=e.filterDepth,t=e.filterHeight,n=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=r-1-e.padInfo.front,u=t-1-e.padInfo.top,l=n-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+u+", "+l+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+r+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+o+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+r+` - 1 - wF;

          for (int wR = 0; wR < `+t+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+t+` - 1 - wR;

            for (int wC = 0; wC < `+n+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+a+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+n+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},kPe=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var r=e.strideHeight,t=e.strideWidth,n=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+r+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+t+" - "+o+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},RPe=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var r=e.filterHeight,t=e.filterWidth,n=e.strideHeight,o=e.strideWidth,i=r-1-e.padInfo.top,a=t-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+r+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+r+` - 1 - wR;

          for (int wC = 0; wC < `+t+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+o+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+t+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},YW=function(e,r,t,n){r===void 0&&(r=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,i=e.padInfo.left,a=e.strideHeight,s=e.strideWidth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterHeight,f=e.filterWidth,d=4*Math.floor(e.inChannels/4),p=e.inChannels%4,h=e.dataFormat==="channelsLast",m=h?1:2,y=h?2:3,v=h?3:1,g="",x="";t&&(g=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,x="result = activation(result);");var b=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const ivec2 strides = ivec2(`+a+", "+s+`);
      const ivec2 pads = ivec2(`+o+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+v+`];

        ivec2 xRCCorner =
            ivec2(coords[`+m+"], coords["+y+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+c+`; wR++) {
          int xR = xRCorner + wR * `+u+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+l+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+d+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+h+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(p===1)+`) {

              if (`+h+`) {
                dotProd +=
                    getX(batch, xR, xC, `+d+`) *
                    getW(wR, wC, `+d+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+d+`, xR, xC) *
                    getW(wR, wC, `+d+`, d2);
              }

            } else if (`+(p===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2)
              );

              if (`+h+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(p===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2),
                getW(wR, wC, `+d+` + 2, d2)
              );

              if (`+h+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1),
                  getX(batch, xR, xC, `+d+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC),
                  getX(batch, `+d+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+b+`
        `+x+`
        setOutput(result);
      }
    `},TPe=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var r=e.padInfo.front,t=e.padInfo.top,n=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.filterDepth,f=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+o+", "+i+", "+a+`);
      const ivec3 pads = ivec3(`+r+", "+t+", "+n+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+c+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`; wR++) {
            int xR = xRCorner + wR * `+u+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`; wC++) {
              int xC = xCCorner + wC * `+l+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+p+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(h===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+p+`) *
                  getW(wF, wR, wC, `+p+`, d2);
              } else if (`+(h===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+p+`),
                  getX(batch, xF, xR, xC, `+p+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+p+`, d2),
                  getW(wF, wR, wC, `+p+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(h===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+p+`),
                  getX(batch, xF, xR, xC, `+p+` + 1),
                  getX(batch, xF, xR, xC, `+p+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+p+`, d2),
                  getW(wF, wR, wC, `+p+` + 1, d2),
                  getW(wF, wR, wC, `+p+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},KW=function(e,r,t,n){r===void 0&&(r=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=e.outChannels/e.inChannels,m="",y="";t&&(m=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`
          float activation(float x) {
            `+t+`
          }
        `,y="result = activation(result);");var v=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+m+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+a+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+h+`;
        int q = d2 - d1 * `+h+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+o+`) {
            continue;
          }

          for (int wC = 0; wC < `+p+`; wC++) {
            int xC = xCCorner + wC * `+f+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+v+`
        `+y+`
        setOutput(result);
      }
    `},XW=function(e,r,t,n){r===void 0&&(r=!1),t===void 0&&(t=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,i=e.inWidth,a=e.padInfo.top,s=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,f=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=p,m="int xR; int xC; int xCOffset;",y=0;y<d;y++)for(var v=0;v<p;v++)m+=`
          vec4 xTexelR`+y+"C"+2*v+` = vec4(0.);
          vec4 wR`+y+"C"+v+` = vec4(0.);
          vec4 xR`+y+"C"+v+" = vec4(0.);";for(y=0;y<d;y++)for(var g=0;g<h;g++){if(m+=`
          xR = xRCorner + `+y*c+`;
          xC = xCCorner + `+(v=2*g)*f+`;
        `,l===1){if(v<p&&(m+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+y+"C"+v+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+y+"C"+v+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+y+"C"+v+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+o+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+y+"C"+v+" = vec4(previous.zw, xTexelR"+y+"C"+v+`.xy);
                } else {
                  xR`+y+"C"+v+" = vec4(0, 0, xTexelR"+y+"C"+v+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+o+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+y+"C"+v+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+v+` = vec4(0.);
                }

                xR`+y+"C"+v+" = xTexelR"+y+"C"+v+`;
              `,v+1<p)){var x=s%2==0?DG(f):f;f%2==0&&s%2==1||f%2!=0&&s%2!=1?(m+=`
                  xCOffset = xC + `+s%2+" + "+x+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(v+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,f>1&&(m+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+o+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+y+"C"+v+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+y+"C"+v+` = vec4(0.);
                    }
                  `),m+=`
                  xR`+y+"C"+(v+1)+` = vec4(
                    xTexelR`+y+"C"+v+".zw, xTexelR"+y+"C"+(v+2)+`.xy);
                `):m+=`
                  xCOffset = xC + `+x+`;

                  if(xR >= 0 && xR < `+o+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+y+"C"+(v+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+y+"C"+(v+1)+" = xTexelR"+y+"C"+(v+2)+`;
                `}}else v<p&&(m+=`
              if(xR >= 0 && xR < `+o+`) {
            `,s%2==1?(m+=`
                xCOffset = xC + 1 - `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+v+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+v+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+y+"C"+(v+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+y+"C"+(v+2)+` = vec4(0.);
                }

                xR`+y+"C"+v+` = vec4(
                  xTexelR`+y+"C"+v+".zw, xTexelR"+y+"C"+(v+2)+`.zw);
              `,v+1<p&&(m+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+l+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+y+"C"+(v+1)+" = vec4(xTexelR"+y+"C"+(v+2)+`.xy, final.xy);
                `)):(m+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+y+"C"+v+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+y+"C"+v+` = vec4(0.);
                }

                xCOffset = xC + `+l+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+y+"C"+(v+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+y+"C"+(v+2)+` = vec4(0.);
                }

                xR`+y+"C"+v+` = vec4(
                  xTexelR`+y+"C"+v+".xy, xTexelR"+y+"C"+(v+2)+`.xy);
              `,v+1<p&&(m+=`
                  xR`+y+"C"+(v+1)+` = vec4(
                    xTexelR`+y+"C"+v+".zw, xTexelR"+y+"C"+(v+2)+`.zw);
                `)),m+="}");v<p&&(m+=`
            vec4 wTexelR`+y+"C"+v+" = getW("+y+", "+v+`, d1, q);
            wR`+y+"C"+v+" = vec4(wTexelR"+y+"C"+v+".xz, wTexelR"+y+"C"+v+`.xz);
          `,v+1<p&&(m+=`
              vec4 wTexelR`+y+"C"+(v+1)+" = getW("+y+", "+(v+1)+`, d1, q);
              wR`+y+"C"+(v+1)+` =
                vec4(wTexelR`+y+"C"+(v+1)+".xz, wTexelR"+y+"C"+(v+1)+".xz);"))}for(y=0;y<d;y++)for(v=0;v<p;v++)m+="dotProd += xR"+y+"C"+v+" * wR"+y+"C"+v+";";var b="",w="";t&&(b=n?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+t+`
        }`:`vec4 activation(vec4 x) {
          `+t+`
        }`,w="result = activation(result);");var E=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+b+`

      const ivec2 strides = ivec2(`+u+", "+l+`);
      const ivec2 pads = ivec2(`+a+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+m+`

        vec4 result = dotProd;
        `+E+`
        `+w+`
        setOutput(result);
      }
    `},APe=function(e,r,t,n,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],a=e[1],s=e[2],u=e[3],l=r[0],c=t[0],f=t[1];this.outputShape=[l,c,f,u];var d=n==="bilinear"?1:0,p=[a-1+".0",s-1+".0"],h=p[0],m=p[1],y=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],v=y[0],g=y[1],x=y[2],b=f>1?[""+(s-1)/(f-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=b[0],E=b[1],C=b[2];this.userCode=`
      const float height_ratio = float(`+v+`);
      const float width_ratio = float(`+w+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+g+`;
        float width_scale = `+E+`;

        float in_y = `+x+`;
        if( in_y < 0.0 || in_y > `+h+` ) {
          setOutput(float(`+o+`));
          return;
        }
        float in_x = `+C+`;
        if( in_x < 0.0 || in_x > `+m+` ) {
          setOutput(float(`+o+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+d+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},OPe=function(e,r,t){this.variableNames=["x"],this.outputShape=e;var n=e.length,o=e[e.length-1],i=t?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(t?"return "+o+" -i - 1;":"return i;")+`
      }

      void main() {
        `+kn(n)+` coords = getOutputCoords();
        int end = `+QW(n,"coords")+`;
        float val = 0.0;
        for (int i = `+o+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+r+`) {
            continue;
          }
          `+QW(n,"coords")+` = idx;
          val += getX(`+function(a,s){if(a===1)return""+s;if(a===2)return s+".x, "+s+".y";if(a===3)return s+".x, "+s+".y, "+s+".z";if(a===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+a+" is not yet supported")}(n,"coords")+`);
        }
        setOutput(val);
      }
    `};function QW(e,r){if(e===1)return""+r;if(e===2)return r+".y";if(e===3)return r+".z";if(e===4)return r+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var DPe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=C0.DENSE;var r=Bg(e),t=_i();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+md(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+r[0]+", "+r[1]+`));
        int index = 4 * (resTexRC.x * `+r[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+t.output+` = result;
      }
    `},PPe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=C0.DENSE;var r=Bg(e),t=_i();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+md(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+r[0]+", "+r[1]+`));
        int index = 4 * (resTexRC.x * `+r[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+t.output+` = result;
      }
    `},IPe=function(){function e(r,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=r,this.blockSize=t,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+t+`;
      int offset_h = imod(h, `+t+`);
      int in_w = w / `+t+`;
      int offset_w = imod(w, `+t+`);
      int offset_d = (offset_h * `+t+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),NPe=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},MPe=function(e){this.variableNames=["A"],this.outTexUsage=Fa.DOWNLOAD;var r=_i();this.outputShape=e,this.userCode=`
      `+cY+`

      void main() {
        float x = getAAtOutCoords();
        `+r.output+` = encode_float(x);
      }
    `},FPe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Fa.DOWNLOAD;var r=_i();this.outputShape=e,this.userCode=`
      `+cY+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+r.output+` = encode_float(x);
      }
    `},LPe=function(e,r,t){t===void 0&&(t=!1),this.variableNames=["A"];var n=_i(),o=r[0],i=r[1];this.outputShape=e;var a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode=`
      `+S3(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+o+`.0);
        vec4 values = `+n.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+n.output+" = vec4("+a+`, 0., 0., 0.);
      }
    `},BPe=function(e,r,t){t===void 0&&(t=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=_i(),o=r[0],i=r[1];this.outputShape=e;var a="",s="result";t&&(s="floor(result * 255. + 0.5)");for(var u=0;u<=1;u++)for(var l=0;l<=1;l++){var c=2*u+l;a+=`
          localCoords = coords;
          if(localCoords[2] + `+l+" < "+e[2]+`) {
            localCoords[2] += `+l+`;
            if(localCoords[1] + `+u+" < "+e[1]+`) {
              localCoords[1] += `+u+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+o+`.0);
              values = `+n.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+c+`] = values[0];
              } else if(offset == 1) {
                result[`+c+`] = values[1];
              } else if(offset == 2) {
                result[`+c+`] = values[2];
              } else {
                result[`+c+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+S3(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+a+`

        `+n.output+" = "+s+`;
      }
    `},jPe="return real * expR - imag * expI;",$Pe="return real * expI + imag * expR;",JW=function(e,r,t){this.variableNames=["real","imag"];var n=r[1];this.outputShape=r;var o=t?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=t?n+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+o+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+n+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+n+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},zPe=function(){function e(r,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=r,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(r){var t=this;return function(n,o){t.valueLoc==null&&(t.valueLoc=n.getUniformLocationNoThrow(o,"value")),n.gl.uniform1f(t.valueLoc,r)}},e}(),WPe=function(e,r,t){this.variableNames=["A","indices"];var n=e.slice();n[t]=r,this.outputShape=n,this.rank=n.length;var o=kn(this.rank),i=function(a,s){var u=a.length;if(u>4)throw Error("Gather for rank "+u+" is not yet supported");if(u===1)return"int(getIndices(resRC))";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],f=0;f<a.length;f++)f===s?c.push("int(getIndices("+l[f]+"))"):c.push(""+l[f]);return c.join()}(e,t);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},UPe=function(e,r,t){this.sliceDim=e,this.strides=r,this.variableNames=["x","indices"],this.outputShape=t;var n=kn(r.length),o=kn(t.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+n+" strides = "+n+"("+this.strides+`);
         void main() {
          `+o+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function qPe(e,r){var t=_i();return jOe(e,r,t.version+`
    precision highp float;
    `+t.attribute+` vec3 clipSpacePos;
    `+t.attribute+` vec2 uv;
    `+t.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function HPe(e,r){return qOe(e,r,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function VPe(e,r){return HOe(e,r,new Uint16Array([0,1,2,2,1,3]))}function gy(e,r,t,n,o,i,a){GOe(t,n);var s=VOe(e,r),u=e.TEXTURE_2D;return Yt(e,r,function(){return e.bindTexture(u,s)}),Yt(e,r,function(){return e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),Yt(e,r,function(){return e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),Yt(e,r,function(){return e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)}),Yt(e,r,function(){return e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)}),Yt(e,r,function(){return e.texImage2D(u,0,o,t,n,0,i,a,null)}),Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function GPe(e,r,t,n,o){var i=xC(t,n);return gy(e,r,i[0],i[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function YPe(e,r,t,n,o){var i=xC(t,n);return gy(e,r,i[0],i[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function KPe(e,r,t,n,o){var i=xC(t,n);return gy(e,r,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function XPe(e,r,t,n,o){var i=my(t,n);return gy(e,r,i[0],i[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function QPe(e,r,t,n,o){var i=my(t,n);return gy(e,r,i[0],i[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function JPe(e,r,t,n){return Yt(e,r,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),jW(e,r,t,"clipSpacePos",n,3,20,0)&&jW(e,r,t,"uv",n,2,20,12)}function ZPe(e,r,t,n,o,i,a){var s,u,l;Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,t)}),i instanceof Uint8Array?(s=new Uint8Array(n*o*4),u=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*o*4),u=e.FLOAT,l=a.internalFormatPackedFloat),s.set(i),Yt(e,r,function(){return e.texImage2D(e.TEXTURE_2D,0,l,n,o,0,e.RGBA,u,s)}),Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function eIe(e,r,t,n){Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,t)}),n.data instanceof Uint8Array?Yt(e,r,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)}):Yt(e,r,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}),Yt(e,r,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function tIe(e,r,t,n,o){var i=e.createBuffer();Yt(e,r,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)});var a=16*t*n;return Yt(e,r,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,a,e.STREAM_READ)}),Yt(e,r,function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)}),Yt(e,r,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),i}function rIe(e,r,t){var n=e,o=new Float32Array(t);return n.bindBuffer(n.PIXEL_PACK_BUFFER,r),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,o),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),o}function nIe(e,r,t,n,o){var i=xC(t,n),a=i[0],s=i[1],u=new Uint8Array(t*n*4);return Yt(e,r,function(){return e.readPixels(0,0,a,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,u)}),new Float32Array(u.buffer)}function oIe(e,r,t,n,o,i,a,s){var u=e,l=new Float32Array(function(c,f){var d=my(c,f);return d[0]*d[1]*4}(i,a));return u.bindBuffer(u.PIXEL_PACK_BUFFER,r),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function iIe(e,r,t,n){var o=new Float32Array(t*n*4);return Yt(e,r,function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,o)}),o}var aIe=function(){function e(r){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=Je().getNumber("WEBGL_VERSION");r!=null?(this.gl=r,NOe(t,r)):this.gl=vl(t);var n="WEBGL_color_buffer_float";if(Je().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=H1(this.gl,this.debug,"OES_texture_float"),xs(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=H1(this.gl,this.debug,"OES_texture_half_float");else if(Je().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),xs(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=H1(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Je().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",xs(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!xs(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=HPe(this.gl,this.debug),this.indexBuffer=VPe(this.gl,this.debug),this.framebuffer=YOe(this.gl,this.debug),this.textureConfig=p3(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Je().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var r=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Yt(t,this.debug,function(){return t.finish()}),Yt(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),Yt(t,this.debug,function(){return t.deleteFramebuffer(r.framebuffer)}),Yt(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),Yt(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),Yt(t,this.debug,function(){return t.deleteBuffer(r.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(r,t){return this.throwIfDisposed(),GPe(this.gl,this.debug,r,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(r,t){return this.throwIfDisposed(),YPe(this.gl,this.debug,r,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(r,t){return this.throwIfDisposed(),KPe(this.gl,this.debug,r,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(r,t){this.throwIfDisposed(),eIe(this.gl,this.debug,r,t)},e.prototype.uploadDenseMatrixToTexture=function(r,t,n,o){this.throwIfDisposed(),ZPe(this.gl,this.debug,r,t,n,o,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(r,t){return this.throwIfDisposed(),QPe(this.gl,this.debug,r,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(r,t){return this.throwIfDisposed(),XPe(this.gl,this.debug,r,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(r){var t=this;this.throwIfDisposed(),this.outputTexture===r&&($W(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Yt(this.gl,this.debug,function(){return t.gl.deleteTexture(r)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(r,t,n){var o=this;return this.downloadMatrixDriver(r,function(){return nIe(o.gl,o.debug,t,n,o.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(r,t,n,o,i,a){return oIe(this.gl,r,0,0,0,i,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(r,t){return rIe(this.gl,r,t)},e.prototype.createBufferFromTexture=function(r,t,n){this.bindTextureToFrameBuffer(r);var o=tIe(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),o},e.prototype.createAndWaitForFence=function(){var r=this.createFence(this.gl);return this.pollFence(r)},e.prototype.createFence=function(r){var t,n,o=this;if(Je().getBool("WEBGL_FENCE_API_ENABLED")){var i=r,a=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);r.flush(),n=function(){var s=i.clientWaitSync(a,0,0);return s===i.ALREADY_SIGNALED||s===i.CONDITION_SATISFIED},t=a}else Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return o.isQueryAvailable(t,Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(r,t,n){var o=this;return this.downloadMatrixDriver(r,function(){return iIe(o.gl,o.debug,t,n)})},e.prototype.createProgram=function(r){this.throwIfDisposed();var t=this.gl,n=$Oe(t,this.debug,r),o=qPe(t,this.debug),i=WOe(t,this.debug);return Yt(t,this.debug,function(){return t.attachShader(i,o)}),Yt(t,this.debug,function(){return t.attachShader(i,n)}),UOe(t,this.debug,i),this.debug&&fA(t,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=JPe(t,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(r){var t=this;this.throwIfDisposed(),r===this.program&&(this.program=null),r!=null&&Yt(this.gl,this.debug,function(){return t.gl.deleteProgram(r)})},e.prototype.setProgram=function(r){var t=this;this.throwIfDisposed(),this.program=r,this.program!=null&&this.debug&&fA(this.gl,this.debug,this.program),Yt(this.gl,this.debug,function(){return t.gl.useProgram(r)})},e.prototype.getUniformLocation=function(r,t,n){return n===void 0&&(n=!0),this.throwIfDisposed(),n?XOe(this.gl,this.debug,r,t):QOe(this.gl,r,t)},e.prototype.getAttributeLocation=function(r,t){var n=this;return this.throwIfDisposed(),Yt(this.gl,this.debug,function(){return n.gl.getAttribLocation(r,t)})},e.prototype.getUniformLocationNoThrow=function(r,t){return this.throwIfDisposed(),this.gl.getUniformLocation(r,t)},e.prototype.setInputMatrixTexture=function(r,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),JOe(this.gl,this.debug,this.program,r,t,n)},e.prototype.setOutputMatrixTexture=function(r,t,n){this.setOutputMatrixTextureDriver(r,n,t)},e.prototype.setOutputPackedMatrixTexture=function(r,t,n){this.throwIfDisposed();var o=my(t,n),i=o[0],a=o[1];this.setOutputMatrixTextureDriver(r,i,a)},e.prototype.setOutputMatrixWriteRegion=function(r,t,n,o){this.setOutputMatrixWriteRegionDriver(n,r,o,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(r,t,n,o){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&fA(this.gl,this.debug,this.program),V1(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var r=this.gl;this.debug&&this.debugValidate(),Yt(r,this.debug,function(){return r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var r=this;this.throwIfDisposed(),Yt(this.gl,this.debug,function(){return r.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=H1(this.gl,this.debug,Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var r=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=r.createQuery();return r.beginQuery(t.TIME_ELAPSED_EXT,n),n}var o=this.getQueryTimerExtensionWebGL1(),i=o.createQueryEXT();return o.beginQueryEXT(o.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var r=this.getQueryTimerExtensionWebGL1();r.endQueryEXT(r.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(r){return zt(this,void 0,void 0,function(){var t=this;return Wt(this,function(n){switch(n.label){case 0:return[4,IW(function(){return t.disposed||t.isQueryAvailable(r,Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(r,Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(r,t){if(t===0)return null;if(t===2){var n=this.gl;return n.getQueryParameter(r,n.QUERY_RESULT)/1e6}var o=this.getQueryTimerExtensionWebGL1();return o.getQueryObjectEXT(r,o.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(r,t){if(t===0)return!0;if(t===2){var n=this.gl,o=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(r,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(o=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(r,o.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(r){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return r.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var r=function(n){for(var o=0;o<n.length&&n[o]();++o);return o-1}(this.itemsToPoll.map(function(n){return n.isDoneFn})),t=0;t<=r;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(r+1)},e.prototype.addItemToPoll=function(r,t){var n=this;this.itemsToPoll.push({isDoneFn:r,resolveFn:t}),this.itemsToPoll.length>1||IW(function(){return n.pollItems(),n.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(r){this.throwIfDisposed(),dA(this.gl,this.debug,r,this.framebuffer),this.debug&&V1(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(dA(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&V1(this.gl)):$W(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(r,t){this.bindTextureToFrameBuffer(r);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(r,t,n){this.throwIfDisposed();var o=this.gl;dA(o,this.debug,r,this.framebuffer),this.debug&&V1(o),this.outputTexture=r,Yt(o,this.debug,function(){return o.viewport(0,0,t,n)}),Yt(o,this.debug,function(){return o.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(r,t,n,o){var i=this;this.throwIfDisposed(),Yt(this.gl,this.debug,function(){return i.gl.scissor(r,t,n,o)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function ZW(e,r){if(e.length!==r.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+r.length+" inputs");e.forEach(function(t,n){var o=t.logicalShape,i=r[n],a=i.shape;if(!Wo(o,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+o+" and "+a+" must match");if(!t.isUniform||!i.isUniform){var s=t.texShape,u=i.isUniform?null:i.texData.texShape;if(!Wo(s,u))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+u+" must match")}})}var sIe=function(e,r,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n=t.filterWidth,o=t.inChannels,i=t.strideWidth,a=t.strideHeight,s=t.padInfo,u=t.outWidth,l=t.dilationWidth,c=t.dilationHeight,f=t.dataFormat,d=s.left,p=s.top,h=o*n,m=_i(),y=f==="channelsLast",v=y?0:1,g=y?1:2,x="",b=0;b<=1;b++)for(var w=0;w<=1;w++)x+=`
          blockIndex = rc.y + `+w+`;
          pos = rc.x + `+b+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+u+")) * "+a+" - "+p+`;
            d0 = offsetY + `+c+" * (pos / "+h+`);

            if(d0 < `+r[v]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+u+".) * "+i+". - "+d+`.);
              d1 = offsetX + `+l+" * (int(mod(float(pos), "+h+".) / "+o+`.));

              if(d1 < `+r[g]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+o+`.));

                if (`+y+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*b+w)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*b+w)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+x+`

        `+m.output+` = result;
      }
    `},uIe=function(e,r,t,n,o){this.variableNames=["x"],this.outputShape=[];var i,a=r,s=e[3]-1;this.outputShape=e;var u="float("+t+") + float("+n+") * sum";i=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+a+"; j <= "+a+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},lIe=function(e,r,t,n,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=r,this.bias=t,this.alpha=n,this.beta=o,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+r+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+r+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+n+") * norm + float("+t+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+n+`)
                * float(`+o+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+o+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},cIe=function(e,r,t,n,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,a=r,s=e[3]-1;this.outputShape=e;var u="float("+t+") + float("+n+") * sum";i=o===.5?"inversesqrt("+u+")":o===1?"1.0/("+u+")":"exp(log("+u+") * float(-"+o+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+a+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+a+"; j <= "+a+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},fIe=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var r=e.strideHeight,t=e.strideWidth,n=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,u=o*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
          wR += `+n+`) {
          float dyR = float(dyRCorner + wR) / `+r+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+t+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+u+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},dIe=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var r=e.strideDepth,t=e.strideHeight,n=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=s-1-e.padInfo.front,f=u-1-e.padInfo.top,d=l-1-e.padInfo.left,p=s*u*l-1;this.userCode=`
      const ivec3 pads = ivec3(`+c+", "+f+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+r+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+u+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+t+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+l+`;
                wC += `+a+`) {
              float dyC = float(dyCCorner + wC) / `+n+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+p+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+u+" * "+l+` +
                  wR * `+l+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},gA=function(e,r,t,n,o,i,a){t===void 0&&(t=!1),n===void 0&&(n=!1),o===void 0&&(o=!1),i===void 0&&(i=null),a===void 0&&(a=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;var s=t?e[1]:e[2],u=Math.ceil(s/2),l=t?"i * 2, rc.y":"rc.y, i * 2",c=n?"rc.z, i * 2":"i * 2, rc.z",f=t?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],p="",h="";i&&(p=a?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,h="result = activation(result);");var m=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+p+`

      const float sharedDimension = `+u+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+u+`; i++) {
          vec4 a = getMatrixA(rc.x, `+l+`);
          vec4 b = getMatrixB(rc.x, `+c+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+f[0]+" * "+d[0]+`);
          result += (`+f[1]+" * "+d[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+m+`

        `+h+`

        setOutput(result);
      }
    `},pIe=function(){function e(r,t,n){this.variableNames=["probs"],this.outputShape=[r,n],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(t-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(t-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(r){var t=this;return function(n,o){t.seedLoc==null&&(t.seedLoc=n.getUniformLocation(o,"seed")),n.gl.uniform1f(t.seedLoc,r)}},e}(),hIe=function(e,r,t,n){this.variableNames=["indices"],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+n+"), float("+t+`),
                      float(index == coords.y)));
      }
    `},vIe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var r=e.length;if(r===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var t=ua("rc",r),n=kn(r),o=function(s,u,l){if(s===1)return"rc > "+u[0];for(var c="",f=s-2;f<s;f++)c+=l[f]+" >= "+u[f],f<s-1&&(c+="||");return c}(r,e,t),i=function(s,u,l,c){if(s===1)return"";var f=c.slice(-2);return`
    int r = `+f[0]+`;
    int c = `+f[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+u+`;
    bool rEdge = rp1 >= `+l+`;
  `}(r,e[e.length-1],e[e.length-2],t),a=function(s,u){var l=s.length,c=function(f,d){for(var p=[],h=0;h<=1;h++)for(var m=0;m<=1;m++){for(var y=(h===0?"r":"rp1")+", "+(m===0?"c":"cp1"),v=2;v<f;v++)y=d[d.length-1-v]+","+y;p.push(y)}return p}(l,u);return l===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+c[0]+`),
          cEdge ? 0. : getA(`+c[1]+`),
          rEdge ? 0. : getA(`+c[2]+`),
          rEdge || cEdge ? 0. : getA(`+c[3]+")"}(e,t);this.userCode=`
        void main() {
          `+n+` rc = getOutputCoords();

          if(`+o+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+a+`));
          }
        }
      `}},mIe=function(e,r,t){this.variableNames=["x"],this.outputShape=r.map(function(u,l){return u[0]+e[l]+u[1]});var n=e.length,o=kn(n),i=r.map(function(u){return u[0]}).join(","),a=r.map(function(u,l){return u[0]+e[l]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);this.userCode=n!==1?`
      `+o+" start = "+o+"("+i+`);
      `+o+" end = "+o+"("+a+`);

      void main() {
        `+o+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+t+`));
        } else {
          `+o+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+a+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+t+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},gIe=function(e,r,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r.map(function(y,v){return y[0]+e[v]+y[1]});for(var n=e.length,o=kn(n),i=r.map(function(y){return y[0]}).join(","),a=r.map(function(y,v){return y[0]+e[v]}).join(","),s=ua("rc",n),u=ua("source",n),l=s[n-1]+" < "+this.outputShape[n-1],c=n===1?"source":"vec2("+u.slice(-2).join()+")",f=[o+" rc = outputLoc;",s[n-1]+` += 1;
       if(`+l+`) {
      `,n===1?"":`}
       rc = outputLoc;
       `+s[n-2]+` += 1;
       if(`+s[n-2]+" < "+this.outputShape[n-2]+") {",n===1?"":"  "+s[n-1]+` += 1;
         if(`+l+") {"],d=n===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",p="",h=0,m=n===1?2:4;h<m;h++)p+=`
        `+f[h]+`
        if (`+d+`) {
          result[`+h+"] = float("+t+`);
        } else {
          `+o+` source = rc - start;
          result[`+h+"] = getChannel(getX("+u.join()+"), "+c+`);
        }
      `;p+=n===1?"} ":"}}",this.userCode=`
      const `+o+" start = "+o+"("+i+`);
      const `+o+" end = "+o+"("+a+`);

      void main() {
        `+o+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+p+`
        setOutput(result);
      }
    `},yA=function(e,r,t){if(this.variableNames=["x"],r==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,o=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,s=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var d=r==="avg",p="0.0";if(d||(p="-1.0 / 1e-20"),t)this.userCode=`
        const ivec2 strides = ivec2(`+o+", "+i+`);
        const ivec2 pads = ivec2(`+c+", "+f+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+u+`;
              wR += `+a+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+l+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+l+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var h=r+"("+r+"("+r+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";r==="avg"&&(h="avgValue / count");var m=4*Math.floor(n/4),y=n%4,v=`
      if (`+d+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+o+", "+i+`);
      const ivec2 pads = ivec2(`+c+", "+f+`);
      const float initializationValue = `+p+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+p+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+u+`;
            wR += `+a+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+m+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+v+`
          }

          int xC = xCCorner + `+m+`;
          if (`+(y===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+v+`
          } else if (`+(y===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+v+`
          } else if (`+(y===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+v+`
          }
        }
        setOutput(`+h+`);
      }
    `}},xA=function(e,r,t){if(this.variableNames=["x"],r==="avg"&&t)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,u=e.dilationHeight,l=e.dilationWidth,c=e.effectiveFilterDepth,f=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.front,h=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var y=r==="avg",v="0.0";if(y||(v="-1.0 / 1e-20"),t)this.userCode=`
        const ivec3 strides =
            ivec3(`+o+", "+i+", "+a+`);
        const ivec3 pads = ivec3(`+p+", "+h+", "+m+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+c+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+f+`;
                wR += `+u+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+d+`;
                  wC += `+l+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+f+" * "+d+` +
                      wR * `+d+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var g=r+"("+r+"("+r+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";r==="avg"&&(g="avgValue / count");var x=4*Math.floor(n/4),b=n%4,w=`
      if (`+y+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+o+", "+i+", "+a+`);
      const ivec3 pads = ivec3(`+p+", "+h+", "+m+`);
      const float initializationValue = `+v+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+v+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`;
            wR += `+u+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+x+`; wC += 4) {
              int xC = xCCorner + wC * `+l+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+l+`, ch)
              );

              `+w+`
            }

            int xC = xCCorner + `+x+`;
            if (`+(b===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+w+`
            } else if (`+(b===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                initializationValue,
                initializationValue
              );

              `+w+`
            } else if (`+(b===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+l+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+l+`, ch),
                initializationValue
              );

              `+w+`
            }
          }
          setOutput(`+g+`);
        }
      }
    `}},yIe=function(e,r){this.variableNames=["x"];var t=e.windowSize,n=e.batchSize,o=e.inSize,i=Math.ceil(o/t);this.outputShape=[n,i];var a="0.0",s="";r==="prod"?a="1.0":r==="min"?(a="1.0 / 1e-20",s="min"):r==="max"&&(a="-1.0 / 1e-20",s="max");var u=r+"("+r+"("+r+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";r==="sum"?u="sumValue":r==="prod"?u="prodValue":r==="all"?u="allValue":r==="any"&&(u="anyValue");var l=4*Math.floor(t/4),c=t%4,f=`
      if (`+(r==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(r==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,d="vec4";r==="all"?(a="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):r==="any"&&(a="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");var p="";o%t>0&&(p=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+a+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+p+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+t+`;

        vec4 minMaxValue = vec4(`+a+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+l+`; i += 4) {
          int inIdx = inOffset + i;
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+f+`
        }

        int inIdx = inOffset + `+l+`;
        if (`+(c===1)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(c===2)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(c===3)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+f+`
        }
        setOutput(`+u+`);
      }
    `},xIe=function(e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var t="",n=0;n<4;n++){var o="thisRC = rc;";n%2==1&&(o+="thisRC.z += 1;"),n>1&&(o+="thisRC.y += 1;"),t+=`
        `+o+`
        `+(n>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+n+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(n>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+md(["r","c","d"],r)+`
      return ivec3(r, c, d);
    }
  
      `+S3(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+t+`

        setOutput(result);
      }
    `},bIe=function(e,r,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=r.shape;var n=r.shape,o=n[1],i=n[2],a=e.shape,s=a[1],u=a[2],l=[t&&s>1?o-1:o,t&&u>1?i-1:i],c=[t&&s>1?s-1:s,t&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],p=1/f,h=1/d,m=2*Math.ceil(p)+2,y=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+p+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+m+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(o-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},_Ie=function(e,r,t,n){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,r,t,s];var u=[n&&r>1?i-1:i,n&&t>1?a-1:a],l=[n&&r>1?r-1:r,n&&t>1?t-1:t];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+a+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},wIe=function(e,r,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,r,t,s];var u=[n&&r>1?i-1:i,n&&t>1?a-1:a],l=[n&&r>1?r-1:r,n&&t>1?t-1:t];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`,
          `+u[1]/l[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+a+`.0,
                                     `+a+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(t-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},SIe=function(e,r,t){this.variableNames=["dy"],this.outputShape=[],this.outputShape=r.shape;var n=r.shape,o=n[1],i=n[2],a=e.shape,s=a[1],u=a[2],l=[t&&s>1?o-1:o,t&&u>1?i-1:i],c=[t&&s>1?s-1:s,t&&u>1?u-1:u],f=l[0]/c[0],d=l[1]/c[1],p=1/f,h=1/d,m=2*Math.ceil(p)+2,y=2*Math.ceil(h)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+p+`);
        const float invWidthScale = float(`+h+`);

        const int winHeight = int(`+m+`);
        const int winWidth = int(`+y+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+u+`) {
              continue;
            }

            float sourceFracRow =
              float(`+l[0]+`) *
                (float(dyR) / float(`+c[0]+`));

            float sourceFracCol =
                float(`+l[1]+`) *
                  (float(dyC) / float(`+c[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+o+`) - 1),
                `+t+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+t+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},CIe=function(e,r,t,n){this.variableNames=["A"],this.outputShape=[];var o=e[0],i=e[1],a=e[2],s=e[3];this.outputShape=[o,r,t,s];var u=[n&&r>1?i-1:i,n&&t>1?a-1:a],l=[n&&r>1?r-1:r,n&&t>1?t-1:t],c=n?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+u[0]/l[0]+`,
          `+u[1]/l[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+a+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+c+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},EIe=function(e,r){this.variableNames=["x"];var t=e.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");if(this.outputShape=e,t!==1){var n=e.map(function(i,a){return function(s){return r.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(a)}).join(","),o=kn(t);this.userCode=`
      void main() {
        `+o+` coords = getOutputCoords();
        setOutput(getX(`+n+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},kIe=function(e,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var t=e.length;if(t>4)throw new Error("WebGL backend: Reverse of rank-"+t+" tensor is not yet supported");this.outputShape=e;var n=ua("rc",t),o=n[t-1]+" + 1 < "+this.outputShape[t-1],i=n[t-2]+" + 1 < "+this.outputShape[t-2],a=kn(t);function s(u){var l=e.map(function(c,f){return function(d,p){return r.indexOf(d)!==-1&&e[d]!==1?e[d]+" - "+p[d]+" - 1":""+p[d]}(f,u)});return"getChannel(getX("+l.join(",")+"), vec2("+l.slice(-2).join(",")+"))"}this.userCode=t===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+o+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+a+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(u){return s(u)}(n.slice())+`;
          if(`+o+`){
            result.g = `+function(u){return u[t-1]="("+u[t-1]+" + 1)",s(u)}(n.slice())+`;
          }
          if(`+i+`) {
            result.b = `+function(u){return u[t-2]="("+u[t-2]+" + 1)",s(u)}(n.slice())+`;
            if(`+o+`) {
              result.a = `+function(u){return u[t-1]="("+u[t-1]+" + 1)",u[t-2]="("+u[t-2]+" + 1)",s(u)}(n.slice())+`;
            }
          }
          setOutput(result);
        }
    `},eU=function(e,r,t,n,o,i,a){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=kn(o.length),u=kn(i.length),l="";t===1?l="i":t===2&&(l="i, j");var c="getIndices("+l+")",f="";n===1?f="i":n===2&&(f="i, coords[1]");var d="getUpdates("+f+")",p=r>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+o+`);

        void main() {
          `+u+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+r+`; j++) {
              int index = round(`+c+`);
              flattenedIndex += index * `+p+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+d+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},RIe=function(e,r){this.variableNames=["x","segmentIds"];var t=e.windowSize,n=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/t);this.outputShape=[n,a];var s=4*Math.floor(t/4),u=t%4,l=`
        sumValue += dot(values, segFilter);
    `,c="";o%t>0&&(c=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return initializationValue;
        }
      `);var f="";o%t>0&&(f=`
        if (inIdx < 0 || inIdx >= `+o+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+c+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+f+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+t+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+l+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(u===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+l+`
        } else if (`+(u===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+l+`
        } else if (`+(u===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+l+`
        }
        setOutput(sumValue);
      }
    `},TIe=function(e,r,t){var n,o;if(this.variableNames=["c","a","b"],this.outputShape=r,t>4)throw Error("Where for rank "+t+" is not yet supported");if(t===1)o="resRC",n="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],s=[],u=0;u<r.length;u++)s.push(""+i[u]),u<e&&a.push(""+i[u]);n=a.join(),o=s.join()}var l=kn(t);this.userCode=`
      void main() {
        `+l+` resRC = getOutputCoords();
        float cVal = getC(`+n+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+o+`));
        } else {
          setOutput(getB(`+o+`));
        }
      }
    `},AIe=function(){function e(r){this.variableNames=["source"],this.outputShape=r,this.rank=r.length;var t,n=kn(this.rank),o="uniform int start["+this.rank+"];",i=function(a){if(a===1)return"sourceLoc";if(a<=6)return bA.slice(0,a).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+a+" is not yet supported")}(this.rank);t=`
        `+n+` sourceLoc;
        `+n+` coords = getOutputCoords();
        `+r.map(function(a,s){return"sourceLoc."+bA[s]+" = start["+s+"] + coords."+bA[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+o+`
      void main() {
        `+t+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(r){var t=this;if(r.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+r.length+")");return function(n,o){t.startLoc==null&&(t.startLoc=n.getUniformLocationNoThrow(o,"start"),t.startLoc==null)||n.gl.uniform1iv(t.startLoc,r)}},e}(),bA=["x","y","z","w","u","v"],OIe=function(){function e(r){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.rank=r.length;var t=kn(this.rank),n=ua("coords",this.rank),o=ua("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+o.slice(-2).join()+")",a="getChannel(getSource("+o.join()+"), "+i+")",s=`
      result.x = `+a+`;
      if (++`+n[this.rank-1]+" < "+r[this.rank-1]+`) {
        ++`+o[this.rank-1]+`;
        result.y = `+a+`;
        --`+o[this.rank-1]+`;
      }
    `,u=this.rank===1?"":`
      --`+n[this.rank-1]+`;
      if (++`+n[this.rank-2]+" < "+r[this.rank-2]+`) {
        ++`+o[this.rank-2]+`;
        result.z = `+a+`;
        if (++`+n[this.rank-1]+" < "+r[this.rank-1]+`) {
          ++`+o[this.rank-1]+`;
          result.w = `+a+`;
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            `+t+"("+r.map(function(c,f){return"start["+f+"]"}).join()+");":r.map(function(c,f){return o[f]+" = "+n[f]+" + start["+f+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+t+` coords = getOutputCoords();
        `+t+` sourceLoc;
        `+l+`
        vec4 result = vec4(0.);
        `+s+`
        `+u+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(r){var t=this;if(r.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+r.length+")");return function(n,o){t.startLoc==null&&(t.startLoc=n.getUniformLocationNoThrow(o,"start"),t.startLoc==null)||n.gl.uniform1iv(t.startLoc,r)}},e}(),DIe=function(e,r,t){this.variableNames=["x"],this.outputShape=t;var n=t.length,o=kn(t.length),i=kn(t.length),a="";if(n===1)a="coords * strides + begin";else{var s=0;a=t.map(function(u,l){return s++,t.length===1?"coords * strides["+l+"] + begin["+l+"]":"coords["+(s-1)+"] * strides["+l+"] + begin["+l+"]"}).join(",")}this.userCode=`
      `+o+" begin = "+o+"("+e+`);
      `+o+" strides = "+o+"("+r+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+a+`));
      }
    `},PIe=function(){function e(r){this.gpgpu=r,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(r,t,n){var o,i=tU(t,n),a=rU(r,i,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return this.numUsedTextures++,this.log(),i===Ia.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(r[0],r[1]):i===Ia.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(r[0],r[1]):i===Ia.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(r[0],r[1]):i===Ia.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(r[0],r[1]):i===Ia.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(r[0],r[1])),this.usedTextures[a].push(o),o},e.prototype.releaseTexture=function(r,t,n,o){if(this.freeTextures!=null){var i=rU(t,tU(n,o),o);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(r),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[i],s=a.indexOf(r);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var r=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+r+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var r=this;if(this.freeTextures!=null){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(n){r.gpgpu.deleteMatrixTexture(n)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(o){r.gpgpu.deleteMatrixTexture(o)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function tU(e,r){if(e===Fa.UPLOAD)return Ia.PACKED_2X2_FLOAT32;if(e===Fa.RENDER||e==null)return function(t){return Je().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Ia.PACKED_2X2_FLOAT32:Ia.UNPACKED_FLOAT32:t?Ia.PACKED_2X2_FLOAT16:Ia.UNPACKED_FLOAT16}(r);if(e===Fa.DOWNLOAD||e===Fa.PIXELS)return Ia.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function rU(e,r,t){return e[0]+"_"+e[1]+"_"+r+"_"+t}var IIe=function(e,r){this.variableNames=["A"];for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=e[n]*r[n];this.outputShape=t,this.rank=t.length;var o=kn(this.rank),i=function(a){var s=a.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+a[0]+")";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],l=[],c=0;c<a.length;c++)l.push("imod("+u[c]+", "+a[c]+")");return l.join()}(e);this.userCode=`
      void main() {
        `+o+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},NIe=function(e,r){this.variableNames=["A"];for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=e[r[n]];this.outputShape=t,this.rank=t.length;var o=kn(this.rank),i=function(a){var s=a.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var u=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],l=new Array(s),c=0;c<a.length;c++)l[a[c]]=u[c];return l.join()}(r);this.userCode=`
    void main() {
      `+o+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},MIe=function(e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=e[r[n]];if(this.outputShape=t,this.rank=t.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=kn(this.rank),i=lY("rc",this.rank),a=new Array(this.rank);for(n=0;n<r.length;n++)a[r[n]]=i[n];var s="vec2("+a.slice(-2).join()+")",u="++"+i[this.rank-1]+" < "+t[this.rank-1],l="getChannel(getA("+a.join()+"), "+s+")";this.userCode=`
    void main() {
      `+o+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+l+`;
      if(`+u+`) {
        result[1] = `+l+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+t[this.rank-2]+`) {
        result[2] = `+l+`;
        if(`+u+`) {
          result[3] = `+l+`;
        }
      }
      setOutput(result);
    }
    `},C3=1.7580993408473768,E3=1.0507009873554805,yr=function(e,r){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+r+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},du="if (isnan(x)) return x;",FIe="return x;",nU="return abs(x);",hY=du+`
  return (x < 0.0) ? 0.0 : x;
`,vY=du+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,mY="return (x >= 0.0) ? x : (exp(x) - 1.0);",LIe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+C3+`;
  float scale = `+E3+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,oU="return -x;",iU="return ceil(x);",aU="return floor(x);",sU="return exp(x);",uU="return exp(x) - 1.0;",BIe=du+`
  return sin(x);
`,jIe=du+`
  return cos(x);
`,$Ie=du+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,zIe=du+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,WIe=du+`
  return atan(x);
`,UIe=du+"return log(x + sqrt(x * x + 1.0));",qIe=du+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,HIe=du+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,X1="return x;",VIe="return x;",gY=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,yY=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,xY=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,og=function(e,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+r+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},GIe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var r=e.length,t=ua("rc",r),n=kn(r),o=function(s,u){if(s===1)return"rc";for(var l="",c=0;c<s;c++)l+=u[c],c<s-1&&(l+=",");return l}(r,t),i=t.slice(-2),a=r<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+n+` rc = getOutputCoords();
        vec4 packedInput = getA(`+o+`);

        setOutput(getChannel(packedInput, `+a+`));
      }
    `},Q1={};function J1(e,r){if(r===void 0&&(r=!1),e==="linear")return r?VIe:FIe;if(e==="relu")return r?gY:hY;if(e==="elu")return r?xY:mY;if(e==="relu6")return r?yY:vY;if(e==="prelu")return r?pY:dY;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var YIe=600,KIe=function(e){function r(t){var n,o=e.call(this)||this;if(o.pendingRead=new WeakMap,o.pendingDisposal=new WeakSet,o.dataRefCount=new WeakMap,o.numBytesInGPU=0,o.uploadWaitMs=0,o.downloadWaitMs=0,o.warnedAboutMemory=!1,o.pendingDeletes=0,o.disposed=!1,!Je().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(t==null){var i=vl(Je().getNumber("WEBGL_VERSION"));o.binaryCache=((n=Je().getNumber("WEBGL_VERSION"))in Q1||(Q1[n]={}),Q1[n]),o.gpgpu=new aIe(i),o.canvas=i.canvas,o.gpgpuCreatedLocally=!0}else o.gpgpu=t,o.binaryCache={},o.gpgpuCreatedLocally=!1,o.canvas=t.gl.canvas;return o.textureManager=new PIe(o.gpgpu),o.numMBBeforeWarning=Je().global.screen==null?1024:Je().global.screen.height*Je().global.screen.width*window.devicePixelRatio*YIe/1024/1024,o.texData=new eY(o,Oe),o}return fu(r,e),r.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},r.prototype.write=function(t,n,o){if(Je().getBool("DEBUG")&&this.checkNumericalProblems(t),o==="complex64"&&t!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:n,dtype:o,values:t,usage:Fa.UPLOAD}),i},r.prototype.move=function(t,n,o,i){if(Je().getBool("DEBUG")&&this.checkNumericalProblems(n),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(t,{shape:o,dtype:i,values:n,usage:Fa.UPLOAD})},r.prototype.readSync=function(t){var n=this.texData.get(t),o=n.values,i=n.dtype,a=n.complexTensors,s=n.slice,u=n.shape,l=n.isPacked;if(s!=null){var c=void 0;c=l?new og(u,X1):new yr(u,X1);var f=this.runWebGLProgram(c,[{dataId:t,shape:u,dtype:i}],i),d=this.readSync(f.dataId);return this.disposeData(f.dataId),d}if(o!=null)return this.convertAndCacheOnCPU(t);if(i==="string")return o;var p,h,m=this.activeTimers!=null;return m&&(p=Du()),i==="complex64"?h=FD(a.real.dataSync(),a.imag.dataSync()):h=this.getValuesFromTexture(t),m&&(this.downloadWaitMs+=Du()-p),this.convertAndCacheOnCPU(t,h)},r.prototype.read=function(t){return zt(this,void 0,void 0,function(){var n,o,i,a,s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S;return Wt(this,function(T){switch(T.label){case 0:if(this.pendingRead.has(t))return n=this.pendingRead.get(t),[2,new Promise(function(k){return n.push(k)})];if(o=this.texData.get(t),i=o.values,a=o.shape,s=o.slice,u=o.dtype,l=o.complexTensors,c=o.isPacked,s!=null)return f=void 0,f=c?new og(a,X1):new yr(a,X1),d=this.runWebGLProgram(f,[{dataId:t,shape:a,dtype:u}],u),p=this.read(d.dataId),this.disposeData(d.dataId),[2,p];if(i!=null)return[2,this.convertAndCacheOnCPU(t)];if(!Je().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Je().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return h=null,u!=="complex64"&&Je().get("WEBGL_BUFFER_SUPPORTED")&&(m=this.decode(t),y=this.texData.get(m.dataId),h=(S=this.gpgpu).createBufferFromTexture.apply(S,[y.texture].concat(Bg(a)))),this.pendingRead.set(t,[]),u==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:T.sent(),T.label=2;case 2:return u!=="complex64"?[3,4]:[4,Promise.all([l.real.data(),l.imag.data()])];case 3:return g=T.sent(),x=g[0],b=g[1],v=FD(x,b),[3,5];case 4:h==null?v=this.getValuesFromTexture(t):(w=qt(a),v=this.gpgpu.downloadFloat32MatrixFromBuffer(h,w)),T.label=5;case 5:return m!=null&&this.disposeData(m.dataId),E=this.convertAndCacheOnCPU(t,v),C=this.pendingRead.get(t),this.pendingRead.delete(t),C.forEach(function(k){return k(E)}),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t),this.pendingDeletes--),[2,E]}})})},r.prototype.checkNumericalProblems=function(t){if(t!=null)for(var n=0;n<t.length;n++){var o=t[n];if(!LOe(o))throw Je().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+o+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+o+" cannot be represented on this device.")}},r.prototype.getValuesFromTexture=function(t){var n,o=this.texData.get(t),i=o.shape,a=o.dtype,s=o.isPacked,u=qt(i);if(Je().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var l=this.decode(t),c=this.texData.get(l.dataId),f=(n=this.gpgpu).downloadMatrixFromPackedTexture.apply(n,[c.texture].concat(Bg(i))).subarray(0,u);return this.disposeData(l.dataId),f}var d=Je().getBool("WEBGL_PACK")&&s===!0,p=d?pA(i):i,h=d?new FPe(p):new MPe(p),m=this.runWebGLProgram(h,[{shape:p,dtype:a,dataId:t}],"float32"),y=this.texData.get(m.dataId),v=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(y.texture,y.texShape[0],y.texShape[1]).subarray(0,u);return this.disposeData(m.dataId),v},r.prototype.time=function(t){return zt(this,void 0,void 0,function(){var n,o,i,a,s,u,l;return Wt(this,function(c){switch(c.label){case 0:return n=this.activeTimers,o=[],i=!1,this.programTimersStack==null?(this.programTimersStack=o,i=!0):this.activeTimers.push(o),this.activeTimers=o,t(),a=dv(this.activeTimers.map(function(f){return f.query})).filter(function(f){return f!=null}),s=dv(this.activeTimers.map(function(f){return f.name})).filter(function(f){return f!=null}),this.activeTimers=n,i&&(this.programTimersStack=null),u={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(a)]:[3,2];case 1:return l=c.sent(),u.kernelMs=gOe(l),u.getExtraProfileInfo=function(){return l.map(function(f,d){return{name:s[d],ms:f}}).map(function(f){return f.name+": "+f.ms}).join(", ")},[3,3];case 2:u.kernelMs={error:"WebGL query timers are not supported in this environment."},c.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,u]}})})},r.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},r.prototype.startTimer=function(){return Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Du(),endMs:null}},r.prototype.endTimer=function(t){return Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),t):(t.endMs=Du(),t)},r.prototype.getQueryTime=function(t){return zt(this,void 0,void 0,function(){var n;return Wt(this,function(o){return Je().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(t)]:[2,(n=t).endMs-n.startMs]})})},r.prototype.disposeData=function(t){if(!this.pendingDisposal.has(t)){if(this.pendingRead.has(t))return this.pendingDisposal.add(t),void this.pendingDeletes++;if(this.texData.has(t)){this.releaseGPUData(t);var n=this.texData.get(t).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.texData.delete(t)}}},r.prototype.releaseGPUData=function(t){var n=this.texData.get(t),o=n.texture,i=n.dtype,a=n.texShape,s=n.usage,u=n.isPacked,l=n.slice,c=l&&l.origDataId||t,f=this.dataRefCount.get(c);f>1?this.dataRefCount.set(c,f-1):(this.dataRefCount.delete(c),o!=null&&(this.numBytesInGPU-=this.computeBytes(a,i),this.textureManager.releaseTexture(o,a,s,u)));var d=this.texData.get(t);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null},r.prototype.getTexture=function(t){return this.uploadToGPU(t),this.texData.get(t).texture},r.prototype.getDataInfo=function(t){return this.texData.get(t)},r.prototype.getCPUBackend=function(){return Je().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=Oe.findBackend("cpu")),this.cpuBackend):null},r.prototype.shouldExecuteOnCPU=function(t,n){var o=this;return n===void 0&&(n=128),this.getCPUBackend()!=null&&t.every(function(i){return o.texData.get(i.dataId).texture==null&&i.size<n})},r.prototype.getGPGPUContext=function(){return this.gpgpu},r.prototype.complex=function(t,n){var o=this.makeOutput(t.shape,"complex64");return this.texData.get(o.dataId).complexTensors={real:Oe.keep(t.clone()),imag:Oe.keep(n.clone())},o},r.prototype.real=function(t){return this.texData.get(t.dataId).complexTensors.real.clone()},r.prototype.imag=function(t){return this.texData.get(t.dataId).complexTensors.imag.clone()},r.prototype.slice=function(t,n,o){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.slice(t,n,o);if(qt(o)===0)return ni([],o,t.dtype);var i=this.texData.get(t.dataId).isPacked,a=JG(t.shape,n,o);if(i||!a){var s=Je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new OIe(o):new AIe(o),u=s.getCustomSetupFunc(n);return this.compileAndRun(s,[t],null,u)}return this.uploadToGPU(t.dataId),this.shallowSlice(t,n,o)},r.prototype.shallowSlice=function(t,n,o){var i=this.texData.get(t.dataId),a=this.makeOutput(o,t.dtype),s=this.texData.get(a.dataId);Object.assign(s,i),s.shape=o,s.dtype=t.dtype;var u=ZG(n,t.strides);i.slice&&(u+=i.slice.flatOffset),s.slice={flatOffset:u,origDataId:i.slice&&i.slice.origDataId||t.dataId};var l=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,l+1),a},r.prototype.stridedSlice=function(t,n,o,i){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.stridedSlice(t,n,o,i);var a=y3(n,o,i);if(a.some(function(u){return u===0}))return ni([],a);var s=new DIe(n,i,a);return this.compileAndRun(s,[t])},r.prototype.reverse=function(t,n){var o=Je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kIe(t.shape,n):new EIe(t.shape,n);return this.compileAndRun(o,[t])},r.prototype.concat=function(t,n){if(t[0].dtype==="complex64"){var o=t.map(function(p){return gs(p)}),i=t.map(function(p){return Lu(p)});return ei(this.concat(o,n),this.concat(i,n))}if(this.shouldExecuteOnCPU(t))return this.cpuBackend.concat(t,n);if(t.length===1)return t[0];if(t.length>Je().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var a=Math.floor(t.length/2),s=this.concat(t.slice(0,a),n),u=this.concat(t.slice(a),n);return this.concat([s,u],n)}if(Je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].rank>1){var l=new _Pe(t.map(function(p){return p.shape}),n);return this.compileAndRun(l,t)}var c=hv(t.map(function(p){return p.shape}),n),f=t.map(function(p){return p.as2D(-1,qt(p.shape.slice(n)))}),d=new bPe(f.map(function(p){return p.shape}));return this.compileAndRun(d,f).reshape(c)},r.prototype.neg=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.neg(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,oU,t.dtype);var n=new yr(t.shape,oU);return this.compileAndRun(n,[t])},r.prototype.batchMatMul=function(t,n,o,i){var a=o?t.shape[2]:t.shape[1],s=i?n.shape[1]:n.shape[2],u=o?t.shape[1]:t.shape[2],l=t.shape[0];if((a===1||s===1)&&u>1e3){o&&(t=t.transpose([0,2,1])),i&&(n=n.transpose([0,2,1]));var c=s===1?t:t.as3D(l,u,1),f=s===1?2:1,d=s===1?n.as3D(l,1,u):n;return this.multiply(c,d).sum(f,!0)}var p=ti(t.dtype,n.dtype),h=new gA(t.shape,[l,a,s],o,i);return this.compileAndRun(h,[t,n],p)},r.prototype.fusedBatchMatMul=function(t){var n=t.a,o=t.b,i=t.transposeA,a=t.transposeB,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=i?n.shape[2]:n.shape[1],f=a?o.shape[1]:o.shape[2],d=n.shape[0],p=ti(n.dtype,o.dtype),h=s!=null,m=l!=null,y=u?J1(u,!0):null,v=new gA(n.shape,[d,c,f],i,a,h,y,m),g=[n,o];return s&&g.push(s),l&&g.push(l),this.compileAndRun(v,g,p)},r.prototype.multiply=function(t,n){if(t.dtype==="complex64"){var o=this.texData.get(t.dataId),i=this.texData.get(n.dataId),a=new VW(vPe,t.shape,n.shape),s=new VW(mPe,t.shape,n.shape),u=[this.makeComplexComponentTensorInfo(t,o.complexTensors.real),this.makeComplexComponentTensorInfo(t,o.complexTensors.imag),this.makeComplexComponentTensorInfo(n,i.complexTensors.real),this.makeComplexComponentTensorInfo(n,i.complexTensors.imag)],l=this.compileAndRun(a,u),c=this.compileAndRun(s,u),f=this.complex(l,c);return l.dispose(),c.dispose(),f}if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.multiply(t,n);if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,GW,t.dtype);var d=new Xn(GW,t.shape,n.shape);return this.compileAndRun(d,[t,n],t.dtype)},r.prototype.batchNormalization=function(t,n,o,i,a,s){var u=[t,n,o],l=null;s!=null&&(l=s.shape,u.push(s));var c=null;if(a!=null&&(c=a.shape,u.push(a)),Je().getBool("WEBGL_PACK_NORMALIZATION")){var f=new hPe(t.shape,n.shape,o.shape,l,c,i);return this.compileAndRun(f,u)}var d=new pPe(t.shape,n.shape,o.shape,l,c,i);return this.compileAndRun(d,u)},r.prototype.localResponseNormalization4D=function(t,n,o,i,a){var s=Je().getBool("WEBGL_PACK_NORMALIZATION")?new cIe(t.shape,n,o,i,a):new uIe(t.shape,n,o,i,a);return this.compileAndRun(s,[t])},r.prototype.LRNGrad=function(t,n,o,i,a,s,u){var l=new lIe(n.shape,i,a,s,u);return this.compileAndRun(l,[n,o,t])},r.prototype.tile=function(t,n){if(t.dtype==="string"){var o=this.readSync(t.dataId).map(function(a){return V2(a)});return sY(hr(t.shape,t.dtype,o),n)}var i=new IIe(t.shape,n);return this.compileAndRun(i,[t])},r.prototype.pad=function(t,n,o){var i=Je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gIe(t.shape,n,o):new mIe(t.shape,n,o);return this.compileAndRun(i,[t])},r.prototype.transpose=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.transpose(t,n);var o=Je().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MIe(t.shape,n):new NIe(t.shape,n);return this.compileAndRun(o,[t])},r.prototype.gather=function(t,n,o){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.gather(t,n,o);var i=new WPe(t.shape,n.size,o);return this.compileAndRun(i,[t,n])},r.prototype.batchToSpaceND=function(t,n,o){be(t.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var i=n.reduce(function(f,d){return f*d}),a=J2(t.shape,n,i),s=Z2(a.length,n.length),u=ew(t.shape,n,i),l=YG(o,n.length),c=KG(u,o,n.length);return t.reshape(a).transpose(s).reshape(u).slice(l,c)},r.prototype.spaceToBatchND=function(t,n,o){be(t.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var i=n.reduce(function(d,p){return d*p}),a=[[0,0]];a.push.apply(a,o);for(var s=1+n.length;s<t.shape.length;++s)a.push([0,0]);var u=t.pad(a),l=J2(u.shape,n,i,!1),c=Z2(l.length,n.length,!1),f=ew(u.shape,n,i,!1);return u.reshape(l).transpose(c).reshape(f)},r.prototype.reduce=function(t,n,o){var i=t.shape[0],a=t.shape[1],s=hA(a),u=new yIe({windowSize:s,inSize:a,batchSize:i},n),l=this.compileAndRun(u,[t],o);return l.shape[1]===1?l:this.reduce(l,n,o)},r.prototype.argReduce=function(t,n,o){o===void 0&&(o=null);var i=t.shape[0],a=t.shape[1];o!=null&&(i=o.shape[0],a=o.shape[1]);var s=hA(a),u=new oPe({windowSize:s,inSize:a,batchSize:i},n,o==null),l=[t];o!=null&&l.push(o);var c=this.compileAndRun(u,l,"int32");return c.shape[1]===1?c:this.argReduce(t,n,c)},r.prototype.argReducePacked=function(t,n,o){o===void 0&&(o=null);var i=o!=null?o.shape:t.shape,a=hA(i[i.length-1]),s=new cPe(i,a,n,o==null),u=o==null?[t]:[t,o],l=this.compileAndRun(s,u,"int32");return l.rank===t.rank?this.argReducePacked(t,n,l):l},r.prototype.sum=function(t,n){Pa("sum",n,t.rank);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a),u=aA(t.dtype);return this.reduce(s,"sum",u).reshape(i)},r.prototype.prod=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.prod(t,n);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a),u=aA(t.dtype);return this.reduce(s,"prod",u).reshape(i)},r.prototype.unsortedSegmentSum=function(t,n,o){var i=0,a=ml([i],t.rank),s=t;a!=null&&(s=t.transpose(a),i=gl(1,t.rank)[0]);var u=function(p,h,m){for(var y=[],v=p.length,g=0;g<v;g++)g!==h?y.push(p[g]):y.push(m);return y}(s.shape,i,o),l=qt([s.shape[i]]),c=s.as2D(-1,l),f=aA(t.dtype),d=this.segOpCompute(c,"unsortedSegmentSum",n,f,o).reshape(u);return a!=null&&(d=d.transpose(h3(a))),d},r.prototype.segOpCompute=function(t,n,o,i,a){var s=t.shape[0],u=t.shape[1],l=function(d,p){var h,m=!1;for(d<=QG?(h=d,m=!0):h=RD(d,Math.floor(Math.sqrt(d)));!m;)h>p||h===d?m=!0:h=RD(d,h+1);return h}(u,a),c=new RIe({windowSize:l,inSize:u,batchSize:s,numSegments:a}),f=this.compileAndRun(c,[t,o],i);return f.shape[1]===a?f:(o=Q2(0,a).tile([u/l]),this.segOpCompute(f,n,o,i,a))},r.prototype.argMinMaxReduce=function(t,n,o){var i=[n];if(Pa("arg"+o.charAt(0).toUpperCase()+o.slice(1),i,t.rank),!Je().getBool("WEBGL_PACK_REDUCE")||t.rank<=2){var a=yi(t.shape,i),s=a[0],u=qt(a[1]),l=t.as2D(-1,u);return this.argReduce(l,o).reshape(s)}return this.argReducePacked(t,o)},r.prototype.argMin=function(t,n){return this.argMinMaxReduce(t,n,"min")},r.prototype.argMax=function(t,n){return this.argMinMaxReduce(t,n,"max")},r.prototype.cumsum=function(t,n,o,i){if(n!==t.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(t.rank-1)+" but got axis="+n);var a=new OPe(t.shape,o,i);return this.compileAndRun(a,[t])},r.prototype.equal=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(equal(a, b));
`,"bool");var o=new Xn("return float(a == b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.notEqual=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(notEqual(a, b));
`,"bool");var o=new Xn("return float(a != b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.less=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.less(t,n);if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(lessThan(a, b));
`,"bool");var o=new Xn("return float(a < b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.lessEqual=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(lessThanEqual(a, b));
`,"bool");var o=new Xn("return float(a <= b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.greater=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.greater(t,n);if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(greaterThan(a, b));
`,"bool");var o=new Xn("return float(a > b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.greaterEqual=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var o=new Xn("return float(a >= b);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.logicalNot=function(t){var n=new yr(t.shape,"return float(!(x >= 1.0));");return this.compileAndRun(n,[t])},r.prototype.logicalAnd=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var o=new Xn("return float(a >= 1.0 && b >= 1.0);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.logicalOr=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var o=new Xn("return float(a >= 1.0 || b >= 1.0);",t.shape,n.shape);return this.compileAndRun(o,[t,n],"bool")},r.prototype.select=function(t,n,o){var i=new TIe(t.rank,n.shape,n.rank);return this.compileAndRun(i,[t,n,o],ti(n.dtype,o.dtype))},r.prototype.where=function(t){K2("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var n=t.dataSync();return w3(t.shape,n)},r.prototype.topk=function(t,n,o){return uY(t.dataSync(),t.shape,t.dtype,n)},r.prototype.min=function(t,n){Pa("min",n,t.rank);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a);return this.reduce(s,"min",s.dtype).reshape(i)},r.prototype.minimum=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.minimum(t,n);var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new Xn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.mod=function(t,n){var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new Xn(`if (b == 0.0) return NAN;
  return mod(a, b);`,t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.max=function(t,n){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.max(t,n);Pa("max",n,t.rank);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a);return this.reduce(s,"max",s.dtype).reshape(i)},r.prototype.maximum=function(t,n){if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.maximum(t,n);var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new Xn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.all=function(t,n){Pa("all",n,t.rank);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a);return this.reduce(s,"all",s.dtype).reshape(i)},r.prototype.any=function(t,n){Pa("any",n,t.rank);var o=yi(t.shape,n),i=o[0],a=qt(o[1]),s=t.as2D(-1,a);return this.reduce(s,"any",s.dtype).reshape(i)},r.prototype.realDivide=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var o=new Xn(`
if (a == b) {
  return 1.0;
};
return a / b;`,t.shape,n.shape);return this.compileAndRun(o,[t,n],"float32")},r.prototype.floorDiv=function(t,n){if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var o=new Xn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,t.shape,n.shape);return this.compileAndRun(o,[t,n],"int32")},r.prototype.add=function(t,n){if(t.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(t,n,vA);if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.add(t,n);var o=ti(t.dtype,n.dtype);if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,vA,o);var i=new Xn(vA,t.shape,n.shape);return this.compileAndRun(i,[t,n],o)},r.prototype.packedUnaryOp=function(t,n,o){var i=new og(t.shape,n);return this.compileAndRun(i,[t],o)},r.prototype.packedBinaryOp=function(t,n,o,i,a){a===void 0&&(a=!1);var s=new Pl(o,t.shape,n.shape,a);return this.compileAndRun(s,[t,n],i)},r.prototype.complexSeparableBinaryOp=function(t,n,o){var i=this,a=this.texData.get(t.dataId),s=this.texData.get(n.dataId),u=[[a.complexTensors.real,s.complexTensors.real],[a.complexTensors.imag,s.complexTensors.imag]].map(function(d){var p=d[0],h=d[1],m=i.makeComplexComponentTensorInfo(t,p),y=i.makeComplexComponentTensorInfo(n,h),v=new Xn(o,t.shape,n.shape);return i.compileAndRun(v,[m,y],ti(p.dtype,h.dtype))}),l=u[0],c=u[1],f=this.complex(l,c);return l.dispose(),c.dispose(),f},r.prototype.makeComplexComponentTensorInfo=function(t,n){return{dataId:n.dataId,dtype:n.dtype,shape:t.shape}},r.prototype.addN=function(t){if(t.length===1)return t[0];if(t.length>Je().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(t.length/2),o=this.addN(t.slice(0,n)),i=this.addN(t.slice(n));return this.addN([o,i])}var a=t.map(function(l){return l.dtype}).reduce(function(l,c){return ti(l,c)}),s=t.map(function(l){return l.shape}),u=Je().getBool("WEBGL_PACK")?new nPe(t[0].shape,s):new rPe(t[0].shape,s);return this.compileAndRun(u,t,a)},r.prototype.subtract=function(t,n){if(t.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(t,n,mA);if(this.shouldExecuteOnCPU([t,n]))return this.cpuBackend.subtract(t,n);var o=ti(t.dtype,n.dtype);if(Je().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(t,n,mA,t.dtype);var i=new Xn(mA,t.shape,n.shape);return this.compileAndRun(i,[t,n],o)},r.prototype.pow=function(t,n){var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new Xn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,t.shape,n.shape),i=ti(t.dtype,n.dtype);return this.compileAndRun(o,[t,n],i)},r.prototype.ceil=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.ceil(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,iU,t.dtype);var n=new yr(t.shape,iU);return this.compileAndRun(n,[t])},r.prototype.floor=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.floor(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,aU,t.dtype);var n=new yr(t.shape,aU);return this.compileAndRun(n,[t])},r.prototype.sign=function(t){var n=new yr(t.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(n,[t])},r.prototype.isNaN=function(t){var n=new yr(t.shape,"return float(isnan(x));");return this.compileAndRun(n,[t],"bool")},r.prototype.isInf=function(t){var n=new yr(t.shape,"return float(isinf(x));");return this.compileAndRun(n,[t],"bool")},r.prototype.isFinite=function(t){var n=new yr(t.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(n,[t],"bool")},r.prototype.round=function(t){var n=new yr(t.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(n,[t])},r.prototype.exp=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.exp(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,sU,t.dtype);var n=new yr(t.shape,sU);return this.compileAndRun(n,[t])},r.prototype.expm1=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.expm1(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,uU,t.dtype);var n=new yr(t.shape,uU);return this.compileAndRun(n,[t])},r.prototype.softmax=function(t,n){var o=Po([n],t.shape),i=this.max(t,o),a=ga(i.shape,o),s=this.subtract(t,i.reshape(a)),u=this.exp(s),l=this.sum(u,o).reshape(a);return this.realDivide(u,l)},r.prototype.log=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.log(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,t.dtype);var n=new yr(t.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(n,[t])},r.prototype.log1p=function(t){var n=new yr(t.shape,"return log(1.0 + x);");return this.compileAndRun(n,[t])},r.prototype.sqrt=function(t){var n=new yr(t.shape,"return sqrt(x);");return this.compileAndRun(n,[t])},r.prototype.rsqrt=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.rsqrt(t);var n=new yr(t.shape,"return inversesqrt(x);");return this.compileAndRun(n,[t])},r.prototype.reciprocal=function(t){var n=new yr(t.shape,"return 1.0 / x;");return this.compileAndRun(n,[t])},r.prototype.relu=function(t){var n;return n=Je().getBool("WEBGL_PACK")?new og(t.shape,gY):new yr(t.shape,hY),this.compileAndRun(n,[t])},r.prototype.relu6=function(t){var n;return n=Je().getBool("WEBGL_PACK")?new og(t.shape,yY):new yr(t.shape,vY),this.compileAndRun(n,[t])},r.prototype.prelu=function(t,n){var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(pY,t.shape,n.shape):new Xn(dY,t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.elu=function(t){if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,xY,t.dtype);var n=new yr(t.shape,mY);return this.compileAndRun(n,[t])},r.prototype.eluDer=function(t,n){var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,t.shape,n.shape):new Xn("return (b >= 1.0) ? a : a * (b + 1.0);",t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.selu=function(t){var n=new yr(t.shape,LIe);return this.compileAndRun(n,[t])},r.prototype.int=function(t){var n=new yr(t.shape,"return float(int(x));");return this.compileAndRun(n,[t],"int32")},r.prototype.clip=function(t,n,o){var i,a=(i=Je().getBool("WEBGL_PACK_CLIP")?new yPe(t.shape):new gPe(t.shape)).getCustomSetupFunc(n,o);return this.compileAndRun(i,[t],null,a)},r.prototype.abs=function(t){if(this.shouldExecuteOnCPU([t]))return this.cpuBackend.abs(t);if(Je().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(t,nU,t.dtype);var n=new yr(t.shape,nU);return this.compileAndRun(n,[t])},r.prototype.complexAbs=function(t){var n=this.texData.get(t.dataId),o=new xPe(t.shape),i=[this.makeComplexComponentTensorInfo(t,n.complexTensors.real),this.makeComplexComponentTensorInfo(t,n.complexTensors.imag)];return this.compileAndRun(o,i)},r.prototype.sigmoid=function(t){var n=new yr(t.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(n,[t])},r.prototype.softplus=function(t){var n=new yr(t.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(n,[t])},r.prototype.sin=function(t){var n=new yr(t.shape,BIe);return this.compileAndRun(n,[t])},r.prototype.cos=function(t){var n=new yr(t.shape,jIe);return this.compileAndRun(n,[t])},r.prototype.tan=function(t){var n=new yr(t.shape,"return tan(x);");return this.compileAndRun(n,[t])},r.prototype.asin=function(t){var n=new yr(t.shape,$Ie);return this.compileAndRun(n,[t])},r.prototype.acos=function(t){var n=new yr(t.shape,zIe);return this.compileAndRun(n,[t])},r.prototype.atan=function(t){var n=new yr(t.shape,WIe);return this.compileAndRun(n,[t])},r.prototype.atan2=function(t,n){var o=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,t.shape,n.shape):new Xn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,t.shape,n.shape);return this.compileAndRun(o,[t,n])},r.prototype.sinh=function(t){var n=new yr(t.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[t])},r.prototype.cosh=function(t){var n=new yr(t.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[t])},r.prototype.tanh=function(t){var n=new yr(t.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(n,[t])},r.prototype.asinh=function(t){var n=new yr(t.shape,UIe);return this.compileAndRun(n,[t])},r.prototype.acosh=function(t){var n=new yr(t.shape,qIe);return this.compileAndRun(n,[t])},r.prototype.atanh=function(t){var n=new yr(t.shape,HIe);return this.compileAndRun(n,[t])},r.prototype.erf=function(t){var n=new yr(t.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(n,[t])},r.prototype.step=function(t,n){var o=new yr(t.shape,function(i){return i===void 0&&(i=0),du+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `}(n));return this.compileAndRun(o,[t])},r.prototype.conv2dByMatMul=function(t,n,o,i,a,s){var u=t.shape,l=this.texData.get(t.dataId),c=o.inChannels,f=u[0]*u[1]*u[2],d=o.outChannels,p=o.dataFormat==="channelsLast",h=(f===1||d===1)&&c>1e3,m=u[2]%2!=0&&!!l.isPacked;if(h||!Je().getBool("WEBGL_LAZILY_UNPACK")||!Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!m){var y=p?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],v=this.reshape(t,[1,y,o.inChannels]),g=this.reshape(n,[1,o.inChannels,o.outChannels]);return this.reshape(this.fusedBatchMatMul({a:v,b:g,transposeA:!1,transposeB:!1,bias:i,activation:a,preluActivationWeights:s}),o.outShape)}var x=p?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),b={dataId:t.dataId,shape:[1,x,o.inChannels],dtype:t.dtype},w=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,be(Y1(l.shape,b.shape),function(){return"packed reshape "+l.shape+" to "+b.shape+" isn't free"});var E=this.reshape(n,[1,o.inChannels,o.outChannels]),C=this.fusedBatchMatMul({a:b,b:E,transposeA:!1,transposeB:!1,bias:i,activation:a,preluActivationWeights:s}),S=this.texData.get(C.dataId);return be(S.isPacked,function(){return"batchMatMul result is expected to be packed"}),l.shape=w,S.shape=o.outShape,Oe.makeTensorFromDataId(C.dataId,o.outShape,C.dtype)},r.prototype.conv2dWithIm2Row=function(t,n,o,i,a,s){var u=o.filterWidth,l=o.filterHeight,c=o.inChannels,f=o.outWidth,d=o.outHeight,p=o.dataFormat==="channelsLast",h=u*l*c,m=d*f,y=[h,m],v=t.squeeze([0]),g=n.reshape([1,h,-1]),x=new sIe(y,v.shape,o),b=this.compileAndRun(x,[v]).reshape([1,y[0],y[1]]),w=i!=null,E=s!=null,C=a?J1(a,!0):null,S=new gA(b.shape,[1,m,o.outChannels],!0,!1,w,C,E),T=[b,g];i&&T.push(i),E&&T.push(s);var k=this.compileAndRun(S,T);return p?k.reshape([1,d,f,o.outChannels]):k.reshape([1,o.outChannels,d,f])},r.prototype.fusedConv2d=function(t){var n=t.input,o=t.filter,i=t.convInfo,a=t.bias,s=t.activation,u=t.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(n,o,i,a,s,u);if(Je().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,o,i,a,s,u);var l=a!=null,c=u!=null,f=s?J1(s,!1):null,d=new YW(i,l,f,c),p=[n,o];return a&&p.push(a),u&&p.push(u),this.compileAndRun(d,p)},r.prototype.conv2d=function(t,n,o){if(o.filterHeight===1&&o.filterWidth===1&&o.dilationHeight===1&&o.dilationWidth===1&&o.strideHeight===1&&o.strideWidth===1&&(o.padInfo.type==="SAME"||o.padInfo.type==="VALID"))return this.conv2dByMatMul(t,n,o);if(Je().getBool("WEBGL_CONV_IM2COL")&&t.shape[0]===1)return this.conv2dWithIm2Row(t,n,o);var i=new YW(o);return this.compileAndRun(i,[t,n])},r.prototype.conv2dDerInput=function(t,n,o){var i=new SPe(o);return this.compileAndRun(i,[t,n])},r.prototype.conv2dDerFilter=function(t,n,o){var i=new wPe(o);return this.compileAndRun(i,[t,n])},r.prototype.fusedDepthwiseConv2D=function(t){var n,o=t.input,i=t.filter,a=t.convInfo,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=Je().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1,f=u?J1(u,c):null,d=[o,i],p=s!=null,h=l!=null;return p&&d.push(s),h&&d.push(l),c?(n=new XW(a,p,f,h),this.compileAndRun(n,d)):(n=new KW(a,p,f,h),this.compileAndRun(n,d))},r.prototype.depthwiseConv2D=function(t,n,o){var i;return Je().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1?(i=new XW(o),this.compileAndRun(i,[t,n])):(i=new KW(o),this.compileAndRun(i,[t,n]))},r.prototype.depthwiseConv2DDerInput=function(t,n,o){var i=new RPe(o);return this.compileAndRun(i,[t,n])},r.prototype.depthwiseConv2DDerFilter=function(t,n,o){var i=new kPe(o);return this.compileAndRun(i,[t,n])},r.prototype.conv3d=function(t,n,o){var i=new TPe(o);return this.compileAndRun(i,[t,n])},r.prototype.conv3dDerInput=function(t,n,o){var i=new EPe(o);return this.compileAndRun(i,[t,n])},r.prototype.conv3dDerFilter=function(t,n,o){var i=new CPe(o);return this.compileAndRun(i,[t,n])},r.prototype.maxPool=function(t,n){var o=new yA(n,"max",!1);return this.compileAndRun(o,[t])},r.prototype.avgPool=function(t,n){var o=new yA(n,"avg",!1);return this.compileAndRun(o,[t],"float32")},r.prototype.maxPoolBackprop=function(t,n,o,i){var a=new yA(i,"max",!0),s=this.compileAndRun(a,[n]),u=new fIe(i),l=this.compileAndRun(u,[t,s],n.dtype);return s.dispose(),l},r.prototype.avgPoolBackprop=function(t,n,o){var i=new fPe(o);return this.compileAndRun(i,[t],n.dtype)},r.prototype.cast=function(t,n){return nY(t,n,this)},r.prototype.unstack=function(t,n){for(var o=t.shape[n],i=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==n&&(i[a++]=t.shape[s]);var u=new Array(t.rank).fill(0),l=t.shape.slice();l[n]=1;var c=new Array(o);for(s=0;s<c.length;s++)u[n]=s,c[s]=this.slice(t,u,l).reshape(i);return c},r.prototype.avgPool3d=function(t,n){var o=new xA(n,"avg",!1);return this.compileAndRun(o,[t],"float32")},r.prototype.avgPool3dBackprop=function(t,n,o){var i=new dPe(o);return this.compileAndRun(i,[t],n.dtype)},r.prototype.maxPool3d=function(t,n){var o=new xA(n,"max",!1);return this.compileAndRun(o,[t],"float32")},r.prototype.maxPool3dBackprop=function(t,n,o,i){var a=new xA(i,"max",!0),s=this.compileAndRun(a,[n]),u=new dIe(i),l=this.compileAndRun(u,[t,s],n.dtype);return s.dispose(),l},r.prototype.reshape=function(t,n){var o=this.texData.get(t.dataId);if(o.isPacked&&!Y1(t.shape,n)&&(o.texture===null||!Y1(o.shape,n))){var i=this.packedReshape(t,n);return Oe.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return MD(t,n)},r.prototype.resizeBilinear=function(t,n,o,i){var a=Je().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new wIe(t.shape,n,o,i):new _Ie(t.shape,n,o,i);return this.compileAndRun(a,[t],"float32")},r.prototype.resizeBilinearBackprop=function(t,n,o){var i=new bIe(t,n,o);return this.compileAndRun(i,[t])},r.prototype.resizeNearestNeighbor=function(t,n,o,i){var a=new CIe(t.shape,n,o,i);return this.compileAndRun(a,[t])},r.prototype.resizeNearestNeighborBackprop=function(t,n,o){var i=new SIe(t,n,o);return this.compileAndRun(i,[t])},r.prototype.multinomial=function(t,n,o,i){var a=n?t:cc(t),s=a.shape[0],u=a.shape[1],l=new pIe(s,u,o),c=l.getCustomSetupFunc(i);return this.compileAndRun(l,[a],"int32",c)},r.prototype.oneHot=function(t,n,o,i){var a=new hIe(t.size,n,o,i);return this.compileAndRun(a,[t])},r.prototype.diag=function(t){var n=new NPe(t.size);return this.compileAndRun(n,[t])},r.prototype.nonMaxSuppression=function(t,n,o,i,a){return K2("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),b3(t.dataSync(),n.dataSync(),o,i,a)},r.prototype.cropAndResize=function(t,n,o,i,a,s){var u=new APe(t.shape,n.shape,i,a,s);return this.compileAndRun(u,[t,n,o],"float32")},r.prototype.depthToSpace=function(t,n,o){be(n>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+n});var i=t.shape[0],a=o==="NHWC"?t.shape[1]:t.shape[2],s=o==="NHWC"?t.shape[2]:t.shape[3],u=o==="NHWC"?t.shape[3]:t.shape[1],l=a*n,c=s*n,f=u/(n*n),d=new IPe(o==="NHWC"?[i,l,c,f]:[i,f,l,c],n,o);return this.compileAndRun(d,[t])},r.prototype.split=function(t,n,o){return aY(t,n,o)},r.prototype.scatterND=function(t,n,o){var i=tw(0,t,o),a=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,c=i.outputSize,f=[c/u,u],d=t.reshape([s,a]),p=n.reshape([s,u]);if(c===0)return MD(ni([]),o);var h=Ct(0),m=new eU(s,a,d.rank,p.rank,l,f);return this.compileAndRun(m,[p,d,h]).reshape(o)},r.prototype.sparseToDense=function(t,n,o,i){var a=tw(0,t,o),s=a.sliceRank,u=a.numUpdates,l=a.strides,c=a.outputSize,f=new eU(u,s,t.rank,n.rank,l,[c,1]);return this.compileAndRun(f,[n,t,i]).reshape(o)},r.prototype.fft=function(t){return this.fftImpl(t,!1)},r.prototype.ifft=function(t){return this.fftImpl(t,!0)},r.prototype.fftImpl=function(t,n){var o=this.texData.get(t.dataId),i=new JW(jPe,t.shape,n),a=new JW($Pe,t.shape,n),s=[this.makeComplexComponentTensorInfo(t,o.complexTensors.real),this.makeComplexComponentTensorInfo(t,o.complexTensors.imag)],u=this.compileAndRun(i,s),l=this.compileAndRun(a,s),c=this.complex(u,l).as2D(t.shape[0],t.shape[1]);return u.dispose(),l.dispose(),c},r.prototype.gatherND=function(t,n){var o=n.shape,i=o[o.length-1],a=XG(t,n),s=a[0],u=a[1],l=a[2],c=a[3],f=n.reshape([u,i]),d=t.reshape([t.size/l,l]),p=new UPe(i,c,[u,l]);return this.compileAndRun(p,[d,f]).reshape(s)},r.prototype.fill=function(t,n,o){if((o=o||hy(n))==="string"){var i=H2(o,qt(t));return i.fill(n),Oe.makeTensor(i,t,o,this)}var a=new zPe(t,n),s=a.getCustomSetupFunc(n);return this.compileAndRun(a,[],o,s)},r.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(t.shape,1,t.dtype)},r.prototype.zerosLike=function(t){return this.fill(t.shape,t.dtype==="string"?"":0,t.dtype)},r.prototype.linspace=function(t,n,o){return oY(t,n,o)},r.prototype.makeTensorInfo=function(t,n){var o=this.write(null,t,n);return this.texData.get(o).usage=null,{dataId:o,shape:t,dtype:n}},r.prototype.makeOutput=function(t,n){var o=this.makeTensorInfo(t,n).dataId;return Oe.makeTensorFromDataId(o,t,n,this)},r.prototype.unpackTensor=function(t){var n=new GIe(t.shape);return this.runWebGLProgram(n,[t],t.dtype)},r.prototype.packTensor=function(t){var n=new vIe(t.shape);return this.runWebGLProgram(n,[t],t.dtype,null,!0)},r.prototype.packedReshape=function(t,n){var o=[G2(t.shape)].concat(Y2(t.shape)),i={dtype:t.dtype,shape:o,dataId:t.dataId},a=[G2(n)].concat(Y2(n)),s=new xIe(a,o),u=this.runWebGLProgram(s,[i],t.dtype,null,!0);return{dataId:u.dataId,shape:n,dtype:u.dtype}},r.prototype.decode=function(t){var n,o=this.texData.get(t),i=o.isPacked,a=o.shape,s=o.dtype,u=pA(a);return n=i?new PPe(u):new DPe(u),{dtype:s,shape:a,dataId:this.runWebGLProgram(n,[{shape:u,dtype:s,dataId:t}],s,null,!0).dataId}},r.prototype.runWebGLProgram=function(t,n,o,i,a){var s=this;a===void 0&&(a=!1);var u=this.makeTensorInfo(t.outputShape,o),l=this.texData.get(u.dataId);if(t.packedOutput&&(l.isPacked=!0),t.outPackingScheme===C0.DENSE){var c=Bg(t.outputShape);l.texShape=c.map(function(x){return 2*x})}if(t.outTexUsage!=null&&(l.usage=t.outTexUsage),qt(u.shape)===0)return l.values=w0(u.dtype,0),u;var f=[],d=n.map(function(x){if(x.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var b=s.texData.get(x.dataId);if(b.texture==null){if(!t.packedInputs&&qt(x.shape)<=Je().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:x.shape,texData:null,isUniform:!0,uniformValues:b.values};t.packedInputs&&(b.isPacked=!0,b.shape=x.shape)}else if(!!b.isPacked!=!!t.packedInputs)x=b.isPacked?s.unpackTensor(x):s.packTensor(x),f.push(x),b=s.texData.get(x.dataId);else if(b.isPacked&&!Y1(b.shape,x.shape)){var w=x,E=x.shape;x.shape=b.shape,x=s.packedReshape(x,E),f.push(x),b=s.texData.get(x.dataId),w.shape=E}return s.uploadToGPU(x.dataId),{shape:x.shape,texData:b,isUniform:!1}});this.uploadToGPU(u.dataId);var p,h={shape:u.shape,texData:l,isUniform:!1},m=function(x,b,w){var E="";b.concat(w).forEach(function(T){var k=T.texData!=null&&T.texData.slice!=null&&T.texData.slice.flatOffset>0,P=T.isUniform?"uniform":T.texData.texShape;E+=T.shape+"_"+P+"_"+k});var C=x.userCode,S=x.constructor.name;return S+="_"+E+"_"+C}(t,d,h),y=this.getAndSaveBinary(m,function(){return function(x,b,w,E){var C=b.userCode,S=w.map(function(W,L){var z={logicalShape:W.shape,texShape:W.isUniform?null:W.texData.texShape,isUniform:W.isUniform,isPacked:!W.isUniform&&W.texData.isPacked,flatOffset:null};return W.texData!=null&&W.texData.slice!=null&&W.texData.slice.flatOffset>0&&(z.flatOffset=W.texData.slice.flatOffset),{name:b.variableNames[L],shapeInfo:z}}),T=S.map(function(W){return W.shapeInfo}),k={logicalShape:E.shape,texShape:E.texData.texShape,isUniform:!1,isPacked:E.texData.isPacked,flatOffset:null},P=iPe(S,k,C,b.packedInputs),I=x.createProgram(P),F=null,A=x.getUniformLocation(I,"NAN",!1);Je().getNumber("WEBGL_VERSION")===1&&(F=x.getUniformLocation(I,"INFINITY",!1));for(var D={},$=0;$<b.variableNames.length;$++){var B=b.variableNames[$];D[B]=x.getUniformLocation(I,B,!1),D["offset"+B]=x.getUniformLocation(I,"offset"+B,!1)}return{program:b,source:P,webGLProgram:I,uniformLocations:D,inShapeInfos:T,outShapeInfo:k,infLoc:F,nanLoc:A}}(s.gpgpu,t,d,h)}),v=this.activeTimers!=null;if(v&&(p=this.startTimer()),function(x,b,w,E,C){ZW(b.inShapeInfos,w),ZW([b.outShapeInfo],[E]);var S=E.texData.texture,T=E.texData.texShape;E.texData.isPacked?x.setOutputPackedMatrixTexture(S,T[0],T[1]):x.setOutputMatrixTexture(S,T[0],T[1]),x.setProgram(b.webGLProgram),Je().getNumber("WEBGL_VERSION")===1&&b.infLoc!==null&&x.gl.uniform1f(b.infLoc,1/0),b.nanLoc!==null&&x.gl.uniform1f(b.nanLoc,NaN),w.forEach(function(k,P){var I=b.program.variableNames[P],F=b.uniformLocations[I],A=b.uniformLocations["offset"+I];if(F!=null)if(k.isUniform)if(qt(k.shape)<2)x.gl.uniform1f(F,k.uniformValues[0]);else{var D=k.uniformValues;D instanceof Float32Array||(D=new Float32Array(D)),x.gl.uniform1fv(F,D)}else k.texData.slice!=null&&A!=null&&x.gl.uniform1i(A,k.texData.slice.flatOffset),x.setInputMatrixTexture(k.texData.texture,F,P)}),C!=null&&C(x,b.webGLProgram),x.executeProgram()}(this.gpgpu,y,d,h,i),f.forEach(function(x){return s.disposeData(x.dataId)}),v&&(p=this.endTimer(p),this.activeTimers.push({name:t.constructor.name,query:this.getQueryTime(p)})),!Je().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&a===!1){var g=this.unpackTensor(u);return this.disposeData(u.dataId),g}return u},r.prototype.compileAndRun=function(t,n,o,i,a){a===void 0&&(a=!1),o=o||n[0].dtype;var s=this.runWebGLProgram(t,n,o,i,a);return Oe.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},r.prototype.getAndSaveBinary=function(t,n){return t in this.binaryCache||(this.binaryCache[t]=n()),this.binaryCache[t]},r.prototype.getTextureManager=function(){return this.textureManager},r.prototype.dispose=function(){var t=this;this.disposed||(Je().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(n){t.gpgpu.deleteProgram(t.binaryCache[n].webGLProgram),delete t.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},r.prototype.floatPrecision=function(){var t=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ft(function(){if(!Je().get("WEBGL_RENDER_FLOAT32_ENABLED")){var n=Je().getBool("DEBUG");Je().set("DEBUG",!1);var o=t.abs(Ct(1e-8)).dataSync()[0];if(Je().set("DEBUG",n),o>0)return 32}return 16})),this.floatPrecisionValue},r.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},r.prototype.uploadToGPU=function(t){var n,o=this.texData.get(t),i=o.shape,a=o.dtype,s=o.values,u=o.texture,l=o.usage,c=o.isPacked;if(u==null){var f,d=this.activeTimers!=null;d&&(f=Du());var p=o.texShape;if(p==null&&(p=tDe(i,c),o.texShape=p),s!=null){var h=pA(i),m=void 0,y=p[1],v=p[0],g=s instanceof Uint8Array;c?(y=(n=my(p[0],p[1]))[0],v=n[1],m=new BPe(h,[v,y],g)):m=new LPe(h,[v,y],g);var x=this.makeTensorInfo([v,y],a);this.texData.get(x.dataId).usage=g?Fa.PIXELS:Fa.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),y,v,s);var b=this.runWebGLProgram(m,[x],a,null,!0),w=this.texData.get(b.dataId);o.texture=w.texture,o.texShape=w.texShape,o.isPacked=w.isPacked,o.usage=w.usage,this.disposeData(x.dataId),this.texData.delete(b.dataId),o.values=null,d&&(this.uploadWaitMs+=Du()-f)}else{var E=this.acquireTexture(p,l,a,c);o.texture=E}}},r.prototype.convertAndCacheOnCPU=function(t,n){var o=this.texData.get(t),i=o.dtype;return this.releaseGPUData(t),n!=null&&(o.values=function(a,s){if(s==="float32"||s==="complex64")return a;if(s==="int32"||s==="bool"){for(var u=s==="int32"?new Int32Array(a.length):new Uint8Array(a.length),l=0;l<u.length;++l)u[l]=Math.round(a[l]);return u}throw new Error("Unknown dtype "+s)}(n,i)),o.values},r.prototype.acquireTexture=function(t,n,o,i){if(this.numBytesInGPU+=this.computeBytes(t,o),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+a+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(t,n,i)},r.prototype.computeBytes=function(t,n){return t[0]*t[1]*PG(n)},r}(tY);jG()&&Oe.registerBackend("webgl",function(){return new KIe},2);var XIe=ke({square_:function(e){var r=ge(e,"x","square"),t=[r];return Oe.runKernelFunc(function(n,o){return o([r]),n.square(r)},{x:r},null,"Square",{},t,[])}}),k0="SquaredDifference",bY=ke({squaredDifference_:function(e,r){var t,n=ge(e,"a","squaredDifference"),o=ge(r,"b","squaredDifference");t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape);var i={a:n,b:o},a=[n,o];return Oe.runKernelFunc(function(s,u){var l=s.squaredDifference(n,o);return u([n,o]),l},i,function(s,u){var l=u[0],c=u[1],f=Ct(2);return{a:function(){return s.mul(l.sub(c).mul(f))},b:function(){return s.mul(c.sub(l).mul(f))}}},k0,{},a,[])}}),QIe=ke({abs_:function(e){var r=ge(e,"x","abs");return r.dtype==="complex64"?Oe.runKernelFunc(function(t){return t.complexAbs(r)},{$x:r}):Oe.runKernelFunc(function(t,n){var o=t.abs(r);return n([r]),o},{x:r},function(t,n){var o=n[0];return{x:function(){return t.mul(o.toFloat().step(-1))}}},"Abs")}}),JIe=ke({acos_:function(e){var r=ge(e,"x","acos");return Oe.runKernelFunc(function(t,n){var o=t.acos(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.divStrict(Ct(1).sub(o.toFloat().square()).sqrt()).neg()}}})}}),ZIe=ke({acosh_:function(e){var r=ge(e,"x","acosh");return Oe.runKernelFunc(function(t,n){var o=t.acosh(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.divStrict(o.toFloat().square().sub(1).sqrt())}}})}}),eNe=ke({asin_:function(e){var r=ge(e,"x","asin");return Oe.runKernelFunc(function(t,n){var o=t.asin(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.divStrict(Ct(1).sub(o.toFloat().square()).sqrt())}}})}}),tNe=ke({asinh_:function(e){var r=ge(e,"x","asinh");return Oe.runKernelFunc(function(t,n){var o=t.asinh(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.divStrict(Ct(1).add(o.toFloat().square()).sqrt())}}})}}),rNe=ke({atan_:function(e){var r=ge(e,"x","atan");return Oe.runKernelFunc(function(t,n){var o=t.atan(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(o.toFloat().square().add(1))}}})}}),nNe=ke({atanh_:function(e){var r=ge(e,"x","atanh");return Oe.runKernelFunc(function(t,n){var o=t.atanh(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(Ct(1).sub(o.toFloat().square()))}}})}}),oNe=ke({ceil_:function(e){var r=ge(e,"x","ceil");return Oe.runKernelFunc(function(t){return t.ceil(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),k3=ke({clipByValue_:function(e,r,t){var n=ge(e,"x","clipByValue");be(r<=t,function(){return"Error in clip: min ("+r+") must be less than or equal to max ("+t+")."});var o=[n],i={min:r,max:t};return Oe.runKernelFunc(function(a,s){var u=a.clip(n,r,t);return s([n]),u},{x:n},function(a,s){var u=s[0];return{x:function(){return a.where(u.greaterEqual(r).logicalAnd(u.lessEqual(t)),Hr(a))}}},"ClipByValue",i,o)}}),iNe=ke({cos_:function(e){var r=ge(e,"x","cos"),t=[r];return Oe.runKernelFunc(function(n,o){var i=n.cos(r);return o([r]),i},{x:r},function(n,o){var i=o[0];return{x:function(){return i.toFloat().sin().neg().mul(n)}}},"Cos",{},t)}}),aNe=ke({cosh_:function(e){var r=ge(e,"x","cosh");return Oe.runKernelFunc(function(t,n){var o=t.cosh(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return o.toFloat().sinh().mulStrict(t)}}})}}),sNe=ke({erf_:function(e){var r=ge(e,"x","erf");return be(r.dtype==="int32"||r.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),r.dtype==="int32"&&(r=r.toFloat()),Oe.runKernelFunc(function(t,n){var o=t.erf(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.mul(o.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),LD=ke({exp_:function(e){var r=ge(e,"x","exp");return Oe.runKernelFunc(function(t,n){var o=t.exp(r);return n([o]),o},{x:r},function(t,n){return{x:function(){return t.mulStrict(n[0])}}},"Exp",{},[],[!0])}}),uNe=ke({expm1_:function(e){var r=ge(e,"x","expm1");return Oe.runKernelFunc(function(t,n){var o=t.expm1(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.mul(o.exp())}}})}}),lNe=ke({floor_:function(e){var r=ge(e,"x","floor");return Oe.runKernelFunc(function(t){return t.floor(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),cNe=ke({log_:function(e){var r=ge(e,"x","log"),t=[r];return Oe.runKernelFunc(function(n,o){var i=n.log(r);return o([r]),i},{x:r},function(n,o){var i=o[0];return{x:function(){return n.div(i.toFloat())}}},"Log",{},t)}}),fNe=ke({log1p_:function(e){var r=ge(e,"x","log1p");return Oe.runKernelFunc(function(t,n){var o=t.log1p(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(o.add(1))}}})}}),dNe=ke({logSigmoid_:function(e){var r=ge(e,"x","logSigmoid");return Oe.runKernelFunc(function(t,n){var o=t.softplus(r.neg()).neg();return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.mul(o.neg().sigmoid())}}})}}),iw=ke({neg_:function(e){var r=ge(e,"x","neg"),t=[r];return Oe.runKernelFunc(function(n){return n.neg(r)},{x:r},function(n){return{x:function(){return n.neg()}}},"Neg",{},t)}}),pNe=ke({reciprocal_:function(e){var r=ge(e,"x","reciprocal");return Oe.runKernelFunc(function(t,n){var o=t.reciprocal(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(o.square().neg())}}})}}),hNe=ke({round_:function(e){var r=ge(e,"x","round");return Oe.runKernelFunc(function(t){return t.round(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),_Y=ke({rsqrt_:function(e){var r=ge(e,"x","rsqrt"),t=[r];return Oe.runKernelFunc(function(n,o){var i=n.rsqrt(r);return o([r]),i},{x:r},function(n,o){var i=o[0];return{x:function(){return n.div(i.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},t)}}),wY=ke({sigmoid_:function(e){var r=ge(e,"x","sigmoid");return Oe.runKernelFunc(function(t,n){var o=t.sigmoid(r);return n([o]),o},{x:r},function(t,n){var o=n[0];return{x:function(){return t.mul(o.mul(Ct(1).sub(o)))}}},"Sigmoid")}}),vNe=ke({sign_:function(e){var r=ge(e,"x","sign");return Oe.runKernelFunc(function(t){return t.sign(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),mNe=ke({isNaN_:function(e){var r=ge(e,"x","isNaN");return Oe.runKernelFunc(function(t){return t.isNaN(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),gNe=ke({isInf_:function(e){var r=ge(e,"x","isInf");return Oe.runKernelFunc(function(t){return t.isInf(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),yNe=ke({isFinite_:function(e){var r=ge(e,"x","isFinite");return Oe.runKernelFunc(function(t){return t.isFinite(r)},{$x:r},function(t){return{$x:function(){return Hr(t)}}})}}),xNe=ke({sin_:function(e){var r=ge(e,"x","sin"),t=[r];return Oe.runKernelFunc(function(n,o){var i=n.sin(r);return o([r]),i},{x:r},function(n,o){var i=o[0];return{x:function(){return i.toFloat().cos().mul(n)}}},"Sin",{},t)}}),bNe=ke({sinh_:function(e){var r=ge(e,"x","sinh");return Oe.runKernelFunc(function(t,n){var o=t.sinh(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return o.toFloat().cosh().mulStrict(t)}}})}}),_Ne=ke({softplus_:function(e){var r=ge(e,"x","softplus");return Oe.runKernelFunc(function(t,n){var o=t.softplus(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.mul(o.sigmoid())}}})}}),wNe=ke({sqrt_:function(e){var r=ge(e,"x","sqrt");return Oe.runKernelFunc(function(t,n){var o=t.sqrt(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(o.toFloat().sqrt().mul(2))}}})}}),SNe=ke({step_:function(e,r){r===void 0&&(r=0);var t=ge(e,"x","step");return Oe.runKernelFunc(function(n){return n.step(t,r)},{$x:t},function(n){return{$x:function(){return Hr(n)}}})}}),CNe=ke({tan_:function(e){var r=ge(e,"x","tan");return Oe.runKernelFunc(function(t,n){var o=t.tan(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return t.div(o.cos().square())}}})}}),ENe=ke({tanh_:function(e){var r=ge(e,"x","tanh");return Oe.runKernelFunc(function(t,n){var o=t.tanh(r);return n([o]),o},{x:r},function(t,n){var o=n[0];return{x:function(){return Ct(1).sub(o.square()).mulStrict(t)}}},"Tanh",{},null,[!0])}});function SY(e,r,t,n,o,i){var a,s,u=ge(e,"x","batchNorm"),l=ge(r,"mean","batchNorm"),c=ge(t,"variance","batchNorm");return o!=null&&(a=ge(o,"scale","batchNorm")),n!=null&&(s=ge(n,"offset","batchNorm")),be(u.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),be(l.rank===2||l.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+l.rank+"."}),be(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),a!=null&&be(a.rank===2||a.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+a.rank+"."}),s!=null&&be(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),yy(u,l,c,s,a,i)}function CY(e,r,t,n,o,i){var a,s,u=ge(e,"x","batchNorm"),l=ge(r,"mean","batchNorm"),c=ge(t,"variance","batchNorm");return o!=null&&(a=ge(o,"scale","batchNorm")),n!=null&&(s=ge(n,"offset","batchNorm")),be(u.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+u.rank+"."}),be(l.rank===3||l.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+l.rank+"."}),be(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),a!=null&&be(a.rank===3||a.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+a.rank+"."}),s!=null&&be(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),yy(u,l,c,s,a,i)}function EY(e,r,t,n,o,i){var a,s,u=ge(e,"x","batchNorm"),l=ge(r,"mean","batchNorm"),c=ge(t,"variance","batchNorm");return o!=null&&(a=ge(o,"scale","batchNorm")),n!=null&&(s=ge(n,"offset","batchNorm")),be(u.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+u.rank+"."}),be(l.rank===4||l.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+l.rank+"."}),be(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),a!=null&&be(a.rank===4||a.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+a.rank+"."}),s!=null&&be(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),yy(u,l,c,s,a,i)}function yy(e,r,t,n,o,i){i==null&&(i=.001);var a,s,u,l=ge(e,"x","batchNorm"),c=ge(r,"mean","batchNorm"),f=ge(t,"variance","batchNorm");o!=null&&(a=ge(o,"scale","batchNorm")),n!=null&&(s=ge(n,"offset","batchNorm")),be(c.rank===f.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),be(s==null||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),be(a==null||c.rank===a.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),u=l.rank===0||l.rank===1?l.as4D(1,1,1,l.size):l.rank===2?l.as4D(1,1,l.shape[0],l.shape[1]):l.rank===3?l.as4D(1,l.shape[0],l.shape[1],l.shape[2]):l;var d=[l,c,f,a];return Oe.runKernelFunc(function(p,h){var m=p.batchNormalization(u,Z1(c),Z1(f),i,Z1(a),Z1(s));return h([l,c,f,a]),m},{x:l,mean:c,variance:f,scale:a,offset:s},function(p,h){var m=h,y=m[0],v=m[1],g=m[2],x=m[3],b=x??Ct(1),w=Oo(v.shape,u.shape),E=[];if(v.rank===1){for(var C=0;C<u.shape.length-1;++C)E.push(u.shape[C]);E.push(1)}var S=y.sub(v),T=p.mul(b),k=_Y(g.add(Ct(i))),P=k.mul(k).mul(k).mul(Ct(-.5));return{x:function(){return v.rank===1?p.mul(Oh(k.as4D(1,1,1,v.shape[0]),E)).mul(b).reshape(y.shape):p.mul(k).mul(b).reshape(y.shape)},mean:function(){var I=k.mul(Ct(-1)).mul(T);return v.rank===1&&(I=I.sum(w)),I.reshape(v.shape)},variance:function(){var I=P.mul(S).mul(T);return v.rank===1&&(I=I.sum(w)),I.reshape(v.shape)},scale:function(){var I=S.mul(k),F=p.mul(I);return v.rank===1&&(F=F.sum(w)),F.reshape(v.shape)},offset:function(){var I=p;return v.rank===1&&(I=I.sum(w)),I.reshape(v.shape)}}},"BatchNormalization",{varianceEpsilon:i},d).reshape(l.shape)}function Z1(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function wC(){$G("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var kNe=ke({batchNormalization2d_:function(e,r,t,n,o,i){return n===void 0&&(n=.001),wC(),SY(e,r,t,i,o,n)}}),RNe=ke({batchNormalization3d_:function(e,r,t,n,o,i){return n===void 0&&(n=.001),wC(),CY(e,r,t,i,o,n)}}),TNe=ke({batchNormalization4d_:function(e,r,t,n,o,i){return n===void 0&&(n=.001),wC(),EY(e,r,t,i,o,n)}}),ANe=ke({batchNormalization_:function(e,r,t,n,o,i){return n===void 0&&(n=.001),wC(),yy(e,r,t,i,o,n)}}),kY=ke({batchNorm_:yy}),ONe=ke({batchNorm2d_:SY}),DNe=ke({batchNorm3d_:CY}),PNe=ke({batchNorm4d_:EY}),SC=ke({logicalAnd_:function(e,r){var t=ge(e,"a","logicalAnd","bool"),n=ge(r,"b","logicalAnd","bool");return Nr(t.shape,n.shape),Oe.runKernelFunc(function(o){return o.logicalAnd(t,n)},{a:t,b:n},null,"LogicalAnd")}}),INe=ke({logicalNot_:function(e){var r=ge(e,"x","logicalNot","bool");return Oe.runKernelFunc(function(t){return t.logicalNot(r)},{$x:r})}}),RY=ke({logicalOr_:function(e,r){var t=ge(e,"a","logicalOr","bool"),n=ge(r,"b","logicalOr","bool");return Nr(t.shape,n.shape),Oe.runKernelFunc(function(o){return o.logicalOr(t,n)},{$a:t,$b:n})}}),NNe=ke({logicalXor_:function(e,r){var t=ge(e,"a","logicalXor","bool"),n=ge(r,"b","logicalXor","bool");return Nr(t.shape,n.shape),RY(e,r).logicalAnd(SC(e,r).logicalNot())}}),$d=ke({where_:function(e,r,t){var n=ge(r,"a","where"),o=ge(t,"b","where"),i=ge(e,"condition","where","bool");return on(n.shape,o.shape,"Error in where: "),i.rank===1?be(i.shape[0]===n.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):on(i.shape,o.shape,"Error in where: "),Oe.runKernelFunc(function(a,s){var u=a.select(i,n,o);return s([i]),u},{$condition:i,$a:n,$b:o},function(a,s){var u=s[0];return{$condition:function(){return Hr(u).toFloat()},$a:function(){return a.mul(u.cast(a.dtype))},$b:function(){return a.mul(u.logicalNot().cast(a.dtype))}}})}}),TY=function(e){return zt(this,void 0,void 0,function(){var r,t,n;return Wt(this,function(o){switch(o.label){case 0:return[4,(r=ge(e,"condition","whereAsync","bool")).data()];case 1:return t=o.sent(),n=w3(r.shape,t),e!==r&&r.dispose(),[2,n]}})})},Dr=ke({add_:function(e,r){var t,n=ge(e,"a","add"),o=ge(r,"b","add");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a){return a.add(n,o)},{a:n,b:o},function(a){return{a:function(){var s=a,u=Oo(n.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(n.shape)},b:function(){var s=a,u=Oo(o.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(o.shape)}}},"Add")}}),MNe=ke({addN_:function(e){be(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),be(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var r=e.map(function(o,i){return ge(o,"tensors"+i,"addN")}),t=r[0];r.forEach(function(o){if(o.dtype!==t.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),r.forEach(function(o){if(!Wo(o.shape,t.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=r;return Oe.runKernelFunc(function(o){return o.addN(r)},n,function(o){var i={};return r.forEach(function(a,s){i[s]=function(){return o.clone()}}),i},"AddN")}}),FNe=ke({addStrict_:function(e,r){var t=ge(e,"a","addStrict"),n=ge(r,"b","addStrict");return on(t.shape,n.shape,"Error in addStrict: "),t.add(n)}}),LNe=ke({atan2_:function(e,r){var t,n=ge(e,"a","atan2"),o=ge(r,"b","atan2");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a,s){var u=a.atan2(n,o);return s([n,o]),u},{$a:n,$b:o},function(a,s){var u=s[0],l=s[1];return{$a:function(){var c=Dr(u.square(),l.square()),f=a.mul(l.div(c)),d=Oo(u.shape,i);return d.length>0&&(f=f.sum(d)),f.reshape(u.shape)},$b:function(){var c=Dr(u.square(),l.square()),f=iw(a.mul(u.div(c))),d=Oo(l.shape,i);return d.length>0&&(f=f.sum(d)),f.reshape(l.shape)}}})}}),qs=ke({div_:function(e,r){var t,n=ge(e,"a","div"),o=ge(r,"b","div");if(t=Gn(n,o),n=t[0],o=t[1],n.dtype==="int32"&&o.dtype==="int32")return AY(n,o);var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a,s){var u=a.realDivide(n,o);return s([n,o]),u},{a:n,b:o},function(a,s){var u=s[0],l=s[1];return{a:function(){var c=a.div(l.toFloat()),f=Oo(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=a.mul(u.toFloat()),f=Oo(l.shape,i);f.length>0&&(c=c.sum(f).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}},"Div")}}),BNe=ke({divNoNan_:function(e,r){var t,n=ge(e,"a","div"),o=ge(r,"b","div");n=(t=Gn(n,o))[0],o=t[1];var i=qs(n,o),a=Hr(i),s=o.equal(a);return $d(s,a,i)}}),jNe=ke({divStrict_:function(e,r){var t=ge(e,"a","div"),n=ge(r,"b","div");return on(t.shape,n.shape,"Error in divideStrict: "),t.div(n)}}),AY=ke({floorDiv_:function(e,r){var t,n=ge(e,"a","floorDiv"),o=ge(r,"b","floorDiv");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a,s){var u=a.floorDiv(n,o);return s([n,o]),u},{a:n,b:o},function(a,s){var u=s[0],l=s[1];return{a:function(){var c=a.div(l.toFloat()),f=Oo(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=a.mul(u.toFloat()),f=Oo(l.shape,i);f.length>0&&(c=c.sum(f).reshape(l.shape));var d=l.square();return c.div(d.toFloat()).neg()}}},"FloorDiv")}}),R3=ke({maximum_:function(e,r){var t,n=ge(e,"a","maximum"),o=ge(r,"b","maximum");return t=Gn(n,o),n=t[0],o=t[1],n.dtype==="bool"&&(n=n.toInt(),o=o.toInt()),Nr(n.shape,o.shape),Oe.runKernelFunc(function(i,a){var s=i.maximum(n,o);return a([n,o]),s},{a:n,b:o},function(i,a){var s=a[0],u=a[1];return{a:function(){return i.mul(s.greaterEqual(u).toFloat())},b:function(){return i.mul(s.less(u).toFloat())}}},"Maximum")}}),$Ne=ke({maximumStrict_:function(e,r){var t=ge(e,"a","maximumStrict"),n=ge(r,"b","maximumStrict");return on(t.shape,n.shape,"Error in maximumStrict: "),t.maximum(n)}}),OY=ke({minimum_:function(e,r){var t,n=ge(e,"a","minimum"),o=ge(r,"b","minimum");return t=Gn(n,o),n=t[0],o=t[1],n.dtype==="bool"&&(n=n.toInt(),o=o.toInt()),Nr(n.shape,o.shape),Oe.runKernelFunc(function(i,a){var s=i.minimum(n,o);return a([n,o]),s},{a:n,b:o},function(i,a){var s=a[0],u=a[1];return{a:function(){return i.mul(s.lessEqual(u).toFloat())},b:function(){return i.mul(s.greater(u).toFloat())}}},"Minimum")}}),zNe=ke({minimumStrict_:function(e,r){var t=ge(e,"a","minimumStrict"),n=ge(r,"b","minimumStrict");return on(t.shape,n.shape,"Error in minimumStrict: "),t.minimum(n)}}),WNe=ke({mod_:function(e,r){var t,n=ge(e,"a","mod"),o=ge(r,"b","mod");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a,s){var u=a.mod(n,o);return s([n,o]),u},{$a:n,$b:o},function(a,s){var u=s[0],l=s[1];return{$a:function(){var c=Oo(u.shape,i);return c.length>0?a.sum(c).reshape(u.shape):a},$b:function(){var c=a.mul(u.div(l).floor().neg()),f=Oo(l.shape,i);return f.length>0?c.sum(f).reshape(l.shape):c}}})}}),UNe=ke({modStrict_:function(e,r){var t=ge(e,"a","modStrict"),n=ge(r,"b","modStrict");return on(t.shape,n.shape,"Error in modStrict: "),t.mod(n)}}),Si=ke({mul_:function(e,r){var t,n=ge(e,"a","mul"),o=ge(r,"b","mul");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a,s){var u=a.multiply(n,o);return s([n,o]),u},{a:n,b:o},function(a,s){var u=s[0],l=s[1];return{a:function(){var c=a.mul(l.toFloat()),f=Oo(u.shape,i);return f.length>0?c.sum(f).reshape(u.shape):c},b:function(){var c=a.mul(u.toFloat()),f=Oo(l.shape,i);return f.length>0?c.sum(f).reshape(l.shape):c}}},"Mul")}}),qNe=ke({mulStrict_:function(e,r){var t=ge(e,"a","mul"),n=ge(r,"b","mul");return on(t.shape,n.shape,"Error in multiplyStrict: "),t.mul(n)}}),aw=ke({pow_:function(e,r){var t,n=ge(e,"base","pow"),o=ge(r,"exp","pow");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape),a=[n,o];return Oe.runKernelFunc(function(s,u){var l=s.pow(n,o);return u([n,o,l]),l},{a:n,b:o},function(s,u){var l=u[0],c=u[1],f=u[2];return{a:function(){var d=c.toFloat(),p=s.mul(d.mul(l.pow(d.sub(Ct(1))))),h=Oo(l.shape,i);return h.length>0&&(p=p.sum(h)),p.reshape(l.shape)},b:function(){var d=l.greater(0),p=l.log().where(d,Hr(l)),h=s.mul(f.mul(p)),m=Oo(c.shape,i);return m.length>0&&(h=h.sum(m)),h.reshape(c.shape)}}},"Pow",{},a,[!0])}}),HNe=ke({powStrict_:function(e,r){return on(e.shape,r.shape,"Error in powStrict: "),e.pow(r)}}),VNe=ke({squaredDifferenceStrict_:function(e,r){var t=ge(e,"a","squaredDifferenceStrict"),n=ge(r,"b","squaredDifferenceStrict");return on(t.shape,n.shape,"Error in squaredDifferenceStrict: "),t.squaredDifference(n)}}),Do=ke({sub_:function(e,r){var t,n=ge(e,"a","sub"),o=ge(r,"b","sub");t=Gn(n,o),n=t[0],o=t[1];var i=Nr(n.shape,o.shape);return Oe.runKernelFunc(function(a){return a.subtract(n,o)},{a:n,b:o},function(a){return{a:function(){var s=a,u=Oo(n.shape,i);return u.length>0&&(s=s.sum(u)),s.reshape(n.shape)},b:function(){var s=a,u=Oo(o.shape,i);return u.length>0&&(s=s.sum(u)),s.neg().reshape(o.shape)}}},"Sub")}}),GNe=ke({subStrict_:function(e,r){var t=ge(e,"a","subStrict"),n=ge(r,"b","subStrict");return on(t.shape,n.shape,"Error in subStrict: "),t.sub(n)}}),DY=ke({equal_:function(e,r){var t,n=ge(e,"a","equal"),o=ge(r,"b","equal");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i){return i.equal(n,o)},{$a:n,$b:o})}}),YNe=ke({equalStrict_:function(e,r){var t=ge(e,"a","equalStrict"),n=ge(r,"b","equalStrict");return on(t.shape,n.shape,"Error in equalStrict: "),t.equal(n)}}),KNe=ke({greater_:function(e,r){var t,n=ge(e,"a","greater"),o=ge(r,"b","greater");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i){return i.greater(n,o)},{a:n,b:o},null,"Greater")}}),PY=ke({greaterEqual_:function(e,r){var t,n=ge(e,"a","greaterEqual"),o=ge(r,"b","greaterEqual");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i,a){var s=i.greaterEqual(n,o);return a([n,o]),s},{a:n,b:o},function(i,a){var s=a[0],u=a[1];return{a:function(){return Hr(s)},b:function(){return Hr(u)}}},"GreaterEqual")}}),XNe=ke({greaterEqualStrict_:function(e,r){var t=ge(e,"a","greaterEqualStrict"),n=ge(r,"b","greaterEqualStrict");return on(t.shape,n.shape,"Error in greaterEqualStrict: "),t.greaterEqual(n)}}),QNe=ke({greaterStrict_:function(e,r){var t=ge(e,"a","greaterStrict"),n=ge(r,"b","greaterStrict");return on(t.shape,n.shape,"Error in greaterStrict: "),t.greater(n)}}),JNe=ke({less_:function(e,r){var t,n=ge(e,"a","less"),o=ge(r,"b","less");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i){return i.less(n,o)},{a:n,b:o},null,"Less")}}),ZNe=ke({lessEqual_:function(e,r){var t,n=ge(e,"a","lessEqual"),o=ge(r,"b","lessEqual");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i,a){var s=i.lessEqual(n,o);return a([n,o]),s},{a:n,b:o},null,"LessEqual")}}),e3e=ke({lessEqualStrict_:function(e,r){var t=ge(e,"a","lessEqualStrict"),n=ge(r,"b","lessEqualStrict");return on(t.shape,n.shape,"Error in lessEqualStrict: "),t.lessEqual(n)}}),t3e=ke({lessStrict_:function(e,r){var t=ge(e,"a","lessStrict"),n=ge(r,"b","lessStrict");return on(t.shape,n.shape,"Error in lessStrict: "),t.less(n)}}),r3e=ke({notEqual_:function(e,r){var t,n=ge(e,"a","notEqual"),o=ge(r,"b","notEqual");return t=Gn(n,o),n=t[0],o=t[1],Nr(n.shape,o.shape),Oe.runKernelFunc(function(i){return i.notEqual(n,o)},{a:n,b:o},null,"NotEqual")}}),n3e=ke({notEqualStrict_:function(e,r){var t=ge(e,"a","notEqualStrict"),n=ge(r,"b","notEqualStrict");return on(t.shape,n.shape,"Error in notEqualStrict: "),t.notEqual(n)}});function lU(e,r){for(var t=[],n=e;n<r;++n)t.push(n);return t}function cU(e){for(var r=[],t=0;t<e.length;++t)for(var n=0;n<e[t].length;++n)r.push(e[t][n]);return r}var T3=ke({gather_:function(e,r,t){t===void 0&&(t=0);var n=ge(e,"x","gather"),o=ge(r,"indices","gather","int32");t=Po(t,n.shape)[0];var i=function(a,s,u){for(var l=a.shape[u],c=[],f=1,d=1,p=0;p<u;p++)c.push(a.shape[p]),f*=a.shape[p];for(p=0;p<s.rank;p++)c.push(s.shape[p]);for(p=u+1;p<a.rank;p++)c.push(a.shape[p]),d*=a.shape[p];return{batchSize:f,sliceSize:d,dimSize:l,outputShape:c}}(n,o,t);return Oe.runKernelFunc(function(a,s){var u=a.gather(n,o.flatten(),t);return s([o]),u},{x:n,indices:o},function(a,s){var u=s[0];return{x:function(){var l=n.shape,c=u.size,f=l.slice(0,t),d=f.length,p=l.slice(t,l.length).slice(1),h=p.length,m=lU(0,d),y=lU(d+1,d+1+h),v=cU([f,[c],p]),g=a.reshape(v),x=u.reshape([c]),b=cU([[d],m,y]),w=g.transpose(b),E=IY(w,x,n.shape[t]),C=h3(b);return E=E.transpose(C)},indices:function(){return u}}},"Gather",{axis:t}).reshape(i.outputShape)}}),IY=ke({unsortedSegmentSum_:function(e,r,t){var n=ge(e,"x","unsortedSegmentSum"),o=ge(r,"segmentIds","unsortedSegmentSum","int32");return be(fo(t),function(){return"numSegments must be of dtype int"}),Oe.runKernelFunc(function(i,a){var s=i.unsortedSegmentSum(n,o,t);return a([o]),s},{$x:n},function(i,a){var s=a[0];return{$x:function(){return function(u,l){for(var c=R3(l,Hr(l)),f=T3(u,c),d=PY(l,Ct(0,"int32")),p=f.rank-d.rank,h=0;h<p;++h)d=ms(d,h+1);d=SC(d,Xv(f.shape,"bool"));var m=Hr(f);return $d(d,f,m)}(i,s)}}})}}),o3e=function(e,r,t){return zt(this,void 0,void 0,function(){var n,o,i,a,s,u,l,c,f,d,p,h,m;return Wt(this,function(y){switch(y.label){case 0:for(n=ge(e,"tensor","boolMask"),o=ge(r,"mask","boolMask","bool"),i=t??0,a=o.rank,s=n.shape,be(a>0,function(){return"mask cannot be scalar"}),on(s.slice(i,i+a),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),u=1,l=i;l<i+a;l++)u*=s[l];return c=s.slice(0,i).concat([u],s.slice(i+a)),f=n.reshape(c),d=o.reshape([-1]),[4,TY(d)];case 1:return p=y.sent(),h=p.squeeze([1]),m=T3(f,h,i),e!==n&&n.dispose(),r!==o&&o.dispose(),h.dispose(),f.dispose(),d.dispose(),p.dispose(),[2,m]}})})};function NY(e,r,t,n,o,i,a){i===void 0&&(i="NHWC"),be(e.length===r.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+r.rank+") must match"});var s=e,u=r,l=!1;r.rank===3&&(l=!0,u=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]),s=[1,e[0],e[1],e[2]]),be(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),be(u.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+u.rank}),be(t.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+t.rank});var c=i==="NHWC"?s[3]:s[1],f=i==="NHWC"?u.shape[3]:u.shape[1];be(c===t.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+t.shape[2]+"."}),be(f===t.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+t.shape[3]+"."}),a!=null&&be(fo(o),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var d=x3(i),p=ip(s,t.shape,n,1,o,a,!1,d),h=Oe.runKernelFunc(function(m,y){var v=m.conv2dDerInput(u,t,p);return y([t,u]),v},{dy4D:u,filter:t},function(m,y){var v=y[0],g=y[1];return{dy4D:function(){return Ps(m,v,n,o,i,1,a)},filter:function(){return A3(m,g,v.shape,n,o,i,a)}}});return l?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function _A(e){var r=function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i}(e),t=r[0],n=r[1],o=r[2];return t===1&&n===1&&o===1}function MY(e,r,t,n,o){be(e.length===r.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+r.rank+") must match"});var i=e,a=r,s=!1;r.rank===4&&(s=!0,a=r.as5D(1,r.shape[0],r.shape[1],r.shape[2],r.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var u=i[4],l=a.shape[4];be(i.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."}),be(a.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+a.rank}),be(t.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+t.rank}),be(u===t.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+u+") must match input depth for filter "+t.shape[3]+"."}),be(l===t.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+l+") must match output depth for filter "+t.shape[4]+"."});var c=nw(i,t.shape,n,1,o),f=Oe.runKernelFunc(function(d){return d.conv3dDerInput(a,t,c)},{dy5D:a});return s?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var i3e=ke({conv1d_:function(e,r,t,n,o,i,a){o===void 0&&(o="NWC"),i===void 0&&(i=1);var s=ge(e,"x","conv1d"),u=ge(r,"filter","conv1d"),l=s,c=!1;s.rank===2&&(c=!0,l=s.as3D(1,s.shape[0],s.shape[1])),be(l.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+l.rank+"."}),be(u.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+u.rank+"."}),a!=null&&be(fo(n),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."}),be(l.shape[2]===u.shape[1],function(){return"Error in conv1d: depth of input ("+l.shape[2]+") must match input depth for filter "+u.shape[1]+"."}),be(ya(t,i),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+t+" and dilation '"+i+"'"}),be(o==="NWC",function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."});var f=u.as4D(1,u.shape[0],u.shape[1],u.shape[2]),d=l.as4D(l.shape[0],1,l.shape[1],l.shape[2]),p=Ps(d,f,[1,t],n,"NHWC",[1,i],a);return c?p.as2D(p.shape[2],p.shape[3]):p.as3D(p.shape[0],p.shape[2],p.shape[3])}}),Ps=ke({conv2d_:function(e,r,t,n,o,i,a){o===void 0&&(o="NHWC"),i===void 0&&(i=[1,1]);var s=ge(e,"x","conv2d"),u=ge(r,"filter","conv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),be(l.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+l.rank+"."}),be(u.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+u.rank+"."}),a!=null&&be(fo(n),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."});var f=o==="NHWC"?l.shape[3]:l.shape[1];be(f===u.shape[2],function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+u.shape[2]+"."}),be(ya(t,i),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"});var d=x3(o),p=ip(l.shape,u.shape,t,i,n,a,!1,d),h=[u,l],m=Oe.runKernelFunc(function(y,v){var g=y.conv2d(l,u,p);return v([u,l]),g},{x:l,filter:u},function(y,v){var g=v,x=g[0],b=g[1];return be(vv(i),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}),{x:function(){return FY(b.shape,y,x,t,n,o)},filter:function(){return A3(b,y,x.shape,t,n,o)}}},"Conv2D",p,h);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),a3e=ke({conv3d_:function(e,r,t,n,o,i){o===void 0&&(o="NDHWC"),i===void 0&&(i=[1,1,1]);var a=ge(e,"x","conv3d"),s=ge(r,"filter","conv3d"),u=a,l=!1;a.rank===4&&(l=!0,u=a.as5D(1,a.shape[0],a.shape[1],a.shape[2],a.shape[3])),be(u.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+u.rank+"."}),be(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),be(u.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+u.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),be(function(d,p){return _A(d)||_A(p)}(t,i),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"}),be(o==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."});var c=nw(u.shape,s.shape,t,i,n),f=Oe.runKernelFunc(function(d,p){var h=d.conv3d(u,s,c);return p([u,s]),h},{x:u,$filter:s},function(d,p){be(_A(i),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"});var h=p[0],m=p[1];return{x:function(){return MY(h.shape,d,m,t,n)},$filter:function(){return function(y,v,g,x,b){var w=y;y.rank===4&&(w=y.as5D(1,y.shape[0],y.shape[1],y.shape[2],y.shape[3]));var E=v;E.rank===4&&(E=v.as5D(1,v.shape[0],v.shape[1],v.shape[2],v.shape[3])),be(w.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+w.shape+"."}),be(E.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+E.shape+"."}),be(g.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+g+"."}),be(w.shape[4]===g[3],function(){return"Error in conv3dDerFilter: depth of input "+w.shape[4]+") must match input depth in filter ("+g[3]+"."}),be(E.shape[4]===g[4],function(){return"Error in conv3dDerFilter: depth of dy ("+E.shape[4]+") must match output depth for filter ("+g[4]+")."});var C=nw(w.shape,g,x,1,b);return Oe.runKernelFunc(function(S){return S.conv3dDerFilter(w,E,C)},{x5D:w,dy5D:E})}(h,d,m.shape,t,n)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),A3=ke({conv2dDerFilter_:function(e,r,t,n,o,i,a){i===void 0&&(i="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var u=r;u.rank===3&&(u=r.as4D(1,r.shape[0],r.shape[1],r.shape[2])),be(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),be(u.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+u.shape+"."}),be(t.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+t+"."});var l=i==="NHWC"?s.shape[3]:s.shape[1],c=i==="NHWC"?u.shape[3]:u.shape[1];be(l===t[2],function(){return"Error in conv2dDerFilter: depth of input "+l+") must match input depth in filter ("+t[2]+"."}),be(c===t[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+t[3]+")."}),a!=null&&be(fo(o),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var f=x3(i),d=ip(s.shape,t,n,1,o,a,!1,f);return Oe.runKernelFunc(function(p){return p.conv2dDerFilter(s,u,d)},{x4D:s,dy4D:u})}}),FY=ke({conv2dDerInput_:NY}),CC=ke({depthwiseConv2d_:function(e,r,t,n,o,i,a){i===void 0&&(i=[1,1]);var s=ge(e,"x","depthwiseConv2d"),u=ge(r,"filter","depthwiseConv2d"),l=s,c=!1;s.rank===3&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),be(l.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+l.rank+"."}),be(u.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+u.rank+"."}),be(l.shape[3]===u.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+l.shape[3]+") must match the inChannels dimension in filter "+u.shape[2]+"."}),i==null&&(i=[1,1]),be(ya(t,i),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+i+"'"}),a!=null&&be(fo(n),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."});var f=ip(l.shape,u.shape,t,i,n,a,!0),d=[l,u],p=Oe.runKernelFunc(function(h,m){var y=h.depthwiseConv2D(l,u,f);return m([l,u]),y},{x:l,filter:u},function(h,m){be(vv(i),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"});var y=m[0],v=m[1];return{x:function(){return LY(y.shape,h,v,f)},filter:function(){return BY(y,h,v.shape,f)}}},"DepthwiseConv2dNative",f,d);return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}}),LY=ke({depthwiseConv2dDerInput_:function(e,r,t,n){var o=r,i=!1;r.rank===3&&(i=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var a=Oe.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(o,t,n)},{dy4D:o});return i?a.as3D(a.shape[1],a.shape[2],a.shape[3]):a}}),BY=ke({depthwiseConv2dDerFilter_:function(e,r,t,n){var o=e;e.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=r;return i.rank===3&&(i=r.as4D(1,r.shape[0],r.shape[1],r.shape[2])),Oe.runKernelFunc(function(a){return a.depthwiseConv2DDerFilter(o,i,n)},{x4D:o,dy4D:i})}}),O3=ke({separableConv2d_:function(e,r,t,n,o,i,a){i===void 0&&(i=[1,1]),a===void 0&&(a="NHWC");var s=ge(e,"x","separableConv2d"),u=ge(r,"depthwiseFilter","separableConv2d"),l=ge(t,"pointwiseFilter","separableConv2d"),c=s,f=!1;if(s.rank===3&&(f=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),a==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");be(c.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),be(u.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+u.rank+"."}),be(l.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+u.rank+"."}),be(l.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+l.shape[0]+"."}),be(l.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+l.shape[1]+"."});var d=u.shape[2],p=u.shape[3];be(l.shape[2]===d*p,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*p+", but got "+l.shape[2]+"."});var h=CC(c,u,n,o,a,i),m=Ps(h,l,1,"valid",a);return f?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),s3e=ke({conv2dTranspose_:function(e,r,t,n,o,i){return NY(t,ge(e,"x","conv2dTranspose"),ge(r,"filter","conv2dTranspose"),n,o,"NHWC",i)}}),u3e=ke({conv3dTranspose_:function(e,r,t,n,o){return MY(t,ge(e,"x","conv3dTranspose"),ge(r,"filter","conv3dTranspose"),n,o)}}),EC=ke({matMul_:function(e,r,t,n){var o;t===void 0&&(t=!1),n===void 0&&(n=!1);var i=ge(e,"a","matMul"),a=ge(r,"b","matMul");o=Gn(i,a),i=o[0],a=o[1];var s=t?i.shape[i.rank-2]:i.shape[i.rank-1],u=n?a.shape[a.rank-1]:a.shape[a.rank-2],l=t?i.shape[i.rank-1]:i.shape[i.rank-2],c=n?a.shape[a.rank-2]:a.shape[a.rank-1],f=i.shape.slice(0,-2),d=a.shape.slice(0,-2),p=qt(f),h=qt(d);be(i.rank>=2&&a.rank>=2&&i.rank===a.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+a.rank+"."}),be(Wo(f,d),function(){return"Error in matMul: outer dimensions ("+f+") and ("+d+") of Tensors with shapes "+i.shape+" and "+a.shape+" must match."}),be(s===u,function(){return"Error in matMul: inner shapes ("+s+") and ("+u+") of Tensors with shapes "+i.shape+" and "+a.shape+" and transposeA="+t+" and transposeB="+n+" must match."});var m=i.shape.slice(0,-2).concat([l,c]),y=t?i.as3D(p,s,l):i.as3D(p,l,s),v=n?a.as3D(h,c,u):a.as3D(h,u,c),g={transposeA:t,transposeB:n};return Oe.runKernelFunc(function(x,b){var w=x.batchMatMul(y,v,t,n);return b([y,v]),w},{a:y,b:v},function(x,b){var w=b,E=w[0],C=w[1];return t||n?!t&&n?{a:function(){return x.matMul(C,!1,!1)},b:function(){return x.matMul(E,!0,!1)}}:t&&!n?{a:function(){return C.matMul(x,!1,!0)},b:function(){return E.matMul(x,!1,!1)}}:{a:function(){return C.matMul(x,!0,!0)},b:function(){return x.matMul(E,!0,!0)}}:{a:function(){return x.matMul(C,!1,!0)},b:function(){return E.matMul(x,!0,!1)}}},"BatchMatMul",g).reshape(m)}}),l3e=ke({dot_:function(e,r){var t=ge(e,"t1","dot"),n=ge(r,"t2","dot");be(!(t.rank!==1&&t.rank!==2||n.rank!==1&&n.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+t.rank+" and "+n.rank+"."});var o=t.rank===1?t.size:t.shape[1],i=n.rank===1?n.size:n.shape[0];return be(o===i,function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+i+"."}),t.rank===1&&n.rank===1?t.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():t.rank===1&&n.rank===2?t.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():t.rank===2&&n.rank===1?t.matMul(n.as2D(-1,1)).as1D():t.matMul(n.as2D(n.shape[0],n.shape[1]))}}),c3e=ke({outerProduct_:function(e,r){var t=ge(e,"v1","outerProduct"),n=ge(r,"v2","outerProduct");return be(t.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+t.rank+" and "+n.rank+"."}),t.as2D(-1,1).matMul(n.as2D(1,-1))}}),xy=ke({reverse_:function(e,r){var t=ge(e,"x","reverse");if(t.rank===0)return t.clone();var n=Po(r,t.shape);return Oe.runKernelFunc(function(o){return o.reverse(t,n)},{$x:t},function(o){return{$x:function(){return o.reverse(n)}}}).reshapeAs(t)}}),f3e=ke({reverse1d_:function(e){var r=ge(e,"x","reverse");return be(r.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+r.rank+"."}),xy(r,0)}}),d3e=ke({reverse2d_:function(e,r){var t=ge(e,"x","reverse");return be(t.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+t.rank+"."}),xy(t,r)}}),p3e=ke({reverse3d_:function(e,r){var t=ge(e,"x","reverse");return be(t.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+t.rank+"."}),xy(t,r)}}),h3e=ke({reverse4d_:function(e,r){var t=ge(e,"x","reverse");return be(t.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+t.rank+"."}),xy(t,r)}});function jY(e,r,t,n,o,i){var a=ge(e,"x","maxPool"),s=a,u=!1;a.rank===3&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),be(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),be(ya(t,n),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+n+"'"}),i!=null&&be(fo(o),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var l=E0(s.shape,r,t,n,o,i);if(l.filterWidth===1&&l.filterHeight===1&&Wo(l.inShape,l.outShape))return a.clone();var c=[s],f=Oe.runKernelFunc(function(d,p){var h=d.maxPool(s,l);return p([s,h]),h},{x:s},function(d,p){var h=p[0],m=p[1];return{x:function(){return function(y,v,g,x,b,w,E,C){var S=ge(y,"dy","maxPoolBackprop"),T=ge(v,"input","maxPoolBackprop"),k=ge(g,"output","maxPoolBackprop");be(T.rank===S.rank,function(){return"Rank of input ("+T.rank+") does not match rank of dy ("+S.rank+")"}),be(ya(b,w),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),be(S.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+S.rank+"."}),be(T.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+T.rank+"."});var P=E0(T.shape,x,b,w,E,C);return Oe.runKernelFunc(function(I){return I.maxPoolBackprop(S,T,k,P)},{$dy:S,$input:T})}(d,h,m,r,t,n,o)}}},"MaxPool",l,c);return u?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function $Y(e,r,t,n,o,i){var a=ge(e,"x","avgPool","float32");be(ya(t,n),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+n+"'"});var s=a,u=!1;a.rank===3&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),be(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),i!=null&&be(fo(o),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var l=E0(s.shape,r,t,n,o,i);if(l.filterWidth===1&&l.filterHeight===1&&Wo(l.inShape,l.outShape))return a.clone();var c=Oe.runKernelFunc(function(f){return f.avgPool(s,l)},{x:s},function(f){return{x:function(){return function(d,p,h,m,y,v){var g=ge(d,"dy","avgPoolBackprop"),x=ge(p,"input","avgPoolBackprop");be(x.rank===g.rank,function(){return"Rank of input ("+x.rank+") does not match rank of dy ("+g.rank+")"}),be(ya(m,y),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+m+" and dilations '"+y+"'"});var b=x,w=g,E=!1;x.rank===3&&(E=!0,b=x.as4D(1,x.shape[0],x.shape[1],x.shape[2]),w=g.as4D(1,g.shape[0],g.shape[1],g.shape[2])),be(w.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+w.rank+"."}),be(b.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+b.rank+"."});var C=E0(b.shape,h,m,y,v),S=Oe.runKernelFunc(function(T){return T.avgPoolBackprop(w,b,C)},{dy4D:w,input4D:b});return E?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}(f,s,r,t,n,o)}}},"AvgPool",l);return c=c.cast(a.dtype),u?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Mo=ke({maxPool_:function(e,r,t,n,o){return jY(e,r,t,1,n,o)}}),by=ke({avgPool_:function(e,r,t,n,o){return $Y(e,r,t,1,n,o)}}),v3e=ke({pool_:function(e,r,t,n,o,i){o==null&&(o=[1,1]),i==null&&(i=1),n===0&&(n="valid");var a=ge(e,"x","maxPool"),s=a,u=!1;a.rank===3&&(u=!0,s=a.as4D(1,a.shape[0],a.shape[1],a.shape[2])),be(ya(i,o),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+o+"'"});var l,c=E0(s.shape,r,i,o,n),f=[c.dilationHeight,c.dilationWidth];l=n==="same"?function(b,w){var E=b.map(function(T,k){return T+(T-1)*(w[k]-1)}).map(function(T){return T-1}),C=E.map(function(T){return Math.floor(T/2)}),S=E.map(function(T,k){return T-C[k]});return E.map(function(T,k){return[C[k],S[k]]})}([c.filterHeight,c.filterWidth],f):[[0,0],[0,0]];var d=f[0]===1&&f[1]===1,p=function(b,w,E){var C=E.map(function(A){return A[0]}),S=E.map(function(A){return A[1]}),T=b.concat(C,S),k=w.map(function(A,D){return(A-T[D]%A)%A}),P=S.map(function(A,D){return A+k[D]}),I=w.map(function(A,D){return[C[D],P[D]]}),F=w.map(function(A,D){return[0,k[D]]});return[I,F]}([c.inHeight,c.inWidth],f,l),h=p[0],m=p[1],y=d?n:"valid",v=d?s:VG(s,f,h),g=(t==="avg"?function(){return $Y(v,r,i,1,y)}:function(){return jY(v,r,i,1,y)})(),x=d?g:UG(g,f,m);return u?x.as3D(x.shape[1],x.shape[2],x.shape[3]):x}}),m3e=ke({maxPool3d_:function(e,r,t,n,o,i,a){i===void 0&&(i="NDHWC");var s=ge(e,"x","maxPool3d"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),be(u.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+u.rank+"."}),be(i==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),be(ya(t,a),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),o!=null&&be(fo(n),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+n+"."});var c=rw(u.shape,r,t,a,n,o,i),f=Oe.runKernelFunc(function(d,p){var h=d.maxPool3d(u,c);return p([u,h]),h},{x:u},function(d,p){var h=p[0],m=p[1];return{x:function(){return function(y,v,g,x,b,w,E,C){var S=ge(y,"dy","maxPool3dBackprop"),T=ge(v,"input","maxPool3dBackprop"),k=ge(g,"output","maxPool3dBackprop"),P=S,I=T,F=k,A=!1;T.rank===4&&(A=!0,P=S.as5D(1,S.shape[0],S.shape[1],S.shape[2],S.shape[3]),I=T.as5D(1,T.shape[0],T.shape[1],T.shape[2],T.shape[3]),F=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3])),be(P.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+P.rank+"."}),be(I.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+I.rank+"."}),be(F.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+F.rank+"."}),w==null&&(w=[1,1,1]),be(ya(b,w),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+w+"'"}),C!=null&&be(fo(E),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+C+" but got pad "+E+"."});var D=rw(I.shape,x,b,w,E,C),$=Oe.runKernelFunc(function(B){return B.maxPool3dBackprop(P,I,F,D)},{dy5D:P,input5D:I});return A?$.as4D($.shape[1],$.shape[2],$.shape[3],$.shape[4]):$}(d,h,m,r,t,a,n,o)}}});return l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),g3e=ke({avgPool3d_:function(e,r,t,n,o,i,a){i===void 0&&(i="NDHWC");var s=ge(e,"x","avgPool3d","float32"),u=s,l=!1;s.rank===4&&(l=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),a==null&&(a=[1,1,1]),be(u.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+u.rank+"."}),be(i==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i}),be(ya(t,a),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+t+" and dilations '"+a+"'"}),o!=null&&be(fo(n),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+n+"."});var c=rw(u.shape,r,t,a,n,o,i),f=Oe.runKernelFunc(function(d){return d.avgPool3d(u,c)},{x:u},function(d){return{x:function(){return function(p,h,m,y,v,g,x){var b=ge(p,"dy","avgPool3dBackprop"),w=ge(h,"input","avgPool3dBackprop"),E=b,C=w,S=!1;w.rank===4&&(S=!0,E=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]),C=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3])),be(E.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+E.rank+"."}),be(C.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+C.rank+"."}),v==null&&(v=[1,1,1]),be(ya(y,v),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+v+"'"}),x!=null&&be(fo(g),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+x+" but got pad "+g+"."});var T=rw(C.shape,m,y,v,g,x),k=Oe.runKernelFunc(function(P){return P.avgPool3dBackprop(E,C,T)},{dy5D:E,input5D:C});return S?k.as4D(k.shape[1],k.shape[2],k.shape[3],k.shape[4]):k}(d,u,r,t,a,n,o)}}});return f=f.cast(u.dtype),l?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),tl=ke({slice_:function(e,r,t){var n,o,i=ge(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(n=typeof r=="number"?[r].concat(new Array(i.rank-1).fill(0)):r.length<i.rank?r.concat(new Array(i.rank-r.length).fill(0)):r.slice()).forEach(function(u){be(u!==-1,function(){return"slice() does not support negative begin indexing."})}),o=(o=t==null?new Array(i.rank).fill(-1):typeof t=="number"?[t].concat(new Array(i.rank-1).fill(-1)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(-1)):t).map(function(u,l){return u>=0?u:(be(u===-1,function(){return"Negative size values should be exactly -1 but got "+u+" for the slice() size at index "+l+"."}),i.shape[l]-n[l])}),HDe(i,n,o);var a=i.shape,s={begin:n,size:o};return Oe.runKernelFunc(function(u){return u.slice(i,n,o)},{x:i},function(u){for(var l=[],c=0;c<u.rank;c++)l.push([n[c],a[c]-n[c]-o[c]]);return{x:function(){return u.pad(l)}}},"Slice",s)}}),y3e=ke({slice1d_:function(e,r,t){var n=ge(e,"x","slice1d");return be(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),tl(n,[r],[t])}}),x3e=ke({slice2d_:function(e,r,t){var n=ge(e,"x","slice2d");return be(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),tl(n,r,t)}}),zY=ke({slice3d_:function(e,r,t){var n=ge(e,"x","slice3d");return be(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),tl(n,r,t)}}),b3e=ke({slice4d_:function(e,r,t){var n=ge(e,"x","slice4d");return be(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),tl(n,r,t)}});function WY(e,r,t,n,o){return r.rank<t.rank&&(r=r.reshape(ga(r.shape,n))),e.rank<t.rank&&(e=e.reshape(ga(e.shape,n))),{x:function(){var i=e.mul(t.equal(r).cast(e.dtype));return o==null?i:i.transpose(o)}}}var _3e=ke({all_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","all","bool"),o=Po(r,n.shape),i=o,a=ml(i,n.rank);a!=null&&(n=n.transpose(a),i=gl(i.length,n.rank));var s=Oe.runKernelFunc(function(l){return l.all(n,i)},{$x:n});if(t){var u=ga(s.shape,o);return s.reshape(u)}return s}}),w3e=ke({any_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","any","bool"),o=Po(r,n.shape),i=o,a=ml(i,n.rank);a!=null&&(n=n.transpose(a),i=gl(i.length,n.rank));var s=Oe.runKernelFunc(function(l){return l.any(n,i)},{$x:n});if(t){var u=ga(s.shape,o);return s.reshape(u)}return s}}),S3e=ke({argMax_:function(e,r){r===void 0&&(r=0);var t=ge(e,"x","argMax");r==null&&(r=0);var n=Po(r,t.shape),o=ml(n,t.rank);o!=null&&(t=t.transpose(o),n=gl(n.length,t.rank));var i={axis:n[0]},a=[t];return Oe.runKernelFunc(function(s,u){var l=s.argMax(t,n[0]);return u([t]),l},{x:t},function(s,u){var l=u[0];return{x:function(){return Hr(l)}}},"ArgMax",i,a)}}),C3e=ke({argMin_:function(e,r){r===void 0&&(r=0);var t=ge(e,"x","argMin");r==null&&(r=0);var n=Po(r,t.shape),o=ml(n,t.rank);return o!=null&&(t=t.transpose(o),n=gl(n.length,t.rank)),Oe.runKernelFunc(function(i,a){var s=i.argMin(t,n[0]);return a([t]),s},{$x:t},function(i,a){var s=a[0];return{$x:function(){return Hr(s)}}})}}),E3e=ke({logSumExp_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","logSumExp"),o=Po(r,n.shape),i=n.max(o,!0),a=n.sub(i).exp().sum(o).log(),s=i.reshape(a.shape).add(a);if(t){var u=ga(s.shape,o);return s.reshape(u)}return s}}),kC=ke({max_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","max"),o=n,i=Po(r,n.shape),a=i,s=ml(a,n.rank);s!=null&&(n=n.transpose(s),a=gl(a.length,n.rank));var u=[n],l=Oe.runKernelFunc(function(f,d){var p=f.max(n,a);return d([o,p]),p},{x:n},function(f,d){return WY(f,d[1],d[0],i,s)},"Max",{axes:a},u,[!0]);if(t){var c=ga(l.shape,i);l=l.reshape(c)}return l}}),k3e=ke({mean_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","mean"),o=Po(r,n.shape),i=qt(yi(n.shape,o)[1]);return _C(function(a){var s=Ct(i);return{value:(s.dtype===a.dtype?a:a.cast(s.dtype)).div(s).sum(r,t),gradFunc:function(u){var l=a.shape.slice();return o.forEach(function(c){l[c]=1}),u.reshape(l).mul(Xv(a.shape,"float32")).div(i)}}})(n)}}),R3e=ke({min_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","min"),o=n,i=Po(r,n.shape),a=i,s=ml(a,n.rank);s!=null&&(n=n.transpose(s),a=gl(a.length,n.rank));var u=[n],l=Oe.runKernelFunc(function(f,d){var p=f.min(n,a);return d([o,p]),p},{x:n},function(f,d){return WY(f,d[1],d[0],i,s)},"Min",{axes:a},u,[!0]);if(t){var c=ga(l.shape,i);l=l.reshape(c)}return l}}),T3e=ke({moments_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=Po(r,(e=ge(e,"x","moments")).shape),o=e.mean(n,t),i=o.shape;t||(i=ga(o.shape,n));var a=e.toFloat().sub(o.reshape(i)).square();return{mean:o,variance:a.mean(n,t)}}}),UY=ke({sum_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","sum");n.dtype==="bool"&&(n=n.toInt());var o=Po(r,n.shape);return _C(function(i){var a=ml(o,i.rank),s=o,u=i;a!=null&&(u=i.transpose(a),s=gl(s.length,i.rank));var l=function(p){var h=i.shape.slice();return o.forEach(function(m){h[m]=1}),p.reshape(h).mul(Xv(i.shape,"float32"))},c={axes:s},f=Oe.runKernelFunc(function(p){return p.sum(u,s)},{x:u},function(p){return{x:function(){return l(p)}}},"Sum",c);if(t){var d=ga(f.shape,o);f=f.reshape(d)}return{value:f,gradFunc:l}})(n)}}),A3e=ke({prod_:function(e,r,t){r===void 0&&(r=null),t===void 0&&(t=!1);var n=ge(e,"x","prod");n.dtype==="bool"&&(n=n.toInt());var o=Po(r,n.shape),i=ml(o,n.rank),a=o,s=n;i!=null&&(s=n.transpose(i),a=gl(a.length,n.rank));var u=Oe.runKernelFunc(function(c){return c.prod(s,a)},{permutedX:s});if(t){var l=ga(u.shape,o);u=u.reshape(l)}return u}}),qY=ke({elu_:function(e){var r=ge(e,"x","elu");return Oe.runKernelFunc(function(t,n){var o=t.elu(r);return n([o]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){return Oe.runKernelFunc(function(i){return i.eluDer(t,o)},{dy:t,y:o})}}})}}),O3e=ke({leakyRelu_:function(e,r){r===void 0&&(r=.2);var t=ge(e,"x","leakyRelu");return R3(Ct(r).mul(t),t)}}),HY=ke({prelu_:function(e,r){var t=ge(e,"x","prelu"),n=ge(r,"alpha","prelu");return Oe.runKernelFunc(function(o,i){var a=o.prelu(t,n);return i([t,n]),a},{x:t,alpha:n},function(o,i){var a=i[0],s=i[1],u=a.greater(0);return{x:function(){return $d(u,o,o.mul(s))},alpha:function(){var l=$d(u,Hr(o),o.mul(a)),c=Oo(s.shape,o.shape);return c.length>0&&(l=l.sum(c)),l.reshape(s.shape)}}},"Prelu")}}),qn=ke({relu_:function(e){var r=ge(e,"x","relu");return r.dtype==="bool"?r.toInt():Oe.runKernelFunc(function(t,n){var o=t.relu(r);return n([r]),o},{x:r},function(t,n){var o=n[0];return{x:function(){return t.mulStrict(o.step().toFloat())}}},"Relu")}}),VY=ke({relu6_:function(e){var r=ge(e,"x","relu6");return r.dtype==="bool"?r.toInt():Oe.runKernelFunc(function(t,n){var o=t.relu6(r);return n([r]),o},{x:r},function(t,n){var o=n[0],i=o.lessEqual(6).mul(o.step());return{x:function(){return t.mulStrict(i.toFloat())}}},"Relu6")}}),D3e=ke({selu_:function(e){var r=ge(e,"x","selu");return Oe.runKernelFunc(function(t,n){var o=t.selu(r);return n([r]),o},{$x:r},function(t,n){var o=n[0];return{$x:function(){var i=o.greater(Ct(0)),a=Ct(C3),s=Ct(E3),u=t.mul(s),l=t.mul(a).mul(o.toFloat().exp());return $d(i,u,l)}}})}}),hf=ke({transpose_:function(e,r){var t=ge(e,"x","transpose");if(r==null&&(r=t.shape.map(function(o,i){return i}).reverse()),be(t.rank===r.length,function(){return"Error in transpose: rank of input "+t.rank+" must match length of perm "+r+"."}),r.forEach(function(o){be(o>=0&&o<t.rank,function(){return"All entries in 'perm' must be between 0 and "+(t.rank-1)+" but got "+r})}),t.rank<=1)return t.clone();var n={perm:r};return Oe.runKernelFunc(function(o){return o.transpose(t,r)},{x:t},function(o){var i=h3(r);return{x:function(){return o.transpose(i)}}},"Transpose",n)}}),P3e=ke({localResponseNormalization_:function(e,r,t,n,o){r===void 0&&(r=5),t===void 0&&(t=1),n===void 0&&(n=1),o===void 0&&(o=.5);var i=ge(e,"x","localResponseNormalization");be(i.rank===4||i.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."}),be(fo(r),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+r+"."});var a=i,s=!1;i.rank===3&&(s=!0,a=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var u=Oe.runKernelFunc(function(l,c){var f=l.localResponseNormalization4D(a,r,t,n,o);return c([a,f]),f},{x4D:a},function(l,c){var f=c[0],d=c[1];return{x4D:function(){return Oe.runKernelFunc(function(p){return p.LRNGrad(l,f,d,r,t,n,o)},{})}}});return s?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),GY=ke({norm_:function(e,r,t,n){r===void 0&&(r="euclidean"),t===void 0&&(t=null),n===void 0&&(n=!1);var o=function s(u,l,c){if(c===void 0&&(c=null),u.rank===0)return u.abs();if(u.rank!==1&&c===null)return s(u.reshape([-1]),l,c);if(u.rank===1||typeof c=="number"||Array.isArray(c)&&c.length===1){if(l===1)return u.abs().sum(c);if(l===1/0)return u.abs().max(c);if(l===-1/0)return u.abs().min(c);if(l==="euclidean"||l===2)return u.abs().pow(Ct(2,"int32")).sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}if(Array.isArray(c)&&c.length===2){if(l===1)return u.abs().sum(c[0]).max(c[1]-1);if(l===1/0)return u.abs().sum(c[1]).max(c[0]);if(l===-1/0)return u.abs().sum(c[1]).min(c[0]);if(l==="fro"||l==="euclidean")return u.square().sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+l)}throw new Error("Error in norm: invalid axis: "+c)}(e=ge(e,"x","norm"),r,t),i=o.shape;if(n){var a=Po(t,e.shape);i=ga(o.shape,a)}return o.reshape(i)}}),I3e=ke({basicLSTMCell_:function(e,r,t,n,o,i){var a=ge(e,"forgetBias","basicLSTMCell"),s=ge(r,"lstmKernel","basicLSTMCell"),u=ge(t,"lstmBias","basicLSTMCell"),l=ge(n,"data","basicLSTMCell"),c=ge(o,"c","basicLSTMCell"),f=ge(i,"h","basicLSTMCell"),d=l.concat(f,1).matMul(s).add(u),p=d.shape[0],h=d.shape[1]/4,m=[p,h],y=d.slice([0,0],m),v=d.slice([0,h],m),g=d.slice([0,2*h],m),x=d.slice([0,3*h],m),b=y.sigmoid().mulStrict(v.tanh()).addStrict(c.mulStrict(a.add(g).sigmoid())),w=b.tanh().mulStrict(x.sigmoid());return[b,w]}}),N3e=ke({multiRNNCell_:function(e,r,t,n){for(var o=ge(r,"data","multiRNNCell"),i=X2(t,"c","multiRNNCell"),a=X2(n,"h","multiRNNCell"),s=o,u=[],l=0;l<e.length;l++){var c=e[l](s,i[l],a[l]);u.push(c[0]),u.push(c[1]),s=c[1]}var f=[],d=[];for(l=0;l<u.length;l+=2)f.push(u[l]),d.push(u[l+1]);return[f,d]}}),M3e=ke({movingAverage_:function(e,r,t,n,o){o===void 0&&(o=!0);var i=ge(e,"v","movingAverage"),a=ge(r,"x","movingAverage"),s=ge(t,"decay","movingAverage");POe(i,a),be(Wo(i.shape,a.shape),function(){return"Shape mismatch in v and x"});var u=Ct(1),l=u.sub(s),c=a.sub(i).mul(l);if(o){be(n!=null,function(){return"When using zeroDebias: true, step is required."});var f=ge(n,"step","movingAverage");c=c.div(u.sub(aw(s,f)))}return i.add(c)}}),F3e=ke({stridedSlice_:function(e,r,t,n,o,i,a,s,u){if(o===void 0&&(o=0),i===void 0&&(i=0),a===void 0&&(a=0),s===void 0&&(s=0),u===void 0&&(u=0),n==null&&(n=new Array(r.length)),a!==0)throw new Error("ellipsis mask is not yet supported");var l=ge(e,"x","stridedSlice"),c=UW(s),f=l.shape.slice();c.forEach(function(y){r[y]=0,t[y]=1,f.splice(y,0,1)}),l=l.reshape(f);for(var d=0;d<l.rank;d++)r[d]=VDe(o,r,n,l.shape,d),t[d]=GDe(i,t,n,l.shape,d),n[d]=n[d]||1;var p=UW(u);p.forEach(function(y){t[y]=r[y]+1,n[y]=1});var h=y3(r,t,n),m=h.filter(function(y,v){return p.indexOf(v)===-1});return n.every(function(y){return y===1})?tl(l,r,h).reshape(m):Oe.runKernelFunc(function(y){return y.stridedSlice(l,r,t,n)},{$x:l}).reshape(m)}}),L3e=ke({topk_:function(e,r,t){r===void 0&&(r=1),t===void 0&&(t=!0);var n=ge(e,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var o=n.shape[n.shape.length-1];if(r>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+r);var i=Oe.runKernelFunc(function(a){return a.topk(n,r,t)},{$x:n});return{values:i[0],indices:i[1]}}}),B3e=ke({scatterND_:function(e,r,t){var n=ge(e,"indices","scatterND","int32"),o=ge(r,"updates","scatterND");return qDe(o,n,t),Oe.runKernelFunc(function(i){return i.scatterND(n,o,t)},{indices:n,updates:o},null,"ScatterNd",{shape:t})}}),D3=ke({fft_:function(e){be(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var r=e.shape[e.shape.length-1],t=e.size/r,n=e.as2D(t,r);return Oe.runKernelFunc(function(o){return o.fft(n)},{input:e}).reshape(e.shape)}}),sw=ke({ifft_:function(e){be(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var r=e.shape[e.shape.length-1],t=e.size/r,n=e.as2D(t,r);return Oe.runKernelFunc(function(o){return o.ifft(n)},{input:e}).reshape(e.shape)}}),P3=ke({rfft_:function(e,r){be(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var t,n=e.shape[e.shape.length-1],o=e.size/n;if(r!=null&&r<n){var i=e.shape.map(function(v){return 0}),a=e.shape.map(function(v){return v});a[e.shape.length-1]=r,t=e.slice(i,a),n=r}else if(r!=null&&r>n){var s=e.shape.map(function(v){return v});s[e.shape.length-1]=r-n,t=e.concat(Dn(s),e.shape.length-1),n=r}else t=e;var u=t.zerosLike(),l=ei(t,u).as2D(o,n),c=D3(l),f=Math.floor(n/2)+1,d=gs(c),p=Lu(c),h=d.split([f,n-f],d.shape.length-1),m=p.split([f,n-f],p.shape.length-1),y=t.shape.slice();return y[t.shape.length-1]=f,ei(h[0],m[0]).reshape(y)}}),YY=ke({irfft_:function(e){var r=e.shape[e.shape.length-1],t=e.size/r;if(r<=2){var n=e.as2D(t,r),o=sw(n);return gs(o)}var i=[t,2*(r-1)],a=gs(e).as2D(t,r),s=Lu(e).as2D(t,r),u=a.slice([0,1],[t,r-2]).reverse(1),l=s.slice([0,1],[t,r-2]).reverse(1).mul(Ct(-1)),c=a.concat(u,1),f=s.concat(l,1);return n=ei(c,f).as2D(i[0],i[1]),o=sw(n),gs(o)}}),j3e=Object.freeze({fft:D3,ifft:sw,rfft:P3,irfft:YY}),$3e=ke({sparseToDense_:function(e,r,t,n){n===void 0&&(n=0);var o=ge(e,"sparseIndices","sparseToDense","int32"),i=ge(r,"sparseValues","sparseToDense"),a=ge(n,"defaultValue","sparseToDense",i.dtype);return function(s,u,l,c){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var f=s.rank>0?s.shape[0]:1,d=s.rank>1?s.shape[1]:1;if(l.length!==d)throw new Error("outputShape has incorrect number of elements:, "+l.length+", should be: "+d+".");var p=u.size;if(u.rank!==0&&(u.rank!==1||p!==f))throw new Error("sparseValues has incorrect shape "+u.shape+", should be [] or ["+f+"]");if(u.dtype!==c.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,i,t,a),Oe.runKernelFunc(function(s){return s.sparseToDense(o,i,t,a)},{$sparseIndices:o,$sparseValues:i,$defaultValue:a})}}),z3e=ke({gatherND_:function(e,r){var t=ge(r,"indices","gatherND","int32"),n=ge(e,"x","gatherND");return Oe.runKernelFunc(function(o){return o.gatherND(n,t)},{x:n,indices:t},null,"GatherNd")}}),W3e=ke({diag_:function(e){var r=ge(e,"x","diag").flatten(),t=e.shape.concat(e.shape);return Oe.runKernelFunc(function(n){return n.diag(r)},{$x:r}).reshape(t)}}),U3e=ke({dropout_:function(e,r,t,n){var o=ge(e,"x","dropout");if(be(o.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."}),be(r>=0&&r<1,function(){return"rate must be a float in the range [0, 1), but got "+r+"."}),r===0)return e instanceof Wn?o.clone():o;var i=function(u,l){if(l==null)return u.shape.slice();if(Wo(u.shape,l))return l;if(u.shape.length===l.length){for(var c=[],f=0;f<u.shape.length;f++)l[f]==null&&u.shape[f]!=null?c.push(u.shape[f]):c.push(l[f]);return c}return l}(o,t),a=1-r,s=HG(i,0,1,"float32",n).add(a).floor().div(a);return o.mul(s)}});function KY(e,r,t){for(var n=1-e%2,o=new Float32Array(e),i=0;i<e;++i){var a=2*Math.PI*i/(e+n-1);o[i]=r-t*Math.cos(a)}return bo(o,"float32")}var I3=ke({hannWindow_:function(e){return KY(e,.5,.5)}}),XY=ke({hammingWindow_:function(e){return KY(e,.54,.46)}}),N3=ke({frame_:function(e,r,t,n,o){n===void 0&&(n=!1),o===void 0&&(o=0);for(var i=0,a=[];i+r<=e.size;)a.push(tl(e,i,r)),i+=t;if(n)for(;i<e.size;){var s=i+r-e.size,u=To([tl(e,i,r-s),Xu([s],o)]);a.push(u),i+=t}return a.length===0?nf([],[0,r]):To(a).as2D(a.length,r)}}),QY=ke({stft_:function(e,r,t,n,o){var i;o===void 0&&(o=I3),n==null&&(i=r,n=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var a=N3(e,r,t),s=Si(a,o(r)),u=[],l=0;l<a.shape[0];l++)u.push(P3(s.slice([l,0],[1,r]),n));return To(u)}}),q3e=Object.freeze({hannWindow:I3,hammingWindow:XY,frame:N3,stft:QY}),wi,H3e=function(e,r,t){return t===void 0&&(t=1),zt(this,void 0,void 0,function(){var n,o,i,a,s,u,l,c,f,d,p,h,m,y;return Wt(this,function(v){switch(v.label){case 0:return n=ge(e,"predictions","inTopK"),o=ge(r,"targets","inTopK"),be(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+n.rank}),be(n.rank-1===o.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+n.rank+" and targets rank "+o.rank}),on(n.shape.slice(0,n.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=n.shape[n.shape.length-1],be(t>0&&t<=i,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+t}),[4,n.data()];case 1:return a=v.sent(),[4,o.data()];case 2:for(s=v.sent(),u=[a.length/i,i],c=u[1],f=w0("bool",l=u[0]),d=0;d<l;d++){for(p=d*c,h=a.subarray(p,p+c),m=[],y=0;y<h.length;y++)m.push({value:h[y],index:y});for(m.sort(function(g,x){return x.value-g.value}),f[d]=0,y=0;y<t;y++)if(m[y].index===s[d]){f[d]=1;break}}return e!==n&&n.dispose(),r!==o&&o.dispose(),[2,ni(f,o.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(wi||(wi={}));var V3e=ke({absoluteDifference_:function(e,r,t,n){n===void 0&&(n=wi.SUM_BY_NONZERO_WEIGHTS);var o=ge(e,"labels","absoluteDifference"),i=ge(r,"predictions","absoluteDifference"),a=null;t!=null&&(a=ge(t,"weights","absoluteDifference")),on(o.shape,i.shape,"Error in absoluteDifference: ");var s=o.sub(i).abs();return fc(s,a,n)}}),fc=ke({computeWeightedLoss_:function(e,r,t){t===void 0&&(t=wi.SUM_BY_NONZERO_WEIGHTS);var n=ge(e,"losses","computeWeightedLoss"),o=null;r!=null&&(o=ge(r,"weights","computeWeightedLoss"));var i=o==null?n:n.mul(o);if(t===wi.NONE)return i;if(t===wi.SUM)return i.sum();if(t===wi.MEAN){if(o==null)return i.mean();var a=n.size/o.size,s=i.sum().div(o.sum());return a>1?s.div(Ct(a)):s}if(t===wi.SUM_BY_NONZERO_WEIGHTS){if(o==null)return i.sum().div(Ct(n.size));var u=o.mul(Xv(n.shape)).notEqual(Ct(0)).sum().toFloat();return i.sum().div(u)}throw Error("Unknown reduction: "+t)}}),G3e=ke({cosineDistance_:function(e,r,t,n,o){o===void 0&&(o=wi.SUM_BY_NONZERO_WEIGHTS);var i=ge(e,"labels","cosineDistance"),a=ge(r,"predictions","cosineDistance"),s=null;n!=null&&(s=ge(n,"weights","cosineDistance")),on(i.shape,a.shape,"Error in cosineDistance: ");var u=Ct(1).sub(i.mul(a).sum(t,!0));return fc(u,s,o)}}),Y3e=ke({hingeLoss_:function(e,r,t,n){n===void 0&&(n=wi.SUM_BY_NONZERO_WEIGHTS);var o=ge(e,"labels","hingeLoss"),i=ge(r,"predictions","hingeLoss"),a=null;t!=null&&(a=ge(t,"weights","hingeLoss")),on(o.shape,i.shape,"Error in hingeLoss: ");var s=Ct(1);o=Ct(2).mul(o).sub(s);var u=s.sub(o.mul(i)).relu();return fc(u,a,n)}}),K3e=ke({huberLoss_:function(e,r,t,n,o){n===void 0&&(n=1),o===void 0&&(o=wi.SUM_BY_NONZERO_WEIGHTS);var i=ge(e,"labels","huberLoss"),a=ge(r,"predictions","huberLoss"),s=null;t!=null&&(s=ge(t,"weights","huberLoss")),on(i.shape,a.shape,"Error in huberLoss: ");var u=Ct(n),l=a.sub(i).abs(),c=OY(l,u),f=l.sub(c),d=Ct(.5).mul(c.square()).add(u.mul(f));return fc(d,s,o)}}),X3e=ke({logLoss_:function(e,r,t,n,o){n===void 0&&(n=1e-7),o===void 0&&(o=wi.SUM_BY_NONZERO_WEIGHTS);var i=ge(e,"labels","logLoss"),a=ge(r,"predictions","logLoss"),s=null;t!=null&&(s=ge(t,"weights","logLoss")),on(i.shape,a.shape,"Error in logLoss: ");var u=Ct(1),l=Ct(n),c=i.mul(a.add(l).log()).neg().sub(u.sub(i).mul(u.sub(a).add(l).log()));return fc(c,s,o)}}),Q3e=ke({meanSquaredError_:function(e,r,t,n){n===void 0&&(n=wi.SUM_BY_NONZERO_WEIGHTS);var o=ge(e,"labels","meanSquaredError"),i=ge(r,"predictions","meanSquaredError"),a=null;t!=null&&(a=ge(t,"weights","meanSquaredError")),on(o.shape,i.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(i);return fc(s,a,n)}}),J3e=ke({sigmoidCrossEntropy_:function(e,r,t,n,o){n===void 0&&(n=0),o===void 0&&(o=wi.SUM_BY_NONZERO_WEIGHTS);var i=ge(e,"multiClassLabels","sigmoidCrossEntropy"),a=ge(r,"logits","sigmoidCrossEntropy"),s=null;if(t!=null&&(s=ge(t,"weights","sigmoidCrossEntropy")),on(i.shape,a.shape,"Error in sigmoidCrossEntropy: "),n>0){var u=Ct(n),l=Ct(1),c=Ct(.5);i=i.mul(l.sub(u)).add(c.mul(u))}var f=function(d,p){var h=ge(d,"labels","sigmoidCrossEntropyWithLogits"),m=ge(p,"logits","sigmoidCrossEntropyWithLogits");on(h.shape,m.shape,"Error in sigmoidCrossEntropyWithLogits: ");var y=m.relu(),v=m.mul(h),g=m.abs().neg().exp().log1p();return y.sub(v).add(g)}(i,a);return fc(f,s,o)}}),Z3e=ke({softmaxCrossEntropy_:function(e,r,t,n,o){n===void 0&&(n=0),o===void 0&&(o=wi.SUM_BY_NONZERO_WEIGHTS);var i=ge(e,"onehotLabels","softmaxCrossEntropy"),a=ge(r,"logits","softmaxCrossEntropy"),s=null;if(t!=null&&(s=ge(t,"weights","softmaxCrossEntropy")),on(i.shape,a.shape,"Error in softmaxCrossEntropy: "),n>0){var u=Ct(n),l=Ct(1),c=Ct(i.shape[1]);i=i.mul(l.sub(u)).add(u.div(c))}var f=function(d,p,h){if(h===void 0&&(h=-1),h===-1&&(h=p.rank-1),h!==p.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+p.rank+" and dim was "+h);return _C(function(m,y,v){var g=y.logSumExp([h],!0),x=y.toFloat().sub(g);return v([m,x]),{value:x.mul(m).neg().sum([h]),gradFunc:function(b,w){var E=w[0],C=w[1],S=ga(b.shape,[h]);return[b.reshape(S).mul(E.toFloat().sub(C.exp())),b.reshape(S).mul(C.exp().sub(E.toFloat()))]}}})(d,p)}(i,a);return fc(f,s,o)}}),eMe=Object.freeze({get Reduction(){return wi},absoluteDifference:V3e,computeWeightedLoss:fc,cosineDistance:G3e,hingeLoss:Y3e,huberLoss:K3e,logLoss:X3e,meanSquaredError:Q3e,sigmoidCrossEntropy:J3e,softmaxCrossEntropy:Z3e});function fU(e,r){return r===void 0&&(r=!1),Oe.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var t=e.shape[0],n=e.shape[1],o=qG(t),i=e.clone(),a=nf([[1]],[1,1]),s=a.clone(),u=t>=n?n:t,l=function(f){var d,p=i,h=s,m=o;d=Oe.tidy(function(){var y=i.slice([f,f],[t-f,1]),v=y.norm(),g=i.slice([f,f],[1,1]),x=nf([[-1]]).where(g.greater(0),nf([[1]])),b=g.sub(x.mul(v)),w=y.div(b);s=w.shape[0]===1?a.clone():a.concat(w.slice([1,0],[w.shape[0]-1,w.shape[1]]),0);var E=x.matMul(b).div(v).neg(),C=i.slice([f,0],[t-f,n]),S=E.mul(s);if(f===0)i=C.sub(S.matMul(s.transpose().matMul(C)));else{var T=C.sub(S.matMul(s.transpose().matMul(C)));i=i.slice([0,0],[f,n]).concat(T,0)}var k=o.slice([0,f],[t,o.shape[1]-f]);if(f===0)o=k.sub(k.matMul(s).matMul(S.transpose()));else{var P=k.sub(k.matMul(s).matMul(S.transpose()));o=o.slice([0,0],[t,f]).concat(P,1)}return[s,i,o]}),s=d[0],i=d[1],o=d[2],va([p,h,m])},c=0;c<u;++c)l(c);return!r&&t>n&&(o=o.slice([0,0],[t,n]),i=i.slice([0,0],[n,n])),[o,i]})}var tMe=ke({bandPart_:function(e,r,t){if(r%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+r+".");if(t%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+t+".");var n=ge(e,"a","bandPart");if(n.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+n.rank+".");var o=n.shape,i=n.shape.slice(-2),a=i[0],s=i[1];if(!(r<=a))throw new Error("bandPart(): numLower ("+r+") must not be greater than the number of rows ("+a+").");if(!(t<=s))throw new Error("bandPart(): numUpper ("+t+") must not be greater than the number of columns ("+s+").");r<0&&(r=a),t<0&&(t=s);var u=Q2(0,a,1,"int32").reshape([-1,1]),l=Q2(0,s,1,"int32"),c=Do(u,l),f=SC(c.lessEqual(Ct(+r,"int32")),c.greaterEqual(Ct(-t,"int32"))),d=Dn([a,s],n.dtype);return Wa(Ao(n.reshape([-1,a,s])).map(function(p){return $d(f,p,d)})).reshape(o)}}),rMe=ke({gramSchmidt_:function(e){var r;if(Array.isArray(e)){r=!1,be(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var t=e[0].shape[0],n=function(u){be(e[u].shape[0]===t,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[u].shape[0]+" vs. "+t+")"})},o=1;o<e.length;++o)n(o)}else r=!0,e=m3(e,e.shape[0],0).map(function(u){return GG(u,[0])});be(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var i=[],a=e,s=function(u){i.push(Oe.tidy(function(){var l=a[u];if(u>0)for(var c=0;c<u;++c){var f=UY(i[c].mulStrict(l)).mul(i[c]);l=l.sub(f)}return l.div(GY(l,"euclidean"))}))};for(o=0;o<e.length;++o)s(o);return r?Wa(i,0):i}}),nMe=ke({qr_:function(e,r){if(r===void 0&&(r=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return fU(e,r);var t=e.shape.slice(0,e.shape.length-2).reduce(function(a,s){return a*s}),n=Ao(e.reshape([t,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return n.forEach(function(a){var s=fU(a,r),u=s[0],l=s[1];o.push(u),i.push(l)}),[Wa(o,0).reshape(e.shape),Wa(i,0).reshape(e.shape)]}}),oMe=Object.freeze({bandPart:tMe,gramSchmidt:rMe,qr:nMe});function RC(e,r,t,n,o,i){n==null&&(n=.5),o==null&&(o=Number.NEGATIVE_INFINITY),i==null&&(i=0);var a=e.shape[0];return t=Math.min(t,a),be(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),be(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),be(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),be(r.rank===1,function(){return"scores must be a 1D tensor"}),be(r.shape[0]===a,function(){return"scores has incompatible shape with boxes. Expected "+a+", but was "+r.shape[0]}),be(0<=i&&i<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"}),{maxOutputSize:t,iouThreshold:n,scoreThreshold:o,softNmsSigma:i}}var iMe=ke({resizeBilinear_:function(e,r,t){t===void 0&&(t=!1);var n=ge(e,"images","resizeBilinear");be(n.rank===3||n.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+n.rank+"."}),be(r.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+r+"."});var o=n,i=!1;n.rank===3&&(i=!0,o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var a=r[0],s=r[1],u=Oe.runKernelFunc(function(l,c){return c([o]),l.resizeBilinear(o,a,s,t)},{x:o},function(l,c){return{x:function(){return Oe.runKernelFunc(function(f){return f.resizeBilinearBackprop(l,c[0],t)},{})}}},"ResizeBilinear",{alignCorners:t,newHeight:a,newWidth:s});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),aMe=ke({resizeNearestNeighbor_:function(e,r,t){t===void 0&&(t=!1);var n=ge(e,"images","resizeNearestNeighbor");be(n.rank===3||n.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+n.rank+"."}),be(r.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+r+"."}),be(n.dtype==="float32"||n.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var o=n,i=!1;n.rank===3&&(i=!0,o=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var a=r[0],s=r[1],u=Oe.runKernelFunc(function(l,c){return c([o]),l.resizeNearestNeighbor(o,a,s,t)},{batchImages:o},function(l,c){return{batchImages:function(){return Oe.runKernelFunc(function(f){return f.resizeNearestNeighborBackprop(l,c[0],t)},{})}}});return i?u.as3D(u.shape[1],u.shape[2],u.shape[3]):u}}),sMe=ke({nonMaxSuppression_:function(e,r,t,n,o){n===void 0&&(n=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY);var i=ge(e,"boxes","nonMaxSuppression"),a=ge(r,"scores","nonMaxSuppression"),s=RC(i,a,t,n,o);t=s.maxOutputSize,n=s.iouThreshold,o=s.scoreThreshold;var u={maxOutputSize:t,iouThreshold:n,scoreThreshold:o};return Oe.runKernelFunc(function(l){return l.nonMaxSuppression(i,a,t,n,o)},{boxes:i,scores:a},null,"NonMaxSuppressionV3",u)}}),uMe=function(e,r,t,n,o){return n===void 0&&(n=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),zt(this,void 0,void 0,function(){var i,a,s,u,l,c,f;return Wt(this,function(d){switch(d.label){case 0:return i=ge(e,"boxes","nonMaxSuppressionAsync"),a=ge(r,"scores","nonMaxSuppressionAsync"),s=RC(i,a,t,n,o),t=s.maxOutputSize,n=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([i.data(),a.data()])];case 1:return u=d.sent(),l=u[0],c=u[1],f=b3(l,c,t,n,o),i!==e&&i.dispose(),a!==r&&a.dispose(),[2,f]}})})},lMe=ke({nonMaxSuppressionWithScore_:function(e,r,t,n,o,i){n===void 0&&(n=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var a=ge(e,"boxes","nonMaxSuppression"),s=ge(r,"scores","nonMaxSuppression"),u=RC(a,s,t,n,o,i),l={maxOutputSize:t=u.maxOutputSize,iouThreshold:n=u.iouThreshold,scoreThreshold:o=u.scoreThreshold,softNmsSigma:i=u.softNmsSigma},c=Oe.runKernel("NonMaxSuppressionV5",{boxes:a,scores:s},l);return{selectedIndices:c[0],selectedScores:c[1]}}}),cMe=function(e,r,t,n,o,i){return n===void 0&&(n=.5),o===void 0&&(o=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),zt(this,void 0,void 0,function(){var a,s,u,l,c,f,d;return Wt(this,function(p){switch(p.label){case 0:return a=ge(e,"boxes","nonMaxSuppressionAsync"),s=ge(r,"scores","nonMaxSuppressionAsync"),u=RC(a,s,t,n,o,i),t=u.maxOutputSize,n=u.iouThreshold,o=u.scoreThreshold,i=u.softNmsSigma,[4,Promise.all([a.data(),s.data()])];case 1:return l=p.sent(),c=l[0],f=l[1],d=_3(c,f,t,n,o,i),a!==e&&a.dispose(),s!==r&&s.dispose(),[2,d]}})})},fMe=ke({cropAndResize_:function(e,r,t,n,o,i){var a=ge(e,"image","cropAndResize"),s=ge(r,"boxes","cropAndResize","float32"),u=ge(t,"boxInd","cropAndResize","int32");o=o||"bilinear",i=i||0;var l=s.shape[0];return be(a.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+a.rank+"."}),be(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+l+",4] but had shape "+s.shape+"."}),be(u.rank===1&&u.shape[0]===l,function(){return"Error in cropAndResize: boxInd must be have size ["+l+"] but had shape "+s.shape+"."}),be(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+n.length+"."}),be(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),be(o==="bilinear"||o==="nearest",function(){return"method must be bilinear or nearest, but was "+o}),Oe.runKernelFunc(function(c,f){return c.cropAndResize(a,s,u,n,o,i)},{images:a,boxes:s,boxInd:u},null,"CropAndResize",{method:o,extrapolationValue:i,cropSize:n})}}),M3=Object.freeze({resizeBilinear:iMe,resizeNearestNeighbor:aMe,nonMaxSuppression:sMe,nonMaxSuppressionAsync:uMe,nonMaxSuppressionWithScore:lMe,nonMaxSuppressionWithScoreAsync:cMe,cropAndResize:fMe}),F3=function(e,r){return!(e>0)||r==="linear"},L3=function(e,r,t){if(t==null||t==="linear")return e;if(t==="relu")return e.mul(r.step());throw new Error("Gradient for activation "+t+" has not been implemented yet.")},B3=function(e,r){var t=r,n=Oo(e.shape,r.shape);return n.length>0&&(t=t.sum(n)),t.reshape(e.shape)},j3=function(e,r,t){if(r==="linear")return e;if(r==="relu")return qn(e);if(r==="elu")return qY(e);if(r==="relu6")return VY(e);if(r==="prelu")return HY(e,t);throw new Error("Unknown fused activation "+r+".")},dMe=ke({fusedMatMul_:function(e){var r,t=e.a,n=e.b,o=e.transposeA,i=o!==void 0&&o,a=e.transposeB,s=a!==void 0&&a,u=e.bias,l=e.activation,c=l===void 0?"linear":l,f=e.preluActivationWeights;if(F3(Oe.state.gradientDepth,c)===!1){var d=EC(t,n,i,s);return u!=null&&(d=Dr(d,u)),j3(d,c,f)}var p=ge(t,"a","fused matMul"),h=ge(n,"b","fused matMul");r=Gn(p,h),p=r[0],h=r[1];var m=i?p.shape[p.rank-2]:p.shape[p.rank-1],y=s?h.shape[h.rank-1]:h.shape[h.rank-2],v=i?p.shape[p.rank-1]:p.shape[p.rank-2],g=s?h.shape[h.rank-2]:h.shape[h.rank-1],x=p.shape.slice(0,-2),b=h.shape.slice(0,-2),w=qt(x),E=qt(b);be(p.rank>=2&&h.rank>=2&&p.rank===h.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+p.rank+" and "+h.rank+"."}),be(Wo(x,b),function(){return"Error in fused matMul: outer dimensions ("+x+") and ("+b+") of Tensors with shapes "+p.shape+" and "+h.shape+" must match."}),be(m===y,function(){return"Error in fused matMul: inner shapes ("+m+") and ("+y+") of Tensors with shapes "+p.shape+" and "+h.shape+" and transposeA="+i+" and transposeB="+s+" must match."});var C,S,T=p.shape.slice(0,-2).concat([v,g]),k=i?p.as3D(w,m,v):p.as3D(w,v,m),P=s?h.as3D(E,g,y):h.as3D(E,y,g);u!=null&&Nr(T,(C=Gn(C=ge(u,"bias","fused matMul"),p)[0]).shape),f!=null&&(S=ge(f,"prelu weights","fused matMul"));var I={a:k,b:P};u!=null&&(I.bias=C),f!=null&&(I.preluActivationWeights=S);var F=[k,P];return Oe.runKernelFunc(function(A,D){var $=A.fusedBatchMatMul({a:k,b:P,transposeA:i,transposeB:s,bias:C,activation:c,preluActivationWeights:S});return D([k,P,$]),$},I,function(A,D){var $=D[0],B=D[1],W=D[2],L=L3(A,W,c),z={};return u!=null&&(z={bias:function(){return B3(C,L)}}),Object.assign(i||s?!i&&s?{a:function(){return L.matMul(B,!1,!1)},b:function(){return L.matMul($,!0,!1)}}:i&&!s?{a:function(){return B.matMul(L,!1,!0)},b:function(){return $.matMul(L,!1,!1)}}:{a:function(){return B.matMul(L,!0,!0)},b:function(){return L.matMul($,!0,!0)}}:{a:function(){return L.matMul(B,!1,!0)},b:function(){return $.matMul(L,!0,!1)}},z)},"_FusedMatMul",{transposeA:i,transposeB:s,activation:c},F,[!0]).reshape(T)}}),pMe=ke({fusedConv2d_:function(e){var r=e.x,t=e.filter,n=e.strides,o=e.pad,i=e.dataFormat,a=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=f===void 0?"linear":f,p=e.preluActivationWeights;if(d=d||"linear",F3(Oe.state.gradientDepth,d)===!1){var h=Ps(r,t,n,o,a,u,l);return c!=null&&(h=Dr(h,c)),j3(h,d,p)}var m=ge(r,"x","conv2d"),y=ge(t,"filter","conv2d"),v=m,g=!1;m.rank===3&&(g=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),be(v.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+v.rank+"."}),be(y.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+y.rank+"."}),l!=null&&be(fo(o),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+l+" but got pad "+o+"."}),be(v.shape[3]===y.shape[2],function(){return"Error in conv2d: depth of input ("+v.shape[3]+") must match input depth for filter "+y.shape[2]+"."}),be(ya(n,u),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+u+"'"}),be(a==="NHWC",function(){return"Error in conv2d: got dataFormat of "+a+" but only NHWC is currently supported."});var x,b,w=ip(v.shape,y.shape,n,u,o,l);c!=null&&(x=Gn(x=ge(c,"bias","fused conv2d"),m)[0],Nr(w.outShape,x.shape)),p!=null&&(b=ge(p,"prelu weights","fused conv2d"));var E={x:v,filter:y};c!=null&&(E.bias=x),p!=null&&(E.preluActivationWeights=b);var C=[y,v],S=Oe.runKernelFunc(function(T,k){var P=T.fusedConv2d({input:v,filter:y,convInfo:w,bias:x,activation:d,preluActivationWeights:b});return k([y,v,P]),P},E,function(T,k){var P=k,I=P[0],F=P[1],A=P[2],D=L3(T,A,d);be(vv(u),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+u+"'"});var $={};return c!=null&&($={bias:function(){return B3(x,D)}}),Object.assign({x:function(){return FY(F.shape,D,I,n,o)},filter:function(){return A3(F,D,I.shape,n,o)}},$)},"FusedConv2D",{convInfo:w,activation:d},C,[!0]);return g?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),hMe=ke({fusedDepthwiseConv2d_:function(e){var r=e.x,t=e.filter,n=e.strides,o=e.pad,i=e.dataFormat,a=i===void 0?"NHWC":i,s=e.dilations,u=s===void 0?[1,1]:s,l=e.dimRoundingMode,c=e.bias,f=e.activation,d=f===void 0?"linear":f,p=e.preluActivationWeights;if(F3(Oe.state.gradientDepth,d)===!1){var h=CC(r,t,n,o,a,u,l);return c!=null&&(h=Dr(h,c)),j3(h,d,p)}var m=ge(r,"x","depthwiseConv2d"),y=ge(t,"filter","depthwiseConv2d"),v=m,g=!1;m.rank===3&&(g=!0,v=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),be(v.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+v.rank+"."}),be(y.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+y.rank+"."}),be(v.shape[3]===y.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+v.shape[3]+") must match the inChannels dimension in filter "+y.shape[2]+"."}),u==null&&(u=[1,1]),be(ya(n,u),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+u+"'"}),l!=null&&be(fo(o),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+l+" but got pad "+o+"."});var x,b,w=ip(v.shape,y.shape,n,u,o,l,!0);c!=null&&(x=Gn(x=ge(c,"bias","fused conv2d"),m)[0],Nr(w.outShape,x.shape)),p!=null&&(b=ge(p,"prelu weights","fused depthwiseConv2d"));var E={x:v,filter:y};c!=null&&(E.bias=x),p!=null&&(E.preluActivationWeights=b);var C=[y,v],S=Oe.runKernelFunc(function(T,k){var P=T.fusedDepthwiseConv2D({input:v,filter:y,convInfo:w,bias:x,activation:d,preluActivationWeights:b});return k([y,v,P]),P},E,function(T,k){be(vv(u),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+u+"'"});var P=k[0],I=k[1],F=k[2],A=L3(T,F,d),D={};return c!=null&&(D={bias:function(){return B3(x,A)}}),Object.assign({x:function(){return LY(I.shape,A,P,w)},filter:function(){return BY(I,A,P.shape,w)}},D)},"FusedDepthwiseConv2D",{convInfo:w,activation:d},C,[!0]);return g?S.as3D(S.shape[1],S.shape[2],S.shape[3]):S}}),vMe=Object.freeze({matMul:dMe,conv2d:pMe,depthwiseConv2d:hMe}),mMe=Object.freeze({image:M3,linalg:oMe,losses:eMe,spectral:j3e,fused:vMe,signal:q3e,square:XIe,squaredDifference:bY,conv1d:i3e,conv2d:Ps,conv3d:a3e,depthwiseConv2d:CC,separableConv2d:O3,conv2dTranspose:s3e,conv3dTranspose:u3e,op:ke,batchNormalization2d:kNe,batchNormalization3d:RNe,batchNormalization4d:TNe,batchNormalization:ANe,batchNorm:kY,batchNorm2d:ONe,batchNorm3d:DNe,batchNorm4d:PNe,booleanMaskAsync:o3e,complex:ei,real:gs,imag:Lu,concat:To,concat1d:vDe,concat2d:mDe,concat3d:gDe,concat4d:yDe,split:m3,matMul:EC,dot:l3e,outerProduct:c3e,reverse:xy,reverse1d:f3e,reverse2d:d3e,reverse3d:p3e,reverse4d:h3e,maxPool:Mo,avgPool:by,pool:v3e,maxPool3d:m3e,avgPool3d:g3e,slice:tl,slice1d:y3e,slice2d:x3e,slice3d:zY,slice4d:b3e,abs:QIe,acos:JIe,acosh:ZIe,asin:eNe,asinh:tNe,atan:rNe,atanh:nNe,ceil:oNe,clipByValue:k3,cos:iNe,cosh:aNe,erf:sNe,exp:LD,expm1:uNe,floor:lNe,log:cNe,log1p:fNe,logSigmoid:dNe,neg:iw,reciprocal:pNe,round:hNe,rsqrt:_Y,sigmoid:wY,sign:vNe,isNaN:mNe,isInf:gNe,isFinite:yNe,sin:xNe,sinh:bNe,softplus:_Ne,sqrt:wNe,step:SNe,tan:CNe,tanh:ENe,all:_3e,any:w3e,argMax:S3e,argMin:C3e,logSumExp:E3e,max:kC,mean:k3e,min:R3e,moments:T3e,sum:UY,prod:A3e,equal:DY,equalStrict:YNe,greater:KNe,greaterEqual:PY,greaterEqualStrict:XNe,greaterStrict:QNe,less:JNe,lessEqual:ZNe,lessEqualStrict:e3e,lessStrict:t3e,notEqual:r3e,notEqualStrict:n3e,add:Dr,addN:MNe,addStrict:FNe,atan2:LNe,div:qs,divNoNan:BNe,divStrict:jNe,floorDiv:AY,maximum:R3,maximumStrict:$Ne,minimum:OY,minimumStrict:zNe,mod:WNe,modStrict:UNe,mul:Si,mulStrict:qNe,pow:aw,powStrict:HNe,squaredDifferenceStrict:VNe,sub:Do,subStrict:GNe,elu:qY,leakyRelu:O3e,prelu:HY,relu:qn,relu6:VY,selu:D3e,logicalAnd:SC,logicalNot:INe,logicalOr:RY,logicalXor:NNe,where:$d,whereAsync:TY,buffer:hr,print:RDe,batchToSpaceND:UG,broadcastTo:TDe,cast:ADe,clone:ODe,cumsum:DDe,depthToSpace:PDe,expandDims:ms,eye:qG,multinomial:IDe,oneHot:ID,pad:op,pad1d:NDe,pad2d:MDe,pad3d:FDe,pad4d:LDe,rand:BDe,randomNormal:jDe,randomGamma:$De,randomUniform:HG,reshape:Vs,spaceToBatchND:VG,squeeze:GG,stack:Wa,tile:Oh,truncatedNormal:zDe,unstack:Ao,setdiff1dAsync:WDe,fill:Xu,linspace:hDe,ones:Xv,range:Q2,scalar:Ct,tensor:ni,tensor1d:bo,tensor2d:nf,tensor3d:v3,tensor4d:sa,tensor5d:fDe,tensor6d:dDe,variable:pDe,zeros:Dn,onesLike:WG,zerosLike:Hr,transpose:hf,softmax:cc,logSoftmax:KDe,localResponseNormalization:P3e,norm:GY,gather:T3,unsortedSegmentSum:IY,basicLSTMCell:I3e,multiRNNCell:N3e,movingAverage:M3e,stridedSlice:F3e,topk:L3e,scatterND:B3e,fft:D3,ifft:sw,rfft:P3,irfft:YY,sparseToDense:$3e,gatherND:z3e,diag:W3e,dropout:U3e,hannWindow:I3,hammingWindow:XY,frame:N3,stft:QY,inTopKAsync:H3e});function ut(e,r){Array.isArray(e)||(e=[e]),e.forEach(function(t){t!=null&&be(t.dtype!=="complex64",function(){return r+" does not support complex64 tensors."})})}function wA(e,r,t,n){if(t==="linear")return e.linear(r);if(t==="relu")return e.relu(r);if(t==="elu")return e.elu(r);if(t==="relu6")return e.relu6(r);if(t==="prelu")return e.prelu(r,n);throw new Error("Activation "+t+" has not been implemented for the CPU backend.")}var gMe=function(e){function r(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new eY(t,Oe),t}return fu(r,e),r.prototype.write=function(t,n,o){this.firstUse&&(this.firstUse=!1,Je().get("IS_NODE")&&K2(`
============================
Hi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:t,dtype:o}),i},r.prototype.move=function(t,n,o,i){this.data.set(t,{values:n,dtype:i})},r.prototype.numDataIds=function(){return this.data.numDataIds()},r.prototype.read=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){return[2,this.readSync(t)]})})},r.prototype.readSync=function(t){var n=this.data.get(t),o=n.dtype,i=n.complexTensors;return o==="complex64"?FD(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(t).values},r.prototype.bufferSync=function(t){var n=this.readSync(t.dataId),o=n;if(t.dtype==="string")try{o=n.map(function(i){return V2(i)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return hr(t.shape,t.dtype,o)},r.prototype.makeOutput=function(t,n,o){var i=this.write(t,n,o);return Oe.makeTensorFromDataId(i,n,o,this)},r.prototype.disposeData=function(t){if(this.data.has(t)){var n=this.data.get(t).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.data.delete(t)}},r.prototype.time=function(t){return zt(this,void 0,void 0,function(){var n;return Wt(this,function(o){return n=Du(),t(),[2,{kernelMs:Du()-n}]})})},r.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},r.prototype.complex=function(t,n){var o=this.makeOutput(null,t.shape,"complex64");return this.data.get(o.dataId).complexTensors={real:Oe.keep(t.clone()),imag:Oe.keep(n.clone())},o},r.prototype.real=function(t){return this.data.get(t.dataId).complexTensors.real.clone()},r.prototype.imag=function(t){return this.data.get(t.dataId).complexTensors.imag.clone()},r.prototype.slice=function(t,n,o){if(ut(t,"slice"),JG(t.shape,n,o)){var i=ZG(n,t.strides),a=qt(o);return ni(this.readSync(t.dataId).subarray(i,i+a),o,t.dtype)}for(var s=hr(o,t.dtype),u=this.bufferSync(t),l=0;l<s.size;++l){var c=s.indexToLoc(l).map(function(f,d){return f+n[d]});s.values[l]=u.get.apply(u,c)}return s.toTensor()},r.prototype.stridedSlice=function(t,n,o,i){ut(t,"stridedSlice");var a=y3(n,o,i);if(a.some(function(p){return p===0}))return ni([],a);for(var s=hr(a,t.dtype),u=this.bufferSync(t),l=0;l<s.size;l++){for(var c=s.indexToLoc(l),f=new Array(c.length),d=0;d<f.length;d++)f[d]=c[d]*i[d]+n[d];s.set.apply(s,[u.get.apply(u,f)].concat(c))}return s.toTensor()},r.prototype.diag=function(t){for(var n=this.readSync(t.dataId),o=hr([t.size,t.size],t.dtype),i=o.values,a=0;a<n.length;a++)i[a*t.size+a]=n[a];return o.toTensor()},r.prototype.unstack=function(t,n){for(var o=t.shape[n],i=new Array(t.rank-1),a=0,s=0;s<t.rank;s++)s!==n&&(i[a++]=t.shape[s]);var u=new Array(t.rank).fill(0),l=t.shape.slice();l[n]=1;var c=new Array(o);for(s=0;s<c.length;s++)u[n]=s,c[s]=this.slice(t,u,l).reshape(i);return c},r.prototype.reverse=function(t,n){ut(t,"reverse");for(var o=hr(t.shape,t.dtype),i=this.bufferSync(t),a=function(u){var l=o.indexToLoc(u),c=l.slice();n.forEach(function(f){return c[f]=t.shape[f]-1-c[f]}),o.set.apply(o,[i.get.apply(i,c)].concat(l))},s=0;s<o.size;s++)a(s);return o.toTensor()},r.prototype.concat=function(t,n){var o=this;if(t[0].dtype==="complex64"){var i=t.map(function(p){return gs(p)}),a=t.map(function(p){return Lu(p)});return ei(this.concat(i,n),this.concat(a,n))}var s=t.map(function(p){var h=qt(p.shape.slice(n));return p.as2D(-1,h)}),u=hv(s.map(function(p){return p.shape}),1),l=hr(u,t[0].dtype).values;if(s[0].shape[0]===1){var c=0;s.forEach(function(p){l.set(o.readSync(p.dataId),c),c+=p.size})}else{var f=0;s.forEach(function(p){for(var h=o.readSync(p.dataId),m=0,y=0;y<p.shape[0];++y)for(var v=y*u[1]+f,g=0;g<p.shape[1];++g)l[v+g]=h[m++];f+=p.shape[1]})}var d=hv(t.map(function(p){return p.shape}),n);return ni(l,d,t[0].dtype)},r.prototype.neg=function(t){return ut(t,"neg"),this.multiply(Ct(-1),t)},r.prototype.add=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),function(o,i,a,s){return{real:o+a,imag:i+s}}):this.broadcastedBinaryOp(t,n,ti(t.dtype,n.dtype),function(o,i){return o+i})},r.prototype.addN=function(t){var n=this;ut(t,"addN");for(var o=t.map(function(c){return n.readSync(c.dataId)}),i=hr(t[0].shape,t[0].dtype),a=i.values,s=0;s<t.length;s++)for(var u=o[s],l=0;l<a.length;l++)a[l]+=u[l];return i.toTensor()},r.prototype.softmax=function(t,n){var o=Po([n],t.shape),i=this.max(t,o),a=ga(i.shape,o),s=this.subtract(t,i.reshape(a)),u=this.exp(s),l=this.sum(u,o).reshape(a);return this.realDivide(u,l)},r.prototype.subtract=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),function(o,i,a,s){return{real:o-a,imag:i-s}}):this.broadcastedBinaryOp(t,n,ti(t.dtype,n.dtype),function(o,i){return o-i})},r.prototype.pow=function(t,n){return ut([t,n],"pow"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){return Math.pow(o,i)})},r.prototype.batchMatMul=function(t,n,o,i){ut([t,n],"matMul");for(var a=o?t.shape[1]:t.shape[2],s=o?t.shape[2]:t.shape[1],u=i?n.shape[1]:n.shape[2],l=t.shape[0],c=this.readSync(t.dataId),f=this.readSync(n.dataId),d=o?[t.strides[0],1,t.strides[1]]:[t.strides[0],t.strides[1],1],p=d[0],h=d[1],m=d[2],y=i?[1,n.strides[1],n.strides[0]]:[n.strides[1],1,n.strides[0]],v=y[0],g=y[1],x=y[2],b=s*u,w=hr([l,s,u],t.dtype),E=w.values,C=this.blockSize,S=0;S<l;S++)for(var T=0;T<s;T+=C)for(var k=0;k<u;k+=C)for(var P=0;P<a;P+=C)for(var I=Math.min(T+C,s),F=Math.min(k+C,u),A=Math.min(P+C,a),D=T;D<I;D++)for(var $=k;$<F;$++){for(var B=0,W=P;W<A;W++)B+=c[S*p+D*h+W*m]*f[W*v+$*g+S*x];E[S*b+(D*u+$)]+=B}return w.toTensor()},r.prototype.fusedBatchMatMul=function(t){var n=t.a,o=t.b,i=t.transposeA,a=t.transposeB,s=t.bias,u=t.activation,l=t.preluActivationWeights,c=this.batchMatMul(n,o,i,a);return s&&(c=this.add(c,s)),u&&(c=wA(this,c,u,l)),c},r.prototype.multiply=function(t,n){return t.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(t.cast("complex64"),n.cast("complex64"),function(o,i,a,s){return{real:o*a-i*s,imag:o*s+i*a}}):this.broadcastedBinaryOp(t,n,ti(t.dtype,n.dtype),function(o,i){return o*i})},r.prototype.realDivide=function(t,n){return ut([t,n],"realDivide"),this.broadcastedBinaryOp(t,n,"float32",function(o,i){return o/i})},r.prototype.floorDiv=function(t,n){return ut([t,n],"floorDiv"),this.broadcastedBinaryOp(t,n,"int32",function(o,i){return Math.floor(o/i)})},r.prototype.sum=function(t,n){ut(t,"sum"),Pa("sum",n,t.rank);for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,ti(t.dtype,"int32")),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=0,h=0;h<u;++h)p+=c[d+h];l[f]=p}return s},r.prototype.prod=function(t,n){ut(t,"sum");for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,ti(t.dtype,"int32")),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=1,h=0;h<u;++h)p*=c[d+h];l[f]=p}return s},r.prototype.unsortedSegmentSum=function(t,n,o){ut(t,"unsortedSegmentSum");for(var i=[],a=t.rank-n.rank,s=0;s<a;++s)n=n.expandDims(s+1);for(s=0;s<o;++s){var u=Ct(s,"int32"),l=DY(u,n).asType("float32").mul(t).sum(0);i.push(l)}return Wa(i)},r.prototype.argMin=function(t,n){ut(t,"argMin");var o=[n];Pa("argMin",o,t.rank);for(var i=yi(t.shape,o),a=i[0],s=i[1],u=Dn(a,"int32"),l=qt(s),c=this.readSync(u.dataId),f=this.readSync(t.dataId),d=0;d<c.length;++d){for(var p=d*l,h=f[p],m=0,y=0;y<l;++y){var v=f[p+y];v<h&&(h=v,m=y)}c[d]=m}return u},r.prototype.argMax=function(t,n){ut(t,"argMax");var o=[n];Pa("argMax",o,t.rank);for(var i=yi(t.shape,o),a=i[0],s=i[1],u=Dn(a,"int32"),l=qt(s),c=this.readSync(u.dataId),f=this.readSync(t.dataId),d=0;d<c.length;++d){for(var p=d*l,h=f[p],m=0,y=0;y<l;++y){var v=f[p+y];v>h&&(h=v,m=y)}c[d]=m}return u},r.prototype.cumsum=function(t,n,o,i){if(ut(t,"cumsum"),n!==t.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(t.rank-1)+" but got axis="+n);for(var a=ti(t.dtype,"int32"),s=Dn(t.shape,a),u=this.readSync(s.dataId),l=this.readSync(t.dataId),c=t.shape[t.rank-1],f=i?function(y,v){return y+c-v-1}:function(y,v){return y+v},d=0;d<l.length;d+=c)for(var p=0;p<c;p++){var h=f(d,p);if(p===0)u[h]=o?0:l[h];else{var m=f(d,p-1);u[h]=o?l[m]+u[m]:l[h]+u[m]}}return s},r.prototype.equal=function(t,n){return ut([t,n],"equal"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o===i?1:0})},r.prototype.notEqual=function(t,n){return ut([t,n],"notEqual"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o!==i?1:0})},r.prototype.less=function(t,n){return ut([t,n],"less"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o<i?1:0})},r.prototype.lessEqual=function(t,n){return ut([t,n],"lessEqual"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o<=i?1:0})},r.prototype.greater=function(t,n){return ut([t,n],"greater"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o>i?1:0})},r.prototype.greaterEqual=function(t,n){return ut([t,n],"greaterEqual"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o>=i?1:0})},r.prototype.logicalNot=function(t){ut(t,"logicalNot");for(var n=this.readSync(t.dataId),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n[i]?0:1;return this.makeOutput(o,t.shape,"bool")},r.prototype.logicalAnd=function(t,n){return ut([t,n],"logicalAnd"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o&&i})},r.prototype.logicalOr=function(t,n){return ut([t,n],"logicalOr"),this.broadcastedBinaryOp(t,n,"bool",function(o,i){return o||i})},r.prototype.select=function(t,n,o){ut([t,n,o],"select");for(var i=this.readSync(t.dataId),a=this.readSync(n.dataId),s=this.readSync(o.dataId),u=Dn(n.shape,ti(n.dtype,o.dtype)),l=this.readSync(u.dataId),c=0,f=t.rank===0||t.rank>1||n.rank===1?1:qt(n.shape.slice(1)),d=0;d<i.length;d++)for(var p=0;p<f;p++)i[d]===1?l[c++]=a[d]:l[c++]=s[d];return u},r.prototype.where=function(t){ut([t],"where");var n=this.readSync(t.dataId);return w3(t.shape,n)},r.prototype.topk=function(t,n,o){return ut(t,"topk"),uY(this.readSync(t.dataId),t.shape,t.dtype,n)},r.prototype.min=function(t,n){ut(t,"min"),Pa("min",n,t.rank);for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,t.dtype),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=c[d],h=0;h<u;++h){var m=c[d+h];m<p&&(p=m)}l[f]=p}return s},r.prototype.minimum=function(t,n){return ut([t,n],"minimum"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){return Math.min(o,i)})},r.prototype.mod=function(t,n){return ut([t,n],"mod"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){var a=o%i;return o<0&&i<0||o>=0&&i>=0?a:(a+i)%i})},r.prototype.max=function(t,n){ut(t,"max"),Pa("max",n,t.rank);for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,t.dtype),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=c[d],h=0;h<u;++h){var m=c[d+h];m>p&&(p=m)}l[f]=p}return s},r.prototype.maximum=function(t,n){return ut([t,n],"maximum"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){return Math.max(o,i)})},r.prototype.all=function(t,n){ut(t,"all"),Pa("all",n,t.rank);for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,t.dtype),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=c[d],h=0;h<u;++h){var m=c[d+h];p=p&&m}l[f]=p}return s},r.prototype.any=function(t,n){ut(t,"any"),Pa("any",n,t.rank);for(var o=yi(t.shape,n),i=o[0],a=o[1],s=Dn(i,t.dtype),u=qt(a),l=this.readSync(s.dataId),c=this.readSync(t.dataId),f=0;f<l.length;++f){for(var d=f*u,p=c[d],h=0;h<u;++h){var m=c[d+h];p=p||m}l[f]=p}return s},r.prototype.squaredDifference=function(t,n){return ut([t,n],"squaredDifference"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){var a=o-i;return a*a})},r.prototype.ceil=function(t){ut(t,"ceil");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)o[i]=Math.ceil(n[i]);return this.makeOutput(o,t.shape,"float32")},r.prototype.floor=function(t){ut(t,"floor");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)o[i]=Math.floor(n[i]);return this.makeOutput(o,t.shape,"float32")},r.prototype.sign=function(t){ut(t,"x");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)n[i]<0?o[i]=-1:n[i]>0?o[i]=1:o[i]=0;return this.makeOutput(o,t.shape,"float32")},r.prototype.isNaN=function(t){ut(t,"x");for(var n=this.readSync(t.dataId),o=new Uint8Array(n.length),i=0;i<n.length;++i)Number.isNaN(n[i])&&(o[i]=1);return this.makeOutput(o,t.shape,"bool")},r.prototype.isInf=function(t){ut(t,"x");for(var n=this.readSync(t.dataId),o=new Uint8Array(n.length),i=0;i<n.length;++i)Math.abs(n[i])===1/0&&(o[i]=1);return this.makeOutput(o,t.shape,"bool")},r.prototype.isFinite=function(t){ut(t,"x");for(var n=this.readSync(t.dataId),o=new Uint8Array(n.length),i=0;i<n.length;++i)Number.isFinite(n[i])&&(o[i]=1);return this.makeOutput(o,t.shape,"bool")},r.prototype.round=function(t){ut(t,"round");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i){var a=Math.floor(n[i]);n[i]-a<.5?o[i]=Math.floor(n[i]):n[i]-a>.5?o[i]=Math.ceil(n[i]):o[i]=a%2==0?a:a+1}return this.makeOutput(o,t.shape,"float32")},r.prototype.exp=function(t){ut(t,"exp");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)o[i]=Math.exp(n[i]);return this.makeOutput(o,t.shape,"float32")},r.prototype.expm1=function(t){ut(t,"expm1");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)o[i]=Math.expm1(n[i]);return this.makeOutput(o,t.shape,"float32")},r.prototype.log=function(t){ut(t,"log");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i){var a=n[i];o[i]=Math.log(a)}return this.makeOutput(o,t.shape,"float32")},r.prototype.log1p=function(t){ut(t,"log1p");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i){var a=n[i];o[i]=Math.log1p(a)}return this.makeOutput(o,t.shape,"float32")},r.prototype.sqrt=function(t){ut(t,"sqrt");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i){var a=n[i];o[i]=Math.sqrt(a)}return this.makeOutput(o,t.shape,"float32")},r.prototype.rsqrt=function(t){ut(t,"rsqrt");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i){var a=n[i];o[i]=1/Math.sqrt(a)}return this.makeOutput(o,t.shape,"float32")},r.prototype.reciprocal=function(t){ut(t,"reciprocal");for(var n=this.readSync(t.dataId),o=new Float32Array(n.length),i=0;i<n.length;++i)o[i]=1/n[i];return this.makeOutput(o,t.shape,"float32")},r.prototype.linear=function(t){return t},r.prototype.relu=function(t){ut(t,"relu");for(var n=Dn(t.shape,t.dtype),o=this.readSync(n.dataId),i=this.readSync(t.dataId),a=0;a<i.length;++a)o[a]=Math.max(0,i[a]);return n},r.prototype.relu6=function(t){ut(t,"relu");for(var n=Dn(t.shape,t.dtype),o=this.readSync(n.dataId),i=this.readSync(t.dataId),a=0;a<i.length;++a)o[a]=Math.min(Math.max(0,i[a]),6);return n},r.prototype.prelu=function(t,n){return ut([t,n],"prelu"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){return o<0?i*o:o})},r.prototype.elu=function(t){ut(t,"elu");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i){var a=o[i];n[i]=a>=0?a:Math.exp(a)-1}return this.makeOutput(n,t.shape,"float32")},r.prototype.eluDer=function(t,n){ut([t,n],"eluDer");for(var o=new Float32Array(n.size),i=this.readSync(n.dataId),a=this.readSync(t.dataId),s=0;s<i.length;++s){var u=i[s];o[s]=u>=1?a[s]:a[s]*(u+1)}return this.makeOutput(o,n.shape,"float32")},r.prototype.selu=function(t){ut(t,"selu");for(var n=C3,o=E3,i=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var u=a[s];i[s]=u>=0?o*u:n*(Math.exp(u)-1)}return this.makeOutput(i,t.shape,"float32")},r.prototype.clip=function(t,n,o){ut(t,"clip");for(var i=new Float32Array(t.size),a=this.readSync(t.dataId),s=0;s<a.length;++s){var u=a[s];i[s]=u>o?o:u<n?n:u}return this.makeOutput(i,t.shape,"float32")},r.prototype.abs=function(t){for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.abs(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.complexAbs=function(t){for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<t.size;++i){var a=o[2*i],s=o[2*i+1];n[i]=Math.hypot(a,s)}return this.makeOutput(n,t.shape,"float32")},r.prototype.int=function(t){ut(t,"int");for(var n=new Int32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=o[i];return this.makeOutput(n,t.shape,"int32")},r.prototype.sigmoid=function(t){ut(t,"sigmoid");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=1/(1+Math.exp(-o[i]));return this.makeOutput(n,t.shape,"float32")},r.prototype.softplus=function(t){ut(t,"softplus");for(var n=Math.log(11920928955078125e-23)+2,o=new Float32Array(t.size),i=this.readSync(t.dataId),a=0;a<i.length;++a){var s=i[a]>-n,u=i[a]<n,l=Math.exp(i[a]),c=void 0;c=u?l:s?i[a]:Math.log(1+l),o[a]=c}return this.makeOutput(o,t.shape,"float32")},r.prototype.sin=function(t){ut(t,"sin");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.sin(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.cos=function(t){ut(t,"cos");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.cos(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.tan=function(t){ut(t,"tan");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.tan(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.asin=function(t){ut(t,"asin");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.asin(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.acos=function(t){ut(t,"acos");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.acos(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.atan=function(t){ut(t,"atan");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.atan(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.atan2=function(t,n){return ut([t,n],"atan2"),this.broadcastedBinaryOp(t,n,t.dtype,function(o,i){return Math.atan2(o,i)})},r.prototype.sinh=function(t){ut(t,"sinh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.sinh(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.cosh=function(t){ut(t,"cosh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.cosh(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.tanh=function(t){ut(t,"tanh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=yOe(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.asinh=function(t){ut(t,"asinh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.asinh(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.acosh=function(t){ut(t,"acosh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.acosh(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.atanh=function(t){ut(t,"atanh");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i)n[i]=Math.atanh(o[i]);return this.makeOutput(n,t.shape,"float32")},r.prototype.erf=function(t){ut(t,"erf");for(var n=new Float32Array(t.size),o=this.readSync(t.dataId),i=0;i<o.length;++i){var a=Math.sign(o[i]),s=Math.abs(o[i]),u=1/(1+.3275911*s);n[i]=a*(1-((((1.061405429*u-1.453152027)*u+1.421413741)*u-.284496736)*u+.254829592)*u*Math.exp(-s*s))}return this.makeOutput(n,t.shape,"float32")},r.prototype.step=function(t,n){n===void 0&&(n=0),ut(t,"step");for(var o=new Float32Array(t.size),i=this.readSync(t.dataId),a=0;a<i.length;++a){var s=i[a];isNaN(s)?o[a]=NaN:o[a]=s>0?1:n}return this.makeOutput(o,t.shape,"float32")},r.prototype.fusedConv2d=function(t){var n=t.input,o=t.filter,i=t.convInfo,a=t.bias,s=t.activation,u=t.preluActivationWeights,l=this.conv2d(n,o,i);return a&&(l=this.add(l,a)),s&&(l=wA(this,l,s,u)),l},r.prototype.conv2d=function(t,n,o){ut([t,n],"conv2d");for(var i=o.filterHeight,a=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,l=o.padInfo.left,c=o.padInfo.top,f=o.dataFormat==="channelsLast",d=hr(o.outShape,t.dtype),p=t.strides[0],h=f?t.strides[1]:t.strides[2],m=f?t.strides[2]:1,y=f?1:t.strides[1],v=d.strides[0],g=f?d.strides[1]:d.strides[2],x=f?d.strides[2]:1,b=f?1:d.strides[1],w=this.readSync(t.dataId),E=this.readSync(n.dataId),C=d.values,S=0;S<o.batchSize;++S)for(var T=S*p,k=S*v,P=0;P<o.outHeight;++P)for(var I=k+P*g,F=P*o.strideHeight-c,A=0;A<i;A++){var D=F+A*s;if(!(D<0||D>=o.inHeight))for(var $=A*n.strides[0],B=T+D*h,W=0;W<o.outWidth;++W)for(var L=I+W*x,z=W*o.strideWidth-l,U=0;U<a;U++){var Y=z+U*u;if(!(Y<0||Y>=o.inWidth))for(var q=B+Y*m,V=$+U*n.strides[1],H=0;H<o.inChannels;++H){for(var Z=w[q+H*y],ue=0;ue<o.outChannels;++ue)C[L+ue*b]+=Z*E[V+ue];V+=o.outChannels}}}return d.toTensor()},r.prototype.conv3d=function(t,n,o){for(var i=o.filterDepth,a=o.filterHeight,s=o.filterWidth,u=o.dilationDepth,l=o.dilationHeight,c=o.dilationWidth,f=o.padInfo.front,d=o.padInfo.left,p=o.padInfo.top,h=hr(o.outShape,t.dtype),m=this.readSync(t.dataId),y=this.readSync(n.dataId),v=h.values,g=0;g<o.batchSize;++g)for(var x=g*t.strides[0],b=g*h.strides[0],w=0;w<o.outDepth;++w)for(var E=b+w*h.strides[1],C=w*o.strideDepth-f,S=0;S<i;S++){var T=C+S*u;if(!(T<0||T>=o.inDepth))for(var k=S*n.strides[0],P=x+T*t.strides[1],I=0;I<o.outHeight;++I)for(var F=E+I*h.strides[2],A=I*o.strideHeight-p,D=0;D<a;D++){var $=A+D*l;if(!($<0||$>=o.inHeight))for(var B=k+D*n.strides[1],W=P+$*t.strides[2],L=0;L<o.outWidth;++L)for(var z=F+L*o.outChannels,U=L*o.strideWidth-d,Y=0;Y<s;Y++){var q=U+Y*c;if(!(q<0||q>=o.inWidth))for(var V=B+Y*n.strides[2],H=W+q*o.inChannels,Z=V,ue=0;ue<o.inChannels;++ue){for(var oe=m[H+ue],ee=0;ee<o.outChannels;++ee)v[z+ee]+=oe*y[Z+ee];Z+=o.outChannels}}}}return h.toTensor()},r.prototype.conv2dDerInput=function(t,n,o){ut([t,n],"conv2dDerInput");for(var i=hr(o.inShape,"float32"),a=i.values,s=this.readSync(t.dataId),u=this.readSync(n.dataId),l=n.strides,c=l[0],f=l[1],d=l[2],p=o.batchSize,h=o.filterHeight,m=o.filterWidth,y=o.inChannels,v=o.inHeight,g=o.inWidth,x=o.outChannels,b=o.outHeight,w=o.outWidth,E=o.strideHeight,C=o.strideWidth,S=o.dataFormat,T=h-1-o.padInfo.top,k=m-1-o.padInfo.left,P=S==="channelsLast",I=i.strides[0],F=P?i.strides[1]:i.strides[2],A=P?i.strides[2]:1,D=P?1:i.strides[1],$=t.strides[0],B=P?t.strides[1]:t.strides[2],W=P?t.strides[2]:1,L=P?1:t.strides[1],z=0;z<p;++z)for(var U=0;U<y;++U)for(var Y=0;Y<v;++Y)for(var q=Y-T,V=Math.max(0,Math.ceil(q/E)),H=Math.min(b,(h+q)/E),Z=0;Z<g;++Z){for(var ue=Z-k,oe=Math.max(0,Math.ceil(ue/C)),ee=Math.min(w,(m+ue)/C),ne=0,pe=V;pe<H;++pe)for(var J=pe*E-q,se=oe;se<ee;++se)for(var j=$*z+B*pe+W*se,ce=c*(h-1-J)+f*(m-1-(se*C-ue))+d*U,re=0;re<x;++re)ne+=s[j+L*re]*u[ce+re];a[I*z+F*Y+A*Z+D*U]=ne}return i.toTensor()},r.prototype.conv3dDerInput=function(t,n,o){for(var i=hr(o.inShape,"float32"),a=i.values,s=i.strides,u=s[0],l=s[1],c=s[2],f=s[3],d=this.readSync(t.dataId),p=t.strides,h=p[0],m=p[1],y=p[2],v=p[3],g=this.readSync(n.dataId),x=n.strides,b=x[0],w=x[1],E=x[2],C=x[3],S=o.batchSize,T=o.filterDepth,k=o.filterHeight,P=o.filterWidth,I=o.inChannels,F=o.inDepth,A=o.inHeight,D=o.inWidth,$=o.outChannels,B=o.outDepth,W=o.outHeight,L=o.outWidth,z=o.strideDepth,U=o.strideHeight,Y=o.strideWidth,q=T-1-o.padInfo.front,V=k-1-o.padInfo.top,H=P-1-o.padInfo.left,Z=0;Z<S;++Z)for(var ue=0;ue<I;++ue)for(var oe=0;oe<F;++oe)for(var ee=oe-q,ne=Math.max(0,Math.ceil(ee/z)),pe=Math.min(B,(T+ee)/z),J=0;J<A;++J)for(var se=J-V,j=Math.max(0,Math.ceil(se/U)),ce=Math.min(W,(k+se)/U),re=0;re<D;++re){for(var Q=re-H,G=Math.max(0,Math.ceil(Q/Y)),X=Math.min(L,(P+Q)/Y),te=0,de=ne;de<pe;++de)for(var ae=de*z-ee,ye=j;ye<ce;++ye)for(var ie=ye*U-se,he=G;he<X;++he)for(var _e=h*Z+m*de+y*ye+v*he,Se=b*(T-1-ae)+w*(k-1-ie)+E*(P-1-(he*Y-Q))+C*ue,xe=0;xe<$;++xe)te+=d[_e+xe]*g[Se+xe];a[u*Z+l*oe+c*J+f*re+ue]=te}return i.toTensor()},r.prototype.conv2dDerFilter=function(t,n,o){ut([t,n],"conv2dDerFilter");for(var i=o.strideHeight,a=o.strideWidth,s=o.filterHeight,u=o.filterWidth,l=o.dataFormat==="channelsLast",c=hr(o.filterShape,"float32"),f=o.padInfo.left,d=o.padInfo.top,p=this.bufferSync(t),h=this.bufferSync(n),m=0;m<s;++m)for(var y=Math.max(0,Math.ceil((d-m)/i)),v=Math.min(o.outHeight,(o.inHeight+d-m)/i),g=0;g<u;++g)for(var x=Math.max(0,Math.ceil((f-g)/a)),b=Math.min(o.outWidth,(o.inWidth+f-g)/a),w=0;w<o.inChannels;++w)for(var E=0;E<o.outChannels;++E){for(var C=0,S=0;S<o.batchSize;++S)for(var T=y;T<v;++T)for(var k=m+T*i-d,P=x;P<b;++P){var I=g+P*a-f;C+=l?p.get(S,k,I,w)*h.get(S,T,P,E):p.get(S,w,k,I)*h.get(S,E,T,P)}c.set(C,m,g,w,E)}return c.toTensor()},r.prototype.conv3dDerFilter=function(t,n,o){for(var i=o.strideDepth,a=o.strideHeight,s=o.strideWidth,u=o.filterDepth,l=o.filterHeight,c=o.filterWidth,f=hr(o.filterShape,"float32"),d=f.values,p=f.strides,h=p[0],m=p[1],y=p[2],v=p[3],g=this.readSync(n.dataId),x=n.strides,b=x[0],w=x[1],E=x[2],C=x[3],S=this.readSync(t.dataId),T=t.strides,k=T[0],P=T[1],I=T[2],F=T[3],A=o.padInfo.front,D=o.padInfo.left,$=o.padInfo.top,B=0;B<u;++B)for(var W=Math.max(0,Math.ceil((A-B)/i)),L=Math.min(o.outDepth,(o.inDepth+A-B)/i),z=B*h,U=0;U<l;++U)for(var Y=Math.max(0,Math.ceil(($-U)/a)),q=Math.min(o.outHeight,(o.inHeight+$-U)/a),V=U*m+z,H=0;H<c;++H)for(var Z=Math.max(0,Math.ceil((D-H)/s)),ue=Math.min(o.outWidth,(o.inWidth+D-H)/s),oe=H*y+V,ee=0;ee<o.inChannels;++ee)for(var ne=ee*v+oe,pe=0;pe<o.outChannels;++pe){for(var J=0,se=0;se<o.batchSize;++se)for(var j=se*k,ce=se*b,re=W;re<L;++re)for(var Q=(B+re*i-A)*P+j,G=re*w+ce,X=Y;X<q;++X)for(var te=(U+X*a-$)*I+Q,de=X*E+G,ae=Z;ae<ue;++ae){var ye=ae*C+de;J+=S[(H+ae*s-D)*F+te+ee]*g[ye+pe]}d[ne+pe]=J}return f.toTensor()},r.prototype.fusedDepthwiseConv2D=function(t){var n=t.input,o=t.filter,i=t.convInfo,a=t.bias,s=t.activation,u=t.preluActivationWeights,l=this.depthwiseConv2D(n,o,i);return a&&(l=this.add(l,a)),s&&(l=wA(this,l,s,u)),l},r.prototype.depthwiseConv2D=function(t,n,o){ut([t,n],"depthwiseConv2D");for(var i=o.filterHeight,a=o.filterWidth,s=o.dilationHeight,u=o.dilationWidth,l=o.padInfo.left,c=o.padInfo.top,f=o.outChannels/o.inChannels,d=hr(o.outShape,t.dtype),p=this.readSync(t.dataId),h=this.readSync(n.dataId),m=d.values,y=0;y<o.batchSize;++y)for(var v=y*t.strides[0],g=y*d.strides[0],x=0;x<o.outHeight;++x)for(var b=g+x*d.strides[1],w=x*o.strideHeight-l,E=0;E<i;++E){var C=w+E*s;if(!(C<0||C>=o.inHeight))for(var S=E*n.strides[0],T=v+C*t.strides[1],k=0;k<o.outWidth;++k)for(var P=b+k*d.strides[2],I=k*o.strideWidth-c,F=0;F<a;++F){var A=I+F*u;if(!(A<0||A>=o.inWidth))for(var D=S+F*n.strides[1],$=T+A*o.inChannels,B=P,W=D,L=0;L<o.inChannels;++L){for(var z=p[$+L],U=0;U<f;++U)m[B+U]+=z*h[W+U];B+=f,W+=f}}}return d.toTensor()},r.prototype.depthwiseConv2DDerInput=function(t,n,o){ut([t,n],"depthwiseConv2DDerInput");for(var i=hr(o.inShape,"float32"),a=i.values,s=i.strides,u=s[0],l=s[1],c=s[2],f=this.readSync(t.dataId),d=t.strides,p=d[0],h=d[1],m=d[2],y=this.readSync(n.dataId),v=n.strides,g=v[0],x=v[1],b=v[2],w=o.batchSize,E=o.filterHeight,C=o.filterWidth,S=o.inChannels,T=o.inHeight,k=o.inWidth,P=o.outChannels,I=o.outHeight,F=o.outWidth,A=o.strideHeight,D=o.strideWidth,$=E-1-o.padInfo.top,B=C-1-o.padInfo.left,W=P/S,L=0;L<w;++L)for(var z=0;z<S;++z)for(var U=0;U<T;++U)for(var Y=U-$,q=Math.max(0,Math.ceil(Y/A)),V=Math.min(I,(E+Y)/A),H=0;H<k;++H){for(var Z=H-B,ue=Math.max(0,Math.ceil(Z/D)),oe=Math.min(F,(C+Z)/D),ee=0,ne=q;ne<V;++ne)for(var pe=ne*A-Y,J=ue;J<oe;++J)for(var se=p*L+h*ne+m*J,j=g*(E-1-pe)+x*(C-1-(J*D-Z))+b*z,ce=0;ce<W;++ce)ee+=f[se+(z*W+ce)]*y[j+ce];a[u*L+l*U+c*H+z]=ee}return i.toTensor()},r.prototype.depthwiseConv2DDerFilter=function(t,n,o){ut([t,n],"depthwiseConv2DDerFilter");for(var i=o.strideHeight,a=o.strideWidth,s=o.filterHeight,u=o.filterWidth,l=hr(o.filterShape,"float32"),c=o.padInfo.left,f=o.padInfo.top,d=o.outChannels/o.inChannels,p=this.bufferSync(t),h=this.bufferSync(n),m=0;m<s;++m)for(var y=Math.max(0,Math.ceil((f-m)/i)),v=Math.min(o.outHeight,(o.inHeight+f-m)/i),g=0;g<u;++g)for(var x=Math.max(0,Math.ceil((c-g)/a)),b=Math.min(o.outWidth,(o.inWidth+c-g)/a),w=0;w<o.outChannels;++w){for(var E=Math.trunc(w/d),C=w%d,S=0,T=0;T<o.batchSize;++T)for(var k=y;k<v;++k)for(var P=m+k*i-f,I=x;I<b;++I){var F=g+I*a-c;S+=p.get(T,P,F,E)*h.get(T,k,I,w)}l.set(S,m,g,E,C)}return l.toTensor()},r.prototype.tile=function(t,n){return ut(t,"tile"),sY(this.bufferSync(t),n)},r.prototype.pad=function(t,n,o){ut(t,"pad");var i=n.map(function(d,p){return d[0]+t.shape[p]+d[1]}),a=n.map(function(d){return d[0]}),s=this.bufferSync(t),u=hr(i,t.dtype);o!==0&&u.values.fill(o);for(var l=0;l<t.size;l++){var c=s.indexToLoc(l),f=c.map(function(d,p){return d+a[p]});u.set.apply(u,[s.get.apply(s,c)].concat(f))}return u.toTensor()},r.prototype.transpose=function(t,n){ut(t,"transpose");for(var o=new Array(t.rank),i=0;i<o.length;i++)o[i]=t.shape[n[i]];var a=this.readSync(t.dataId),s=hr(o,t.dtype),u=this.bufferSync(t);for(i=0;i<t.size;++i){for(var l=u.indexToLoc(i),c=new Array(l.length),f=0;f<c.length;f++)c[f]=l[n[f]];var d=s.locToIndex(c);s.values[d]=a[i]}return s.toTensor()},r.prototype.gather=function(t,n,o){ut([t,n],"gather");var i=t.shape.slice(),a=this.readSync(n.dataId);i[o]=a.length;for(var s=hr(i,t.dtype),u=this.bufferSync(t),l=0;l<s.size;++l){var c=s.indexToLoc(l),f=c.slice();f[o]=a[c[o]];var d=u.locToIndex(f);s.values[l]=u.values[d]}return s.toTensor()},r.prototype.batchToSpaceND=function(t,n,o){ut([t],"batchToSpaceND");var i=n.reduce(function(f,d){return f*d}),a=J2(t.shape,n,i),s=Z2(a.length,n.length),u=ew(t.shape,n,i),l=YG(o,n.length),c=KG(u,o,n.length);return t.reshape(a).transpose(s).reshape(u).slice(l,c)},r.prototype.spaceToBatchND=function(t,n,o){ut([t],"spaceToBatchND");var i=n.reduce(function(d,p){return d*p}),a=[[0,0]];a.push.apply(a,o);for(var s=1+n.length;s<t.shape.length;++s)a.push([0,0]);var u=t.pad(a),l=J2(u.shape,n,i,!1),c=Z2(l.length,n.length,!1),f=ew(u.shape,n,i,!1);return u.reshape(l).transpose(c).reshape(f)},r.prototype.pool=function(t,n,o){ut(t,"pool");for(var i=n.strideHeight,a=n.strideWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=n.padInfo.top,d=n.padInfo.left,p=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,h=this.readSync(t.dataId),m=hr(n.outShape,t.dtype),y=m.values,v=n.outShape[1]*n.outShape[2]*n.outShape[3],g=n.outShape[2]*n.outShape[3],x=n.outShape[3],b=0;b<n.batchSize;++b)for(var w=b*v,E=b*t.strides[0],C=0;C<n.inChannels;++C)for(var S=0;S<n.outHeight;++S)for(var T=S*i-f,k=Math.max(0,T),P=Math.min(n.inHeight,l+T),I=w+S*g,F=0;F<n.outWidth;++F){for(var A=F*a-d,D=Math.max(0,A),$=Math.min(n.inWidth,c+A),B=p,W=0,L=0,z=k;z<P;z+=s){for(var U=E+z*t.strides[1],Y=D;Y<$;Y+=u){var q=h[U+Y*t.strides[2]+C];o==="max"&&q>B?B=q:o==="avg"&&(W+=q,L++)}if(isNaN(B))break}y[I+F*x+C]=o==="avg"?W/L:B}return m.toTensor()},r.prototype.maxPool=function(t,n){return this.pool(t,n,"max")},r.prototype.maxPoolPositions=function(t,n){for(var o=hr(n.outShape,"int32"),i=n.strideHeight,a=n.strideWidth,s=n.dilationHeight,u=n.dilationWidth,l=n.effectiveFilterHeight,c=n.effectiveFilterWidth,f=n.padInfo.top,d=n.padInfo.left,p=this.bufferSync(t),h=0;h<n.batchSize;++h)for(var m=0;m<n.inChannels;++m)for(var y=0;y<n.outHeight;++y){for(var v=y*i-f,g=v;g<0;)g+=s;for(var x=Math.min(n.inHeight,l+v),b=0;b<n.outWidth;++b){for(var w=b*a-d,E=w;E<0;)E+=u;for(var C=Math.min(n.inWidth,c+w),S=Number.NEGATIVE_INFINITY,T=-1,k=g;k<x;k+=s)for(var P=k-v,I=E;I<C;I+=u){var F=I-w,A=p.get(h,k,I,m);A>S&&(S=A,T=P*c+F)}o.set(T,h,y,b,m)}}return o.toTensor()},r.prototype.maxPoolBackprop=function(t,n,o,i){ut([n,o],"maxPoolBackprop");for(var a=this.maxPoolPositions(n,i),s=i.strideHeight,u=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,f=i.effectiveFilterHeight,d=i.effectiveFilterWidth,p=d-1-i.padInfo.left,h=f-1-i.padInfo.top,m=hr(n.shape,"float32"),y=this.bufferSync(a),v=this.bufferSync(t),g=0;g<i.batchSize;++g)for(var x=0;x<i.inChannels;++x)for(var b=0;b<i.inHeight;++b)for(var w=0;w<i.inWidth;++w){for(var E=b-h,C=w-p,S=0,T=0;T<f;T+=l){var k=(E+T)/s;if(!(k<0||k>=i.outHeight||Math.floor(k)!==k))for(var P=0;P<d;P+=c){var I=(C+P)/u;if(!(I<0||I>=i.outWidth||Math.floor(I)!==I)){var F=f*d-1-y.get(g,k,I,x)===T*d+P?1:0;F!==0&&(S+=v.get(g,k,I,x)*F)}}}m.set(S,g,b,w,x)}return m.toTensor()},r.prototype.avgPoolBackprop=function(t,n,o){ut([t,n],"avgPoolBackprop");for(var i=o.strideHeight,a=o.strideWidth,s=o.filterHeight,u=o.filterWidth,l=o.dilationHeight,c=o.dilationWidth,f=o.effectiveFilterHeight,d=o.effectiveFilterWidth,p=d-1-o.padInfo.left,h=f-1-o.padInfo.top,m=hr(n.shape,"float32"),y=1/(s*u),v=this.bufferSync(t),g=0;g<o.batchSize;++g)for(var x=0;x<o.inChannels;++x)for(var b=0;b<o.inHeight;++b)for(var w=0;w<o.inWidth;++w){for(var E=b-h,C=w-p,S=0,T=0;T<f;T+=l){var k=(E+T)/i;if(!(k<0||k>=o.outHeight||Math.floor(k)!==k))for(var P=0;P<d;P+=c){var I=(C+P)/a;I<0||I>=o.outWidth||Math.floor(I)!==I||(S+=v.get(g,k,I,x))}}m.set(S*y,g,b,w,x)}return m.toTensor()},r.prototype.pool3d=function(t,n,o){ut(t,"pool3d");for(var i=n.strideDepth,a=n.strideHeight,s=n.strideWidth,u=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,f=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,h=n.padInfo.front,m=n.padInfo.top,y=n.padInfo.left,v=o==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(t.dataId),x=hr(n.outShape,t.dtype),b=x.values,w=n.outShape[1]*n.outShape[2]*n.outShape[3]*n.outShape[4],E=n.outShape[2]*n.outShape[3]*n.outShape[4],C=n.outShape[3]*n.outShape[4],S=n.outShape[4],T=0;T<n.batchSize;++T)for(var k=T*w,P=T*t.strides[0],I=0;I<n.inChannels;++I)for(var F=0;F<n.outDepth;++F){for(var A=F*i-h,D=A;D<0;)D+=u;for(var $=Math.min(n.inDepth,f+A),B=k+F*E,W=0;W<n.outHeight;++W){for(var L=W*a-m,z=L;z<0;)z+=l;for(var U=Math.min(n.inHeight,d+L),Y=B+W*C,q=0;q<n.outWidth;++q){for(var V=q*s-y,H=V;H<0;)H+=c;for(var Z=Math.min(n.inWidth,p+V),ue=Y+q*S,oe=v,ee=0,ne=0,pe=D;pe<$;pe+=u){for(var J=P+pe*t.strides[1],se=z;se<U;se+=l){for(var j=J+se*t.strides[2],ce=H;ce<Z;ce+=c){var re=g[j+ce*t.strides[3]+I];if(o==="max"&&re>oe?oe=re:o==="avg"&&(ee+=re,ne++),isNaN(oe))break}if(isNaN(oe))break}if(isNaN(oe))break}b[ue+I]=o==="avg"?ee/ne:oe}}}return x.toTensor()},r.prototype.avgPool3d=function(t,n){return ut(t,"avgPool3d"),this.pool3d(t,n,"avg").toFloat()},r.prototype.avgPool3dBackprop=function(t,n,o){ut([t,n],"avgPool3dBackprop");for(var i=o.strideDepth,a=o.strideHeight,s=o.strideWidth,u=o.filterDepth,l=o.filterHeight,c=o.filterWidth,f=o.dilationDepth,d=o.dilationHeight,p=o.dilationWidth,h=o.effectiveFilterDepth,m=o.effectiveFilterHeight,y=o.effectiveFilterWidth,v=h-1-o.padInfo.front,g=y-1-o.padInfo.left,x=m-1-o.padInfo.top,b=hr(n.shape,"float32"),w=1/(u*l*c),E=this.bufferSync(t),C=0;C<o.batchSize;++C)for(var S=0;S<o.inChannels;++S)for(var T=0;T<o.inDepth;++T)for(var k=0;k<o.inHeight;++k)for(var P=0;P<o.inWidth;++P){for(var I=T-v,F=k-x,A=P-g,D=0,$=0;$<h;$+=f){var B=(I+$)/i;if(!(B<0||B>=o.outDepth||Math.floor(B)!==B))for(var W=0;W<m;W+=d){var L=(F+W)/a;if(!(L<0||L>=o.outHeight||Math.floor(L)!==L))for(var z=0;z<y;z+=p){var U=(A+z)/s;U<0||U>=o.outWidth||Math.floor(U)!==U||(D+=E.get(C,B,L,U,S))}}}b.set(D*w,C,T,k,P,S)}return b.toTensor()},r.prototype.maxPool3d=function(t,n){return ut(t,"maxPool3d"),this.pool3d(t,n,"max").toFloat()},r.prototype.maxPool3dPositions=function(t,n){for(var o=hr(n.outShape,"int32"),i=n.strideDepth,a=n.strideHeight,s=n.strideWidth,u=n.dilationDepth,l=n.dilationHeight,c=n.dilationWidth,f=n.effectiveFilterDepth,d=n.effectiveFilterHeight,p=n.effectiveFilterWidth,h=n.padInfo.front,m=n.padInfo.top,y=n.padInfo.left,v=this.bufferSync(t),g=0;g<n.batchSize;++g)for(var x=0;x<n.inChannels;++x)for(var b=0;b<n.outDepth;++b){for(var w=b*i-h,E=w;E<0;)E+=u;for(var C=Math.min(n.inDepth,f+w),S=0;S<n.outHeight;++S){for(var T=S*a-m,k=T;k<0;)k+=l;for(var P=Math.min(n.inHeight,d+T),I=0;I<n.outWidth;++I){for(var F=I*s-y,A=F;A<0;)A+=c;for(var D=Math.min(n.inWidth,p+F),$=Number.NEGATIVE_INFINITY,B=-1,W=E;W<C;W+=u)for(var L=W-w,z=k;z<P;z+=l)for(var U=z-T,Y=A;Y<D;Y+=c){var q=Y-F,V=v.get(g,W,z,Y,x);V>=$&&($=V,B=L*d*p+U*d+q)}o.set(B,g,b,S,I,x)}}}return o.toTensor()},r.prototype.maxPool3dBackprop=function(t,n,o,i){ut([n,o],"maxPool3dBackprop");for(var a=this.maxPool3dPositions(n,i),s=i.strideDepth,u=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,f=i.dilationHeight,d=i.dilationWidth,p=i.effectiveFilterDepth,h=i.effectiveFilterHeight,m=i.effectiveFilterWidth,y=p-1-i.padInfo.front,v=m-1-i.padInfo.left,g=h-1-i.padInfo.top,x=hr(n.shape,"float32"),b=this.bufferSync(a),w=this.bufferSync(t),E=0;E<i.batchSize;++E)for(var C=0;C<i.inChannels;++C)for(var S=0;S<i.inDepth;++S)for(var T=0;T<i.inHeight;++T)for(var k=0;k<i.inWidth;++k){for(var P=S-y,I=T-g,F=k-v,A=0,D=0;D<p;D+=c){var $=(P+D)/s;if(!($<0||$>=i.outDepth||Math.floor($)!==$))for(var B=0;B<h;B+=f){var W=(I+B)/u;if(!(W<0||W>=i.outHeight||Math.floor(W)!==W))for(var L=0;L<m;L+=d){var z=(F+L)/l;if(!(z<0||z>=i.outWidth||Math.floor(z)!==z)){var U=p*h*m-1-b.get(E,$,W,z,C)===D*h*m+B*m+L?1:0;U!==0&&(A+=w.get(E,$,W,z,C)*U)}}}}x.set(A,E,S,T,k,C)}return x.toTensor()},r.prototype.cast=function(t,n){return nY(t,n,this)},r.prototype.reshape=function(t,n){return MD(t,n)},r.prototype.avgPool=function(t,n){return ut(t,"avgPool"),this.pool(t,n,"avg").toFloat()},r.prototype.resizeBilinear=function(t,n,o,i){ut(t,"resizeBilinear");for(var a=t.shape,s=a[0],u=a[1],l=a[2],c=a[3],f=this.readSync(t.dataId),d=new Float32Array(qt([s,n,o,c])),p=[i&&n>1?u-1:u,i&&o>1?l-1:l],h=[i&&n>1?n-1:n,i&&o>1?o-1:o],m=0,y=p[0]/h[0],v=p[1]/h[1],g=0;g<s;g++)for(var x=0;x<n;x++)for(var b=y*x,w=Math.floor(b),E=b-w,C=Math.min(u-1,Math.ceil(b)),S=g*t.strides[0]+w*t.strides[1],T=g*t.strides[0]+C*t.strides[1],k=0;k<o;k++)for(var P=v*k,I=Math.floor(P),F=P-I,A=Math.min(l-1,Math.ceil(P)),D=S+I*t.strides[2],$=T+I*t.strides[2],B=S+A*t.strides[2],W=T+A*t.strides[2],L=0;L<c;L++){var z=f[D+L],U=f[$+L],Y=z+(f[B+L]-z)*F,q=Y+(U+(f[W+L]-U)*F-Y)*E;d[m++]=q}return ni(d,[s,n,o,c])},r.prototype.resizeBilinearBackprop=function(t,n,o){ut([t,n],"resizeBilinearBackprop");for(var i=n.shape,a=i[0],s=i[1],u=i[2],l=i[3],c=t.shape,f=c[1],d=c[2],p=new Float32Array(a*s*u*l),h=[o&&f>1?s-1:s,o&&d>1?u-1:u],m=[o&&f>1?f-1:f,o&&d>1?d-1:d],y=h[0]/m[0],v=h[1]/m[1],g=this.readSync(t.dataId),x=0,b=0;b<a;b++)for(var w=b*n.strides[0],E=0;E<f;E++)for(var C=E*y,S=Math.floor(C),T=Math.min(Math.ceil(C),s-1),k=w+S*n.strides[1],P=w+T*n.strides[1],I=C-S,F=1-I,A=0;A<d;A++)for(var D=A*v,$=Math.floor(D),B=Math.min(Math.ceil(D),u-1),W=D-$,L=1-W,z=k+$*n.strides[2],U=k+B*n.strides[2],Y=P+$*n.strides[2],q=P+B*n.strides[2],V=F*L,H=F*W,Z=I*L,ue=I*W,oe=0;oe<l;oe++){var ee=g[x++];p[z+oe]+=ee*V,p[U+oe]+=ee*H,p[Y+oe]+=ee*Z,p[q+oe]+=ee*ue}return sa(p,[a,u,s,l],n.dtype)},r.prototype.resizeNearestNeighbor=function(t,n,o,i){ut(t,"resizeNearestNeighbor");for(var a=t.shape,s=a[0],u=a[1],l=a[2],c=a[3],f=this.readSync(t.dataId),d=new Float32Array(s*n*o*c),p=[i&&n>1?u-1:u,i&&o>1?l-1:l],h=[i&&n>1?n-1:n,i&&o>1?o-1:o],m=p[0]/h[0],y=p[1]/h[1],v=0,g=0;g<s;g++)for(var x=g*t.strides[0],b=0;b<n;b++)for(var w=m*b,E=x+Math.min(u-1,i?Math.round(w):Math.floor(w))*t.strides[1],C=0;C<o;C++)for(var S=y*C,T=E+Math.min(l-1,i?Math.round(S):Math.floor(S))*t.strides[2],k=0;k<c;k++){var P=f[T+k];d[v++]=P}return ni(d,[s,n,o,c],t.dtype)},r.prototype.resizeNearestNeighborBackprop=function(t,n,o){ut([t,n],"resizeNearestNeighborBackprop");for(var i=n.shape,a=i[0],s=i[1],u=i[2],l=i[3],c=t.shape,f=c[1],d=c[2],p=new Float32Array(a*s*u*l),h=this.readSync(t.dataId),m=[o&&f>1?s-1:s,o&&d>1?u-1:u],y=[o&&f>1?f-1:f,o&&d>1?d-1:d],v=m[0]/y[0],g=m[1]/y[1],x=1/v,b=1/g,w=2*Math.ceil(x)+2,E=2*Math.ceil(b)+2,C=0;C<a;C++)for(var S=C*n.strides[0],T=0;T<s;T++)for(var k=S+T*n.strides[1],P=Math.floor(T*x),I=Math.floor(P-w/2),F=0;F<u;F++)for(var A=k+F*n.strides[2],D=Math.floor(F*b),$=Math.floor(D-E/2),B=0;B<l;B++){for(var W=0,L=0;L<w;L++){var z=L+I;if(!(z<0||z>=f)){var U=S+z*t.strides[1],Y=z*v;if(T===Math.min(s-1,o?Math.round(Y):Math.floor(Y)))for(var q=0;q<E;q++){var V=q+$;if(!(V<0||V>=d)){var H=U+V*t.strides[2],Z=V*g;F===Math.min(u-1,o?Math.round(Z):Math.floor(Z))&&(W+=h[H+B])}}}}p[A+B]=W}return sa(p,n.shape,n.dtype)},r.prototype.batchNormalization=function(t,n,o,i,a,s){ut([t,n,o,a,s],"batchNorm");for(var u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=this.readSync(o.dataId),f=a?this.readSync(a.dataId):new Float32Array([1]),d=s?this.readSync(s.dataId):new Float32Array([0]),p=new Float32Array(u.length),h=d.length,m=f.length,y=c.length,v=l.length,g=0,x=0,b=0,w=0,E=0;E<u.length;++E)p[E]=d[g++]+(u[E]-l[x++])*f[b++]/Math.sqrt(c[w++]+i),g>=h&&(g=0),x>=v&&(x=0),b>=m&&(b=0),w>=y&&(w=0);return sa(p,t.shape)},r.prototype.localResponseNormalization4D=function(t,n,o,i,a){ut(t,"localResponseNormalization4D");var s=t.shape[3],u=s-1,l=this.readSync(t.dataId),c=t.size,f=new Float32Array(c);function d(y){for(var v=y%s,g=y-v+Math.max(0,v-n),x=y-v+Math.min(v+n,u),b=0;g<=x;g++){var w=l[g];b+=w*w}return b}for(var p=0;p<c;p++){var h=d(p),m=l[p]*Math.pow(o+i*h,-a);f[p]=m}return sa(f,t.shape)},r.prototype.LRNGrad=function(t,n,o,i,a,s,u){ut(t,"LRNGrad");for(var l=t.shape[3],c=this.readSync(t.dataId),f=this.readSync(n.dataId),d=this.readSync(o.dataId),p=new Float32Array(t.size),h=t.size,m=0;m<h;m++){for(var y=m%l,v=m-y+Math.max(0,y-i),g=m-y+Math.min(l,y+i+1),x=0,b=v;b<g;b++)x+=Math.pow(f[b],2);for(x=s*x+a,b=v;b<g;b++){var w=-2*s*u*f[b]*d[m]/x;m===b&&(w+=Math.pow(x,-u)),w*=c[m],p[b]+=w}}return sa(p,t.shape)},r.prototype.multinomial=function(t,n,o,i){ut(t,"multinomial");for(var a=n?t:cc(t),s=a.shape[0],u=a.shape[1],l=Dn([s,o],"int32"),c=this.readSync(l.dataId),f=this.readSync(a.dataId),d=0;d<s;++d){var p=d*u,h=new Float32Array(u-1);h[0]=f[p];for(var m=1;m<h.length;++m)h[m]=h[m-1]+f[p+m];for(var y=bC(i.toString()),v=d*o,g=0;g<o;++g){var x=y();c[v+g]=h.length;for(var b=0;b<h.length;b++)if(x<h[b]){c[v+g]=b;break}}}return l},r.prototype.oneHot=function(t,n,o,i){ut(t,"oneHot");var a=new Float32Array(t.size*n);a.fill(i);for(var s=this.readSync(t.dataId),u=0;u<t.size;++u)s[u]>=0&&s[u]<n&&(a[u*n+s[u]]=o);return nf(a,[t.size,n],"int32")},r.prototype.nonMaxSuppression=function(t,n,o,i,a){return ut(t,"nonMaxSuppression"),b3(this.readSync(t.dataId),this.readSync(n.dataId),o,i,a)},r.prototype.fft=function(t){return this.fftBatch(t,!1)},r.prototype.ifft=function(t){return this.fftBatch(t,!0)},r.prototype.fftBatch=function(t,n){for(var o=t.shape[0],i=t.shape[1],a=hr(t.shape,"float32"),s=hr(t.shape,"float32"),u=gs(t).as2D(o,i),l=Lu(t).as2D(o,i),c=0;c<o;c++)for(var f=u.slice([c,0],[1,i]),d=l.slice([c,0],[1,i]),p=ei(f,d),h=this.readSync(this.fftImpl(p,n).dataId),m=0;m<i;m++){var y=qW(h,m);a.values[c*i+m]=y.real,s.values[c*i+m]=y.imag}return ei(a.toTensor(),s.toTensor()).as2D(o,i)},r.prototype.fftImpl=function(t,n){var o=t.as1D(),i=o.size;if(this.isExponentOf2(i)){var a=this.fftRadix2(o,i,n).as2D(t.shape[0],t.shape[1]);return n&&(a=ei(gs(a).div(Ct(i)),Lu(a).div(Ct(i)))),a}var s=this.readSync(t.dataId),u=function(l){for(var c=new Float32Array(l.length/2),f=new Float32Array(l.length/2),d=0;d<l.length;d+=2)c[d/2]=l[d],f[d/2]=l[d+1];return{real:c,imag:f}}(this.fourierTransformByMatmul(s,i,n));return ei(u.real,u.imag).as2D(t.shape[0],t.shape[1])},r.prototype.isExponentOf2=function(t){return(t&t-1)==0},r.prototype.fftRadix2=function(t,n,o){if(n===1)return t;var i=this.readSync(t.dataId),a=n/2,s=function(v){for(var g=Math.ceil(v.length/4),x=new Float32Array(g),b=new Float32Array(g),w=0;w<v.length;w+=4)x[Math.floor(w/4)]=v[w],b[Math.floor(w/4)]=v[w+1];return{real:x,imag:b}}(i),u=ei(s.real,s.imag).as1D(),l=function(v){for(var g=Math.floor(v.length/4),x=new Float32Array(g),b=new Float32Array(g),w=2;w<v.length;w+=4)x[Math.floor(w/4)]=v[w],b[Math.floor(w/4)]=v[w+1];return{real:x,imag:b}}(i),c=ei(l.real,l.imag).as1D();u=this.fftRadix2(u,a,o),c=this.fftRadix2(c,a,o);var f=function(v,g){for(var x=new Float32Array(v/2),b=new Float32Array(v/2),w=0;w<Math.ceil(v/2);w++){var E=(g?2:-2)*Math.PI*(w/v);x[w]=Math.cos(E),b[w]=Math.sin(E)}return{real:x,imag:b}}(n,o),d=ei(f.real,f.imag).mul(c),p=u.add(d),h=u.sub(d),m=gs(p).concat(gs(h)),y=Lu(p).concat(Lu(h));return ei(m,y).as1D()},r.prototype.fourierTransformByMatmul=function(t,n,o){for(var i=new Float32Array(2*n),a=0;a<n;a++){for(var s=0,u=0,l=0;l<n;l++){var c=QDe(a*l,n,o),f=qW(t,l);s+=f.real*c.real-f.imag*c.imag,u+=f.real*c.imag+f.imag*c.real}o&&(s/=n,u/=n),XDe(i,s,u,a)}return i},r.prototype.depthToSpace=function(t,n,o){be(o==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+o}),be(n>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+n});for(var i=t.shape[0],a=t.shape[1],s=t.shape[2],u=t.shape[3],l=a*n,c=s*n,f=u/(n*n),d=this.readSync(t.dataId),p=new Float32Array(i*l*c*f),h=0,m=0;m<i;++m)for(var y=0;y<l;++y)for(var v=Math.floor(y/n),g=y%n,x=0;x<c;++x)for(var b=Math.floor(x/n),w=(g*n+x%n)*f,E=0;E<f;++E){var C=E+w+u*(b+s*(v+a*m));p[h++]=d[C]}return sa(p,[i,l,c,f])},r.prototype.broadcastedBinaryOp=function(t,n,o,i){var a=Nr(t.shape,n.shape),s=hr(a,o),u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=Wc(t.shape,a),f=Wc(n.shape,a),d=s.values;if(c.length+f.length===0)for(var p=0;p<d.length;++p)d[p]=i(u[p%u.length],l[p%l.length]);else{var h=this.bufferSync(t),m=this.bufferSync(n),y=function(v){var g=s.indexToLoc(v),x=g.slice(-t.rank);c.forEach(function(C){return x[C]=0});var b=h.locToIndex(x),w=g.slice(-n.rank);f.forEach(function(C){return w[C]=0});var E=m.locToIndex(w);d[v]=i(u[b],l[E])};for(p=0;p<d.length;++p)y(p)}return s.toTensor()},r.prototype.broadcastedBinaryComplexOp=function(t,n,o){var i=Nr(t.shape,n.shape),a=hr(i,"float32"),s=hr(i,"float32"),u=this.readSync(t.dataId),l=this.readSync(n.dataId),c=Wc(t.shape,i),f=Wc(n.shape,i),d=a.values,p=s.values;if(c.length+f.length===0)for(var h=0;h<d.length;h++){var m=h%u.length,y=h%l.length,v=o(u[2*m],u[2*m+1],l[2*y],l[2*y+1]);d[h]=v.real,p[h]=v.imag}else{var g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),x=this.bufferSync(this.data.get(n.dataId).complexTensors.real),b=function(w){var E=a.indexToLoc(w),C=E.slice(-t.rank);c.forEach(function(I){return C[I]=0});var S=g.locToIndex(C),T=E.slice(-n.rank);f.forEach(function(I){return T[I]=0});var k=x.locToIndex(T),P=o(u[2*S],u[2*S+1],l[2*k],l[2*k+1]);d[w]=P.real,p[w]=P.imag};for(h=0;h<d.length;h++)b(h)}return this.complex(a.toTensor(),s.toTensor())},r.prototype.split=function(t,n,o){return aY(t,n,o)},r.prototype.dispose=function(){},r.prototype.floatPrecision=function(){return 32},r.prototype.epsilon=function(){return 1e-7},r.prototype.cropAndResize=function(t,n,o,i,a,s){for(var u=t.shape,l=u[0],c=u[1],f=u[2],d=u[3],p=n.shape[0],h=i[0],m=i[1],y=hr([p,h,m,d],"float32"),v=this.readSync(n.dataId),g=this.readSync(o.dataId),x=this.readSync(t.dataId),b=t.strides,w=y.strides,E=0;E<p;E++){var C=4*E,S=v[C],T=v[C+1],k=v[C+2],P=v[C+3],I=g[E];if(!(I>=l))for(var F=h>1?(k-S)*(c-1)/(h-1):0,A=m>1?(P-T)*(f-1)/(m-1):0,D=0;D<h;D++){var $=h>1?S*(c-1)+D*F:.5*(S+k)*(c-1);if($<0||$>c-1)for(var B=0;B<m;B++)for(var W=0;W<d;W++){var L=W+B*w[2]+D*w[1]+E*w[0];y.values[L]=s}else if(a==="bilinear"){var z=Math.floor($),U=Math.ceil($),Y=$-z;for(B=0;B<m;B++)if((pe=m>1?T*(f-1)+B*A:.5*(T+P)*(f-1))<0||pe>f-1)for(W=0;W<d;W++)L=W+B*w[2]+D*w[1]+E*w[0],y.values[L]=s;else{var q=Math.floor(pe),V=Math.ceil(pe),H=pe-q;for(W=0;W<d;W++){var Z=x[L=W+q*b[2]+z*b[1]+I*b[0]],ue=x[L=W+V*b[2]+z*b[1]+I*b[0]],oe=x[L=W+q*b[2]+U*b[1]+I*b[0]],ee=Z+(ue-Z)*H,ne=oe+(x[L=W+V*b[2]+U*b[1]+I*b[0]]-oe)*H;L=W+B*w[2]+D*w[1]+E*w[0],y.values[L]=ee+(ne-ee)*Y}}}else for(B=0;B<m;++B){var pe;if((pe=m>1?T*(f-1)+B*A:.5*(T+P)*(f-1))<0||pe>f-1)for(W=0;W<d;W++)L=W+B*w[2]+D*w[1]+E*w[0],y.values[L]=s;else{var J=Math.round(pe),se=Math.round($);for(W=0;W<d;W++){var j=W+J*b[2]+se*b[1]+I*b[0],ce=W+B*w[2]+D*w[1]+E*w[0];y.values[ce]=x[j]}}}}}return y.toTensor()},r.prototype.sparseToDense=function(t,n,o,i){var a=tw(0,t,o),s=a.sliceRank,u=a.numUpdates,l=a.sliceSize,c=a.strides,f=a.outputSize;return this.scatter(t,n,o,f,l,u,s,c,i,!1)},r.prototype.gatherND=function(t,n){var o=n.shape,i=o[o.length-1],a=XG(t,n),s=a[0],u=a[1],l=a[2],c=a[3];if(u===0)return ni([],s,t.dtype);for(var f=new S0([u,l],t.dtype),d=this.readSync(n.dataId),p=this.readSync(t.dataId),h=0;h<u;h++){for(var m=[],y=0,v=0;v<i;v++){var g=d[h*i+v];y+=g*c[v],m.push(g)}if(y<0||y>=t.size/l)throw new Error("Invalid indices: "+m+" does not index into "+t.shape);for(var x=0;x<l;x++)f.values[h*l+x]=p[y*l+x]}return f.toTensor().reshape(s)},r.prototype.scatterND=function(t,n,o){var i=tw(0,t,o),a=i.sliceRank,s=i.numUpdates,u=i.sliceSize,l=i.strides,c=i.outputSize,f=Ct(0);return this.scatter(t,n,o,c,u,s,a,l,f,!0)},r.prototype.fill=function(t,n,o){var i=H2(o=o||hy(n),qt(t));return i.fill(n),Oe.makeTensor(i,t,o,this)},r.prototype.onesLike=function(t){if(t.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(t.shape,1,t.dtype)},r.prototype.zerosLike=function(t){var n=H2(t.dtype,qt(t.shape));return this.makeOutput(n,t.shape,t.dtype)},r.prototype.linspace=function(t,n,o){return oY(t,n,o)},r.prototype.scatter=function(t,n,o,i,a,s,u,l,c,f){var d=[i/a,a],p=this.readSync(t.dataId),h=this.readSync(n.dataId);if(i===0)return ni([],o,n.dtype);var m=new S0(d,n.dtype);m.values.fill(this.readSync(c.dataId)[0]);for(var y=0;y<s;y++){for(var v=[],g=0,x=0;x<u;x++){var b=p[y*u+x];v.push(b),g+=b*l[x]}if(g<0||g>=i/a)throw new Error("Invalid indices: "+v+" does not index into "+o);for(var w=0;w<a;w++)f?m.values[g*a+w]+=h[y*a+w]:m.values[g*a+w]=n.rank===0?h[0]:h[y*a+w]}return m.toTensor().reshape(o)},r}(tY);Oe.registerBackend("cpu",function(){return new gMe},1);for(var SA=0,dU=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=e.attrs,o=r,i=o.boxes,a=o.scores,s=n,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=t;ut(i,"NonMaxSuppressionWithScore");var p=_3(d.data.get(i.dataId).values,d.data.get(a.dataId).values,u,l,c,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=r.x,o=t;ut(n,"square");for(var i=o.data.get(n.dataId).values,a=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];a[s]=u*u}return{dataId:o.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:k0,backendName:"cpu",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=r,o=n.a,i=n.b,a=t;ut([o,i],k0);var s=a.data.get(o.dataId).values,u=a.data.get(i.dataId).values,l=function(d,p,h,m,y,v){var g=Nr(d,p),x=g.length,b=Ku(g),w=w0(y,qt(g)),E=d.length,C=p.length,S=Ku(d),T=Ku(p),k=Wc(d,g),P=Wc(p,g);if(k.length+P.length===0)for(var I=0;I<w.length;++I)w[I]=v(h[I%h.length],m[I%m.length]);else{var F=function(A){var D=ROe(A,x,b),$=D.slice(-E);k.forEach(function(z){return $[z]=0});var B=MW($,E,S),W=D.slice(-C);P.forEach(function(z){return W[z]=0});var L=MW(W,C,T);w[A]=v(h[B],m[L])};for(I=0;I<w.length;++I)F(I)}return[w,g]}(o.shape,i.shape,s,u,o.dtype,function(d,p){var h=d-p;return h*h}),c=l[0],f=l[1];return{dataId:a.write(c,f,o.dtype),shape:f,dtype:o.dtype}}}];SA<dU.length;SA++)AG(dU[SA]);var zp,yMe=function(e){this.variableNames=["A"];var r=_i(),t=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+n+".0, "+t+`.0);

        vec4 values = `+r.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},xMe=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=_i(),t=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+n+".0, "+t+`.0);
            vec4 values = `+r.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+r.output+` = result;
      }
    `};for(var CA=0,pU=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=e.attrs,o=r.pixels,i=n.numChannels,a=typeof HTMLVideoElement<"u"&&o instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement,u=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],l=u[0],c=u[1],f=[c,l],d=[c,l,i];(s||a)&&(zp==null&&(zp=document.createElement("canvas").getContext("2d")),zp.canvas.width=l,zp.canvas.height=c,zp.drawImage(o,0,0,l,c),o=zp.canvas);var p=t.makeTensorInfo(f,"int32");t.texData.get(p.dataId).usage=Fa.PIXELS,t.gpgpu.uploadPixelDataToTexture(t.getTexture(p.dataId),o);var h=Je().getBool("WEBGL_PACK")?new xMe(d):new yMe(d),m=t.runWebGLProgram(h,[p],"int32");return t.disposeData(p.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=e.attrs;K2("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=r,i=o.boxes,a=o.scores,s=n,u=s.maxOutputSize,l=s.iouThreshold,c=s.scoreThreshold,f=s.softNmsSigma,d=t,p=_3(d.readSync(i.dataId),d.readSync(a.dataId),u,l,c,f);return[p.selectedIndices,p.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=r.x,o=t,i=new yr(n.shape,"return x * x;");return o.runWebGLProgram(i,[n],n.dtype)}},{kernelName:k0,backendName:"webgl",kernelFunc:function(e){var r=e.inputs,t=e.backend,n=r,o=n.a,i=n.b,a=t,s=Je().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Pl("return (a - b) * (a - b);",o.shape,i.shape):new Xn("return (a - b) * (a - b);",o.shape,i.shape);return a.compileAndRun(s,[o,i])}}];CA<pU.length;CA++)AG(pU[CA]);for(var EA=0,hU=[{kernelName:"Square",gradFunc:function(e,r){var t=r[0];return{x:function(){return e.mul(t.toFloat().mul(2))}}}},{kernelName:k0,gradFunc:function(e,r){var t=r[0],n=r[1],o=Ct(2);return{a:function(){return Si(e,Si(o,Do(t,n)))},b:function(){return Si(e,Si(o,Do(n,t)))}}}}];EA<hU.length;EA++)mOe(hU[EA]);var bMe=function(){function e(){}return e.prototype.fetch=function(r,t){return fetch(r,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(r,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+t);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(r)},e.prototype.decode=function(r,t){return new TextDecoder(t).decode(r)},e}();Je().get("IS_BROWSER")&&Je().setPlatform("browser",new bMe);var kA,_Me=function(){return require("node-fetch")},wMe=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(r,t){return Je().global.fetch!=null?Je().global.fetch(r,t):(kA==null&&(kA=_Me()),kA(r,t))},e.prototype.now=function(){var r=process.hrtime();return 1e3*r[0]+r[1]/1e6},e.prototype.encode=function(r,t){if(t!=="utf-8"&&t!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(r)},e.prototype.decode=function(r,t){return r.length===0?"":new this.util.TextDecoder(t).decode(r)},e}();Je().get("IS_NODE")&&Je().setPlatform("node",new wMe);var BD={float32:4,int32:4,uint16:2,uint8:1,bool:1},uw=4;function JY(e,r){for(var t={},n=0,o=function(s){var u=s.name,l=s.dtype,c=s.shape,f=qt(c),d=void 0;if("quantization"in s){var p=s.quantization;if(p.dtype!=="uint8"&&p.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+p.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var h=BD[p.dtype],m=e.slice(n,n+f*h),y=p.dtype==="uint8"?new Uint8Array(m):new Uint16Array(m);if(l==="float32")d=Float32Array.from(y,function(E){return E*p.scale+p.min});else{if(l!=="int32")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=Int32Array.from(y,function(E){return Math.round(E*p.scale+p.min)})}n+=f*h}else if(l==="string"){var v=qt(s.shape);d=[];for(var g=0;g<v;g++){var x=new Uint32Array(e.slice(n,n+uw))[0];n+=uw;var b=new Uint8Array(e.slice(n,n+x));d.push(b),n+=x}}else{var w=BD[l];if(m=e.slice(n,n+f*w),l==="float32")d=new Float32Array(m);else if(l==="int32")d=new Int32Array(m);else{if(l!=="bool")throw new Error("Unsupported dtype in weight '"+u+"': "+l);d=new Uint8Array(m)}n+=f*w}t[u]=ni(d,c,l)},i=0,a=r;i<a.length;i++)o(a[i]);return t}function SMe(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var r=0,t=[];e.forEach(function(i){if(r+=i.byteLength,t.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)});var n=new Uint8Array(r),o=0;return t.forEach(function(i){n.set(new Uint8Array(i.buffer),o),o+=i.byteLength}),n.buffer}var jD=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function vU(e){return jD?Buffer.byteLength(e):new Blob([e]).size}function $3(e){var r=0;e.forEach(function(o){r+=o.byteLength});var t=new Uint8Array(r),n=0;return e.forEach(function(o){t.set(new Uint8Array(o),n),n+=o.byteLength}),t.buffer}function mU(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var r=e.split("/");return r[r.length-1]}function _y(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:vU(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:vU(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var La=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(r){e.getInstance().saveRouters.push(r)},e.registerLoadRouter=function(r){e.getInstance().loadRouters.push(r)},e.getSaveHandlers=function(r){return e.getHandlers(r,"save")},e.getLoadHandlers=function(r,t){return e.getHandlers(r,"load",t)},e.getHandlers=function(r,t,n){var o=[];return(t==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(i){var a=i(r,n);a!==null&&o.push(a)}),o},e}(),Ph="://",of=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(r,t){be(r!=null,function(){return"scheme must not be undefined or null."}),r.endsWith(Ph)&&(r=r.slice(0,r.indexOf(Ph))),be(r.length>0,function(){return"scheme must not be an empty string."});var n=e.getInstance();be(n.managers[r]==null,function(){return"A model store manager is already registered for scheme '"+r+"'."}),n.managers[r]=t},e.getManager=function(r){var t=this.getInstance().managers[r];if(t==null)throw new Error("Cannot find model manager for scheme '"+r+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function $_(e){if(e.indexOf(Ph)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+of.getSchemes().join(","));return{scheme:e.split(Ph)[0],path:e.split(Ph)[1]}}function gU(e,r,t){return t===void 0&&(t=!1),zt(this,void 0,void 0,function(){var n,o,i,a,s,u,l,c,f;return Wt(this,function(d){switch(d.label){case 0:return be(e!==r,function(){return"Old path and new path are the same: '"+e+"'"}),be((n=La.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),be(n.length<2,function(){return"Copying failed because more than one ("+n.length+") load handlers for source URL "+e+"."}),o=n[0],be((i=La.getSaveHandlers(r)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+r+"."}),be(i.length<2,function(){return"Copying failed because more than one ("+n.length+") save handlers for destination URL "+r+"."}),a=i[0],s=$_(e).scheme,u=$_(e).path,l=s===$_(e).scheme,[4,o.load()];case 1:return c=d.sent(),t&&l?[4,of.getManager(s).removeModel(u)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,a.save(c)];case 4:return f=d.sent(),!t||l?[3,6]:[4,of.getManager(s).removeModel(u)];case 5:d.sent(),d.label=6;case 6:return[2,f.modelArtifactsInfo]}})})}var gd="models_store",Uc="model_info_store";function ZY(){if(!Je().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,r=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(r==null)throw new Error("The current browser does not appear to support IndexedDB.");return r}function $D(e){var r=e.result;r.createObjectStore(gd,{keyPath:"modelPath"}),r.createObjectStore(Uc,{keyPath:"modelPath"})}var Ih=function(){function e(r){if(this.indexedDB=ZY(),r==null||!r)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=r}return e.prototype.save=function(r){return zt(this,void 0,void 0,function(){return Wt(this,function(t){if(r.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,r)]})})},e.prototype.load=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(r){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(r,t){var n=this;return new Promise(function(o,i){var a=n.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return $D(a)},a.onsuccess=function(){var s=a.result;if(t==null){var u=s.transaction(gd,"readonly"),l=u.objectStore(gd).get(n.modelPath);l.onsuccess=function(){if(l.result==null)return s.close(),i(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));o(l.result.modelArtifacts)},l.onerror=function(m){return s.close(),i(l.error)},u.oncomplete=function(){return s.close()}}else{var c,f=_y(t),d=s.transaction(Uc,"readwrite"),p=d.objectStore(Uc),h=p.put({modelPath:n.modelPath,modelArtifactsInfo:f});h.onsuccess=function(){var m=(c=s.transaction(gd,"readwrite")).objectStore(gd).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:f});m.onsuccess=function(){return o({modelArtifactsInfo:f})},m.onerror=function(y){var v=(p=d.objectStore(Uc)).delete(n.modelPath);v.onsuccess=function(){return s.close(),i(m.error)},v.onerror=function(g){return s.close(),i(m.error)}}},h.onerror=function(m){return s.close(),i(h.error)},d.oncomplete=function(){c==null?s.close():c.oncomplete=function(){return s.close()}}}},a.onerror=function(s){return i(a.error)}})},e.URL_SCHEME="indexeddb://",e}(),yU=function(e){return Je().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ih.URL_SCHEME)?(r=e.slice(Ih.URL_SCHEME.length),new Ih(r)):null;var r};La.registerSaveRouter(yU),La.registerLoadRouter(yU);var CMe=function(){function e(){this.indexedDB=ZY()}return e.prototype.listModels=function(){return zt(this,void 0,void 0,function(){var r=this;return Wt(this,function(t){return[2,new Promise(function(n,o){var i=r.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return $D(i)},i.onsuccess=function(){var a=i.result,s=a.transaction(Uc,"readonly"),u=s.objectStore(Uc).getAll();u.onsuccess=function(){for(var l={},c=0,f=u.result;c<f.length;c++){var d=f[c];l[d.modelPath]=d.modelArtifactsInfo}n(l)},u.onerror=function(l){return a.close(),o(u.error)},s.oncomplete=function(){return a.close()}},i.onerror=function(a){return o(i.error)}})]})})},e.prototype.removeModel=function(r){return zt(this,void 0,void 0,function(){var t=this;return Wt(this,function(n){var o;return r=(o=r).startsWith(Ih.URL_SCHEME)?o.slice(Ih.URL_SCHEME.length):o,[2,new Promise(function(i,a){var s=t.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return $D(s)},s.onsuccess=function(){var u,l=s.result,c=l.transaction(Uc,"readwrite"),f=c.objectStore(Uc),d=f.get(r);d.onsuccess=function(){if(d.result==null)return l.close(),a(new Error("Cannot find model with path '"+r+"' in IndexedDB."));var p=f.delete(r),h=function(){var m=(u=l.transaction(gd,"readwrite")).objectStore(gd).delete(r);m.onsuccess=function(){return i(d.result.modelArtifactsInfo)},m.onerror=function(y){return a(d.error)}};p.onsuccess=h,p.onerror=function(m){return h(),l.close(),a(d.error)}},d.onerror=function(p){return l.close(),a(d.error)},c.oncomplete=function(){u==null?l.close():u.oncomplete=function(){return l.close()}}},s.onerror=function(u){return a(s.error)}})]})})},e}();if(Je().getBool("IS_BROWSER"))try{of.registerManager(Ih.URL_SCHEME,new CMe)}catch{}var Fl="/",eh="tensorflowjs_models",eK="info",EMe="model_topology",kMe="weight_specs",RMe="weight_data",TMe="model_metadata";function tK(e){return{info:[eh,e,eK].join(Fl),topology:[eh,e,EMe].join(Fl),weightSpecs:[eh,e,kMe].join(Fl),weightData:[eh,e,RMe].join(Fl),modelMetadata:[eh,e,TMe].join(Fl)}}function AMe(e){var r=e.split(Fl);if(r.length<3)throw new Error("Invalid key format: "+e);return r.slice(1,r.length-1).join(Fl)}var Nh=function(){function e(r){if(!Je().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,r==null||!r)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=r,this.keys=tK(this.modelPath)}return e.prototype.save=function(r){return zt(this,void 0,void 0,function(){var t,n,o;return Wt(this,function(i){if(r.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(r.modelTopology),n=JSON.stringify(r.weightSpecs),o=_y(r);try{return this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(a){if(jD)return Buffer.from(a).toString("base64");for(var s=new Uint8Array(a),u="",l=0,c=s.length;l<c;l++)u+=String.fromCharCode(s[l]);return btoa(u)}(r.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy,userDefinedMetadata:r.userDefinedMetadata})),[2,{modelArtifactsInfo:o}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+o.modelTopologyBytes+", weightSpecsBytes="+o.weightSpecsBytes+", weightDataBytes="+o.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return zt(this,void 0,void 0,function(){var r,t,n,o,i,a,s;return Wt(this,function(u){if((r=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(r.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},(n=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=o,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(a=JSON.parse(i),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(l){if(jD){var c=Buffer.from(l,"base64");return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}for(var f=atob(l),d=new Uint8Array(f.length),p=0;p<f.length;++p)d.set([f.charCodeAt(p)],p);return d.buffer}(s),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),xU=function(e){return Je().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Nh.URL_SCHEME)?(r=e.slice(Nh.URL_SCHEME.length),new Nh(r)):null;var r};La.registerSaveRouter(xU),La.registerLoadRouter(xU);var OMe=function(){function e(){be(Je().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),be(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return zt(this,void 0,void 0,function(){var r,t,n,o,i,a;return Wt(this,function(s){for(r={},t=eh+Fl,n=Fl+eK,o=0;o<this.LS.length;++o)(i=this.LS.key(o)).startsWith(t)&&i.endsWith(n)&&(a=AMe(i),r[a]=JSON.parse(this.LS.getItem(i)));return[2,r]})})},e.prototype.removeModel=function(r){return zt(this,void 0,void 0,function(){var t,n;return Wt(this,function(o){var i;if(r=(i=r).startsWith(Nh.URL_SCHEME)?i.slice(Nh.URL_SCHEME.length):i,t=tK(r),this.LS.getItem(t.info)==null)throw new Error("Cannot find model at path '"+r+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(Je().getBool("IS_BROWSER"))try{of.registerManager(Nh.URL_SCHEME,new OMe)}catch{}var DMe="model",PMe=".json",IMe=".weights.bin";function bU(e){return new Promise(function(r){return setTimeout(r)}).then(e)}var RA=function(){function e(r){if(!Je().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");r.startsWith(e.URL_SCHEME)&&(r=r.slice(e.URL_SCHEME.length)),r!=null&&r.length!==0||(r=DMe),this.modelTopologyFileName=r+PMe,this.weightDataFileName=r+IMe}return e.prototype.save=function(r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s;return Wt(this,function(u){switch(u.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([r.weightData],{type:"application/octet-stream"})),!(r.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:r.weightSpecs}],o={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(a=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=i,[4,bU(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return u.sent(),r.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=t,[4,bU(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:u.sent(),u.label=4;case 4:return[2,{modelArtifactsInfo:_y(r)}]}})})},e.URL_SCHEME="downloads://",e}(),NMe=function(){function e(r){if(r==null||r.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+r);this.files=r}return e.prototype.load=function(){return zt(this,void 0,void 0,function(){var r,t,n=this;return Wt(this,function(o){return r=this.files[0],t=this.files.slice(1),[2,new Promise(function(i,a){var s=new FileReader;s.onload=function(u){var l=JSON.parse(u.target.result),c=l.modelTopology;if(c!=null){t.length===0&&i({modelTopology:c});var f=l.weightsManifest;if(f!=null){var d;try{d=n.checkManifestAndWeightFiles(f,t)}catch(y){return void a(y)}var p=[],h=[],m=[];f.forEach(function(y){y.paths.forEach(function(v){h.push(v),m.push(null)}),p.push.apply(p,y.weights)}),f.forEach(function(y){y.paths.forEach(function(v){var g=new FileReader;g.onload=function(x){var b=x.target.result,w=h.indexOf(v);m[w]=b,m.indexOf(null)===-1&&i({modelTopology:c,weightSpecs:p,weightData:$3(m),format:l.format,generatedBy:l.generatedBy,convertedBy:l.convertedBy,userDefinedMetadata:l.userDefinedMetadata})},g.onerror=function(x){return a("Failed to weights data from file of path '"+v+"'.")},g.readAsArrayBuffer(d[v])})})}else a(new Error("weightManifest field is missing from file "+r.name))}else a(new Error("modelTopology field is missing from file "+r.name))},s.onerror=function(u){return a("Failed to read model topology and weights manifest JSON from file '"+r.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(r)})]})})},e.prototype.checkManifestAndWeightFiles=function(r,t){for(var n=[],o=t.map(function(u){return mU(u.name)}),i={},a=0,s=r;a<s.length;a++)s[a].paths.forEach(function(u){var l=mU(u);if(n.indexOf(l)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+l+"'");if(n.push(l),o.indexOf(l)===-1)throw new Error("Weight file with basename '"+l+"' is not provided.");i[u]=t[o.indexOf(l)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return i},e}();function _U(e,r,t,n){(function(i){be(i!=null&&Array.isArray(i)&&i.length>0,function(){return"promises must be a none empty array"})})(e),function(i,a){be(i>=0&&i<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i}),be(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+a}),be(a>=i,function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+a})}(t=t??0,n=n??1);var o=0;return Promise.all(e.map(function(i){return i.then(function(a){var s=t+ ++o/e.length*(n-t);return r(s),a}),i}))}function rK(e,r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s,u,l,c;return Wt(this,function(f){switch(f.label){case 0:return r==null&&(r={}),t=r.fetchFunc==null?Je().platform.fetch:r.fetchFunc,n=e.map(function(d){return t(d,r.requestInit,{isBinary:!0})}),o=0,i=.5,r.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return a=f.sent(),[3,4];case 2:return[4,_U(n,r.onProgress,o,i)];case 3:a=f.sent(),f.label=4;case 4:return s=a.map(function(d){return d.arrayBuffer()}),u=.5,l=1,r.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return c=f.sent(),[3,8];case 6:return[4,_U(s,r.onProgress,u,l)];case 7:c=f.sent(),f.label=8;case 8:return[2,c]}})})}function wU(e){var r=this;return function(t,n,o){return n===void 0&&(n=""),zt(r,void 0,void 0,function(){var i,a,s,u,l,c,f,d,p,h;return Wt(this,function(m){switch(m.label){case 0:if(i=t.map(function(){return!1}),a={},s=o!=null?o.map(function(){return!1}):[],u=[],t.forEach(function(y,v){var g=0;y.weights.forEach(function(x){var b="quantization"in x?x.quantization.dtype:x.dtype,w=BD[b]*qt(x.shape),E=function(){i[v]=!0,a[v]==null&&(a[v]=[]),a[v].push({manifestEntry:x,groupOffset:g,sizeBytes:w})};o!=null?o.forEach(function(C,S){C===x.name&&(E(),s[S]=!0)}):E(),u.push(x.name),g+=w})}),!s.every(function(y){return y}))throw l=o.filter(function(y,v){return!s[v]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+`. 
Manifest JSON has weights with names: `+u.join(", ")+".");return c=i.reduce(function(y,v,g){return v&&y.push(g),y},[]),f=[],c.forEach(function(y){t[y].paths.forEach(function(v){var g=n+(n.endsWith("/")?"":"/")+v;f.push(g)})}),[4,e(f)];case 1:return d=m.sent(),p={},h=0,c.forEach(function(y){for(var v=t[y].paths.length,g=0,x=0;x<v;x++)g+=d[h+x].byteLength;for(var b=new ArrayBuffer(g),w=new Uint8Array(b),E=0,C=0;C<v;C++){var S=new Uint8Array(d[h+C]);w.set(S,E),E+=S.byteLength}a[y].forEach(function(T){var k=JY(b.slice(T.groupOffset,T.groupOffset+T.sizeBytes),[T.manifestEntry]);for(var P in k)p[P]=k[P]}),h+=v}),[2,p]}})})}}La.registerSaveRouter(function(e){return Je().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(RA.URL_SCHEME)?function(r){return r===void 0&&(r="model"),new RA(r)}(e.slice(RA.URL_SCHEME.length)):null});var nK=function(){function e(r,t){if(this.DEFAULT_METHOD="POST",t==null&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,t.fetchFunc!=null?(be(typeof t.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=Je().platform.fetch,be(r!=null&&r.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(r)&&be(r.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+r.length+")."}),this.path=r,t.requestInit!=null&&t.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(r){return zt(this,void 0,void 0,function(){var t,n,o,i;return Wt(this,function(a){switch(a.label){case 0:if(r.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:r.weightSpecs}],o={modelTopology:r.modelTopology,format:r.format,generatedBy:r.generatedBy,convertedBy:r.convertedBy,userDefinedMetadata:r.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),r.weightData!=null&&t.body.append("model.weights.bin",new Blob([r.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((i=a.sent()).ok)return[2,{modelArtifactsInfo:_y(r),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}})})},e.prototype.load=function(){return zt(this,void 0,void 0,function(){var r,t,n,o,i,a,s,u,l,c,f,d;return Wt(this,function(p){switch(p.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(r=p.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+r.status+". Please verify this URL points to the model JSON of the model to load.");p.label=2;case 2:return p.trys.push([2,4,,5]),[4,r.json()];case 3:return t=p.sent(),[3,5];case 4:throw p.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(o=t.modelTopology,i=t.weightsManifest,a=t.generatedBy,s=t.convertedBy,u=t.format,l=t.userDefinedMetadata,o==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:d=p.sent(),c=d[0],f=d[1],p.label=7;case 7:return[2,{modelTopology:o,weightSpecs:c,weightData:f,userDefinedMetadata:l,generatedBy:a,convertedBy:s,format:u}]}})})},e.prototype.loadWeights=function(r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s,u,l,c,f,d;return Wt(this,function(p){switch(p.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(h){var m=h.lastIndexOf("/"),y=h.lastIndexOf("?"),v=h.substring(0,m),g=y>m?h.substring(y):"";return[v+"/",g]}(t),o=n[0],i=n[1],a=this.weightPathPrefix||o,s=[],u=0,l=r;u<l.length;u++)c=l[u],s.push.apply(s,c.weights);return f=[],r.forEach(function(h){h.paths.forEach(function(m){f.push(a+m+i)})}),[4,rK(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=p.sent(),[2,[s,$3(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function zD(e){return e.match(nK.URL_SCHEME_REGEX)!=null}var SU=function(e,r){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(t){return zD(t)}):zD(e))?WD(e,{onProgress:r}):null};function WD(e,r){return new nK(e,r)}La.registerSaveRouter(SU),La.registerLoadRouter(SU);var TA=function(){function e(r){this.modelArtifacts=r}return e.prototype.load=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(r){return[2,this.modelArtifacts]})})},e}(),MMe=function(){function e(r){this.saveHandler=r}return e.prototype.save=function(r){return zt(this,void 0,void 0,function(){return Wt(this,function(t){return[2,this.saveHandler(r)]})})},e}(),oK=Object.freeze({browserFiles:function(e){return new NMe(e)},browserHTTPRequest:function(e,r){return WD(e,r)},concatenateArrayBuffers:$3,decodeWeights:JY,encodeWeights:function(e,r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s=this;return Wt(this,function(u){switch(u.label){case 0:for(t=[],n=[],o=Array.isArray(e)?e.map(function(l){return l.name}):Object.keys(e),i=function(l){var c=o[l],f=Array.isArray(e)?e[l].tensor:e[c];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string")throw new Error("Unsupported dtype in weight '"+c+"': "+f.dtype);var d={name:c,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){var p=new Promise(function(h){return zt(s,void 0,void 0,function(){var m,y,v,g,x,b,w;return Wt(this,function(E){switch(E.label){case 0:return[4,f.bytes()];case 1:for(m=E.sent(),y=m.reduce(function(C,S){return C+S.length},0)+uw*m.length,v=new Uint8Array(y),g=0,x=0;x<m.length;x++)b=m[x],w=new Uint8Array(new Uint32Array([b.length]).buffer),v.set(w,g),g+=uw,v.set(b,g),g+=b.length;return h(v),[2]}})})});n.push(p)}else n.push(f.data());r!=null&&(d.group=r),t.push(d)},a=0;a<o.length;++a)i(a);return[4,Promise.all(n)];case 1:return[2,{data:SMe(u.sent()),specs:t}]}})})},fromMemory:function(e,r,t,n){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new TA(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new TA({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new TA({modelTopology:e,weightSpecs:r,weightData:t,trainingConfig:n}))},getLoadHandlers:function(e,r){return La.getLoadHandlers(e,r)},getModelArtifactsInfoForJSON:_y,getSaveHandlers:function(e){return La.getSaveHandlers(e)},http:WD,isHTTPScheme:zD,loadWeights:function(e,r,t,n){return r===void 0&&(r=""),zt(this,void 0,void 0,function(){return Wt(this,function(o){return[2,wU(function(i){return rK(i,{requestInit:n})})(e,r,t)]})})},registerLoadRouter:function(e){return La.registerLoadRouter(e)},registerSaveRouter:function(e){return La.registerSaveRouter(e)},weightsLoaderFactory:wU,withSaveHandler:function(e){return new MMe(e)},copyModel:function(e,r){return zt(this,void 0,void 0,function(){return Wt(this,function(t){return[2,gU(e,r,!1)]})})},listModels:function(){return zt(this,void 0,void 0,function(){var e,r,t,n,o,i,a;return Wt(this,function(s){switch(s.label){case 0:e=of.getSchemes(),r={},t=0,n=e,s.label=1;case 1:return t<n.length?(o=n[t],[4,of.getManager(o).listModels()]):[3,4];case 2:for(a in i=s.sent())r[o+Ph+a]=i[a];s.label=3;case 3:return t++,[3,1];case 4:return[2,r]}})})},moveModel:function(e,r){return zt(this,void 0,void 0,function(){return Wt(this,function(t){return[2,gU(e,r,!0)]})})},removeModel:function(e){return zt(this,void 0,void 0,function(){var r;return Wt(this,function(t){return r=$_(e),[2,of.getManager(r.scheme).removeModel(r.path)]})})}}),Wp;ke({confusionMatrix_:function(e,r,t){var n=ge(e,"labels","confusionMatrix"),o=ge(r,"predictions","confusionMatrix");be(t==null||t>0&&Number.isInteger(t),function(){return"If provided, numClasses must be a positive integer, but got "+t}),be(n.rank===1,function(){return"Expected the rank of labels to be 1, but got "+n.rank}),be(o.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+o.rank}),be(n.shape[0]===o.shape[0],function(){return"Mismatch in the number of examples: "+n.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."}),be(t>0&&Number.isInteger(t),function(){return"numClasses is required to be a positive integer, but got "+t});var i=ID(n.asType("int32"),t),a=ID(o.asType("int32"),t);return i.transpose().matMul(a).asType("int32")}});var FMe=ke({fromPixels_:function(e,r){if(r===void 0&&(r=3),r>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var t=!1,n=!1,o=!1,i=!1,a=!1;if(e.data instanceof Uint8Array)t=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)o=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);a=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(TG("FromPixels",Oe.backendName)!=null)return Oe.runKernel("FromPixels",{pixels:e},{numChannels:r});var s,u,l=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=l[0],f=l[1];if(a?s=e.getContext("2d").getImageData(0,0,c,f).data:n||t?s=e.data:(i||o)&&(Wp==null&&(Wp=document.createElement("canvas").getContext("2d")),Wp.canvas.width=c,Wp.canvas.height=f,Wp.drawImage(e,0,0,c,f),s=Wp.getImageData(0,0,c,f).data),r===4)u=new Int32Array(s);else{var d=c*f;u=new Int32Array(d*r);for(var p=0;p<d;p++)for(var h=0;h<r;++h)u[p*r+h]=s[4*p+h]}return v3(u,[f,c,r],"int32")}}),z3=Object.freeze({toPixels:function(e,r){return zt(this,void 0,void 0,function(){var t,n,o,i,a,s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S;return Wt(this,function(T){switch(T.label){case 0:if(t=ge(e,"img","toPixels"),e instanceof Wn||(t=t.toInt()),t.rank!==2&&t.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+t.rank+".");if(n=t.shape.slice(0,2),o=n[0],i=n[1],(a=t.rank===2?1:t.shape[2])>4||a===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+a);return[4,t.data()];case 1:return s=T.sent(),u=t.min(),l=t.max(),[4,Promise.all([u.data(),l.data()])];case 2:if(c=T.sent(),f=c[0],d=c[1],p=f[0],h=d[0],u.dispose(),l.dispose(),t.dtype==="float32"){if(p<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+p+" - "+h+"].")}else{if(t.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+t.dtype+". Please use float32 or int32 tensors.");if(p<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+p+" - "+h+"].")}for(m=t.dtype==="float32"?255:1,y=new Uint8ClampedArray(i*o*4),v=0;v<o*i;++v)g=void 0,x=void 0,b=void 0,w=void 0,a===1?(g=s[v]*m,x=s[v]*m,b=s[v]*m,w=255):a===3?(g=s[3*v]*m,x=s[3*v+1]*m,b=s[3*v+2]*m,w=255):a===4&&(g=s[4*v]*m,x=s[4*v+1]*m,b=s[4*v+2]*m,w=s[4*v+3]*m),y[(E=4*v)+0]=Math.round(g),y[E+1]=Math.round(x),y[E+2]=Math.round(b),y[E+3]=Math.round(w);return r!=null&&(r.width=i,r.height=o,C=r.getContext("2d"),S=new ImageData(y,i,o),C.putImageData(S,0,0)),t!==e&&t.dispose(),[2,y]}})})},fromPixels:FMe}),LMe=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(r,t){return new r(t)},e}(),BMe=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(r){e.getMap().classNameMap[r.className]=[r,r.fromConfig]},e}();function ap(e){be(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),be(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),be(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),BMe.register(e)}var sp=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return fu(r,e),r.prototype.minimize=function(t,n,o){n===void 0&&(n=!1);var i=this.computeGradients(t,o),a=i.value,s=i.grads;if(o!=null){var u=o.map(function(l){return{name:l.name,tensor:s[l.name]}});this.applyGradients(u)}else this.applyGradients(s);return va(s),n?a:(a.dispose(),null)},Object.defineProperty(r.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),r.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},r.prototype.computeGradients=function(t,n){return YDe(t,n)},r.prototype.dispose=function(){this.iterations_!=null&&va(this.iterations_)},r.prototype.saveIterations=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Ct(this.iterations_,"int32")}]})})},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},r.prototype.extractIterations=function(t){return zt(this,void 0,void 0,function(){var n;return Wt(this,function(o){switch(o.label){case 0:return n=this,[4,t[0].tensor.data()];case 1:return n.iterations_=o.sent()[0],[2,t.slice(1)]}})})},r}(LMe);Object.defineProperty(sp,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var jMe=function(e){function r(t,n,o){o===void 0&&(o=null);var i=e.call(this)||this;return i.learningRate=t,i.rho=n,i.epsilon=o,i.accumulatedGrads=[],i.accumulatedUpdates=[],o==null&&(i.epsilon=Oe.backend.epsilon()),i}return fu(r,e),r.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t)).forEach(function(o,i){var a=Oe.registeredVariables[o];n.accumulatedGrads[i]==null&&(n.accumulatedGrads[i]={originalName:o+"/accum_grad",variable:Ft(function(){return Hr(a).variable(!1)})}),n.accumulatedUpdates[i]==null&&(n.accumulatedUpdates[i]={originalName:o+"/accum_var",variable:Ft(function(){return Hr(a).variable(!1)})});var s=Array.isArray(t)?t[i].tensor:t[o];if(s!=null){var u=n.accumulatedGrads[i].variable,l=n.accumulatedUpdates[i].variable;Ft(function(){var c=u.mul(n.rho).add(s.square().mul(1-n.rho)),f=l.add(n.epsilon).sqrt().div(u.add(n.epsilon).sqrt()).mul(s),d=l.mul(n.rho).add(f.square().mul(1-n.rho));u.assign(c),l.assign(d);var p=f.mul(-n.learningRate).add(a);a.assign(p)})}}),this.incrementIterations()},r.prototype.dispose=function(){this.accumulatedUpdates!=null&&(va(this.accumulatedGrads.map(function(t){return t.variable})),va(this.accumulatedUpdates.map(function(t){return t.variable})))},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){var t;return Wt(this,function(n){switch(n.label){case 0:return t=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){var n;return Wt(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),n=t.length/2,this.accumulatedGrads=t.slice(0,n).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedUpdates=t.slice(n,2*n).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},r.fromConfig=function(t,n){return new t(n.learningRate,n.rho,n.epsilon)},r.className="Adadelta",r}(sp);ap(jMe);var $Me=function(e){function r(t,n){n===void 0&&(n=.1);var o=e.call(this)||this;return o.learningRate=t,o.initialAccumulatorValue=n,o.accumulatedGrads=[],o}return fu(r,e),r.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t)).forEach(function(o,i){var a=Oe.registeredVariables[o];n.accumulatedGrads[i]==null&&(n.accumulatedGrads[i]={originalName:o+"/accumulator",variable:Ft(function(){return Xu(a.shape,n.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(t)?t[i].tensor:t[o];if(s!=null){var u=n.accumulatedGrads[i].variable;Ft(function(){var l=u.add(s.square());u.assign(l);var c=s.div(l.add(Oe.backend.epsilon()).sqrt()).mul(-n.learningRate).add(a);a.assign(c)})}}),this.incrementIterations()},r.prototype.dispose=function(){this.accumulatedGrads!=null&&va(this.accumulatedGrads.map(function(t){return t.variable}))},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulatedGrads.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulatedGrads=t.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},r.fromConfig=function(t,n){return new t(n.learningRate,n.initialAccumulatorValue)},r.className="Adagrad",r}(sp);ap($Me);var zMe=function(e){function r(t,n,o,i){i===void 0&&(i=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=o,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],Ft(function(){a.accBeta1=Ct(n).variable(),a.accBeta2=Ct(o).variable()}),i==null&&(a.epsilon=Oe.backend.epsilon()),a}return fu(r,e),r.prototype.applyGradients=function(t){var n=this,o=Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t);Ft(function(){var i=Do(1,n.accBeta1),a=Do(1,n.accBeta2);o.forEach(function(s,u){var l=Oe.registeredVariables[s];n.accumulatedFirstMoment[u]==null&&(n.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Ft(function(){return Hr(l).variable(!1)})}),n.accumulatedSecondMoment[u]==null&&(n.accumulatedSecondMoment[u]={originalName:s+"/v",variable:Ft(function(){return Hr(l).variable(!1)})});var c=Array.isArray(t)?t[u].tensor:t[s];if(c!=null){var f=n.accumulatedFirstMoment[u].variable,d=n.accumulatedSecondMoment[u].variable,p=f.mul(n.beta1).add(c.mul(1-n.beta1)),h=d.mul(n.beta2).add(c.square().mul(1-n.beta2)),m=p.div(i),y=h.div(a);f.assign(p),d.assign(h);var v=m.div(y.sqrt().add(n.epsilon)).mul(-n.learningRate).add(l);l.assign(v)}}),n.accBeta1.assign(n.accBeta1.mul(n.beta1)),n.accBeta2.assign(n.accBeta2.mul(n.beta2))}),this.incrementIterations()},r.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&va(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedSecondMoment!=null&&va(this.accumulatedSecondMoment.map(function(t){return t.variable}))},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){var t;return Wt(this,function(n){switch(n.label){case 0:return t=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){var n,o=this;return Wt(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(t)];case 1:return t=i.sent(),Ft(function(){o.accBeta1.assign(aw(o.beta1,o.iterations_+1)),o.accBeta2.assign(aw(o.beta2,o.iterations_+1))}),n=t.length/2,this.accumulatedFirstMoment=t.slice(0,n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedSecondMoment=t.slice(n,2*n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},r.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon)},r.className="Adam",r}(sp);ap(zMe);var WMe=function(e){function r(t,n,o,i,a){i===void 0&&(i=null),a===void 0&&(a=0);var s=e.call(this)||this;return s.learningRate=t,s.beta1=n,s.beta2=o,s.epsilon=i,s.decay=a,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],Ft(function(){s.iteration=Ct(0).variable(),s.accBeta1=Ct(n).variable()}),i==null&&(s.epsilon=Oe.backend.epsilon()),s}return fu(r,e),r.prototype.applyGradients=function(t){var n=this,o=Array.isArray(t)?t.map(function(i){return i.name}):Object.keys(t);Ft(function(){var i=Do(1,n.accBeta1),a=qs(-n.learningRate,n.iteration.mul(n.decay).add(1));o.forEach(function(s,u){var l=Oe.registeredVariables[s];n.accumulatedFirstMoment[u]==null&&(n.accumulatedFirstMoment[u]={originalName:s+"/m",variable:Hr(l).variable(!1)}),n.accumulatedWeightedInfNorm[u]==null&&(n.accumulatedWeightedInfNorm[u]={originalName:s+"/v",variable:Hr(l).variable(!1)});var c=Array.isArray(t)?t[u].tensor:t[s];if(c!=null){var f=n.accumulatedFirstMoment[u].variable,d=n.accumulatedWeightedInfNorm[u].variable,p=f.mul(n.beta1).add(c.mul(1-n.beta1)),h=d.mul(n.beta2),m=c.abs(),y=h.maximum(m);f.assign(p),d.assign(y);var v=a.div(i).mul(p.div(y.add(n.epsilon))).add(l);l.assign(v)}}),n.iteration.assign(n.iteration.add(1)),n.accBeta1.assign(n.accBeta1.mul(n.beta1))}),this.incrementIterations()},r.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&va(this.accumulatedFirstMoment.map(function(t){return t.variable})),this.accumulatedWeightedInfNorm!=null&&va(this.accumulatedWeightedInfNorm.map(function(t){return t.variable}))},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){throw new Error("getWeights() is not implemented for Adamax yet.")})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){throw new Error("setWeights() is not implemented for Adamax yet.")})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},r.fromConfig=function(t,n){return new t(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},r.className="Adamax",r}(sp);ap(WMe);var iK=function(e){function r(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return fu(r,e),r.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t)).forEach(function(o,i){var a=Array.isArray(t)?t[i].tensor:t[o];if(a!=null){var s=Oe.registeredVariables[o];Ft(function(){var u=n.c.mul(a).add(s);s.assign(u)})}}),this.incrementIterations()},r.prototype.setLearningRate=function(t){this.learningRate=t,this.c!=null&&this.c.dispose(),this.c=uDe(Ct(-t))},r.prototype.dispose=function(){this.c.dispose()},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()]]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:if((t=n.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate}},r.fromConfig=function(t,n){return new t(n.learningRate)},r.className="SGD",r}(sp);ap(iK);var UMe=function(e){function r(t,n,o){o===void 0&&(o=!1);var i=e.call(this,t)||this;return i.learningRate=t,i.momentum=n,i.useNesterov=o,i.accumulations=[],i.m=Ct(i.momentum),i}return fu(r,e),r.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t)).forEach(function(o,i){var a=Oe.registeredVariables[o];n.accumulations[i]==null&&(n.accumulations[i]={originalName:o+"/momentum",variable:Ft(function(){return Hr(a).variable(!1)})});var s=n.accumulations[i].variable,u=Array.isArray(t)?t[i].tensor:t[o];u!=null&&Ft(function(){var l,c=n.m.mul(s).add(u);l=n.useNesterov?n.c.mul(u.add(c.mul(n.m))).add(a):n.c.mul(c).add(a),s.assign(c),a.assign(l)})}),this.incrementIterations()},r.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&va(this.accumulations.map(function(t){return t.variable}))},r.prototype.setMomentum=function(t){this.momentum=t},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){return Wt(this,function(t){switch(t.label){case 0:return[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(this.accumulations.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){return Wt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(t)];case 1:return t=n.sent(),this.accumulations=t.map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},r.fromConfig=function(t,n){return new t(n.learningRate,n.momentum,n.useNesterov)},r.className="Momentum",r}(iK);ap(UMe);var qMe=function(e){function r(t,n,o,i,a){n===void 0&&(n=.9),o===void 0&&(o=0),i===void 0&&(i=null),a===void 0&&(a=!1);var s=e.call(this)||this;if(s.learningRate=t,s.decay=n,s.momentum=o,s.epsilon=i,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=a,i==null&&(s.epsilon=Oe.backend.epsilon()),t==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return fu(r,e),r.prototype.applyGradients=function(t){var n=this;(Array.isArray(t)?t.map(function(o){return o.name}):Object.keys(t)).forEach(function(o,i){var a=Oe.registeredVariables[o];n.accumulatedMeanSquares[i]==null&&(n.accumulatedMeanSquares[i]={originalName:o+"/rms",variable:Ft(function(){return Hr(a).variable(!1)})}),n.accumulatedMoments[i]==null&&(n.accumulatedMoments[i]={originalName:o+"/momentum",variable:Ft(function(){return Hr(a).variable(!1)})}),n.accumulatedMeanGrads[i]==null&&n.centered&&(n.accumulatedMeanGrads[i]={originalName:o+"/mg",variable:Ft(function(){return Hr(a).variable(!1)})});var s=Array.isArray(t)?t[i].tensor:t[o];if(s!=null){var u=n.accumulatedMeanSquares[i].variable,l=n.accumulatedMoments[i].variable;Ft(function(){var c=u.mul(n.decay).add(s.square().mul(1-n.decay));if(n.centered){var f=n.accumulatedMeanGrads[i].variable,d=f.mul(n.decay).add(s.mul(1-n.decay)),p=l.mul(n.momentum).add(s.mul(n.learningRate).div(c.sub(d.square().add(n.epsilon)).sqrt()));u.assign(c),f.assign(d),l.assign(p);var h=a.sub(p);a.assign(h)}else{var m=u.mul(n.decay).add(s.square().mul(1-n.decay));p=l.mul(n.momentum).add(s.mul(n.learningRate).div(m.add(n.epsilon).sqrt())),u.assign(m),l.assign(p),h=a.sub(p),a.assign(h)}})}}),this.incrementIterations()},r.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&va(this.accumulatedMeanSquares.map(function(t){return t.variable})),this.accumulatedMeanGrads!=null&&this.centered&&va(this.accumulatedMeanGrads.map(function(t){return t.variable})),this.accumulatedMoments!=null&&va(this.accumulatedMoments.map(function(t){return t.variable}))},r.prototype.getWeights=function(){return zt(this,void 0,void 0,function(){var t;return Wt(this,function(n){switch(n.label){case 0:return t=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&t.push.apply(t,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(t.map(function(o){return{name:o.originalName,tensor:o.variable}}))]}})})},r.prototype.setWeights=function(t){return zt(this,void 0,void 0,function(){var n;return Wt(this,function(o){switch(o.label){case 0:return[4,this.extractIterations(t)];case 1:return t=o.sent(),n=this.centered?t.length/3:t.length/2,this.accumulatedMeanSquares=t.slice(0,n).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.accumulatedMoments=t.slice(n,2*n).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}})})},r.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},r.fromConfig=function(t,n){return new t(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},r.className="RMSProp",r}(sp);ap(qMe);Wn.prototype.squaredDifference=function(e){return bY(this,e)},Ue=mMe;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var UD=function(e,r){return UD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])},UD(e,r)};function dr(e,r){UD(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var bi=function(){return bi=Object.assign||function(r){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},bi.apply(this,arguments)};function Kt(e,r,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(c){try{l(n.next(c))}catch(f){a(f)}}function u(c){try{l(n.throw(c))}catch(f){a(f)}}function l(c){c.done?i(c.value):o(c.value).then(s,u)}l((n=n.apply(e,[])).next())})}function Xt(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $g(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),o=0,r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}var Mh=function(){function e(r,t){if(!Rd(r)||!Rd(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:r,height:t}));this._width=r,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function TC(e,r){return e instanceof Wn&&e.shape.length===r}function HMe(e){return TC(e,2)}function AC(e){return TC(e,3)}function af(e){return TC(e,4)}function VMe(e){return e%1!==0}function CU(e){return e%2===0}function GMe(e,r){r===void 0&&(r=2);var t=Math.pow(10,r);return Math.floor(e*t)/t}function EU(e){return e&&e.width&&e.height}function YMe(e,r){var t=e.width,n=e.height,o=r/Math.max(n,t);return new Mh(Math.round(t*o),Math.round(n*o))}function W3(e){return e.reduce(function(r,t){return r.add(t)},new tn(0,0)).div(new tn(e.length,e.length))}function R0(e,r,t){return Array(e).fill(0).map(function(n,o){return r+o*t})}function Rd(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function kU(e){return Rd(e)&&0<=e&&e<=1}var tn=function(){function e(r,t){this._x=r,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(r){return new e(this.x+r.x,this.y+r.y)},e.prototype.sub=function(r){return new e(this.x-r.x,this.y-r.y)},e.prototype.mul=function(r){return new e(this.x*r.x,this.y*r.y)},e.prototype.div=function(r){return new e(this.x/r.x,this.y/r.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),vf=function(){function e(r,t){t===void 0&&(t=!0);var n=r||{},o=[n.left,n.top,n.right,n.bottom].every(Rd),i=[n.x,n.y,n.width,n.height].every(Rd);if(!i&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(n));var a=i?[n.x,n.y,n.width,n.height]:[n.left,n.top,n.right-n.left,n.bottom-n.top],s=a[0],u=a[1],l=a[2],c=a[3];e.assertIsValidBox({x:s,y:u,width:l,height:c},"Box.constructor",t),this._x=s,this._y=u,this._width=l,this._height=c}return e.isRect=function(r){return!!r&&[r.x,r.y,r.width,r.height].every(Rd)},e.assertIsValidBox=function(r,t,n){if(n===void 0&&(n=!1),!e.isRect(r))throw new Error(t+" - invalid box: "+JSON.stringify(r)+", expected object with properties x, y, width, height");if(!n&&(r.width<0||r.height<0))throw new Error(t+" - width ("+r.width+") and height ("+r.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new tn(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new tn(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new tn(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new tn(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var r=[this.x,this.y,this.width,this.height].map(function(a){return Math.round(a)}),t=r[0],n=r[1],o=r[2],i=r[3];return new e({x:t,y:n,width:o,height:i})},e.prototype.floor=function(){var r=[this.x,this.y,this.width,this.height].map(function(a){return Math.floor(a)}),t=r[0],n=r[1],o=r[2],i=r[3];return new e({x:t,y:n,width:o,height:i})},e.prototype.toSquare=function(){var r=this,t=r.x,n=r.y,o=r.width,i=r.height,a=Math.abs(o-i);return o<i&&(t-=a/2,o+=a),i<o&&(n-=a/2,i+=a),new e({x:t,y:n,width:o,height:i})},e.prototype.rescale=function(r){var t=EU(r)?r.width:r,n=EU(r)?r.height:r;return new e({x:this.x*t,y:this.y*n,width:this.width*t,height:this.height*n})},e.prototype.pad=function(r,t){var n=[this.x-r/2,this.y-t/2,this.width+r,this.height+t],o=n[0],i=n[1],a=n[2],s=n[3];return new e({x:o,y:i,width:a,height:s})},e.prototype.clipAtImageBorders=function(r,t){var n=this,o=n.x,i=n.y,a=n.right,s=n.bottom,u=Math.max(o,0),l=Math.max(i,0),c=a-u,f=s-l,d=Math.min(c,r-u),p=Math.min(f,t-l);return new e({x:u,y:l,width:d,height:p}).floor()},e.prototype.shift=function(r,t){var n=this,o=n.width,i=n.height,a=this.x+r,s=this.y+t;return new e({x:a,y:s,width:o,height:i})},e.prototype.padAtBorders=function(r,t){var n=this.width+1,o=this.height+1,i=1,a=1,s=n,u=o,l=this.left,c=this.top,f=this.right,d=this.bottom;return f>t&&(s=-f+t+n,f=t),d>r&&(u=-d+r+o,d=r),l<1&&(u=2-l,l=1),c<1&&(u=2-c,c=1),{dy:a,edy:u,dx:i,edx:s,y:c,ey:d,x:l,ex:f,w:n,h:o}},e.prototype.calibrate=function(r){return new e({left:this.left+r.left*this.width,top:this.top+r.top*this.height,right:this.right+r.right*this.width,bottom:this.bottom+r.bottom*this.height}).toSquare().round()},e}(),OC=function(e){dr(r,e);function r(t,n,o,i,a){return a===void 0&&(a=!1),e.call(this,{left:t,top:n,right:o,bottom:i},a)||this}return r}(vf),aK=function(){function e(r,t,n,o,i){this._imageDims=new Mh(i.width,i.height),this._score=r,this._classScore=t,this._className=n,this._box=new vf(o).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new vf(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(r,t){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:r,height:t})},e}(),yl=function(e){dr(r,e);function r(t,n,o){return e.call(this,t,t,"",n,o)||this}return r.prototype.forSize=function(t,n){var o=e.prototype.forSize.call(this,t,n),i=o.score,a=o.relativeBox,s=o.imageDims;return new r(i,a,s)},r}(aK);function KMe(e,r,t){t===void 0&&(t=!0);var n=Math.max(0,Math.min(e.right,r.right)-Math.max(e.left,r.left)),o=Math.max(0,Math.min(e.bottom,r.bottom)-Math.max(e.top,r.top)),i=n*o;return t?i/(e.area+r.area-i):i/Math.min(e.area,r.area)}function XMe(e){var r=e.map(function(s){return s.x}),t=e.map(function(s){return s.y}),n=r.reduce(function(s,u){return u<s?u:s},1/0),o=t.reduce(function(s,u){return u<s?u:s},1/0),i=r.reduce(function(s,u){return s<u?u:s},0),a=t.reduce(function(s,u){return s<u?u:s},0);return new OC(n,o,i,a)}function T0(e,r,t,n){n===void 0&&(n=!0);for(var o=r.map(function(s,u){return{score:s,boxIndex:u}}).sort(function(s,u){return s.score-u.score}).map(function(s){return s.boxIndex}),i=[],a=function(){var s=o.pop();i.push(s);for(var u=o,l=[],c=0;c<u.length;c++){var f=u[c],d=e[s],p=e[f];l.push(KMe(d,p,n))}o=o.filter(function(h,m){return l[m]<=t})};o.length>0;)a();return i}function wy(e,r){return Ft(function(){var t=r[0],n=r[1],o=r[2],i=Xu($g(e.shape.slice(0,3),[1]),t),a=Xu($g(e.shape.slice(0,3),[1]),n),s=Xu($g(e.shape.slice(0,3),[1]),o),u=To([i,a,s],3);return Do(e,u)})}function QMe(e,r){return r===void 0&&(r=!1),Ft(function(){var t=e.shape.slice(1),n=t[0],o=t[1];if(n===o)return e;var i=Math.abs(n-o),a=Math.round(i*(r?.5:1)),s=n>o?2:1,u=function(p){var h=e.shape.slice();return h[s]=p,Xu(h,0)},l=u(a),c=i-l.shape[s],f=r&&c?u(c):null,d=[f,e,l].filter(function(p){return!!p}).map(function(p){return p.toFloat()});return To(d,s)})}function AA(e){return 1/(1+Math.exp(-e))}var U3=function(e){dr(r,e);function r(t,n,o,i,a){return a===void 0&&(a=!1),e.call(this,{x:t,y:n,width:o,height:i},a)||this}return r}(vf),JMe=.5,ZMe=.43,eFe=.45,lw=function(){function e(r,t,n){n===void 0&&(n=new tn(0,0));var o=t.width,i=t.height;this._imgDims=new Mh(o,i),this._shift=n,this._positions=r.map(function(a){return a.mul(new tn(o,i)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new tn(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var r=this;return this._positions.map(function(t){return t.sub(r._shift).div(new tn(r.imageWidth,r.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(r,t){return new this.constructor(this.relativePositions,{width:r,height:t})},e.prototype.shiftBy=function(r,t){return new this.constructor(this.relativePositions,this._imgDims,new tn(r,t))},e.prototype.shiftByPoint=function(r){return this.shiftBy(r.x,r.y)},e.prototype.align=function(r,t){if(t===void 0&&(t={}),r){var n=r instanceof yl?r.box.floor():new vf(r);return this.shiftBy(n.x,n.y).align(null,t)}var o=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),i=o.useDlibAlignment,a=o.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var r=this.getRefPointsForAlignment(),t=r[0],n=r[1],o=r[2],i=function(f){return o.sub(f).magnitude()},a=(i(t)+i(n))/2,s=Math.floor(a/eFe),u=W3(r),l=Math.floor(Math.max(0,u.x-JMe*s)),c=Math.floor(Math.max(0,u.y-ZMe*s));return new U3(l,c,Math.min(s,this.imageWidth+l),Math.min(s,this.imageHeight+c))},e.prototype.alignMinBbox=function(r){var t=XMe(this.positions);return t.pad(t.width*r,t.height*r)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),tFe=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getRefPointsForAlignment=function(){var t=this.positions;return[t[0],t[1],W3([t[3],t[4]])]},r}(lw),rFe=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getJawOutline=function(){return this.positions.slice(0,17)},r.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},r.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},r.prototype.getNose=function(){return this.positions.slice(27,36)},r.prototype.getLeftEye=function(){return this.positions.slice(36,42)},r.prototype.getRightEye=function(){return this.positions.slice(42,48)},r.prototype.getMouth=function(){return this.positions.slice(48,68)},r.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(W3)},r}(lw),RU=function(){function e(r,t){this._label=r,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(r){return r===void 0&&(r=!0),""+this.label+(r?" ("+GMe(this.distance)+")":"")},e}(),TU=function(e){dr(r,e);function r(t,n){var o=e.call(this,t)||this;return o._label=n,o}return r.assertIsValidLabeledBox=function(t,n){if(vf.assertIsValidBox(t,n),!Rd(t.label))throw new Error(n+" - expected property label ("+t.label+") to be a number")},Object.defineProperty(r.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),r}(vf),e_=function(){function e(r,t){if(typeof r!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(n){return!(n instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=r,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(r){return Array.from(r)})}},e.fromJSON=function(r){var t=r.descriptors.map(function(n){return new Float32Array(n)});return new e(r.label,t)},e}();(function(e){dr(r,e);function r(t,n,o,i){var a=e.call(this,t,n)||this;return a._score=o,a._classScore=i,a}return r.assertIsValidPredictedBox=function(t,n){if(TU.assertIsValidLabeledBox(t,n),!kU(t.score)||!kU(t.classScore))throw new Error(n+" - expected properties score ("+t.score+") and ("+t.classScore+") to be a number between [0, 1]")},Object.defineProperty(r.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),r})(TU);function nFe(e){return e.detection instanceof yl}function q3(e,r){var t={detection:r};return Object.assign({},e,t)}function sK(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},r=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:r}}function uK(e){var r="";if(!e)try{e=require("fs")}catch(n){r=n.toString()}var t=e?function(n){return new Promise(function(o,i){e.readFile(n,function(a,s){return a?i(a):o(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+r)};return{readFile:t}}function lK(){var e=global.Canvas||global.HTMLCanvasElement,r=global.Image||global.HTMLImageElement,t=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},n=function(){if(r)return new r;throw new Error("createImageElement - missing Image implementation for nodejs environment")},o=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=uK();return bi({Canvas:e||function(){function a(){}return a}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function a(){}return a}(),Image:r||function(){function a(){}return a}(),ImageData:global.ImageData||function(){function a(){}return a}(),Video:global.HTMLVideoElement||function(){function a(){}return a}(),createCanvasElement:t,createImageElement:n,fetch:o},i)}function cK(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function fK(){return typeof global=="object"&&typeof require=="function"&&typeof SX<"u"&&typeof process<"u"&&!!process.version}var Eo;function oFe(){if(!Eo)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return Eo}function qD(e){Eo=e}function H3(){cK()&&qD(sK()),fK()&&qD(lK())}function iFe(e){if(Eo||H3(),!Eo)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var r=e.Canvas,t=r===void 0?Eo.Canvas:r,n=e.Image,o=n===void 0?Eo.Image:n;Eo.Canvas=t,Eo.Image=o,Eo.createCanvasElement=e.createCanvasElement||function(){return new t},Eo.createImageElement=e.createImageElement||function(){return new o},Eo.ImageData=e.ImageData||Eo.ImageData,Eo.Video=e.Video||Eo.Video,Eo.fetch=e.fetch||Eo.fetch,Eo.readFile=e.readFile||Eo.readFile}var ki={getEnv:oFe,setEnv:qD,initialize:H3,createBrowserEnv:sK,createFileSystem:uK,createNodejsEnv:lK,monkeyPatch:iFe,isBrowser:cK,isNodejs:fK};H3();function dK(e){return!ki.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function zd(e){var r=ki.getEnv(),t=r.Canvas,n=r.CanvasRenderingContext2D;if(e instanceof n)return e;var o=dK(e);if(!(o instanceof t))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=o.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var AU;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(AU||(AU={}));function pK(e){var r=ki.getEnv(),t=r.Image,n=r.Video;return e instanceof t&&e.complete||e instanceof n&&e.readyState>=3}function aFe(e){return new Promise(function(r,t){if(e instanceof ki.getEnv().Canvas||pK(e))return r();function n(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",n),i.currentTarget.removeEventListener("error",o),r(i))}function o(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",n),i.currentTarget.removeEventListener("error",o),t(i))}e.addEventListener("load",n),e.addEventListener("error",o)})}function hK(e){var r=ki.getEnv(),t=r.Image,n=r.Video;return e instanceof t?new Mh(e.naturalWidth,e.naturalHeight):e instanceof n?new Mh(e.videoWidth,e.videoHeight):new Mh(e.width,e.height)}function DC(e){var r=e.width,t=e.height,n=ki.getEnv().createCanvasElement,o=n();return o.width=r,o.height=t,o}function V3(e,r){var t=ki.getEnv().ImageData;if(!(e instanceof t)&&!pK(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var n=hK(e),o=n.width,i=n.height,a=DC({width:o,height:i});return e instanceof t?zd(a).putImageData(e,0,0):zd(a).drawImage(e,0,0,o,i),a}function sFe(e,r){return Kt(this,void 0,void 0,function(){var t,n,o,i,a,s;return Xt(this,function(u){switch(u.label){case 0:return t=ki.getEnv().createCanvasElement(),n=e.shape.slice(af(e)?1:0),o=n[0],i=n[1],a=n[2],s=Ft(function(){return e.as3D(o,i,a).toInt()}),[4,z3.toPixels(s,t)];case 1:return u.sent(),s.dispose(),[2,t]}})})}function OU(e){var r=ki.getEnv(),t=r.Image,n=r.Canvas,o=r.Video;return e instanceof t||e instanceof n||e instanceof o}function uFe(e,r,t){t===void 0&&(t=!1);var n=ki.getEnv(),o=n.Image,i=n.Canvas;if(!(e instanceof o||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var a=hK(e),s=r/Math.max(a.height,a.width),u=s*a.width,l=s*a.height,c=DC({width:r,height:r}),f=e instanceof i?e:V3(e),d=Math.abs(u-l)/2,p=t&&u<l?d:0,h=t&&l<u?d:0;return zd(c).drawImage(f,p,h,u,l),c}var cw=function(){function e(r,t){var n=this;if(t===void 0&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(r))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+r);this._treatAsBatchInput=t,this._batchSize=r.length,r.forEach(function(o,i){if(AC(o)){n._imageTensors[i]=o,n._inputDimensions[i]=o.shape;return}if(af(o)){var a=o.shape[0];if(a!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+a+" passed, but not supported in input array");n._imageTensors[i]=o,n._inputDimensions[i]=o.shape.slice(1);return}var s=o instanceof ki.getEnv().Canvas?o:V3(o);n._canvases[i]=s,n._inputDimensions[i]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var r=this;return R0(this.batchSize,0,1).map(function(t,n){return r.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(r){return this.canvases[r]||this.imageTensors[r]},e.prototype.getInputDimensions=function(r){return this._inputDimensions[r]},e.prototype.getInputHeight=function(r){return this._inputDimensions[r][0]},e.prototype.getInputWidth=function(r){return this._inputDimensions[r][1]},e.prototype.getReshapedInputDimensions=function(r){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var t=this.getInputWidth(r),n=this.getInputHeight(r);return YMe({width:t,height:n},this.inputSize)},e.prototype.toBatchTensor=function(r,t){var n=this;return t===void 0&&(t=!0),this._inputSize=r,Ft(function(){var o=R0(n.batchSize,0,1).map(function(a){var s=n.getInput(a);if(s instanceof Wn){var u=af(s)?s:s.expandDims();return u=QMe(u,t),(u.shape[1]!==r||u.shape[2]!==r)&&(u=M3.resizeBilinear(u,[r,r])),u.as3D(r,r,3)}if(s instanceof ki.getEnv().Canvas)return z3.fromPixels(uFe(s,r,t));throw new Error("toBatchTensor - at batchIdx "+a+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),i=Wa(o.map(function(a){return a.toFloat()})).as4D(n.batchSize,r,r,3);return i})},e}();function qo(e){return Kt(this,void 0,void 0,function(){var r,t,n;return Xt(this,function(o){switch(o.label){case 0:if(e instanceof cw)return[2,e];if(r=Array.isArray(e)?e:[e],!r.length)throw new Error("toNetInput - empty array passed as input");return t=function(i){return Array.isArray(e)?" at input index "+i+":":""},n=r.map(dK),n.forEach(function(i,a){if(!OU(i)&&!AC(i)&&!af(i))throw typeof r[a]=="string"?new Error("toNetInput -"+t(a)+" string passed, but could not resolve HTMLElement for element id "+r[a]):new Error("toNetInput -"+t(a)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(af(i)){var s=i.shape[0];if(s!==1)throw new Error("toNetInput -"+t(a)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(n.map(function(i){return OU(i)&&aFe(i)}))];case 1:return o.sent(),[2,new cw(n,Array.isArray(e))]}})})}function G3(e,r){return Kt(this,void 0,void 0,function(){var t,n,o,i,a,s,u;return Xt(this,function(l){switch(l.label){case 0:return t=ki.getEnv().Canvas,n=e,e instanceof t?[3,5]:[4,qo(e)];case 1:if(o=l.sent(),o.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=o.getInput(0),i instanceof t?(a=i,[3,4]):[3,2];case 2:return[4,sFe(i)];case 3:a=l.sent(),l.label=4;case 4:n=a,l.label=5;case 5:return s=zd(n),u=r.map(function(c){return c instanceof yl?c.forSize(n.width,n.height).box.floor():c}).map(function(c){return c.clipAtImageBorders(n.width,n.height)}),[2,u.map(function(c){var f=c.x,d=c.y,p=c.width,h=c.height,m=DC({width:p,height:h});return zd(m).putImageData(s.getImageData(f,d,p,h),0,0),m})]}})})}function Y3(e,r){return Kt(this,void 0,void 0,function(){return Xt(this,function(t){if(!AC(e)&&!af(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(af(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Ft(function(){var n=e.shape.slice(af(e)?1:0),o=n[0],i=n[1],a=n[2],s=r.map(function(l){return l instanceof yl?l.forSize(i,o).box:l}).map(function(l){return l.clipAtImageBorders(i,o)}),u=s.map(function(l){var c=l.x,f=l.y,d=l.width,p=l.height;return zY(e.as3D(o,i,a),[f,c,0],[p,d,a])});return u})]})})}function lFe(e,r){return Kt(this,void 0,void 0,function(){var t,n;return Xt(this,function(o){switch(o.label){case 0:return t=ki.getEnv().fetch,[4,t(e,r)];case 1:if(n=o.sent(),!(n.status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function cFe(e){return Kt(this,void 0,void 0,function(){return Xt(this,function(r){switch(r.label){case 0:return[4,lFe(e)];case 1:return[2,r.sent().json()]}})})}function vK(e,r){var t=r+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:t};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+t};var n=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(n,"");var o=e.split("/").filter(function(s){return s}),i=e.endsWith(".json")?o[o.length-1]:t,a=n+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return a=e.startsWith("/")?"/"+a:a,{modelBaseUri:a,manifestUri:a==="/"?"/"+i:a+"/"+i}}function fFe(e,r){return Kt(this,void 0,void 0,function(){var t,n,o,i;return Xt(this,function(a){switch(a.label){case 0:return t=vK(e,r),n=t.manifestUri,o=t.modelBaseUri,[4,cFe(n)];case 1:return i=a.sent(),[2,oK.loadWeights(i,o)]}})})}var dc=function(){function e(r){this._name=r,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(r){var t=this.traversePropertyPath(r),n=t.obj,o=t.objProp;return n[o]},e.prototype.reassignParamFromPath=function(r,t){var n=this.traversePropertyPath(r),o=n.obj,i=n.objProp;o[i].dispose(),o[i]=t},e.prototype.getParamList=function(){var r=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:r.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(r){return r.tensor instanceof pv})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(r){return!(r.tensor instanceof pv)})},e.prototype.variable=function(){var r=this;this.getFrozenParams().forEach(function(t){var n=t.path,o=t.tensor;r.reassignParamFromPath(n,o.variable())})},e.prototype.freeze=function(){var r=this;this.getTrainableParams().forEach(function(t){var n=t.path,o=t.tensor,i=ni(o.dataSync());o.dispose(),r.reassignParamFromPath(n,i)})},e.prototype.dispose=function(r){r===void 0&&(r=!0),this.getParamList().forEach(function(t){if(r&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(r){var t=r.tensor;return Array.from(t.dataSync())}).reduce(function(r,t){return r.concat(t)}))},e.prototype.load=function(r){return Kt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return r instanceof Float32Array?(this.extractWeights(r),[2]):[4,this.loadFromUri(r)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(r){return Kt(this,void 0,void 0,function(){var t;return Xt(this,function(n){switch(n.label){case 0:if(r&&typeof r!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,fFe(r,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(r){return Kt(this,void 0,void 0,function(){var t,n,o,i,a,s,u,l,c,f;return Xt(this,function(d){switch(d.label){case 0:if(r&&typeof r!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return t=ki.getEnv().readFile,n=vK(r,this.getDefaultModelName()),o=n.manifestUri,i=n.modelBaseUri,a=function(p){return Promise.all(p.map(function(h){return t(h).then(function(m){return m.buffer})}))},s=oK.weightsLoaderFactory(a),c=(l=JSON).parse,[4,t(o)];case 1:return u=c.apply(l,[d.sent().toString()]),[4,s(u,i)];case 2:return f=d.sent(),this.loadFromWeightMap(f),[2]}})})},e.prototype.loadFromWeightMap=function(r){var t=this.extractParamsFromWeigthMap(r),n=t.paramMappings,o=t.params;this._paramMappings=n,this._params=o},e.prototype.extractWeights=function(r){var t=this.extractParams(r),n=t.paramMappings,o=t.params;this._paramMappings=n,this._params=o},e.prototype.traversePropertyPath=function(r){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=r.split("/").reduce(function(i,a){if(!i.nextObj.hasOwnProperty(a))throw new Error("traversePropertyPath - object does not have property "+a+", for path "+r);return{obj:i.nextObj,objProp:a,nextObj:i.nextObj[a]}},{nextObj:this.params}),n=t.obj,o=t.objProp;if(!n||!o||!(n[o]instanceof Wn))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+r);return{obj:n,objProp:o}},e}();function Ba(e,r,t){return Ft(function(){var n=O3(e,r.depthwise_filter,r.pointwise_filter,t,"same");return n=Dr(n,r.bias),n})}function OA(e,r,t){return t===void 0&&(t=!1),Ft(function(){var n=qn(t?Dr(Ps(e,r.conv0.filters,[2,2],"same"),r.conv0.bias):Ba(e,r.conv0,[2,2])),o=Ba(n,r.conv1,[1,1]),i=qn(Dr(n,o)),a=Ba(i,r.conv2,[1,1]);return qn(Dr(n,Dr(o,a)))})}function t_(e,r,t,n){return t===void 0&&(t=!1),n===void 0&&(n=!0),Ft(function(){var o=qn(t?Dr(Ps(e,r.conv0.filters,n?[2,2]:[1,1],"same"),r.conv0.bias):Ba(e,r.conv0,n?[2,2]:[1,1])),i=Ba(o,r.conv1,[1,1]),a=qn(Dr(o,i)),s=Ba(a,r.conv2,[1,1]),u=qn(Dr(o,Dr(i,s))),l=Ba(u,r.conv3,[1,1]);return qn(Dr(o,Dr(i,Dr(s,l))))})}function Js(e,r,t,n){return t===void 0&&(t="same"),n===void 0&&(n=!1),Ft(function(){var o=Dr(Ps(e,r.filters,[1,1],t),r.bias);return n?qn(o):o})}function pc(e,r){Object.keys(e).forEach(function(t){r.some(function(n){return n.originalPath===t})||e[t].dispose()})}function PC(e,r){return function(t,n,o,i){var a=sa(e(t*n*o*o),[o,o,t,n]),s=bo(e(n));return r.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:a,bias:s}}}function K3(e,r){return function(t,n,o){var i=nf(e(t*n),[t,n]),a=bo(e(n));return r.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:i,bias:a}}}var mK=function(){function e(r,t,n){this.depthwise_filter=r,this.pointwise_filter=t,this.bias=n}return e}();function X3(e,r){return function(t,n,o){var i=sa(e(9*t),[3,3,t,1]),a=sa(e(t*n),[1,1,t,n]),s=bo(e(n));return r.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new mK(i,a,s)}}function Q3(e){return function(r){var t=e(r+"/depthwise_filter",4),n=e(r+"/pointwise_filter",4),o=e(r+"/bias",1);return new mK(t,n,o)}}function Pf(e,r){return function(t,n,o){var i=e[t];if(!TC(i,n))throw new Error("expected weightMap["+t+"] to be a Tensor"+n+"D, instead have "+i);return r.push({originalPath:t,paramPath:o||t}),i}}function hc(e){var r=e;function t(o){var i=r.slice(0,o);return r=r.slice(o),i}function n(){return r}return{extractWeights:t,getRemainingWeights:n}}function gK(e,r){var t=PC(e,r),n=X3(e,r);function o(a,s,u,l){l===void 0&&(l=!1);var c=l?t(a,s,3,u+"/conv0"):n(a,s,u+"/conv0"),f=n(s,s,u+"/conv1"),d=n(s,s,u+"/conv2");return{conv0:c,conv1:f,conv2:d}}function i(a,s,u,l){l===void 0&&(l=!1);var c=o(a,s,u,l),f=c.conv0,d=c.conv1,p=c.conv2,h=n(s,s,u+"/conv3");return{conv0:f,conv1:d,conv2:p,conv3:h}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:i}}function dFe(e){var r=[],t=hc(e),n=t.extractWeights,o=t.getRemainingWeights,i=gK(n,r).extractDenseBlock4Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2"),l=i(128,256,"dense3");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{dense0:a,dense1:s,dense2:u,dense3:l}}}function yK(e){return function(r){var t=e(r+"/filters",4),n=e(r+"/bias",1);return{filters:t,bias:n}}}function xK(e,r){var t=Pf(e,r),n=yK(t),o=Q3(t);function i(s,u){u===void 0&&(u=!1);var l=u?n(s+"/conv0"):o(s+"/conv0"),c=o(s+"/conv1"),f=o(s+"/conv2");return{conv0:l,conv1:c,conv2:f}}function a(s,u){u===void 0&&(u=!1);var l=u?n(s+"/conv0"):o(s+"/conv0"),c=o(s+"/conv1"),f=o(s+"/conv2"),d=o(s+"/conv3");return{conv0:l,conv1:c,conv2:f,conv3:d}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:a}}function pFe(e){var r=[],t=xK(e,r).extractDenseBlock4Params,n={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2"),dense3:t("dense3")};return pc(e,r),{params:n,paramMappings:r}}var bK=function(e){dr(r,e);function r(){return e.call(this,"FaceFeatureExtractor")||this}return r.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("FaceFeatureExtractor - load model before inference");return Ft(function(){var o=t.toBatchTensor(112,!0),i=[122.782,117.001,104.298],a=wy(o,i).div(Ct(255)),s=t_(a,n.dense0,!0);return s=t_(s,n.dense1),s=t_(s,n.dense2),s=t_(s,n.dense3),s=by(s,[7,7],[2,2],"valid"),s})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},r.prototype.extractParamsFromWeigthMap=function(t){return pFe(t)},r.prototype.extractParams=function(t){return dFe(t)},r}(dc);function ju(e,r){return Ft(function(){return Dr(EC(e,r.weights),r.bias)})}function hFe(e,r,t){var n=[],o=hc(e),i=o.extractWeights,a=o.getRemainingWeights,s=K3(i,n),u=s(r,t,"fc");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{fc:u}}}function vFe(e){var r=[],t=Pf(e,r);function n(i){var a=t(i+"/weights",2),s=t(i+"/bias",1);return{weights:a,bias:s}}var o={fc:n("fc")};return pc(e,r),{params:o,paramMappings:r}}function _K(e){var r={},t={};return Object.keys(e).forEach(function(n){var o=n.startsWith("fc")?t:r;o[n]=e[n]}),{featureExtractorMap:r,classifierMap:t}}var wK=function(e){dr(r,e);function r(t,n){var o=e.call(this,t)||this;return o._faceFeatureExtractor=n,o}return Object.defineProperty(r.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),r.prototype.runNet=function(t){var n=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Ft(function(){var i=t instanceof cw?n.faceFeatureExtractor.forwardInput(t):t;return ju(i.as2D(i.shape[0],-1),o.fc)})},r.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},r.prototype.loadClassifierParams=function(t){var n=this.extractClassifierParams(t),o=n.params,i=n.paramMappings;this._params=o,this._paramMappings=i},r.prototype.extractClassifierParams=function(t){return hFe(t,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},r.prototype.extractParamsFromWeigthMap=function(t){var n=_K(t),o=n.featureExtractorMap,i=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),vFe(i)},r.prototype.extractParams=function(t){var n=this.getClassifierChannelsIn(),o=this.getClassifierChannelsOut(),i=o*n+o,a=t.slice(0,t.length-i),s=t.slice(t.length-i);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(s)},r}(dc),DU=["neutral","happy","sad","angry","fearful","disgusted","surprised"],mFe=function(){function e(r){var t=this;if(r.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+r.length);DU.forEach(function(n,o){t[n]=r[o]})}return e.prototype.asSortedArray=function(){var r=this;return DU.map(function(t){return{expression:t,probability:r[t]}}).sort(function(t,n){return n.probability-t.probability})},e}(),gFe=function(e){dr(r,e);function r(t){return t===void 0&&(t=new bK),e.call(this,"FaceExpressionNet",t)||this}return r.prototype.forwardInput=function(t){var n=this;return Ft(function(){return cc(n.runNet(t))})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.predictExpressions=function(t){return Kt(this,void 0,void 0,function(){var n,o,i,a,s=this;return Xt(this,function(u){switch(u.label){case 0:return[4,qo(t)];case 1:return n=u.sent(),[4,this.forwardInput(n)];case 2:return o=u.sent(),[4,Promise.all(Ao(o).map(function(l){return Kt(s,void 0,void 0,function(){var c;return Xt(this,function(f){switch(f.label){case 0:return[4,l.data()];case 1:return c=f.sent(),l.dispose(),[2,c]}})})}))];case 3:return i=u.sent(),o.dispose(),a=i.map(function(l){return new mFe(l)}),[2,n.isBatchInput?a:a[0]]}})})},r.prototype.getDefaultModelName=function(){return"face_expression_model"},r.prototype.getClassifierChannelsIn=function(){return 256},r.prototype.getClassifierChannelsOut=function(){return 7},r}(wK);function SK(e,r){var t={expressions:r};return Object.assign({},e,t)}function yFe(e){return nFe(e)&&e.landmarks instanceof lw&&e.unshiftedLandmarks instanceof lw&&e.alignedRect instanceof yl}function J3(e,r){var t=e.detection.box,n=r.shiftBy(t.x,t.y),o=n.align(),i=e.detection.imageDims,a=new yl(e.detection.score,o.rescale(i.reverse()),i),s={landmarks:n,unshiftedLandmarks:r,alignedRect:a};return Object.assign({},e,s)}function xFe(e,r){var t=PC(e,r),n=X3(e,r);function o(a,s,u){var l=n(a,s,u+"/separable_conv0"),c=n(s,s,u+"/separable_conv1"),f=t(a,s,1,u+"/expansion_conv");return{separable_conv0:l,separable_conv1:c,expansion_conv:f}}function i(a,s){var u=n(a,a,s+"/separable_conv0"),l=n(a,a,s+"/separable_conv1"),c=n(a,a,s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:t,extractSeparableConvParams:n,extractReductionBlockParams:o,extractMainBlockParams:i}}function bFe(e,r){var t=[],n=hc(e),o=n.extractWeights,i=n.getRemainingWeights,a=xFe(o,t),s=a.extractConvParams,u=a.extractSeparableConvParams,l=a.extractReductionBlockParams,c=a.extractMainBlockParams,f=s(3,32,3,"entry_flow/conv_in"),d=l(32,64,"entry_flow/reduction_block_0"),p=l(64,128,"entry_flow/reduction_block_1"),h={conv_in:f,reduction_block_0:d,reduction_block_1:p},m={};R0(r,0,1).forEach(function(x){m["main_block_"+x]=c(128,"middle_flow/main_block_"+x)});var y=l(128,256,"exit_flow/reduction_block"),v=u(256,512,"exit_flow/separable_conv"),g={reduction_block:y,separable_conv:v};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{entry_flow:h,middle_flow:m,exit_flow:g}}}function _Fe(e,r){var t=Pf(e,r),n=yK(t),o=Q3(t);function i(s){var u=o(s+"/separable_conv0"),l=o(s+"/separable_conv1"),c=n(s+"/expansion_conv");return{separable_conv0:u,separable_conv1:l,expansion_conv:c}}function a(s){var u=o(s+"/separable_conv0"),l=o(s+"/separable_conv1"),c=o(s+"/separable_conv2");return{separable_conv0:u,separable_conv1:l,separable_conv2:c}}return{extractConvParams:n,extractSeparableConvParams:o,extractReductionBlockParams:i,extractMainBlockParams:a}}function wFe(e,r){var t=[],n=_Fe(e,t),o=n.extractConvParams,i=n.extractSeparableConvParams,a=n.extractReductionBlockParams,s=n.extractMainBlockParams,u=o("entry_flow/conv_in"),l=a("entry_flow/reduction_block_0"),c=a("entry_flow/reduction_block_1"),f={conv_in:u,reduction_block_0:l,reduction_block_1:c},d={};R0(r,0,1).forEach(function(y){d["main_block_"+y]=s("middle_flow/main_block_"+y)});var p=a("exit_flow/reduction_block"),h=i("exit_flow/separable_conv"),m={reduction_block:p,separable_conv:h};return pc(e,t),{params:{entry_flow:f,middle_flow:d,exit_flow:m},paramMappings:t}}function CK(e,r,t){return Dr(Ps(e,r.filters,t,"same"),r.bias)}function DA(e,r,t){t===void 0&&(t=!0);var n=t?qn(e):e;return n=Ba(n,r.separable_conv0,[1,1]),n=Ba(qn(n),r.separable_conv1,[1,1]),n=Mo(n,[3,3],[2,2],"same"),n=Dr(n,CK(e,r.expansion_conv,[2,2])),n}function SFe(e,r){var t=Ba(qn(e),r.separable_conv0,[1,1]);return t=Ba(qn(t),r.separable_conv1,[1,1]),t=Ba(qn(t),r.separable_conv2,[1,1]),t=Dr(t,e),t}var CFe=function(e){dr(r,e);function r(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return r.prototype.forwardInput=function(t){var n=this,o=this.params;if(!o)throw new Error("TinyXception - load model before inference");return Ft(function(){var i=t.toBatchTensor(112,!0),a=[122.782,117.001,104.298],s=wy(i,a).div(Ct(256)),u=qn(CK(s,o.entry_flow.conv_in,[2,2]));return u=DA(u,o.entry_flow.reduction_block_0,!1),u=DA(u,o.entry_flow.reduction_block_1),R0(n._numMainBlocks,0,1).forEach(function(l){u=SFe(u,o.middle_flow["main_block_"+l])}),u=DA(u,o.exit_flow.reduction_block),u=qn(Ba(u,o.exit_flow.separable_conv,[1,1])),u})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.getDefaultModelName=function(){return"tiny_xception_model"},r.prototype.extractParamsFromWeigthMap=function(t){return wFe(t,this._numMainBlocks)},r.prototype.extractParams=function(t){return bFe(t,this._numMainBlocks)},r}(dc);function EFe(e){var r=[],t=hc(e),n=t.extractWeights,o=t.getRemainingWeights,i=K3(n,r),a=i(512,1,"fc/age"),s=i(512,2,"fc/gender");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{fc:{age:a,gender:s}}}}function kFe(e){var r=[],t=Pf(e,r);function n(i){var a=t(i+"/weights",2),s=t(i+"/bias",1);return{weights:a,bias:s}}var o={fc:{age:n("fc/age"),gender:n("fc/gender")}};return pc(e,r),{params:o,paramMappings:r}}var fw;(function(e){e.FEMALE="female",e.MALE="male"})(fw||(fw={}));var RFe=function(e){dr(r,e);function r(t){t===void 0&&(t=new CFe(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return Object.defineProperty(r.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),r.prototype.runNet=function(t){var n=this,o=this.params;if(!o)throw new Error(this._name+" - load model before inference");return Ft(function(){var i=t instanceof cw?n.faceFeatureExtractor.forwardInput(t):t,a=by(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),s=ju(a,o.fc.age).as1D(),u=ju(a,o.fc.gender);return{age:s,gender:u}})},r.prototype.forwardInput=function(t){var n=this;return Ft(function(){var o=n.runNet(t),i=o.age,a=o.gender;return{age:i,gender:cc(a)}})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.predictAgeAndGender=function(t){return Kt(this,void 0,void 0,function(){var n,o,i,a,s,u,l=this;return Xt(this,function(c){switch(c.label){case 0:return[4,qo(t)];case 1:return n=c.sent(),[4,this.forwardInput(n)];case 2:return o=c.sent(),i=Ao(o.age),a=Ao(o.gender),s=i.map(function(f,d){return{ageTensor:f,genderTensor:a[d]}}),[4,Promise.all(s.map(function(f){var d=f.ageTensor,p=f.genderTensor;return Kt(l,void 0,void 0,function(){var h,m,y,v,g;return Xt(this,function(x){switch(x.label){case 0:return[4,d.data()];case 1:return h=x.sent()[0],[4,p.data()];case 2:return m=x.sent()[0],y=m>.5,v=y?fw.MALE:fw.FEMALE,g=y?m:1-m,d.dispose(),p.dispose(),[2,{age:h,gender:v,genderProbability:g}]}})})}))];case 3:return u=c.sent(),o.age.dispose(),o.gender.dispose(),[2,n.isBatchInput?u:u[0]]}})})},r.prototype.getDefaultModelName=function(){return"age_gender_model"},r.prototype.dispose=function(t){t===void 0&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},r.prototype.loadClassifierParams=function(t){var n=this.extractClassifierParams(t),o=n.params,i=n.paramMappings;this._params=o,this._paramMappings=i},r.prototype.extractClassifierParams=function(t){return EFe(t)},r.prototype.extractParamsFromWeigthMap=function(t){var n=_K(t),o=n.featureExtractorMap,i=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(o),kFe(i)},r.prototype.extractParams=function(t){var n=1539,o=t.slice(0,t.length-n),i=t.slice(t.length-n);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(i)},r}(dc),EK=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.postProcess=function(t,n,o){var i=o.map(function(s){var u=s.width,l=s.height,c=n/Math.max(l,u);return{width:u*c,height:l*c}}),a=i.length;return Ft(function(){var s=function(d,p){return Wa([Xu([68],d),Xu([68],p)],1).as2D(1,136).as1D()},u=function(d,p){var h=i[d],m=h.width,y=h.height;return p(m,y)?Math.abs(m-y)/2:0},l=function(d){return u(d,function(p,h){return p<h})},c=function(d){return u(d,function(p,h){return h<p})},f=t.mul(Xu([a,136],n)).sub(Wa(Array.from(Array(a),function(d,p){return s(l(p),c(p))}))).div(Wa(Array.from(Array(a),function(d,p){return s(i[p].width,i[p].height)})));return f})},r.prototype.forwardInput=function(t){var n=this;return Ft(function(){var o=n.runNet(t);return n.postProcess(o,t.inputSize,t.inputDimensions.map(function(i){var a=i[0],s=i[1];return{height:a,width:s}}))})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.detectLandmarks=function(t){return Kt(this,void 0,void 0,function(){var n,o,i,a=this;return Xt(this,function(s){switch(s.label){case 0:return[4,qo(t)];case 1:return n=s.sent(),o=Ft(function(){return Ao(a.forwardInput(n))}),[4,Promise.all(o.map(function(u,l){return Kt(a,void 0,void 0,function(){var c,f,d,p,h;return Xt(this,function(m){switch(m.label){case 0:return d=(f=Array).from,[4,u.data()];case 1:return c=d.apply(f,[m.sent()]),p=c.filter(function(y,v){return CU(v)}),h=c.filter(function(y,v){return!CU(v)}),[2,new rFe(Array(68).fill(0).map(function(y,v){return new tn(p[v],h[v])}),{height:n.getInputHeight(l),width:n.getInputWidth(l)})]}})})}))];case 2:return i=s.sent(),o.forEach(function(u){return u.dispose()}),[2,n.isBatchInput?i:i[0]]}})})},r.prototype.getClassifierChannelsOut=function(){return 136},r}(wK),kK=function(e){dr(r,e);function r(t){return t===void 0&&(t=new bK),e.call(this,"FaceLandmark68Net",t)||this}return r.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},r.prototype.getClassifierChannelsIn=function(){return 256},r}(EK);function TFe(e){var r=[],t=xK(e,r).extractDenseBlock3Params,n={dense0:t("dense0",!0),dense1:t("dense1"),dense2:t("dense2")};return pc(e,r),{params:n,paramMappings:r}}function AFe(e){var r=[],t=hc(e),n=t.extractWeights,o=t.getRemainingWeights,i=gK(n,r).extractDenseBlock3Params,a=i(3,32,"dense0",!0),s=i(32,64,"dense1"),u=i(64,128,"dense2");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:r,params:{dense0:a,dense1:s,dense2:u}}}var OFe=function(e){dr(r,e);function r(){return e.call(this,"TinyFaceFeatureExtractor")||this}return r.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Ft(function(){var o=t.toBatchTensor(112,!0),i=[122.782,117.001,104.298],a=wy(o,i).div(Ct(255)),s=OA(a,n.dense0,!0);return s=OA(s,n.dense1),s=OA(s,n.dense2),s=by(s,[14,14],[2,2],"valid"),s})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},r.prototype.extractParamsFromWeigthMap=function(t){return TFe(t)},r.prototype.extractParams=function(t){return AFe(t)},r}(dc),DFe=function(e){dr(r,e);function r(t){return t===void 0&&(t=new OFe),e.call(this,"FaceLandmark68TinyNet",t)||this}return r.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},r.prototype.getClassifierChannelsIn=function(){return 128},r}(EK);(function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r})(kK);function PFe(e,r){return Dr(Si(e,r.weights),r.biases)}function Z3(e,r,t,n,o){o===void 0&&(o="same");var i=r.conv,a=i.filters,s=i.bias,u=Ps(e,a,t,o);return u=Dr(u,s),u=PFe(u,r.scale),n?qn(u):u}function IFe(e,r){return Z3(e,r,[1,1],!0)}function RK(e,r){return Z3(e,r,[1,1],!1)}function TK(e,r){return Z3(e,r,[2,2],!0,"valid")}function NFe(e,r){function t(s,u,l){var c=e(s),f=c.length/(u*l*l);if(VMe(f))throw new Error("depth has to be an integer: "+f+", weights.length: "+c.length+", numFilters: "+u+", filterSize: "+l);return Ft(function(){return hf(sa(c,[u,f,l,l]),[2,3,1,0])})}function n(s,u,l,c){var f=t(s,u,l),d=bo(e(u));return r.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:f,bias:d}}function o(s,u){var l=bo(e(s)),c=bo(e(s));return r.push({paramPath:u+"/weights"},{paramPath:u+"/biases"}),{weights:l,biases:c}}function i(s,u,l,c){var f=n(s,u,l,c+"/conv"),d=o(u,c+"/scale");return{conv:f,scale:d}}function a(s,u,l,c,f){f===void 0&&(f=!1);var d=i((f?.5:1)*s,u,l,c+"/conv1"),p=i(s,u,l,c+"/conv2");return{conv1:d,conv2:p}}return{extractConvLayerParams:i,extractResidualLayerParams:a}}function MFe(e){var r=hc(e),t=r.extractWeights,n=r.getRemainingWeights,o=[],i=NFe(t,o),a=i.extractConvLayerParams,s=i.extractResidualLayerParams,u=a(4704,32,7,"conv32_down"),l=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),f=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),p=s(36864,64,3,"conv64_1"),h=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),y=s(147456,128,3,"conv128_down",!0),v=s(147456,128,3,"conv128_1"),g=s(147456,128,3,"conv128_2"),x=s(589824,256,3,"conv256_down",!0),b=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),E=s(589824,256,3,"conv256_down_out"),C=Ft(function(){return hf(nf(t(256*128),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),n().length!==0)throw new Error("weights remaing after extract: "+n().length);var S={conv32_down:u,conv32_1:l,conv32_2:c,conv32_3:f,conv64_down:d,conv64_1:p,conv64_2:h,conv64_3:m,conv128_down:y,conv128_1:v,conv128_2:g,conv256_down:x,conv256_1:b,conv256_2:w,conv256_down_out:E,fc:C};return{params:S,paramMappings:o}}function FFe(e,r){var t=Pf(e,r);function n(a){var s=t(a+"/scale/weights",1),u=t(a+"/scale/biases",1);return{weights:s,biases:u}}function o(a){var s=t(a+"/conv/filters",4),u=t(a+"/conv/bias",1),l=n(a);return{conv:{filters:s,bias:u},scale:l}}function i(a){return{conv1:o(a+"/conv1"),conv2:o(a+"/conv2")}}return{extractConvLayerParams:o,extractResidualLayerParams:i}}function LFe(e){var r=[],t=FFe(e,r),n=t.extractConvLayerParams,o=t.extractResidualLayerParams,i=n("conv32_down"),a=o("conv32_1"),s=o("conv32_2"),u=o("conv32_3"),l=o("conv64_down"),c=o("conv64_1"),f=o("conv64_2"),d=o("conv64_3"),p=o("conv128_down"),h=o("conv128_1"),m=o("conv128_2"),y=o("conv256_down"),v=o("conv256_1"),g=o("conv256_2"),x=o("conv256_down_out"),b=e.fc;if(r.push({originalPath:"fc",paramPath:"fc"}),!HMe(b))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+b);var w={conv32_down:i,conv32_1:a,conv32_2:s,conv32_3:u,conv64_down:l,conv64_1:c,conv64_2:f,conv64_3:d,conv128_down:p,conv128_1:h,conv128_2:m,conv256_down:y,conv256_1:v,conv256_2:g,conv256_down_out:x,fc:b};return pc(e,r),{params:w,paramMappings:r}}function Su(e,r){var t=IFe(e,r.conv1);return t=RK(t,r.conv2),t=Dr(t,e),t=qn(t),t}function r_(e,r){var t=TK(e,r.conv1);t=RK(t,r.conv2);var n=by(e,2,2,"valid"),o=Dn(n.shape),i=n.shape[3]!==t.shape[3],a=n.shape[1]!==t.shape[1]||n.shape[2]!==t.shape[2];if(a){var s=$g(t.shape);s[1]=1;var u=Dn(s);t=To([t,u],1);var l=$g(t.shape);l[2]=1;var c=Dn(l);t=To([t,c],2)}return n=i?To([n,o],3):n,t=Dr(n,t),t=qn(t),t}var BFe=function(e){dr(r,e);function r(){return e.call(this,"FaceRecognitionNet")||this}return r.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("FaceRecognitionNet - load model before inference");return Ft(function(){var o=t.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],a=wy(o,i).div(Ct(256)),s=TK(a,n.conv32_down);s=Mo(s,3,2,"valid"),s=Su(s,n.conv32_1),s=Su(s,n.conv32_2),s=Su(s,n.conv32_3),s=r_(s,n.conv64_down),s=Su(s,n.conv64_1),s=Su(s,n.conv64_2),s=Su(s,n.conv64_3),s=r_(s,n.conv128_down),s=Su(s,n.conv128_1),s=Su(s,n.conv128_2),s=r_(s,n.conv256_down),s=Su(s,n.conv256_1),s=Su(s,n.conv256_2),s=r_(s,n.conv256_down_out);var u=s.mean([1,2]),l=EC(u,n.fc);return l})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.computeFaceDescriptor=function(t){return Kt(this,void 0,void 0,function(){var n,o,i,a=this;return Xt(this,function(s){switch(s.label){case 0:return[4,qo(t)];case 1:return n=s.sent(),o=Ft(function(){return Ao(a.forwardInput(n))}),[4,Promise.all(o.map(function(u){return u.data()}))];case 2:return i=s.sent(),o.forEach(function(u){return u.dispose()}),[2,n.isBatchInput?i:i[0]]}})})},r.prototype.getDefaultModelName=function(){return"face_recognition_model"},r.prototype.extractParamsFromWeigthMap=function(t){return LFe(t)},r.prototype.extractParams=function(t){return MFe(t)},r}(dc);function AK(e,r){var t={descriptor:r};return Object.assign({},e,t)}function OK(e,r){var t={age:r};return Object.assign({},e,t)}function DK(e,r,t){var n={gender:r,genderProbability:t};return Object.assign({},e,n)}var PK=function(){function e(r){var t=r===void 0?{}:r,n=t.minFaceSize,o=t.scaleFactor,i=t.maxNumScales,a=t.scoreThresholds,s=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=o||.709,this._maxNumScales=i||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(u){return typeof u!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(u){return typeof u!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function jFe(e,r){function t(u,l){var c=sa(e(9*u),[3,3,u,1]),f=bo(e(u)),d=bo(e(u)),p=bo(e(u)),h=bo(e(u));return r.push({paramPath:l+"/filters"},{paramPath:l+"/batch_norm_scale"},{paramPath:l+"/batch_norm_offset"},{paramPath:l+"/batch_norm_mean"},{paramPath:l+"/batch_norm_variance"}),{filters:c,batch_norm_scale:f,batch_norm_offset:d,batch_norm_mean:p,batch_norm_variance:h}}function n(u,l,c,f,d){var p=sa(e(u*l*c*c),[c,c,u,l]),h=bo(e(l));return r.push({paramPath:f+"/filters"},{paramPath:f+"/"+(d?"batch_norm_offset":"bias")}),{filters:p,bias:h}}function o(u,l,c,f){var d=n(u,l,c,f,!0),p=d.filters,h=d.bias;return{filters:p,batch_norm_offset:h}}function i(u,l,c){var f=t(u,c+"/depthwise_conv"),d=o(u,l,1,c+"/pointwise_conv");return{depthwise_conv:f,pointwise_conv:d}}function a(){var u=o(3,32,3,"mobilenetv1/conv_0"),l=i(32,64,"mobilenetv1/conv_1"),c=i(64,128,"mobilenetv1/conv_2"),f=i(128,128,"mobilenetv1/conv_3"),d=i(128,256,"mobilenetv1/conv_4"),p=i(256,256,"mobilenetv1/conv_5"),h=i(256,512,"mobilenetv1/conv_6"),m=i(512,512,"mobilenetv1/conv_7"),y=i(512,512,"mobilenetv1/conv_8"),v=i(512,512,"mobilenetv1/conv_9"),g=i(512,512,"mobilenetv1/conv_10"),x=i(512,512,"mobilenetv1/conv_11"),b=i(512,1024,"mobilenetv1/conv_12"),w=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:u,conv_1:l,conv_2:c,conv_3:f,conv_4:d,conv_5:p,conv_6:h,conv_7:m,conv_8:y,conv_9:v,conv_10:g,conv_11:x,conv_12:b,conv_13:w}}function s(){var u=o(1024,256,1,"prediction_layer/conv_0"),l=o(256,512,3,"prediction_layer/conv_1"),c=o(512,128,1,"prediction_layer/conv_2"),f=o(128,256,3,"prediction_layer/conv_3"),d=o(256,128,1,"prediction_layer/conv_4"),p=o(128,256,3,"prediction_layer/conv_5"),h=o(256,64,1,"prediction_layer/conv_6"),m=o(64,128,3,"prediction_layer/conv_7"),y=n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),v=n(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),g=n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),x=n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),b=n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),w=n(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),E=n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),C=n(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),S=n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),T=n(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),k=n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),P=n(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),I={box_encoding_predictor:y,class_predictor:v},F={box_encoding_predictor:g,class_predictor:x},A={box_encoding_predictor:b,class_predictor:w},D={box_encoding_predictor:E,class_predictor:C},$={box_encoding_predictor:S,class_predictor:T},B={box_encoding_predictor:k,class_predictor:P};return{conv_0:u,conv_1:l,conv_2:c,conv_3:f,conv_4:d,conv_5:p,conv_6:h,conv_7:m,box_predictor_0:I,box_predictor_1:F,box_predictor_2:A,box_predictor_3:D,box_predictor_4:$,box_predictor_5:B}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:s}}function $Fe(e){var r=[],t=hc(e),n=t.extractWeights,o=t.getRemainingWeights,i=jFe(n,r),a=i.extractMobilenetV1Params,s=i.extractPredictionLayerParams,u=a(),l=s(),c=v3(n(5118*4),[1,5118,4]),f={extra_dim:c};if(r.push({paramPath:"output_layer/extra_dim"}),o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:u,prediction_layer:l,output_layer:f},paramMappings:r}}function zFe(e,r){var t=Pf(e,r);function n(l,c,f){var d=t(l+"/Conv2d_"+c+"_pointwise/weights",4,f+"/filters"),p=t(l+"/Conv2d_"+c+"_pointwise/convolution_bn_offset",1,f+"/batch_norm_offset");return{filters:d,batch_norm_offset:p}}function o(l){var c="mobilenetv1/conv_"+l,f="MobilenetV1/Conv2d_"+l+"_depthwise",d=c+"/depthwise_conv",p=c+"/pointwise_conv",h=t(f+"/depthwise_weights",4,d+"/filters"),m=t(f+"/BatchNorm/gamma",1,d+"/batch_norm_scale"),y=t(f+"/BatchNorm/beta",1,d+"/batch_norm_offset"),v=t(f+"/BatchNorm/moving_mean",1,d+"/batch_norm_mean"),g=t(f+"/BatchNorm/moving_variance",1,d+"/batch_norm_variance");return{depthwise_conv:{filters:h,batch_norm_scale:m,batch_norm_offset:y,batch_norm_mean:v,batch_norm_variance:g},pointwise_conv:n("MobilenetV1",l,p)}}function i(){return{conv_0:n("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}}function a(l,c){var f=t(l+"/weights",4,c+"/filters"),d=t(l+"/biases",1,c+"/bias");return{filters:f,bias:d}}function s(l){var c=a("Prediction/BoxPredictor_"+l+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+l+"/box_encoding_predictor"),f=a("Prediction/BoxPredictor_"+l+"/ClassPredictor","prediction_layer/box_predictor_"+l+"/class_predictor");return{box_encoding_predictor:c,class_predictor:f}}function u(){return{conv_0:n("Prediction",0,"prediction_layer/conv_0"),conv_1:n("Prediction",1,"prediction_layer/conv_1"),conv_2:n("Prediction",2,"prediction_layer/conv_2"),conv_3:n("Prediction",3,"prediction_layer/conv_3"),conv_4:n("Prediction",4,"prediction_layer/conv_4"),conv_5:n("Prediction",5,"prediction_layer/conv_5"),conv_6:n("Prediction",6,"prediction_layer/conv_6"),conv_7:n("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:u}}function WFe(e){var r=[],t=zFe(e,r),n=t.extractMobilenetV1Params,o=t.extractPredictionLayerParams,i=e["Output/extra_dim"];if(r.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!AC(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var a={mobilenetv1:n(),prediction_layer:o(),output_layer:{extra_dim:i}};return pc(e,r),{params:a,paramMappings:r}}function ku(e,r,t){return Ft(function(){var n=Ps(e,r.filters,t,"same");return n=Dr(n,r.batch_norm_offset),k3(n,0,6)})}var UFe=.0010000000474974513;function qFe(e,r,t){return Ft(function(){var n=CC(e,r.filters,t,"same");return n=kY(n,r.batch_norm_mean,r.batch_norm_variance,r.batch_norm_offset,r.batch_norm_scale,UFe),k3(n,0,6)})}function HFe(e){return[2,4,6,12].some(function(r){return r===e})?[2,2]:[1,1]}function VFe(e,r){return Ft(function(){var t=null,n=ku(e,r.conv_0,[2,2]),o=[r.conv_1,r.conv_2,r.conv_3,r.conv_4,r.conv_5,r.conv_6,r.conv_7,r.conv_8,r.conv_9,r.conv_10,r.conv_11,r.conv_12,r.conv_13];if(o.forEach(function(i,a){var s=a+1,u=HFe(s);n=qFe(n,i.depthwise_conv,u),n=ku(n,i.pointwise_conv,[1,1]),s===11&&(t=n)}),t===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:n,conv11:t}})}function GFe(e,r,t,n,o){var i=e.shape[0],a=Math.min(t,i),s=r.map(function(c,f){return{score:c,boxIndex:f}}).filter(function(c){return c.score>o}).sort(function(c,f){return f.score-c.score}),u=function(c){return c<=n?1:0},l=[];return s.forEach(function(c){if(!(l.length>=a)){for(var f=c.score,d=l.length-1;d>=0;--d){var p=YFe(e,c.boxIndex,l[d]);if(p!==0&&(c.score*=u(p),c.score<=o))break}f===c.score&&l.push(c.boxIndex)}}),l}function YFe(e,r,t){var n=e.arraySync(),o=Math.min(n[r][0],n[r][2]),i=Math.min(n[r][1],n[r][3]),a=Math.max(n[r][0],n[r][2]),s=Math.max(n[r][1],n[r][3]),u=Math.min(n[t][0],n[t][2]),l=Math.min(n[t][1],n[t][3]),c=Math.max(n[t][0],n[t][2]),f=Math.max(n[t][1],n[t][3]),d=(a-o)*(s-i),p=(c-u)*(f-l);if(d<=0||p<=0)return 0;var h=Math.max(o,u),m=Math.max(i,l),y=Math.min(a,c),v=Math.min(s,f),g=Math.max(y-h,0)*Math.max(v-m,0);return g/(d+p-g)}function KFe(e){var r=Ao(hf(e,[1,0])),t=[Do(r[2],r[0]),Do(r[3],r[1])],n=[Dr(r[0],qs(t[0],Ct(2))),Dr(r[1],qs(t[1],Ct(2)))];return{sizes:t,centers:n}}function XFe(e,r){var t=KFe(e),n=t.sizes,o=t.centers,i=Ao(hf(r,[1,0])),a=qs(Si(LD(qs(i[2],Ct(5))),n[0]),Ct(2)),s=Dr(Si(qs(i[0],Ct(10)),n[0]),o[0]),u=qs(Si(LD(qs(i[3],Ct(5))),n[1]),Ct(2)),l=Dr(Si(qs(i[1],Ct(10)),n[1]),o[1]);return hf(Wa([Do(s,a),Do(l,u),Dr(s,a),Dr(l,u)]),[1,0])}function QFe(e,r,t){return Ft(function(){var n=e.shape[0],o=XFe(Vs(Oh(t.extra_dim,[n,1,1]),[-1,4]),Vs(e,[-1,4]));o=Vs(o,[n,o.shape[0]/n,4]);var i=wY(tl(r,[0,0,1],[-1,-1,-1])),a=tl(i,[0,0,0],[-1,-1,1]);a=Vs(a,[n,a.shape[1]]);var s=Ao(o),u=Ao(a);return{boxes:s,scores:u}})}function Up(e,r){return Ft(function(){var t=e.shape[0],n=Vs(Js(e,r.box_encoding_predictor),[t,-1,1,4]),o=Vs(Js(e,r.class_predictor),[t,-1,3]);return{boxPredictionEncoding:n,classPrediction:o}})}function JFe(e,r,t){return Ft(function(){var n=ku(e,t.conv_0,[1,1]),o=ku(n,t.conv_1,[2,2]),i=ku(o,t.conv_2,[1,1]),a=ku(i,t.conv_3,[2,2]),s=ku(a,t.conv_4,[1,1]),u=ku(s,t.conv_5,[2,2]),l=ku(u,t.conv_6,[1,1]),c=ku(l,t.conv_7,[2,2]),f=Up(r,t.box_predictor_0),d=Up(e,t.box_predictor_1),p=Up(o,t.box_predictor_2),h=Up(a,t.box_predictor_3),m=Up(u,t.box_predictor_4),y=Up(c,t.box_predictor_5),v=To([f.boxPredictionEncoding,d.boxPredictionEncoding,p.boxPredictionEncoding,h.boxPredictionEncoding,m.boxPredictionEncoding,y.boxPredictionEncoding],1),g=To([f.classPrediction,d.classPrediction,p.classPrediction,h.classPrediction,m.classPrediction,y.classPrediction],1);return{boxPredictions:v,classPredictions:g}})}var IC=function(){function e(r){var t=r===void 0?{}:r,n=t.minConfidence,o=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=o||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),IK=function(e){dr(r,e);function r(){return e.call(this,"SsdMobilenetv1")||this}return r.prototype.forwardInput=function(t){var n=this.params;if(!n)throw new Error("SsdMobilenetv1 - load model before inference");return Ft(function(){var o=t.toBatchTensor(512,!1).toFloat(),i=Do(Si(o,Ct(.007843137718737125)),Ct(1)),a=VFe(i,n.mobilenetv1),s=JFe(a.out,a.conv11,n.prediction_layer),u=s.boxPredictions,l=s.classPredictions;return QFe(u,l,n.output_layer)})},r.prototype.forward=function(t){return Kt(this,void 0,void 0,function(){var n;return Xt(this,function(o){switch(o.label){case 0:return n=this.forwardInput,[4,qo(t)];case 1:return[2,n.apply(this,[o.sent()])]}})})},r.prototype.locateFaces=function(t,n){return n===void 0&&(n={}),Kt(this,void 0,void 0,function(){var o,i,a,s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S;return Xt(this,function(T){switch(T.label){case 0:return o=new IC(n),i=o.maxResults,a=o.minConfidence,[4,qo(t)];case 1:for(s=T.sent(),u=this.forwardInput(s),l=u.boxes,c=u.scores,f=l[0],d=c[0],p=1;p<l.length;p++)l[p].dispose(),c[p].dispose();return y=(m=Array).from,[4,d.data()];case 2:return h=y.apply(m,[T.sent()]),v=.5,g=GFe(f,h,i,v,a),x=s.getReshapedInputDimensions(0),b=s.inputSize,w=b/x.width,E=b/x.height,C=f.arraySync(),S=g.map(function(k){var P=[Math.max(0,C[k][0]),Math.min(1,C[k][2])].map(function(B){return B*E}),I=P[0],F=P[1],A=[Math.max(0,C[k][1]),Math.min(1,C[k][3])].map(function(B){return B*w}),D=A[0],$=A[1];return new yl(h[k],new U3(D,I,$-D,F-I),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),f.dispose(),d.dispose(),[2,S]}})})},r.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},r.prototype.extractParamsFromWeigthMap=function(t){return WFe(t)},r.prototype.extractParams=function(t){return $Fe(t)},r}(dc);(function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r})(IK);var ZFe=.4,eLe=[new tn(.738768,.874946),new tn(2.42204,2.65704),new tn(4.30971,7.04493),new tn(10.246,4.59428),new tn(12.6868,11.8741)],tLe=[new tn(1.603231,2.094468),new tn(6.041143,7.080126),new tn(2.882459,3.518061),new tn(4.266906,5.178857),new tn(9.041765,10.66308)],rLe=[117.001,114.697,97.404],nLe="tiny_yolov2_model",oLe="tiny_yolov2_separable_conv_model",n_=function(e){return typeof e=="number"};function iLe(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!n_(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(r){return typeof r=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(r){return r||{}}).every(function(r){return n_(r.x)&&n_(r.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(n_)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function eM(e){return Ft(function(){var r=Si(e,Ct(.10000000149011612));return Dr(qn(Do(e,r)),r)})}function Ac(e,r){return Ft(function(){var t=op(e,[[0,0],[1,1],[1,1],[0,0]]);return t=Ps(t,r.conv.filters,[1,1],"valid"),t=Do(t,r.bn.sub),t=Si(t,r.bn.truediv),t=Dr(t,r.conv.bias),eM(t)})}function Oc(e,r){return Ft(function(){var t=op(e,[[0,0],[1,1],[1,1],[0,0]]);return t=O3(t,r.depthwise_filter,r.pointwise_filter,[1,1],"valid"),t=Dr(t,r.bias),eM(t)})}function aLe(e,r){var t=PC(e,r);function n(a,s){var u=bo(e(a)),l=bo(e(a));return r.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:u,truediv:l}}function o(a,s,u){var l=t(a,s,3,u+"/conv"),c=n(s,u+"/bn");return{conv:l,bn:c}}var i=X3(e,r);return{extractConvParams:t,extractConvWithBatchNormParams:o,extractSeparableConvParams:i}}function sLe(e,r,t,n){var o=hc(e),i=o.extractWeights,a=o.getRemainingWeights,s=[],u=aLe(i,s),l=u.extractConvParams,c=u.extractConvWithBatchNormParams,f=u.extractSeparableConvParams,d;if(r.withSeparableConvs){var p=n[0],h=n[1],m=n[2],y=n[3],v=n[4],g=n[5],x=n[6],b=n[7],w=n[8],E=r.isFirstLayerConv2d?l(p,h,3,"conv0"):f(p,h,"conv0"),C=f(h,m,"conv1"),S=f(m,y,"conv2"),T=f(y,v,"conv3"),k=f(v,g,"conv4"),P=f(g,x,"conv5"),I=b?f(x,b,"conv6"):void 0,F=w?f(b,w,"conv7"):void 0,A=l(w||b||x,5*t,1,"conv8");d={conv0:E,conv1:C,conv2:S,conv3:T,conv4:k,conv5:P,conv6:I,conv7:F,conv8:A}}else{var p=n[0],h=n[1],m=n[2],y=n[3],v=n[4],g=n[5],x=n[6],b=n[7],w=n[8],E=c(p,h,"conv0"),C=c(h,m,"conv1"),S=c(m,y,"conv2"),T=c(y,v,"conv3"),k=c(v,g,"conv4"),P=c(g,x,"conv5"),I=c(x,b,"conv6"),F=c(b,w,"conv7"),A=l(w,5*t,1,"conv8");d={conv0:E,conv1:C,conv2:S,conv3:T,conv4:k,conv5:P,conv6:I,conv7:F,conv8:A}}if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:d,paramMappings:s}}function uLe(e,r){var t=Pf(e,r);function n(s){var u=t(s+"/sub",1),l=t(s+"/truediv",1);return{sub:u,truediv:l}}function o(s){var u=t(s+"/filters",4),l=t(s+"/bias",1);return{filters:u,bias:l}}function i(s){var u=o(s+"/conv"),l=n(s+"/bn");return{conv:u,bn:l}}var a=Q3(t);return{extractConvParams:o,extractConvWithBatchNormParams:i,extractSeparableConvParams:a}}function lLe(e,r){var t=[],n=uLe(e,t),o=n.extractConvParams,i=n.extractConvWithBatchNormParams,a=n.extractSeparableConvParams,s;if(r.withSeparableConvs){var u=r.filterSizes&&r.filterSizes.length||9;s={conv0:r.isFirstLayerConv2d?o("conv0"):a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:u>7?a("conv6"):void 0,conv7:u>8?a("conv7"):void 0,conv8:o("conv8")}}else s={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:o("conv8")};return pc(e,t),{params:s,paramMappings:t}}var PU;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(PU||(PU={}));var tM=function(){function e(r){var t=r===void 0?{}:r,n=t.inputSize,o=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=o||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),NK=function(e){dr(r,e);function r(t){var n=e.call(this,"TinyYolov2")||this;return iLe(t),n._config=t,n}return Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),r.prototype.runTinyYolov2=function(t,n){var o=Ac(t,n.conv0);return o=Mo(o,[2,2],[2,2],"same"),o=Ac(o,n.conv1),o=Mo(o,[2,2],[2,2],"same"),o=Ac(o,n.conv2),o=Mo(o,[2,2],[2,2],"same"),o=Ac(o,n.conv3),o=Mo(o,[2,2],[2,2],"same"),o=Ac(o,n.conv4),o=Mo(o,[2,2],[2,2],"same"),o=Ac(o,n.conv5),o=Mo(o,[2,2],[1,1],"same"),o=Ac(o,n.conv6),o=Ac(o,n.conv7),Js(o,n.conv8,"valid",!1)},r.prototype.runMobilenet=function(t,n){var o=this.config.isFirstLayerConv2d?eM(Js(t,n.conv0,"valid",!1)):Oc(t,n.conv0);return o=Mo(o,[2,2],[2,2],"same"),o=Oc(o,n.conv1),o=Mo(o,[2,2],[2,2],"same"),o=Oc(o,n.conv2),o=Mo(o,[2,2],[2,2],"same"),o=Oc(o,n.conv3),o=Mo(o,[2,2],[2,2],"same"),o=Oc(o,n.conv4),o=Mo(o,[2,2],[2,2],"same"),o=Oc(o,n.conv5),o=Mo(o,[2,2],[1,1],"same"),o=n.conv6?Oc(o,n.conv6):o,o=n.conv7?Oc(o,n.conv7):o,Js(o,n.conv8,"valid",!1)},r.prototype.forwardInput=function(t,n){var o=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return Ft(function(){var a=t.toBatchTensor(n,!1).toFloat();return a=o.config.meanRgb?wy(a,o.config.meanRgb):a,a=a.div(Ct(256)),o.config.withSeparableConvs?o.runMobilenet(a,i):o.runTinyYolov2(a,i)})},r.prototype.forward=function(t,n){return Kt(this,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,qo(t)];case 1:return[4,o.apply(this,[i.sent(),n])];case 2:return[2,i.sent()]}})})},r.prototype.detect=function(t,n){return n===void 0&&(n={}),Kt(this,void 0,void 0,function(){var o,i,a,s,u,l,c,f,d,p,h,m,y,v,g=this;return Xt(this,function(x){switch(x.label){case 0:return o=new tM(n),i=o.inputSize,a=o.scoreThreshold,[4,qo(t)];case 1:return s=x.sent(),[4,this.forwardInput(s,i)];case 2:return u=x.sent(),l=Ft(function(){return Ao(u)[0].expandDims()}),c={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(l,s.getReshapedInputDimensions(0),a)];case 3:return f=x.sent(),u.dispose(),l.dispose(),d=f.map(function(b){return b.box}),p=f.map(function(b){return b.score}),h=f.map(function(b){return b.classScore}),m=f.map(function(b){return g.config.classes[b.label]}),y=T0(d.map(function(b){return b.rescale(i)}),p,this.config.iouThreshold,!0),v=y.map(function(b){return new aK(p[b],h[b],m[b],d[b],c)}),[2,v]}})})},r.prototype.getDefaultModelName=function(){return""},r.prototype.extractParamsFromWeigthMap=function(t){return lLe(t,this.config)},r.prototype.extractParams=function(t){var n=this.config.filterSizes||r.DEFAULT_FILTER_SIZES,o=n?n.length:void 0;if(o!==7&&o!==8&&o!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+o+" filterSizes in config");return sLe(t,this.config,this.boxEncodingSize,n)},r.prototype.extractBoxes=function(t,n,o){return Kt(this,void 0,void 0,function(){var i,a,s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S,T,k,P,I,F,A,D,$,B,W=this;return Xt(this,function(L){switch(L.label){case 0:return i=n.width,a=n.height,s=Math.max(i,a),u=s/i,l=s/a,c=t.shape[1],f=this.config.anchors.length,d=Ft(function(){var z=t.reshape([c,c,f,W.boxEncodingSize]),U=z.slice([0,0,0,0],[c,c,f,4]),Y=z.slice([0,0,0,4],[c,c,f,1]),q=W.withClassScores?cc(z.slice([0,0,0,5],[c,c,f,W.config.classes.length]),3):Ct(0);return[U,Y,q]}),p=d[0],h=d[1],m=d[2],y=[],[4,h.array()];case 1:return v=L.sent(),[4,p.array()];case 2:g=L.sent(),x=0,L.label=3;case 3:if(!(x<c))return[3,12];b=0,L.label=4;case 4:if(!(b<c))return[3,11];w=0,L.label=5;case 5:return w<f?(E=AA(v[x][b][w][0]),!o||E>o?(C=(b+AA(g[x][b][w][0]))/c*u,S=(x+AA(g[x][b][w][1]))/c*l,T=Math.exp(g[x][b][w][2])*this.config.anchors[w].x/c*u,k=Math.exp(g[x][b][w][3])*this.config.anchors[w].y/c*l,P=C-T/2,I=S-k/2,F={row:x,col:b,anchor:w},this.withClassScores?[4,this.extractPredictedClass(m,F)]:[3,7]):[3,9]):[3,10];case 6:return B=L.sent(),[3,8];case 7:B={classScore:1,label:0},L.label=8;case 8:A=B,D=A.classScore,$=A.label,y.push(bi({box:new OC(P,I,P+T,I+k),score:E,classScore:E*D,label:$},F)),L.label=9;case 9:return w++,[3,5];case 10:return b++,[3,4];case 11:return x++,[3,3];case 12:return p.dispose(),h.dispose(),m.dispose(),[2,y]}})})},r.prototype.extractPredictedClass=function(t,n){return Kt(this,void 0,void 0,function(){var o,i,a,s;return Xt(this,function(u){switch(u.label){case 0:return o=n.row,i=n.col,a=n.anchor,[4,t.array()];case 1:return s=u.sent(),[2,Array(this.config.classes.length).fill(0).map(function(l,c){return s[o][i][a][c]}).map(function(l,c){return{classScore:l,label:c}}).reduce(function(l,c){return l.classScore>c.classScore?l:c})]}})})},r.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],r}(dc),cLe=function(e){dr(r,e);function r(t){t===void 0&&(t=!0);var n=this,o=Object.assign({},{withSeparableConvs:t,iouThreshold:ZFe,classes:["face"]},t?{anchors:tLe,meanRgb:rLe}:{anchors:eLe,withClassScores:!0});return n=e.call(this,o)||this,n}return Object.defineProperty(r.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),r.prototype.locateFaces=function(t,n){return Kt(this,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return[4,this.detect(t,n)];case 1:return o=i.sent(),[2,o.map(function(a){return new yl(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},r.prototype.getDefaultModelName=function(){return this.withSeparableConvs?oLe:nLe},r.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},r}(NK),MK=function(e){dr(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return r}(tM),Sy=function(){function e(){}return e.prototype.then=function(r){return Kt(this,void 0,void 0,function(){var t;return Xt(this,function(n){switch(n.label){case 0:return t=r,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return Kt(this,void 0,void 0,function(){return Xt(this,function(r){throw new Error("ComposableTask - run is not implemented")})})},e}();function NC(e,r,t,n,o){return o===void 0&&(o=function(i){var a=i.alignedRect;return a}),Kt(this,void 0,void 0,function(){var i,a,s,u,l;return Xt(this,function(c){switch(c.label){case 0:return i=e.map(function(f){return yFe(f)?o(f):f.detection}),s=n,s?[3,5]:r instanceof Wn?[4,Y3(r,i)]:[3,2];case 1:return u=c.sent(),[3,4];case 2:return[4,G3(r,i)];case 3:u=c.sent(),c.label=4;case 4:s=u,c.label=5;case 5:return a=s,[4,t(a)];case 6:return l=c.sent(),a.forEach(function(f){return f instanceof Wn&&f.dispose()}),[2,l]}})})}function rM(e,r,t,n,o){return Kt(this,void 0,void 0,function(){var i=this;return Xt(this,function(a){return[2,NC([e],r,function(s){return Kt(i,void 0,void 0,function(){return Xt(this,function(u){return[2,t(s[0])]})})},n,o)]})})}function fLe(e){return Ft(function(){return Wa(Ao(e,3).reverse(),3)})}var o_=2,dw=12;function dLe(e,r){var t=PC(e,r),n=K3(e,r);function o(l,c){var f=bo(e(l));return r.push({paramPath:c}),f}function i(l,c,f){f===void 0&&(f=!1);var d=t(l[0],l[1],3,c+"/conv1"),p=o(l[1],c+"/prelu1_alpha"),h=t(l[1],l[2],3,c+"/conv2"),m=o(l[2],c+"/prelu2_alpha"),y=t(l[2],l[3],f?2:3,c+"/conv3"),v=o(l[3],c+"/prelu3_alpha");return{conv1:d,prelu1_alpha:p,conv2:h,prelu2_alpha:m,conv3:y,prelu3_alpha:v}}function a(){var l=i([3,10,16,32],"pnet"),c=t(32,2,1,"pnet/conv4_1"),f=t(32,4,1,"pnet/conv4_2");return bi(bi({},l),{conv4_1:c,conv4_2:f})}function s(){var l=i([3,28,48,64],"rnet",!0),c=n(576,128,"rnet/fc1"),f=o(128,"rnet/prelu4_alpha"),d=n(128,2,"rnet/fc2_1"),p=n(128,4,"rnet/fc2_2");return bi(bi({},l),{fc1:c,prelu4_alpha:f,fc2_1:d,fc2_2:p})}function u(){var l=i([3,32,64,64],"onet"),c=t(64,128,2,"onet/conv4"),f=o(128,"onet/prelu4_alpha"),d=n(1152,256,"onet/fc1"),p=o(256,"onet/prelu5_alpha"),h=n(256,2,"onet/fc2_1"),m=n(256,4,"onet/fc2_2"),y=n(256,10,"onet/fc2_3");return bi(bi({},l),{conv4:c,prelu4_alpha:f,fc1:d,prelu5_alpha:p,fc2_1:h,fc2_2:m,fc2_3:y})}return{extractPNetParams:a,extractRNetParams:s,extractONetParams:u}}function pLe(e){var r=hc(e),t=r.extractWeights,n=r.getRemainingWeights,o=[],i=dLe(t,o),a=i.extractPNetParams,s=i.extractRNetParams,u=i.extractONetParams,l=a(),c=s(),f=u();if(n().length!==0)throw new Error("weights remaing after extract: "+n().length);return{params:{pnet:l,rnet:c,onet:f},paramMappings:o}}function hLe(e,r){var t=Pf(e,r);function n(c){var f=t(c+"/weights",4,c+"/filters"),d=t(c+"/bias",1);return{filters:f,bias:d}}function o(c){var f=t(c+"/weights",2),d=t(c+"/bias",1);return{weights:f,bias:d}}function i(c){return t(c,1)}function a(c){var f=n(c+"/conv1"),d=i(c+"/prelu1_alpha"),p=n(c+"/conv2"),h=i(c+"/prelu2_alpha"),m=n(c+"/conv3"),y=i(c+"/prelu3_alpha");return{conv1:f,prelu1_alpha:d,conv2:p,prelu2_alpha:h,conv3:m,prelu3_alpha:y}}function s(){var c=a("pnet"),f=n("pnet/conv4_1"),d=n("pnet/conv4_2");return bi(bi({},c),{conv4_1:f,conv4_2:d})}function u(){var c=a("rnet"),f=o("rnet/fc1"),d=i("rnet/prelu4_alpha"),p=o("rnet/fc2_1"),h=o("rnet/fc2_2");return bi(bi({},c),{fc1:f,prelu4_alpha:d,fc2_1:p,fc2_2:h})}function l(){var c=a("onet"),f=n("onet/conv4"),d=i("onet/prelu4_alpha"),p=o("onet/fc1"),h=i("onet/prelu5_alpha"),m=o("onet/fc2_1"),y=o("onet/fc2_2"),v=o("onet/fc2_3");return bi(bi({},c),{conv4:f,prelu4_alpha:d,fc1:p,prelu5_alpha:h,fc2_1:m,fc2_2:y,fc2_3:v})}return{extractPNetParams:s,extractRNetParams:u,extractONetParams:l}}function vLe(e){var r=[],t=hLe(e,r),n=t.extractPNetParams,o=t.extractRNetParams,i=t.extractONetParams,a=n(),s=o(),u=i();return pc(e,r),{params:{pnet:a,rnet:s,onet:u},paramMappings:r}}function HD(e,r){var t=r[0],n=r[1];return{height:Math.floor(t*e),width:Math.floor(n*e)}}function mLe(e,r,t){for(var n=t[0],o=t[1],i=dw/e,a=[],s=Math.min(n,o)*i,u=0;s>=12;)a.push(i*Math.pow(r,u)),s=s*r,u+=1;return a}var nM=function(e){dr(r,e);function r(t,n,o,i){return e.call(this,{left:t,top:n,right:o,bottom:i},!0)||this}return r}(vf);function FK(e){return Ft(function(){return Si(Do(e,Ct(127.5)),Ct(.0078125))})}function Fh(e,r){return Ft(function(){return Dr(qn(e),Si(r,iw(qn(iw(e)))))})}function oM(e,r,t){return t===void 0&&(t=!1),Ft(function(){var n=Js(e,r.conv1,"valid");return n=Fh(n,r.prelu1_alpha),n=Mo(n,t?[2,2]:[3,3],[2,2],"same"),n=Js(n,r.conv2,"valid"),n=Fh(n,r.prelu2_alpha),n=t?n:Mo(n,[3,3],[2,2],"valid"),n=Js(n,r.conv3,"valid"),n=Fh(n,r.prelu3_alpha),n})}function gLe(e,r){return Ft(function(){var t=oM(e,r,!0),n=Js(t,r.conv4_1,"valid"),o=ms(kC(n,3),3),i=cc(Do(n,o),3),a=Js(t,r.conv4_2,"valid");return{prob:i,regions:a}})}function yLe(e,r){return Ft(function(){var t=HD(r,e.shape.slice(1)),n=t.height,o=t.width,i=M3.resizeBilinear(e,[n,o]),a=FK(i);return hf(a,[0,2,1,3])})}function xLe(e,r,t,n){for(var o=[],i=e.arraySync(),a=0;a<e.shape[0];a++)for(var s=0;s<e.shape[1];s++)i[a][s]>=n&&o.push(new tn(s,a));var u=o.map(function(l){var c=new OC(Math.round((l.y*o_+1)/t),Math.round((l.x*o_+1)/t),Math.round((l.y*o_+dw)/t),Math.round((l.x*o_+dw)/t)),f=i[l.y][l.x],d=r.arraySync(),p=new nM(d[l.y][l.x][0],d[l.y][l.x][1],d[l.y][l.x][2],d[l.y][l.x][3]);return{cell:c,score:f,region:p}});return u}function bLe(e,r,t,n,o){o.stage1=[];var i=r.map(function(d){return Ft(function(){var p={scale:d},h=yLe(e,d),m=Date.now(),y=gLe(h,n),v=y.prob,g=y.regions;p.pnet=Date.now()-m;var x=Ao(Ao(v,3)[1])[0],b=Ao(g)[0];return{scoresTensor:x,regionsTensor:b,scale:d,statsForScale:p}})}),a=i.map(function(d){var p=d.scoresTensor,h=d.regionsTensor,m=d.scale,y=d.statsForScale,v=xLe(p,h,m,t);if(p.dispose(),h.dispose(),!v.length)return o.stage1.push(y),[];var g=Date.now(),x=T0(v.map(function(b){return b.cell}),v.map(function(b){return b.score}),.5);return y.nms=Date.now()-g,y.numBoxes=x.length,o.stage1.push(y),x.map(function(b){return v[b]})}),s=a.reduce(function(d,p){return d.concat(p)},[]),u=[],l=[];if(s.length>0){var c=Date.now(),f=T0(s.map(function(d){return d.cell}),s.map(function(d){return d.score}),.7);o.stage1_nms=Date.now()-c,l=f.map(function(d){return s[d].score}),u=f.map(function(d){return s[d]}).map(function(d){var p=d.cell,h=d.region;return new OC(p.left+h.left*p.width,p.top+h.top*p.height,p.right+h.right*p.width,p.bottom+h.bottom*p.height).toSquare().round()})}return{boxes:u,scores:l}}function LK(e,r,t){var n=t.width,o=t.height;return Kt(this,void 0,void 0,function(){var i,a,s,u=this;return Xt(this,function(l){switch(l.label){case 0:return i=zd(e),[4,Promise.all(r.map(function(c){return Kt(u,void 0,void 0,function(){var f,d,p,h,m,y,v,g;return Xt(this,function(x){return f=c.padAtBorders(e.height,e.width),d=f.y,p=f.ey,h=f.x,m=f.ex,y=h-1,v=d-1,g=i.getImageData(y,v,m-y,p-v),[2,ki.isNodejs()?V3(g):createImageBitmap(g)]})})}))];case 1:return a=l.sent(),s=[],a.forEach(function(c){var f=DC({width:n,height:o}),d=zd(f);d.drawImage(c,0,0,n,o);for(var p=d.getImageData(0,0,n,o).data,h=[],m=0;m<p.length;m+=4)h.push(p[m+2]),h.push(p[m+1]),h.push(p[m]);s.push(h)}),[2,s.map(function(c){var f=Ft(function(){var d=hf(sa(c,[1,n,o,3]),[0,2,1,3]).toFloat();return FK(d)});return f})]}})})}function _Le(e,r){return Ft(function(){var t=oM(e,r),n=Vs(t,[t.shape[0],r.fc1.weights.shape[0]]),o=ju(n,r.fc1),i=Fh(o,r.prelu4_alpha),a=ju(i,r.fc2_1),s=ms(kC(a,1),1),u=cc(Do(a,s),1),l=ju(i,r.fc2_2),c=Ao(u,1)[1];return{scores:c,regions:l}})}function wLe(e,r,t,n,o){return Kt(this,void 0,void 0,function(){var i,a,s,u,l,c,f,d,p,h,m,y,v,g;return Xt(this,function(x){switch(x.label){case 0:return i=Date.now(),[4,LK(e,r,{width:24,height:24})];case 1:return a=x.sent(),o.stage2_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map(function(b){var w=_Le(b,n);return b.dispose(),w}),o.stage2_rnet=Date.now()-i,u=s.length>1?To(s.map(function(b){return b.scores})):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[x.sent()]),u.dispose(),d=l.map(function(b,w){return{score:b,idx:w}}).filter(function(b){return b.score>t}).map(function(b){var w=b.idx;return w}),p=d.map(function(b){return r[b]}),h=d.map(function(b){return l[b]}),m=[],y=[],p.length>0&&(i=Date.now(),v=T0(p,h,.7),o.stage2_nms=Date.now()-i,g=v.map(function(b){var w=s[d[b]].regions.arraySync();return new nM(w[0][0],w[0][1],w[0][2],w[0][3])}),y=v.map(function(b){return h[b]}),m=v.map(function(b,w){return p[b].calibrate(g[w])})),s.forEach(function(b){b.regions.dispose(),b.scores.dispose()}),[2,{boxes:m,scores:y}]}})})}function SLe(e,r){return Ft(function(){var t=oM(e,r);t=Mo(t,[2,2],[2,2],"same"),t=Js(t,r.conv4,"valid"),t=Fh(t,r.prelu4_alpha);var n=Vs(t,[t.shape[0],r.fc1.weights.shape[0]]),o=ju(n,r.fc1),i=Fh(o,r.prelu5_alpha),a=ju(i,r.fc2_1),s=ms(kC(a,1),1),u=cc(Do(a,s),1),l=ju(i,r.fc2_2),c=ju(i,r.fc2_3),f=Ao(u,1)[1];return{scores:f,regions:l,points:c}})}function CLe(e,r,t,n,o){return Kt(this,void 0,void 0,function(){var i,a,s,u,l,c,f,d,p,h,m,y,v,g,x;return Xt(this,function(b){switch(b.label){case 0:return i=Date.now(),[4,LK(e,r,{width:48,height:48})];case 1:return a=b.sent(),o.stage3_extractImagePatches=Date.now()-i,i=Date.now(),s=a.map(function(w){var E=SLe(w,n);return w.dispose(),E}),o.stage3_onet=Date.now()-i,u=s.length>1?To(s.map(function(w){return w.scores})):s[0].scores,f=(c=Array).from,[4,u.data()];case 2:return l=f.apply(c,[b.sent()]),u.dispose(),d=l.map(function(w,E){return{score:w,idx:E}}).filter(function(w){return w.score>t}).map(function(w){var E=w.idx;return E}),p=d.map(function(w){var E=s[w].regions.arraySync();return new nM(E[0][0],E[0][1],E[0][2],E[0][3])}),h=d.map(function(w,E){return r[w].calibrate(p[E])}),m=d.map(function(w){return l[w]}),y=[],v=[],g=[],h.length>0&&(i=Date.now(),x=T0(h,m,.7,!1),o.stage3_nms=Date.now()-i,y=x.map(function(w){return h[w]}),v=x.map(function(w){return m[w]}),g=x.map(function(w,E){return Array(5).fill(0).map(function(C,S){var T=s[w].points.arraySync();return new tn(T[0][S]*(y[E].width+1)+y[E].left,T[0][S+5]*(y[E].height+1)+y[E].top)})})),s.forEach(function(w){w.regions.dispose(),w.scores.dispose(),w.points.dispose()}),[2,{boxes:y,scores:v,points:g}]}})})}var ELe=function(e){dr(r,e);function r(){return e.call(this,"Mtcnn")||this}return r.prototype.load=function(t){return Kt(this,void 0,void 0,function(){return Xt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},r.prototype.loadFromDisk=function(t){return Kt(this,void 0,void 0,function(){return Xt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},r.prototype.forwardInput=function(t,n){return n===void 0&&(n={}),Kt(this,void 0,void 0,function(){var o,i,a,s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S;return Xt(this,function(T){switch(T.label){case 0:if(o=this.params,!o)throw new Error("Mtcnn - load model before inference");if(i=t.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return a={},s=Date.now(),u=Ft(function(){return fLe(ms(z3.fromPixels(i)).toFloat())}),l=function(k){return u.dispose(),a.total=Date.now()-s,k},c=u.shape.slice(1),f=c[0],d=c[1],p=new PK(n),h=p.minFaceSize,m=p.scaleFactor,y=p.maxNumScales,v=p.scoreThresholds,g=p.scaleSteps,x=(g||mLe(h,m,[f,d])).filter(function(k){var P=HD(k,[f,d]);return Math.min(P.width,P.height)>dw}).slice(0,y),a.scales=x,a.pyramid=x.map(function(k){return HD(k,[f,d])}),b=Date.now(),[4,bLe(u,x,v[0],o.pnet,a)];case 1:return w=T.sent(),a.total_stage1=Date.now()-b,w.boxes.length?(a.stage2_numInputBoxes=w.boxes.length,b=Date.now(),[4,wLe(i,w.boxes,v[1],o.rnet,a)]):[2,l({results:[],stats:a})];case 2:return E=T.sent(),a.total_stage2=Date.now()-b,E.boxes.length?(a.stage3_numInputBoxes=E.boxes.length,b=Date.now(),[4,CLe(i,E.boxes,v[2],o.onet,a)]):[2,l({results:[],stats:a})];case 3:return C=T.sent(),a.total_stage3=Date.now()-b,S=C.boxes.map(function(k,P){return J3(q3({},new yl(C.scores[P],new U3(k.left/d,k.top/f,k.width/d,k.height/f),{height:f,width:d})),new tFe(C.points[P].map(function(I){return I.sub(new tn(k.left,k.top)).div(new tn(k.width,k.height))}),{width:k.width,height:k.height}))}),[2,l({results:S,stats:a})]}})})},r.prototype.forward=function(t,n){return n===void 0&&(n={}),Kt(this,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,qo(t)];case 1:return[4,o.apply(this,[i.sent(),n])];case 2:return[2,i.sent().results]}})})},r.prototype.forwardWithStats=function(t,n){return n===void 0&&(n={}),Kt(this,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return o=this.forwardInput,[4,qo(t)];case 1:return[2,o.apply(this,[i.sent(),n])]}})})},r.prototype.getDefaultModelName=function(){return"mtcnn_model"},r.prototype.extractParamsFromWeigthMap=function(t){return vLe(t)},r.prototype.extractParams=function(t){return pLe(t)},r}(dc),kLe=.4,RLe=[new tn(1.603231,2.094468),new tn(6.041143,7.080126),new tn(2.882459,3.518061),new tn(4.266906,5.178857),new tn(9.041765,10.66308)],TLe=[117.001,114.697,97.404],ALe=function(e){dr(r,e);function r(){var t=this,n={withSeparableConvs:!0,iouThreshold:kLe,classes:["face"],anchors:RLe,meanRgb:TLe,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return t=e.call(this,n)||this,t}return Object.defineProperty(r.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),r.prototype.locateFaces=function(t,n){return Kt(this,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return[4,this.detect(t,n)];case 1:return o=i.sent(),[2,o.map(function(a){return new yl(a.score,a.relativeBox,{width:a.imageWidth,height:a.imageHeight})})]}})})},r.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},r.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},r}(NK),Ci={ssdMobilenetv1:new IK,tinyFaceDetector:new ALe,tinyYolov2:new cLe,mtcnn:new ELe,faceLandmark68Net:new kK,faceLandmark68TinyNet:new DFe,faceRecognitionNet:new BFe,faceExpressionNet:new gFe,ageGenderNet:new RFe},BK=function(e){dr(r,e);function r(t,n,o){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=o,i}return r}(Sy),iM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o=this;return Xt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),[4,NC(t,this.input,function(a){return Kt(o,void 0,void 0,function(){return Xt(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(u){return Ci.faceExpressionNet.predictExpressions(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=i.sent(),[2,t.map(function(a,s){return SK(a,n[s])})]}})})},r.prototype.withAgeAndGender=function(){return new lM(this,this.input)},r}(BK),aM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n;return Xt(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),t?[4,rM(t,this.input,function(i){return Ci.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return n=o.sent(),[2,SK(t,n)]}})})},r.prototype.withAgeAndGender=function(){return new cM(this,this.input)},r}(BK),sM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.withAgeAndGender=function(){return new fM(this,this.input)},r.prototype.withFaceDescriptors=function(){return new pM(this,this.input)},r}(iM),uM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.withAgeAndGender=function(){return new dM(this,this.input)},r.prototype.withFaceDescriptor=function(){return new hM(this,this.input)},r}(aM),jK=function(e){dr(r,e);function r(t,n,o){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.extractedFaces=o,i}return r}(Sy),lM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o=this;return Xt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return t=i.sent(),[4,NC(t,this.input,function(a){return Kt(o,void 0,void 0,function(){return Xt(this,function(s){switch(s.label){case 0:return[4,Promise.all(a.map(function(u){return Ci.ageGenderNet.predictAgeAndGender(u)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=i.sent(),[2,t.map(function(a,s){var u=n[s],l=u.age,c=u.gender,f=u.genderProbability;return OK(DK(a,c,f),l)})]}})})},r.prototype.withFaceExpressions=function(){return new iM(this,this.input)},r}(jK),cM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o,i,a;return Xt(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?[4,rM(t,this.input,function(u){return Ci.ageGenderNet.predictAgeAndGender(u)},this.extractedFaces)]:[2];case 2:return n=s.sent(),o=n.age,i=n.gender,a=n.genderProbability,[2,OK(DK(t,i,a),o)]}})})},r.prototype.withFaceExpressions=function(){return new aM(this,this.input)},r}(jK),fM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.withFaceExpressions=function(){return new sM(this,this.input)},r.prototype.withFaceDescriptors=function(){return new pM(this,this.input)},r}(lM),dM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.withFaceExpressions=function(){return new uM(this,this.input)},r.prototype.withFaceDescriptor=function(){return new hM(this,this.input)},r}(cM),$K=function(e){dr(r,e);function r(t,n){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o}return r}(Sy),pM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n;return Xt(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),[4,NC(t,this.input,function(i){return Promise.all(i.map(function(a){return Ci.faceRecognitionNet.computeFaceDescriptor(a)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return n=o.sent(),[2,n.map(function(i,a){return AK(t[a],i)})]}})})},r.prototype.withFaceExpressions=function(){return new sM(this,this.input)},r.prototype.withAgeAndGender=function(){return new fM(this,this.input)},r}($K),hM=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n;return Xt(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return t=o.sent(),t?[4,rM(t,this.input,function(i){return Ci.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return n=o.sent(),[2,AK(t,n)]}})})},r.prototype.withFaceExpressions=function(){return new uM(this,this.input)},r.prototype.withAgeAndGender=function(){return new dM(this,this.input)},r}($K),zK=function(e){dr(r,e);function r(t,n,o){var i=e.call(this)||this;return i.parentTask=t,i.input=n,i.useTinyLandmarkNet=o,i}return Object.defineProperty(r.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Ci.faceLandmark68TinyNet:Ci.faceLandmark68Net},enumerable:!0,configurable:!0}),r}(Sy),OLe=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o,i,a,s=this;return Xt(this,function(u){switch(u.label){case 0:return[4,this.parentTask];case 1:return t=u.sent(),n=t.map(function(l){return l.detection}),this.input instanceof Wn?[4,Y3(this.input,n)]:[3,3];case 2:return i=u.sent(),[3,5];case 3:return[4,G3(this.input,n)];case 4:i=u.sent(),u.label=5;case 5:return o=i,[4,Promise.all(o.map(function(l){return s.landmarkNet.detectLandmarks(l)}))];case 6:return a=u.sent(),o.forEach(function(l){return l instanceof Wn&&l.dispose()}),[2,t.map(function(l,c){return J3(l,a[c])})]}})})},r.prototype.withFaceExpressions=function(){return new sM(this,this.input)},r.prototype.withAgeAndGender=function(){return new fM(this,this.input)},r.prototype.withFaceDescriptors=function(){return new pM(this,this.input)},r}(zK),DLe=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o,i,a;return Xt(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return t=s.sent(),t?(n=t.detection,this.input instanceof Wn?[4,Y3(this.input,[n])]:[3,3]):[2];case 2:return i=s.sent(),[3,5];case 3:return[4,G3(this.input,[n])];case 4:i=s.sent(),s.label=5;case 5:return o=i,[4,this.landmarkNet.detectLandmarks(o[0])];case 6:return a=s.sent(),o.forEach(function(u){return u instanceof Wn&&u.dispose()}),[2,J3(t,a)]}})})},r.prototype.withFaceExpressions=function(){return new uM(this,this.input)},r.prototype.withAgeAndGender=function(){return new dM(this,this.input)},r.prototype.withFaceDescriptor=function(){return new hM(this,this.input)},r}(zK),WK=function(e){dr(r,e);function r(t,n){n===void 0&&(n=new IC);var o=e.call(this)||this;return o.input=t,o.options=n,o}return r}(Sy),UK=function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n,o,i;return Xt(this,function(a){switch(a.label){case 0:return t=this,n=t.input,o=t.options,o instanceof PK?[4,Ci.mtcnn.forward(n,o)]:[3,2];case 1:return[2,a.sent().map(function(s){return s.detection})];case 2:if(i=o instanceof MK?function(s){return Ci.tinyFaceDetector.locateFaces(s,o)}:o instanceof IC?function(s){return Ci.ssdMobilenetv1.locateFaces(s,o)}:o instanceof tM?function(s){return Ci.tinyYolov2.locateFaces(s,o)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(n)]}})})},r.prototype.runAndExtendWithFaceDetections=function(){var t=this;return new Promise(function(n){return Kt(t,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return o=i.sent(),[2,n(o.map(function(a){return q3({},a)}))]}})})})},r.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new OLe(this.runAndExtendWithFaceDetections(),this.input,t)},r.prototype.withFaceExpressions=function(){return new iM(this.runAndExtendWithFaceDetections(),this.input)},r.prototype.withAgeAndGender=function(){return new lM(this.runAndExtendWithFaceDetections(),this.input)},r}(WK);(function(e){dr(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.run=function(){return Kt(this,void 0,void 0,function(){var t,n;return Xt(this,function(o){switch(o.label){case 0:return[4,new UK(this.input,this.options)];case 1:return t=o.sent(),n=t[0],t.forEach(function(i){i.score>n.score&&(n=i)}),[2,n]}})})},r.prototype.runAndExtendWithFaceDetection=function(){var t=this;return new Promise(function(n){return Kt(t,void 0,void 0,function(){var o;return Xt(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return o=i.sent(),[2,n(o?q3({},o):void 0)]}})})})},r.prototype.withFaceLandmarks=function(t){return t===void 0&&(t=!1),new DLe(this.runAndExtendWithFaceDetection(),this.input,t)},r.prototype.withFaceExpressions=function(){return new aM(this.runAndExtendWithFaceDetection(),this.input)},r.prototype.withAgeAndGender=function(){return new cM(this.runAndExtendWithFaceDetection(),this.input)},r})(WK);function PLe(e,r){return r===void 0&&(r=new IC),new UK(e,r)}function ILe(e,r){if(e.length!==r.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var t=Array.from(e),n=Array.from(r);return Math.sqrt(t.map(function(o,i){return o-n[i]}).reduce(function(o,i){return o+Math.pow(i,2)},0))}(function(){function e(r,t){t===void 0&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(r)?r:[r];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var o=1,i=function(){return"person "+o++};this._labeledDescriptors=n.map(function(a){if(a instanceof e_)return a;if(a instanceof Float32Array)return new e_(i(),[a]);if(a.descriptor&&a.descriptor instanceof Float32Array)return new e_(i(),[a.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(r,t){return t.map(function(n){return ILe(n,r)}).reduce(function(n,o){return n+o},0)/(t.length||1)},e.prototype.matchDescriptor=function(r){var t=this;return this.labeledDescriptors.map(function(n){var o=n.descriptors,i=n.label;return new RU(i,t.computeMeanDistance(r,o))}).reduce(function(n,o){return n.distance<o.distance?n:o})},e.prototype.findBestMatch=function(r){var t=this.matchDescriptor(r);return t.distance<this.distanceThreshold?t:new RU("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(r){return r.toJSON()})}},e.fromJSON=function(r){var t=r.labeledDescriptors.map(function(n){return e_.fromJSON(n)});return new e(t,r.distanceThreshold)},e})();const NLe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),qK=({field:e,defaultValue:r="",fieldPath:t,infoPaneDerivedFieldName:n,isFieldsDisabled:o=!1})=>{const i=N.useRef(null),[a,s]=N.useState(r),[u,l]=N.useState(""),[c,f]=N.useState(null),[d,p]=N.useState(!0),[h,m]=N.useState(!1),[y,v]=N.useState(!1),[g,x]=N.useState(!1),[b,w]=N.useState(!1),[E,C]=N.useState(!1),[S,T]=N.useState("user"),k=()=>{T(ue=>ue==="user"?"environment":"user")},{isMobile:P}=cu(),I=Sr(),{responseObject:F,setResponseObject:A,setUploadedFiles:D,uploadedFiles:$,lyikForm:B,setModalOpen:W,setErrorMessage:L}=N.useContext(tr),{getDocument:z,loading:U}=AS();function Y(ue,oe){const ee=ue.split("/").pop(),ne=ee.lastIndexOf(".");if(ne===-1)return ee;const pe=ee.substring(0,ne),J=ee.substring(ne);return(pe.length>oe?pe.substring(0,oe)+"...":pe)+J}const q=N.useCallback(()=>{var ue;if(!(o||!((ue=i.current)!=null&&ue.video)))try{const oe=i.current.video,ee=oe.videoWidth,ne=oe.videoHeight,pe=3/4;let J=ee,se=ee/pe;se>ne&&(se=ne,J=ne*pe);const j=(ee-J)/2,ce=(ne-se)/2,re=document.createElement("canvas");re.width=ee,re.height=ne,re.getContext("2d").drawImage(oe,0,0,ee,ne);const G=document.createElement("canvas");G.width=J,G.height=se,G.getContext("2d").drawImage(re,j,ce,J,se,0,0,J,se),G.toBlob(te=>{if(!te)throw new Error("Failed to convert canvas to Blob");const ae=`passport_photo_${new Date().getTime()}.jpg`,ye=new File([te],ae,{type:"image/jpeg"});if(s(URL.createObjectURL(te)),l(ae),v(!0),p(!1),m(!1),f(null),D(ie=>[...ie,{filename:ae,file:ye}]),t){const ie=dt(F,t,ae);sessionStorage.setItem("formResponse",JSON.stringify(ie)),A(ie)}},"image/jpeg",1)}catch(oe){console.error("Error capturing photo:",oe),L("Failed to capture photo. Please try again."),W(!0)}},[t,F,A,D,L,W,o,s]),V=(ue,oe)=>{const ee=oe.videoWidth/2,ne=oe.videoHeight/2,pe=ue.x+ue.width/2,J=ue.y+ue.height/2,se=Math.abs(pe-ee),j=Math.abs(J-ne),ce=50;return se<ce&&j<ce};N.useEffect(()=>{(async()=>{try{await Ci.tinyFaceDetector.loadFromUri("/models"),await Ci.faceLandmark68Net.loadFromUri("/models"),await Ci.faceRecognitionNet.loadFromUri("/models"),await Ci.faceExpressionNet.loadFromUri("/models")}catch(oe){console.error("Error loading face-api models:",oe)}})()},[]),N.useEffect(()=>{const ue=Ze(F,t);ue!=null&&ue.doc_name?(l(ue.doc_name),f(ue),p(!1),s(null)):ue&&(l(ue),p(!1))},[t,F]),N.useEffect(()=>{const ue=Ze(F,t);if(ue!=null&&ue.doc_name)l(ue.doc_name),f(ue),p(!1),s(null);else if(ue&&(l(ue),p(!1),!a&&($!=null&&$.length))){const oe=$.find(ee=>ee.filename===ue);if(oe!=null&&oe.file){const ee=new FileReader;ee.onloadend=()=>{s(ee.result)},ee.readAsDataURL(oe.file)}}},[t,F,$]),N.useEffect(()=>{if(y||!g)return;const oe=setInterval(async()=>{if(!i.current)return;const ee=i.current.video;if(!ee||ee.readyState!==4)return;const ne=await PLe(ee,new MK);if(ne.length>0){const{width:pe,height:J}=ee.getBoundingClientRect(),se=ne[0].box,j=se.width*se.height,ce=pe*J,re=j/ce;P?re>=.3&&re<=.7&&V(se,ee)?(w(!0),q()):w(!1):re>=.1&&re<=.25&&V(se,ee)?(w(!0),q()):w(!1)}else w(!1)},500);return()=>clearInterval(oe)},[y,q,g]),N.useEffect(()=>{(async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(ee=>ee.stop()),C(!1)}catch(oe){(oe.name==="NotAllowedError"||oe.name==="PermissionDeniedError")&&C(!0),console.error("Error accessing camera:",oe)}})()},[]);const H=async ue=>{if(ue.preventDefault(),!(!(c!=null&&c.doc_id)||!(B!=null&&B.uri)))try{const oe=await z(B.uri,c.doc_id);s(oe)}catch(oe){console.error("Error retrieving document:",oe),L("Cannot fetch document: please contact the administrator"),W(!0)}},Z=()=>{if(!o&&(u&&$&&D(ue=>ue.filter(oe=>oe.filename!==u)),s(""),l(""),f(null),p(!0),m(!1),v(!1),C(!1),t)){const ue=dt(F,t,null);sessionStorage.setItem("formResponse",JSON.stringify(ue)),A(ue)}};return O.jsx(Re,{sx:{my:2},children:O.jsxs(xa,{required:e.mandatory,fullWidth:!0,children:[O.jsxs(NLe,{sx:{mb:1,fontWeight:"bold"},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[O.jsxs(f0,{severity:"info",sx:{width:"100%"},children:["Please ensure:",O.jsxs("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:[O.jsx("li",{children:"Photo is in portrait orientation (3:4 ratio)"}),O.jsx("li",{children:"Face is clearly visible and centered"}),O.jsx("li",{children:"Plain background"}),O.jsx("li",{children:"Good lighting conditions"})]})]}),d?O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2},children:[O.jsxs(Re,{sx:{width:P||E?"100%":"80%",position:"relative",overflow:"hidden",border:E||h?"":"2px solid",borderColor:E?"none":h?"error.main":"primary.main",borderRadius:1},children:[E?O.jsx(it,{color:"error.main",sx:{m:2},children:"Camera permission denied. Please allow camera access in your browser settings to continue."}):O.jsx(yC,{audio:!1,crossOrigin:"anonymous",screenshotFormat:"image/jpeg",ref:i,style:{transform:"scaleX(-1)",width:"100%"},onUserMediaError:ue=>{(ue.name==="NotAllowedError"||ue.name==="PermissionDeniedError")&&C(!0)}}),!E&&P&&O.jsx(Uu,{onClick:k,color:"primary",style:{color:I.palette.primary.white,position:"absolute",bottom:0,right:0,zIndex:999},children:O.jsx(fye,{sx:{fontSize:35}})}),!E&&O.jsx(Re,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",pointerEvents:"none",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center","& img":{width:"300px",height:"100%",objectFit:"fill",opacity:.8}},children:O.jsx("img",{src:"/overlay-guide.png",alt:"Face position guide"})}),h&&O.jsx(f0,{severity:"error",sx:{mt:1},children:"Please ensure the photo is in portrait orientation"})]}),O.jsxs(Re,{sx:{width:"100%",display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:"center",justifyContent:"center"},children:[O.jsx(v0,{control:O.jsx(C2,{checked:g,onChange:ue=>x(ue.target.checked),disabled:E}),label:"Enable Auto-Capture"}),!g&&O.jsx(Zt,{variant:"contained",startIcon:O.jsx(WI,{}),onClick:q,sx:{textTransform:"none",borderRadius:"20px",px:4},disabled:E,children:"Take Photo"})]})]}):O.jsxs(Re,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:2,p:2,width:"100%",backgroundColor:I.palette.primary.white},children:[O.jsx(Md,{in:!!a,timeout:1e3,children:O.jsx(Re,{sx:{mb:2,mx:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:O.jsx(Re,{component:"img",src:a,alt:"Captured passport photo",sx:{maxWidth:"100%",width:"300px",borderRadius:1,objectFit:"contain",mx:"auto",backgroundColor:"grey.100"}})})}),O.jsxs(Re,{sx:{display:"flex",flexDirection:P?"column":"row",alignItems:"center",justifyContent:"space-between",gap:1},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(HI,{sx:{color:"grey.600",fontSize:20}}),c!=null&&c.doc_id?O.jsx(Rv,{component:"button",variant:"primary",onClick:H,disabled:U,sx:{color:"secondary.main",fontWeight:500,textDecoration:"none",cursor:"pointer",border:"none",background:"none",padding:0,font:"inherit","&:hover":{textDecoration:"underline"}},children:U?"Opening...":Y(u,10)}):O.jsx(it,{sx:{color:"secondary.main",fontWeight:500},children:Y(u,10)})]}),O.jsx(Zt,{variant:"contained",onClick:Z,disabled:o,sx:{borderRadius:10,px:3,opacity:o?.5:1},children:"Retake Photo"})]})]})]})]})})};qK.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool}).isRequired,defaultValue:fe.string,fieldPath:fe.string,infoPaneDerivedFieldName:fe.string,isFieldsDisabled:fe.bool};const MLe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),FLe=Ye(Re)({position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center","& video":{width:"100%",height:"100%",objectFit:"cover"}}),LLe=Ye(Re)(({theme:e})=>({borderTop:`3px solid ${e.palette.primary.main}`,borderBottom:`3px solid ${e.palette.primary.main}`,padding:"12px 0",margin:"12px 0",textAlign:"center",position:"relative"})),HK=({field:e,defaultValue:r="",fieldPath:t,infoPaneDerivedFieldName:n,isFieldsDisabled:o=!1})=>{const i=N.useRef(null),a=N.useRef(null),s=N.useRef([]),u=Sr(),{responseObject:l,setResponseObject:c,setUploadedFiles:f,uploadedFiles:d,lyikForm:p,setModalOpen:h,setErrorMessage:m,userPermissions:y}=N.useContext(tr),{getDocument:v,loading:g}=AS(),{isMobile:x}=cu(),[b,w]=N.useState(!1),[E,C]=N.useState(""),[S,T]=N.useState(!0),[k,P]=N.useState(!0),[I,F]=N.useState(r),[A,D]=N.useState(null),[$,B]=N.useState(["",""]),[W,L]=N.useState({lat:"",long:""}),[z,U]=N.useState(!0),[Y,q]=N.useState(!1),[V,H]=N.useState(!1),[Z,ue]=N.useState(!1),oe={autoGainControl:!1,echoCancellation:!0,noiseSuppression:!0};function ee(te,de){const ae=te.split("/").pop(),ye=ae.lastIndexOf(".");if(ye===-1)return ae;const ie=ae.substring(0,ye),he=ae.substring(ye);return(ie.length>de?ie.substring(0,de)+"...":ie)+he}const ne=async()=>{try{const te=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});q(!0),te.getTracks().forEach(de=>de.stop());try{const de=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0});H(!0),de.getTracks().forEach(ye=>ye.stop());const ae=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});return ue(!0),P(!1),i.current&&(i.current.stream=ae),()=>{ae.getTracks().forEach(ye=>ye.stop())}}catch(de){console.error("Microphone access error:",de),H(!1),ue(!1)}}catch(te){console.error("Camera access error:",te),q(!1),ue(!1)}finally{P(!1)}};N.useEffect(()=>{var te;!E&&!A&&!o&&!((te=y==null?void 0:y.persona)!=null&&te.includes("CKR"))?ne():(P(!1),ue(!0))},[E,A,o,y]),N.useEffect(()=>{var te;(te=y==null?void 0:y.persona)!=null&&te.includes("CKR")||("geolocation"in navigator?navigator.geolocation.getCurrentPosition(de=>{L({lat:de.coords.latitude.toString(),long:de.coords.longitude.toString()}),U(!0)},de=>{console.error("Error getting location:",de),m("Unable to get location. Please enable location services."),U(!1),h(!0)}):(m("Geolocation is not supported by your browser"),U(!1),h(!0)))},[m,h,y]);const pe=["0","1","2","3","4","5","6","7","8","9"];function J(te,de=6){if(de>te.length)throw new Error("Count cannot be greater than the number of words");const ae=[...te];for(let ye=ae.length-1;ye>0;ye--){const ie=Math.floor(Math.random()*(ye+1));[ae[ye],ae[ie]]=[ae[ie],ae[ye]]}return ae.slice(0,de)}const se=N.useCallback(()=>{const te=J(pe);return[te,te.join(" ")]},[]);N.useEffect(()=>{B(se())},[se]);const j=N.useCallback(()=>{const te=t==null?void 0:t.split(".");return te.pop(),te.pop(),te.join(".")},[t]),ce=async te=>{if(te.preventDefault(),A!=null&&A.doc_id&&(p!=null&&p.uri))try{const de=await v(p.uri,A.doc_id);C(de)}catch(de){console.error("Error retrieving document:",de),m("Cannot Fetch Document: contact the administrator"),h(!0)}},re=N.useCallback(()=>{var de;if(!((de=i.current)!=null&&de.stream)||o||!z)return;s.current=[],w(!0);const te=new MediaRecorder(i.current.stream,{mimeType:"video/webm;codecs=vp8,opus"});a.current=te,te.ondataavailable=ae=>{ae.data.size>0&&s.current.push(ae.data)},te.start(200)},[o,z]),Q=N.useCallback(()=>{const te=a.current;!te||te.state==="inactive"||o||(te.onstop=()=>{const de=new Blob(s.current,{type:"video/webm"}),ae=URL.createObjectURL(de);C(ae),T(!1);const ie=`${((d==null?void 0:d.length)??0)+1}${Math.floor(Math.random()*20)+1}_video_${Date.now()}.webm`;F(ie);const he=new File([de],ie,{type:"video/webm"});if(f(_e=>[..._e,{filename:ie,file:he}]),t&&l){let _e=dt(l,t,ie);const Se=`${j()}.liveness_captcha`;_e=dt(_e,Se,$[0]);const xe=`${j()}.liveness_geo_loc`,De={lat:W.lat,long:W.long};_e=dt(_e,xe,De),c(_e),sessionStorage.setItem("formResponse",JSON.stringify(_e))}},te.stop(),w(!1))},[t,l,c,f,d,$,j,o,W.lat,W.long]),G=N.useCallback(()=>{const de=`${t.split(n)[0]+n}._ver_status`,ae=dt(l,de,void 0);if(c(ae),sessionStorage.setItem("formResponse",ae),!o){if(E&&URL.revokeObjectURL(E),I&&d&&f(ye=>ye.filter(ie=>ie.fileName!==I&&ie.filename!==I)),C(""),F(""),D(null),T(!0),B(se()),t&&l){let ye=dt(l,t,"");const ie=`${j()}.liveness_captcha`;ye=dt(ye,ie,"");const he=`${j()}.liveness_geo_loc`;ye=dt(ye,he,{}),c(ye),sessionStorage.setItem("formResponse",JSON.stringify(ye))}ne()}},[E,I,d,t,l,c,j,se,f,o,n]),X=N.useCallback(()=>{!b&&!E&&!A&&B(se())},[se,b,E,A]);if(N.useEffect(()=>{const te=Ze(l,t);if(te!=null&&te.doc_name)F(te.doc_name),D(te),T(!1),C("");else if(te&&(F(te),d!=null&&d.length)){const de=d.find(ae=>ae.fileName===te||ae.filename===te);if(de!=null&&de.file){const ae=URL.createObjectURL(de.file);C(ae),T(!1)}}},[t,l,d]),k&&!E&&!A)return O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:4},children:O.jsx(it,{children:"Initializing devices..."})});if((!Z||!z)&&!E&&!A&&!o){let te;return!Y&&!V?te="Please enable both camera and microphone permissions in your browser settings.":Y?V?z||(te="Location access is required. Please enable location permissions in your browser settings."):te="Microphone access is required. Please enable microphone permissions in your browser settings.":te="Camera access is required. Please enable camera permissions in your browser settings.",O.jsx(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,p:4},children:O.jsx(it,{color:"error",children:te})})}return O.jsx(Re,{sx:{my:2},children:O.jsxs(xa,{required:e.mandatory,fullWidth:!0,children:[O.jsxs(MLe,{sx:{mb:1,fontWeight:"bold"},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),E||A?O.jsxs(Re,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:2,p:2,backgroundColor:u.palette.primary.white,mb:2,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[O.jsx(Re,{children:O.jsx(Md,{in:!!E,timeout:1e3,children:O.jsx(Re,{children:O.jsx("video",{src:E,controls:!0,style:{maxWidth:"400px",width:"100%",height:"auto",borderRadius:2}})})})}),O.jsxs(Re,{sx:{width:"100%",display:"flex",flexDirection:x?"column":"row",alignItems:"center",justifyContent:"space-between",gap:1,mt:2},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(gye,{sx:{color:"grey.600",fontSize:20}}),A!=null&&A.doc_id?O.jsx(Rv,{component:"button",onClick:ce,disabled:g,sx:{color:"secondary.main",fontWeight:500,textDecoration:"none",cursor:"pointer",border:"none",background:"none",padding:0,font:"inherit","&:hover":{textDecoration:"underline"}},children:g?"Opening...":ee(I,10)}):O.jsx(it,{sx:{color:"secondary.main",fontWeight:500},children:ee(I,10)})]}),O.jsx(Zt,{variant:"contained",onClick:G,disabled:o,sx:{textTransform:"none",borderRadius:"20px",px:3,opacity:o?.5:1},children:"Retake Video"})]})]}):O.jsxs(O.Fragment,{children:[O.jsx(FLe,{children:o?O.jsx(Re,{sx:{width:"100%",height:"480px",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"black"},children:O.jsx(it,{sx:{color:"white"},children:"Camera disabled"})}):O.jsx(yC,{audio:!0,audioConstraints:oe,ref:i,style:{maxWidth:"400px",width:x?"100%":"60%",height:x?"50vh":"40vh",transform:"scaleX(-1)",border:"5px solid black"}})}),S&&O.jsxs(LLe,{children:[O.jsx(it,{sx:{color:"text.primary",fontSize:".9rem",mb:1},children:"Please read out loud the following CAPTCHA"}),O.jsx(it,{sx:{fontWeight:"bold",color:"text.primary",fontSize:"1.2rem"},children:$[1]})]}),O.jsxs(Re,{sx:{display:"flex",flexDirection:x?"column":"row",justifyContent:"center",alignItems:"center",gap:2},children:[O.jsx(wd,{title:z?"":"Please enable location access to start recording",children:O.jsx("span",{children:O.jsx(Zt,{variant:"contained",onClick:b?Q:re,disabled:o||!z,sx:{color:u.palette.primary.contrastText,"&:disabled":{backgroundColor:"primary.main",color:"primary.contrastText",opacity:.7},borderRadius:"20px",px:4,textTransform:"none",width:"200px"},children:b?"Stop Recording":"Start Recording"})})}),!b&&O.jsx(Zt,{variant:"contained",onClick:X,disabled:o,sx:{"&:disabled":{backgroundColor:"primary.main",color:u.palette.primary.white,opacity:.7},borderRadius:"20px",px:4,textTransform:"none",width:"200px"},children:"Change Captcha"})]})]})]})})};HK.propTypes={field:fe.shape({derived_field_name:fe.string,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool}).isRequired,defaultValue:fe.string,fieldPath:fe.string.isRequired,infoPaneDerivedFieldName:fe.string,isFieldsDisabled:fe.bool};const BLe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),VK=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,rows:o=2,isFieldsDisabled:i=!1,updateHasChanges:a,bestFitLayout:s})=>{var P,I,F;const{responseObject:u,setResponseObject:l,aadhaar:c,lyikForm:f,setAadhaar:d,setTrusted:p,trusted:h}=N.useContext(tr),[m,y]=N.useState(!1),[v,g]=N.useState(""),[x,b]=N.useState(""),w=N.useRef(null);N.useContext(Ti);const E=N.useRef(!1),C=Sr(),S=(A,D)=>{const $=A.split("."),B=$.indexOf(D);return B!==-1?$.slice(0,B+1).join("."):A};N.useEffect(()=>{var A,D,$;if(!E.current){let B=null;const W=S(n,t),L=Ze(u,W),z=L==null?void 0:L._ver_status;if((z==null?void 0:z.status)==="success"){g(B),E.current=!0;return}if((A=e.default_value)!=null&&A.startsWith("$..")){const U=e.default_value.replace("$..","");B=jLe(u,U)}else!((D=e.default_value)!=null&&D.startsWith("@."))&&!(($=e.default_value)!=null&&$.startsWith("$."))&&(B=e.default_value||r);if(!Ze(u,n)&&B){const U=dt(u,n,B);l(U),sessionStorage.setItem("formResponse",JSON.stringify(U))}g(B),E.current=!0}},[e.default_value,r,n,u,l,t,e]),N.useEffect(()=>{var $;if(!e.field_notation)return;const A=e.field_notation.includes("FLD.OVD.")||e.field_notation.includes("FLD.")||e.field_notation.includes("FLD.PAN."),D=e.field_notation.includes("FLD.AADHAAR.");if(!(!A&&!D))try{const B=e.field_notation.split(".").pop(),W=($=h==null?void 0:h.response)==null?void 0:$[B];if(W!==void 0&&W!==w.current){const L=typeof W=="object"?JSON.stringify(W):String(W||null);if(g(L),w.current=W,!i){const z=dt(u,n,L);sessionStorage.setItem("formResponse",JSON.stringify(z)),l(z);const U={...h.response};delete U[B]}}}catch(B){console.error("Error processing field:",B)}},[e.field_notation,n,c,u,i,l,d]),N.useEffect(()=>{const A=Ze(u,n);A!==void 0&&A!==v&&g(A||null)},[u,n,v]),N.useEffect(()=>{(async()=>{var W,L,z;if(!u||!((L=(W=e.meta)==null?void 0:W.display)!=null&&L.subscript)||!t)return;const D=U=>{for(const Y of U||[]){if((Y==null?void 0:Y.display_type)==="info_pane"&&Y.derived_field_name===t)return Y;if((Y==null?void 0:Y.display_type)==="groupbox"&&(Y!=null&&Y.fields)){const q=D(Y==null?void 0:Y.fields);if(q)return q}}return null},$=D(f==null?void 0:f.form_fields),B=(z=$==null?void 0:$.fields)==null?void 0:z.find(U=>U.derived_field_name==="defaults");if(B!=null&&B.options){const U=e.meta.display.subscript.replace(/{defaults\.options\['([^']+)'\]}/g,(q,V)=>B.options[V]||"");b(U);const Y=Ze(u,n);if(B&&!Y){const q=Ze(B,`options.${e.derived_field_name}`);if(q){g(q);const V=dt(u,n,q);l(V),sessionStorage.setItem("formResponse",JSON.stringify(V))}}}})()},[(I=(P=e.meta)==null?void 0:P.display)==null?void 0:I.subscript,(F=e.meta)==null?void 0:F.defaults,e.derived_field_name,u,t,f==null?void 0:f.form_fields,l]);const T=A=>{if(i)return;const D=A.target.value===""?null:A.target.value;if(g(A.target.value),e.mandatory&&!D?y(!0):y(!1),e.derived_field_name&&u&&n){const $=dt(u,n,D);l($),a(),sessionStorage.setItem("formResponse",JSON.stringify($))}},k=()=>{e.mandatory&&!v?y(!0):y(!1)};return O.jsx(Re,{sx:{my:2,minWidth:s?350:150,maxWidth:350,mx:s?"":"auto"},children:O.jsxs(xa,{error:m,fullWidth:!0,children:[O.jsx(Re,{sx:{ml:1,mb:1},children:O.jsxs(BLe,{htmlFor:e.derived_field_name,sx:{fontWeight:"bold",color:"secondary.main",fontSize:"16px"},children:[e.title,e.mandatory&&(e==null?void 0:e.title)&&O.jsx("span",{className:"required-star",children:"*"})]})}),O.jsx(Ga,{id:e.derived_field_name,value:v,onChange:T,onBlur:k,variant:"outlined",fullWidth:!0,multiline:!0,rows:o,placeholder:e==null?void 0:e.description,disabled:e.editable===!1,inputProps:{readOnly:i,style:{backgroundColor:C.palette.primary.white,cursor:i?"not-allowed":"text"}},sx:{backgroundColor:C.palette.primary.white,"& .MuiOutlinedInput-root":{px:2,py:1,borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${C.palette.grey[200]}`,transition:"all 0.2s ease-in-out","&.Mui-disabled":{color:"#c4c4c4"},"&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${C.palette.grey[400]}`,"& fieldset":{borderColor:"primary.main"}},"& fieldset":{borderWidth:"1px",borderColor:C.palette.grey[400]},"&:hover fieldset":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiInputBase-input":{fontSize:14.12,"&::placeholder":{color:"BBBBBB",opacity:.5}}}}),x&&O.jsx(it,{sx:{mt:.5,color:"text.secondary",fontSize:"0.75rem",display:"block",textAlign:"end",mx:.5},children:x})]})})};VK.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,editable:fe.bool,field_notation:fe.string,default_value:fe.string,meta:fe.shape({display:fe.shape({subscript:fe.string}),defaults:fe.object})}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,rows:fe.number,isFieldsDisabled:fe.bool,bestFitLayout:fe.bool};const jLe=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t};function GK({section:e,responsePath:r,fieldPath:t,field_notation:n,infoPaneDerivedFieldName:o}){var h;const{fetchAuthUrl:i}=DV(),{form_id:a}=VP(),{lyikForm:s,responseObject:u,userPermissions:l}=N.useContext(tr),c=(h=n==null?void 0:n.split(";").find(m=>m.includes("API.")))==null?void 0:h.replace("API.","").trim();sessionStorage.setItem("form_id",a),sessionStorage.setItem("section",JSON.stringify(e)),sessionStorage.setItem("lyikForm",JSON.stringify(s)),sessionStorage.setItem("digilocker_data",JSON.stringify({section:e,responsePath:r,fieldPath:t,apiEndPoint:c,infoPaneDerivedFieldName:o}));const f=Ze(u,`${r}._approval_status`),d=()=>{var m;return f?!1:!((m=l==null?void 0:l.persona)!=null&&m.includes("CKR"))},p=()=>{i()};return O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:4},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2},children:[O.jsx(Re,{component:"img",src:"/defaults/assets/IndianEmblem.svg",alt:"Indian Government Logo",sx:{width:64,height:64}}),O.jsx(Re,{component:"img",src:"/defaults/assets/digilocker.png",alt:"DigiLocker Logo",sx:{height:48}})]}),O.jsxs(Re,{sx:{textAlign:"center"},children:[O.jsx(it,{sx:{fontWeight:"bold",mb:1},children:"To verify your ID and Address Proof, please log into DigiLocker"}),O.jsx(it,{sx:{fontWeight:"medium"},children:"If you have already logged in to DigiLocker, Please wait for 15 mins to login to another holder's of DigiLocker account."})]}),O.jsx(Re,{sx:{display:"flex",gap:2},children:d()&&O.jsx(Zt,{variant:"contained",sx:{px:4,borderRadius:50,textTransform:"none"},onClick:p,children:"DigiLocker Log In"})})]})}GK.propTypes={section:fe.string,responsePath:fe.string,fieldPath:fe.string,field_notation:fe.string,infoPaneDerivedFieldName:fe.string};const YK=({field:e,fieldPath:r,isFieldsDisabled:t,parentResponsePath:n,infoPaneDerivedFieldName:o})=>{const{responseObject:i,setResponseObject:a,aadhaar:s,setAadhaar:u}=N.useContext(tr),l=N.useRef(null),c=N.useRef(!1),f=(d,p)=>{const h=d.split("."),m=h.indexOf(p);return m!==-1?h.slice(0,m+1).join("."):d};return N.useEffect(()=>{var d,p,h,m,y,v,g,x,b,w;if(!c.current){let E=null;const C=f(r,o),S=Ze(i,C),T=S==null?void 0:S._ver_status;if((T==null?void 0:T.status)==="success"){c.current=!0;return}if((d=e.default_value)!=null&&d.startsWith("$..")){const k=(p=e.default_value)==null?void 0:p.replace("$..","");E=$Le(i,k)}else if((h=e.default_value)!=null&&h.startsWith("@.")&&!((m=e.default_value)!=null&&m.includes("TRUSTED"))){const P=r.split(o)[0]+o+((y=e.default_value)==null?void 0:y.replace("@","")),I=Ze(i,P),F=dt(i,r,I);a(F),sessionStorage.setItem("formResponse",JSON.stringify(F))}else if(!((v=e.default_value)!=null&&v.startsWith("@."))&&!((g=e.default_value)!=null&&g.startsWith("$.")))E=e.default_value;else if((x=e==null?void 0:e.default_value)!=null&&x.startsWith("$.")&&!((b=e==null?void 0:e.default_value)!=null&&b.includes("$.."))){const k=(w=e==null?void 0:e.default_value)==null?void 0:w.replace("$.","");E=Ze(i,k)}if(!Ze(i,r)&&E){const k=dt(i,r,E);a(k),sessionStorage.setItem("formResponse",JSON.stringify(k))}c.current=!0}},[e.default_value,r,i,a,o,e]),N.useEffect(()=>{if(!(s!=null&&s.response)||!e.field_notation)return;const d=e.field_notation.split(".").pop(),p=s.response[d];if(p!==void 0&&p!==l.current&&(l.current=p,!t)){const h=typeof p=="object"?JSON.stringify(p):String(p||""),m=dt(i,r,h);sessionStorage.setItem("formResponse",JSON.stringify(m)),a(m);const y={...s.response};delete y[d],Object.keys(y).length===0?u(null):u({...s,response:y})}},[s,i,r,t,a,u,e]),O.jsx(O.Fragment,{})};YK.propTypes={field:fe.object.isRequired,fieldPath:fe.string.isRequired,isFieldsDisabled:fe.bool,parentResponsePath:fe.string,infoPaneDerivedFieldName:fe.string};const $Le=(e,r)=>{let t=null;const n=o=>{for(const i in o){if(i===r){t=o[i];return}typeof o[i]=="object"&&o[i]!==null&&n(o[i])}};return n(e),t},zLe=()=>{const[e,r]=N.useState(null),[t,n]=N.useState(!1),[o,i]=N.useState(null),a=localStorage.getItem("token"),{responseObject:s}=N.useContext(tr),u=N.useCallback(async()=>{n(!0),i(null);try{const c=await jo();if(!c)throw new Error("Unable to fetch configuration");const f=await fetch(`${c.api_path}/v1/forms/operations_list`,{method:"POST",headers:{accept:"application/json",Authorization:`Bearer ${a}`,"Content-Type":"application/json","Accept-Language":"en-US,en;q=0.9"},body:JSON.stringify(s)});if(!f.ok){const p=await f.json();throw new Error(p.message||`Failed to fetch operations list: ${f.status}! Contact the Administrator!`)}const d=await f.json();return r(d),n(!1),d}catch(c){throw console.error("Operations list fetch error:",c),i(c.message),n(!1),c}},[a]),l=N.useCallback(()=>{r(null),i(null),n(!1)},[]);return{fetchOperationsList:u,reset:l,data:e,loading:t,error:o}},KK=e=>{const[r,t]=N.useState(null),[n,o]=N.useState(!1),[i,a]=N.useState(null),s=localStorage.getItem("token"),u=e==null?void 0:e.split("/").pop(),l=sessionStorage.getItem("id"),c=N.useCallback(async({opPayload:d,files:p})=>{o(!0),a(null);try{const h=new FormData,m=await jo(),y=new URLSearchParams;if(y.append("payload",JSON.stringify(d)),!m)throw new Error("Unable to fetch configuration");const v=`${m.api_path}/v1/forms/operations/${u}`,g=l?`${v}?id=${l}`:v,x=await fetch(g,{method:"POST",headers:{accept:"application/json",Authorization:`Bearer ${s}`,"Content-Type":"application/x-www-form-urlencoded"},body:y});if(!x.ok){const w=await x.json();throw new Error(w.message||`Operation failed: ${x.status}`)}const b=await x.json();return t(b),o(!1),b}catch(h){throw console.error("Operation execution error:",h),a(h.message),o(!1),h}},[e,s,l,u]),f=N.useCallback(()=>{t(null),a(null),o(!1)},[]);return{executeOperation:c,resetOperation:f,data:r,loading:n,error:i}},WLe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,fontSize:"16px",fontWeight:500,marginBottom:"8px","&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),XK=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,isFieldsDisabled:o,updateHasChanges:i})=>{var C;const{responseObject:a,setResponseObject:s,aadhaar:u,setAadhaar:l,setTrusted:c,trusted:f}=N.useContext(tr),[d,p]=N.useState(!1),[h,m]=N.useState("");N.useContext(Ti),N.useRef(null),N.useRef(!0),N.useRef(null),N.useRef(!1);const y=zLe(),[v,g]=N.useState(),[x,b]=N.useState(""),w=Sr();N.useEffect(()=>{(async()=>{const T=await y.fetchOperationsList();g(T)})()},[]);const E=async S=>{const T=S.target.value===""?null:S.target.value;m(T),p(e.mandatory&&!T);const k=v==null?void 0:v.filter(P=>(P==null?void 0:P.op_id)===T);if(b(k),e.derived_field_name&&a&&n)try{const P=dt(a,n,T);sessionStorage.setItem("formResponse",JSON.stringify(P)),i(),await s(P)}catch(P){console.error("Error updating response:",P)}};return O.jsxs(Re,{sx:{my:2,maxWidth:350,mx:"auto"},children:[O.jsxs(xa,{error:d,fullWidth:!0,children:[O.jsx(Re,{sx:{ml:2,mb:1},children:O.jsxs(WLe,{htmlFor:e.derived_field_name,sx:{fontWeight:"bold",color:"secondary.main",fontSize:14.12},children:[e.title,e.mandatory&&(e==null?void 0:e.title)&&O.jsx("span",{className:"required-star",children:"*"})]})}),O.jsxs(G0,{labelId:`${e.derived_field_name}-label`,id:e.derived_field_name,value:h,onChange:E,displayEmpty:!0,MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root":{fontSize:14.12}}}},sx:{backgroundColor:w.palette.primary.white,fontSize:14.12,"& .MuiOutlinedInput-notchedOutline":{borderWidth:"1px",borderColor:`${w.palette.grey[400]}`},"&.MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${w.palette.grey[200]}`,transition:"all 0.2s ease-in-out",cursor:"pointer","& .MuiSelect-select":{color:o?"#c4c4c4":"inherit",WebkitTextFillColor:o?"#c4c4c4":"inherit",pointerEvents:"auto",userSelect:"auto"},"& .MuiSelect-icon":{pointerEvents:"auto"},"&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${w.palette.grey[400]}`,"& .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main"}},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiSelect-select":{px:2,py:1,fontSize:14.12,"&.MuiInputBase-input":{"&::placeholder":{opacity:.5,color:"#bbbbbb"}}}},children:[O.jsx(nv,{value:"",children:e.description}),(v==null?void 0:v.length)>0?v==null?void 0:v.map(S=>O.jsx(nv,{value:S==null?void 0:S.op_id,children:S==null?void 0:S.op_name},S==null?void 0:S.op_name)):null]})]}),O.jsx(Re,{marginTop:2,children:(x==null?void 0:x.length)>0&&O.jsx(it,{fontWeight:"bold",textAlign:"center",children:(C=x[0])==null?void 0:C.display_text})})]})};XK.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,editable:fe.bool,options:fe.object,field_notation:fe.string,default_value:fe.string}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,isFieldsDisabled:fe.bool};function i_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var QK={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(n,o,i){function a(l,c){if(!o[l]){if(!n[l]){var f=typeof i_=="function"&&i_;if(!c&&f)return f(l,!0);if(s)return s(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var p=o[l]={exports:{}};n[l][0].call(p.exports,function(h){var m=n[l][1][h];return a(m||h)},p,p.exports,t,n,o,i)}return o[l].exports}for(var s=typeof i_=="function"&&i_,u=0;u<i.length;u++)a(i[u]);return a}({1:[function(t,n,o){var i=t("./utils"),a=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(u){for(var l,c,f,d,p,h,m,y=[],v=0,g=u.length,x=g,b=i.getTypeOf(u)!=="string";v<u.length;)x=g-v,f=b?(l=u[v++],c=v<g?u[v++]:0,v<g?u[v++]:0):(l=u.charCodeAt(v++),c=v<g?u.charCodeAt(v++):0,v<g?u.charCodeAt(v++):0),d=l>>2,p=(3&l)<<4|c>>4,h=1<x?(15&c)<<2|f>>6:64,m=2<x?63&f:64,y.push(s.charAt(d)+s.charAt(p)+s.charAt(h)+s.charAt(m));return y.join("")},o.decode=function(u){var l,c,f,d,p,h,m=0,y=0,v="data:";if(u.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var g,x=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===s.charAt(64)&&x--,u.charAt(u.length-2)===s.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=a.uint8array?new Uint8Array(0|x):new Array(0|x);m<u.length;)l=s.indexOf(u.charAt(m++))<<2|(d=s.indexOf(u.charAt(m++)))>>4,c=(15&d)<<4|(p=s.indexOf(u.charAt(m++)))>>2,f=(3&p)<<6|(h=s.indexOf(u.charAt(m++))),g[y++]=l,p!==64&&(g[y++]=c),h!==64&&(g[y++]=f);return g}},{"./support":30,"./utils":32}],2:[function(t,n,o){var i=t("./external"),a=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function l(c,f,d,p,h){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=p,this.compressedContent=h}l.prototype={getContentWorker:function(){var c=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(c,f,d){return c.pipe(new s).pipe(new u("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new u("compressedSize")).withStreamInfo("compression",f)},n.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,o){var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,o){var i=t("./utils"),a=function(){for(var s,u=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;u[l]=s}return u}();n.exports=function(s,u){return s!==void 0&&s.length?i.getTypeOf(s)!=="string"?function(l,c,f,d){var p=a,h=d+f;l^=-1;for(var m=d;m<h;m++)l=l>>>8^p[255&(l^c[m])];return-1^l}(0|u,s,s.length,0):function(l,c,f,d){var p=a,h=d+f;l^=-1;for(var m=d;m<h;m++)l=l>>>8^p[255&(l^c.charCodeAt(m))];return-1^l}(0|u,s,s.length,0):0}},{"./utils":32}],5:[function(t,n,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,n,o){var i=null;i=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:i}},{lie:37}],7:[function(t,n,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),s=t("./utils"),u=t("./stream/GenericWorker"),l=i?"uint8array":"array";function c(f,d){u.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}o.magic="\b\0",s.inherits(c,u),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(l,f.data),!1)},c.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},o.compressWorker=function(f){return new c("Deflate",f)},o.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,o){function i(p,h){var m,y="";for(m=0;m<h;m++)y+=String.fromCharCode(255&p),p>>>=8;return y}function a(p,h,m,y,v,g){var x,b,w=p.file,E=p.compression,C=g!==l.utf8encode,S=s.transformTo("string",g(w.name)),T=s.transformTo("string",l.utf8encode(w.name)),k=w.comment,P=s.transformTo("string",g(k)),I=s.transformTo("string",l.utf8encode(k)),F=T.length!==w.name.length,A=I.length!==k.length,D="",$="",B="",W=w.dir,L=w.date,z={crc32:0,compressedSize:0,uncompressedSize:0};h&&!m||(z.crc32=p.crc32,z.compressedSize=p.compressedSize,z.uncompressedSize=p.uncompressedSize);var U=0;h&&(U|=8),C||!F&&!A||(U|=2048);var Y=0,q=0;W&&(Y|=16),v==="UNIX"?(q=798,Y|=function(H,Z){var ue=H;return H||(ue=Z?16893:33204),(65535&ue)<<16}(w.unixPermissions,W)):(q=20,Y|=function(H){return 63&(H||0)}(w.dosPermissions)),x=L.getUTCHours(),x<<=6,x|=L.getUTCMinutes(),x<<=5,x|=L.getUTCSeconds()/2,b=L.getUTCFullYear()-1980,b<<=4,b|=L.getUTCMonth()+1,b<<=5,b|=L.getUTCDate(),F&&($=i(1,1)+i(c(S),4)+T,D+="up"+i($.length,2)+$),A&&(B=i(1,1)+i(c(P),4)+I,D+="uc"+i(B.length,2)+B);var V="";return V+=`
\0`,V+=i(U,2),V+=E.magic,V+=i(x,2),V+=i(b,2),V+=i(z.crc32,4),V+=i(z.compressedSize,4),V+=i(z.uncompressedSize,4),V+=i(S.length,2),V+=i(D.length,2),{fileRecord:f.LOCAL_FILE_HEADER+V+S+D,dirRecord:f.CENTRAL_FILE_HEADER+i(q,2)+V+i(P.length,2)+"\0\0\0\0"+i(Y,4)+i(y,4)+S+D+P}}var s=t("../utils"),u=t("../stream/GenericWorker"),l=t("../utf8"),c=t("../crc32"),f=t("../signature");function d(p,h,m,y){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=y,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(d,u),d.prototype.push=function(p){var h=p.meta.percent||0,m=this.entriesCount,y=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,u.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-y-1))/m:100}}))},d.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var h=this.streamFiles&&!p.file.dir;if(h){var m=a(p,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(p){this.accumulate=!1;var h=this.streamFiles&&!p.file.dir,m=a(p,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:function(y){return f.DATA_DESCRIPTOR+i(y.crc32,4)+i(y.compressedSize,4)+i(y.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var p=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-p,y=function(v,g,x,b,w){var E=s.transformTo("string",w(b));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(v,2)+i(v,2)+i(g,4)+i(x,4)+i(E.length,2)+E}(this.dirRecords.length,m,p,this.zipComment,this.encodeFileName);this.push({data:y,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(p){this._sources.push(p);var h=this;return p.on("data",function(m){h.processChunk(m)}),p.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),p.on("error",function(m){h.error(m)}),this},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(p){var h=this._sources;if(!u.prototype.error.call(this,p))return!1;for(var m=0;m<h.length;m++)try{h[m].error(p)}catch{}return!0},d.prototype.lock=function(){u.prototype.lock.call(this);for(var p=this._sources,h=0;h<p.length;h++)p[h].lock()},n.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,o){var i=t("../compressions"),a=t("./ZipFileWorker");o.generateWorker=function(s,u,l){var c=new a(u.streamFiles,l,u.platform,u.encodeFileName),f=0;try{s.forEach(function(d,p){f++;var h=function(g,x){var b=g||x,w=i[b];if(!w)throw new Error(b+" is not a valid compression method !");return w}(p.options.compression,u.compression),m=p.options.compressionOptions||u.compressionOptions||{},y=p.dir,v=p.date;p._compressWorker(h,m).withStreamInfo("file",{name:d,dir:y,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var s in this)typeof this[s]!="function"&&(a[s]=this[s]);return a}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(a,s){return new i().loadAsync(a,s)},i.external=t("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,o){var i=t("./utils"),a=t("./external"),s=t("./utf8"),u=t("./zipEntries"),l=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function f(d){return new a.Promise(function(p,h){var m=d.decompressed.getContentWorker().pipe(new l);m.on("error",function(y){h(y)}).on("end",function(){m.streamInfo.crc32!==d.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}n.exports=function(d,p){var h=this;return p=i.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(d)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",d,!0,p.optimizedBinaryString,p.base64).then(function(m){var y=new u(p);return y.load(m),y}).then(function(m){var y=[a.Promise.resolve(m)],v=m.files;if(p.checkCRC32)for(var g=0;g<v.length;g++)y.push(f(v[g]));return a.Promise.all(y)}).then(function(m){for(var y=m.shift(),v=y.files,g=0;g<v.length;g++){var x=v[g],b=x.fileNameStr,w=i.resolve(x.fileNameStr);h.file(w,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:p.createFolders}),x.dir||(h.file(w).unsafeOriginalName=b)}return y.zipComment.length&&(h.comment=y.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,o){var i=t("../utils"),a=t("../stream/GenericWorker");function s(u,l){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}i.inherits(s,a),s.prototype._bindStream=function(u){var l=this;(this._stream=u).pause(),u.on("data",function(c){l.push({data:c,meta:{percent:0}})}).on("error",function(c){l.isPaused?this.generatedError=c:l.error(c)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},s.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,o){var i=t("readable-stream").Readable;function a(s,u,l){i.call(this,u),this._helper=s;var c=this;s.on("data",function(f,d){c.push(f)||c._helper.pause(),l&&l(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}t("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,o){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,n,o){function i(w,E,C){var S,T=s.getTypeOf(E),k=s.extend(C||{},c);k.date=k.date||new Date,k.compression!==null&&(k.compression=k.compression.toUpperCase()),typeof k.unixPermissions=="string"&&(k.unixPermissions=parseInt(k.unixPermissions,8)),k.unixPermissions&&16384&k.unixPermissions&&(k.dir=!0),k.dosPermissions&&16&k.dosPermissions&&(k.dir=!0),k.dir&&(w=v(w)),k.createFolders&&(S=y(w))&&g.call(this,S,!0);var P=T==="string"&&k.binary===!1&&k.base64===!1;C&&C.binary!==void 0||(k.binary=!P),(E instanceof f&&E.uncompressedSize===0||k.dir||!E||E.length===0)&&(k.base64=!1,k.binary=!0,E="",k.compression="STORE",T="string");var I=null;I=E instanceof f||E instanceof u?E:h.isNode&&h.isStream(E)?new m(w,E):s.prepareContent(w,E,k.binary,k.optimizedBinaryString,k.base64);var F=new d(w,I,k);this.files[w]=F}var a=t("./utf8"),s=t("./utils"),u=t("./stream/GenericWorker"),l=t("./stream/StreamHelper"),c=t("./defaults"),f=t("./compressedObject"),d=t("./zipObject"),p=t("./generate"),h=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),y=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var E=w.lastIndexOf("/");return 0<E?w.substring(0,E):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},g=function(w,E){return E=E!==void 0?E:c.createFolders,w=v(w),this.files[w]||i.call(this,w,null,{dir:!0,createFolders:E}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var E,C,S;for(E in this.files)S=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&w(C,S)},filter:function(w){var E=[];return this.forEach(function(C,S){w(C,S)&&E.push(S)}),E},file:function(w,E,C){if(arguments.length!==1)return w=this.root+w,i.call(this,w,E,C),this;if(x(w)){var S=w;return this.filter(function(k,P){return!P.dir&&S.test(k)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(T,k){return k.dir&&w.test(T)});var E=this.root+w,C=g.call(this,E),S=this.clone();return S.root=C.name,S},remove:function(w){w=this.root+w;var E=this.files[w];if(E||(w.slice(-1)!=="/"&&(w+="/"),E=this.files[w]),E&&!E.dir)delete this.files[w];else for(var C=this.filter(function(T,k){return k.name.slice(0,w.length)===w}),S=0;S<C.length;S++)delete this.files[C[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var E,C={};try{if((C=s.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");s.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var S=C.comment||this.comment||"";E=p.generateWorker(this,C,S)}catch(T){(E=new u("error")).error(T)}return new l(E,C.type||"string",C.mimeType)},generateAsync:function(w,E){return this.generateInternalStream(w).accumulate(E)},generateNodeStream:function(w,E){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(E)}};n.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,o){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,o){var i=t("./DataReader");function a(s){i.call(this,s);for(var u=0;u<this.data.length;u++)s[u]=255&s[u]}t("../utils").inherits(a,i),a.prototype.byteAt=function(s){return this.data[this.zero+s]},a.prototype.lastIndexOfSignature=function(s){for(var u=s.charCodeAt(0),l=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===u&&this.data[d+1]===l&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},a.prototype.readAndCheckSignature=function(s){var u=s.charCodeAt(0),l=s.charCodeAt(1),c=s.charCodeAt(2),f=s.charCodeAt(3),d=this.readData(4);return u===d[0]&&l===d[1]&&c===d[2]&&f===d[3]},a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,o){var i=t("../utils");function a(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var u,l=0;for(this.checkOffset(s),u=this.index+s-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=s,l},readString:function(s){return i.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,o){var i=t("./Uint8ArrayReader");function a(s){i.call(this,s)}t("../utils").inherits(a,i),a.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,o){var i=t("./DataReader");function a(s){i.call(this,s)}t("../utils").inherits(a,i),a.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},a.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},a.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},a.prototype.readData=function(s){this.checkOffset(s);var u=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,o){var i=t("./ArrayReader");function a(s){i.call(this,s)}t("../utils").inherits(a,i),a.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,u},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,o){var i=t("../utils"),a=t("../support"),s=t("./ArrayReader"),u=t("./StringReader"),l=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");n.exports=function(f){var d=i.getTypeOf(f);return i.checkSupport(d),d!=="string"||a.uint8array?d==="nodebuffer"?new l(f):a.uint8array?new c(i.transformTo("uint8array",f)):new s(i.transformTo("array",f)):new u(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,o){var i=t("./GenericWorker"),a=t("../utils");function s(u){i.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(s,i),s.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},n.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,o){var i=t("./GenericWorker"),a=t("../crc32");function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,i),s.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,o){var i=t("../utils"),a=t("./GenericWorker");function s(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}i.inherits(s,a),s.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}a.prototype.processChunk.call(this,u)},n.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,o){var i=t("../utils"),a=t("./GenericWorker");function s(u){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(c){l.dataIsReady=!0,l.data=c,l.max=c&&c.length||0,l.type=i.getTypeOf(c),l.isPaused||l._tickAndRepeat()},function(c){l.error(c)})}i.inherits(s,a),s.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,l);break;case"uint8array":u=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":u=this.data.slice(this.index,l)}return this.index=l,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,o){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,s){return this._listeners[a].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,s){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,s)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var s=this;return a.on("data",function(u){s.processChunk(u)}),a.on("end",function(){s.end()}),a.on("error",function(u){s.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,s){return this.extraStreamInfo[a]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=i},{}],29:[function(t,n,o){var i=t("../utils"),a=t("./ConvertWorker"),s=t("./GenericWorker"),u=t("../base64"),l=t("../support"),c=t("../external"),f=null;if(l.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(h,m){return new c.Promise(function(y,v){var g=[],x=h._internalType,b=h._outputType,w=h._mimeType;h.on("data",function(E,C){g.push(E),m&&m(C)}).on("error",function(E){g=[],v(E)}).on("end",function(){try{var E=function(C,S,T){switch(C){case"blob":return i.newBlob(i.transformTo("arraybuffer",S),T);case"base64":return u.encode(S);default:return i.transformTo(C,S)}}(b,function(C,S){var T,k=0,P=null,I=0;for(T=0;T<S.length;T++)I+=S[T].length;switch(C){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(P=new Uint8Array(I),T=0;T<S.length;T++)P.set(S[T],k),k+=S[T].length;return P;case"nodebuffer":return Buffer.concat(S);default:throw new Error("concat : unsupported type '"+C+"'")}}(x,g),w);y(E)}catch(C){v(C)}g=[]}).resume()})}function p(h,m,y){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=y,i.checkSupport(v),this._worker=h.pipe(new a(v)),h.lock()}catch(g){this._worker=new s("error"),this._worker.error(g)}}p.prototype={accumulate:function(h){return d(this,h)},on:function(h,m){var y=this;return h==="data"?this._worker.on(h,function(v){m.call(y,v.data,v.meta)}):this._worker.on(h,function(){i.delay(m,arguments,y)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},h)}},n.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,o){for(var i=t("./utils"),a=t("./support"),s=t("./nodejsUtils"),u=t("./stream/GenericWorker"),l=new Array(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;l[254]=l[254]=1;function f(){u.call(this,"utf-8 decode"),this.leftOver=null}function d(){u.call(this,"utf-8 encode")}o.utf8encode=function(p){return a.nodebuffer?s.newBufferFrom(p,"utf-8"):function(h){var m,y,v,g,x,b=h.length,w=0;for(g=0;g<b;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),g++),w+=y<128?1:y<2048?2:y<65536?3:4;for(m=a.uint8array?new Uint8Array(w):new Array(w),g=x=0;x<w;g++)(64512&(y=h.charCodeAt(g)))==55296&&g+1<b&&(64512&(v=h.charCodeAt(g+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),g++),y<128?m[x++]=y:(y<2048?m[x++]=192|y>>>6:(y<65536?m[x++]=224|y>>>12:(m[x++]=240|y>>>18,m[x++]=128|y>>>12&63),m[x++]=128|y>>>6&63),m[x++]=128|63&y);return m}(p)},o.utf8decode=function(p){return a.nodebuffer?i.transformTo("nodebuffer",p).toString("utf-8"):function(h){var m,y,v,g,x=h.length,b=new Array(2*x);for(m=y=0;m<x;)if((v=h[m++])<128)b[y++]=v;else if(4<(g=l[v]))b[y++]=65533,m+=g-1;else{for(v&=g===2?31:g===3?15:7;1<g&&m<x;)v=v<<6|63&h[m++],g--;1<g?b[y++]=65533:v<65536?b[y++]=v:(v-=65536,b[y++]=55296|v>>10&1023,b[y++]=56320|1023&v)}return b.length!==y&&(b.subarray?b=b.subarray(0,y):b.length=y),i.applyFromCharCode(b)}(p=i.transformTo(a.uint8array?"uint8array":"array",p))},i.inherits(f,u),f.prototype.processChunk=function(p){var h=i.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=h;(h=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var y=function(g,x){var b;for((x=x||g.length)>g.length&&(x=g.length),b=x-1;0<=b&&(192&g[b])==128;)b--;return b<0||b===0?x:b+l[g[b]]>x?b:x}(h),v=h;y!==h.length&&(a.uint8array?(v=h.subarray(0,y),this.leftOver=h.subarray(y,h.length)):(v=h.slice(0,y),this.leftOver=h.slice(y,h.length))),this.push({data:o.utf8decode(v),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=f,i.inherits(d,u),d.prototype.processChunk=function(p){this.push({data:o.utf8encode(p.data),meta:p.meta})},o.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,o){var i=t("./support"),a=t("./base64"),s=t("./nodejsUtils"),u=t("./external");function l(m){return m}function c(m,y){for(var v=0;v<m.length;++v)y[v]=255&m.charCodeAt(v);return y}t("setimmediate"),o.newBlob=function(m,y){o.checkSupport("blob");try{return new Blob([m],{type:y})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(y)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(m,y,v){var g=[],x=0,b=m.length;if(b<=v)return String.fromCharCode.apply(null,m);for(;x<b;)y==="array"||y==="nodebuffer"?g.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+v,b)))):g.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+v,b)))),x+=v;return g.join("")},stringifyByChar:function(m){for(var y="",v=0;v<m.length;v++)y+=String.fromCharCode(m[v]);return y},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function d(m){var y=65536,v=o.getTypeOf(m),g=!0;if(v==="uint8array"?g=f.applyCanBeUsed.uint8array:v==="nodebuffer"&&(g=f.applyCanBeUsed.nodebuffer),g)for(;1<y;)try{return f.stringifyByChunk(m,v,y)}catch{y=Math.floor(y/2)}return f.stringifyByChar(m)}function p(m,y){for(var v=0;v<m.length;v++)y[v]=m[v];return y}o.applyFromCharCode=d;var h={};h.string={string:l,array:function(m){return c(m,new Array(m.length))},arraybuffer:function(m){return h.string.uint8array(m).buffer},uint8array:function(m){return c(m,new Uint8Array(m.length))},nodebuffer:function(m){return c(m,s.allocBuffer(m.length))}},h.array={string:d,array:l,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(m)}},h.arraybuffer={string:function(m){return d(new Uint8Array(m))},array:function(m){return p(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:l,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return s.newBufferFrom(new Uint8Array(m))}},h.uint8array={string:d,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:l,nodebuffer:function(m){return s.newBufferFrom(m)}},h.nodebuffer={string:d,array:function(m){return p(m,new Array(m.length))},arraybuffer:function(m){return h.nodebuffer.uint8array(m).buffer},uint8array:function(m){return p(m,new Uint8Array(m.length))},nodebuffer:l},o.transformTo=function(m,y){if(y=y||"",!m)return y;o.checkSupport(m);var v=o.getTypeOf(y);return h[v][m](y)},o.resolve=function(m){for(var y=m.split("/"),v=[],g=0;g<y.length;g++){var x=y[g];x==="."||x===""&&g!==0&&g!==y.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},o.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":i.nodebuffer&&s.isBuffer(m)?"nodebuffer":i.uint8array&&m instanceof Uint8Array?"uint8array":i.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(m){if(!i[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(m){var y,v,g="";for(v=0;v<(m||"").length;v++)g+="\\x"+((y=m.charCodeAt(v))<16?"0":"")+y.toString(16).toUpperCase();return g},o.delay=function(m,y,v){setImmediate(function(){m.apply(v||null,y||[])})},o.inherits=function(m,y){function v(){}v.prototype=y.prototype,m.prototype=new v},o.extend=function(){var m,y,v={};for(m=0;m<arguments.length;m++)for(y in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],y)&&v[y]===void 0&&(v[y]=arguments[m][y]);return v},o.prepareContent=function(m,y,v,g,x){return u.Promise.resolve(y).then(function(b){return i.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new u.Promise(function(w,E){var C=new FileReader;C.onload=function(S){w(S.target.result)},C.onerror=function(S){E(S.target.error)},C.readAsArrayBuffer(b)}):b}).then(function(b){var w=o.getTypeOf(b);return w?(w==="arraybuffer"?b=o.transformTo("uint8array",b):w==="string"&&(x?b=a.decode(b):v&&g!==!0&&(b=function(E){return c(E,i.uint8array?new Uint8Array(E.length):new Array(E.length))}(b))),b):u.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,o){var i=t("./reader/readerFor"),a=t("./utils"),s=t("./signature"),u=t("./zipEntry"),l=t("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(d)+", expected "+a.pretty(f)+")")}},isSignature:function(f,d){var p=this.reader.index;this.reader.setIndex(f);var h=this.reader.readString(4)===d;return this.reader.setIndex(p),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=l.uint8array?"uint8array":"array",p=a.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,p,h=this.zip64EndOfCentralSize-44;0<h;)f=this.reader.readInt(2),d=this.reader.readInt(4),p=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(f=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var h=d-p;if(0<h)this.isSignature(d,s.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,o){var i=t("./reader/readerFor"),a=t("./utils"),s=t("./compressedObject"),u=t("./crc32"),l=t("./utf8"),c=t("./compressions"),f=t("./support");function d(p,h){this.options=p,this.loadOptions=h}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var h,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(y){for(var v in c)if(Object.prototype.hasOwnProperty.call(c,v)&&c[v].magic===y)return c[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,h,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var h=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(h),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var h,m,y,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)h=p.readInt(2),m=p.readInt(2),y=p.readData(m),this.extraFields[h]={id:h,length:m,value:y};p.setIndex(v)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var y=this.findExtraFieldUnicodeComment();if(y!==null)this.fileCommentStr=y;else{var v=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var h=i(p.value);return h.readInt(1)!==1||u(this.fileName)!==h.readInt(4)?null:l.utf8decode(h.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var h=i(p.value);return h.readInt(1)!==1||u(this.fileComment)!==h.readInt(4)?null:l.utf8decode(h.readData(p.length-5))}return null}},n.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,o){function i(h,m,y){this.name=h,this.dir=y.dir,this.date=y.date,this.comment=y.comment,this.unixPermissions=y.unixPermissions,this.dosPermissions=y.dosPermissions,this._data=m,this._dataBinary=y.binary,this.options={compression:y.compression,compressionOptions:y.compressionOptions}}var a=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),u=t("./utf8"),l=t("./compressedObject"),c=t("./stream/GenericWorker");i.prototype={internalStream:function(h){var m=null,y="string";try{if(!h)throw new Error("No output type specified.");var v=(y=h.toLowerCase())==="string"||y==="text";y!=="binarystring"&&y!=="text"||(y="string"),m=this._decompressWorker();var g=!this._dataBinary;g&&!v&&(m=m.pipe(new u.Utf8EncodeWorker)),!g&&v&&(m=m.pipe(new u.Utf8DecodeWorker))}catch(x){(m=new c("error")).error(x)}return new a(m,y,"")},async:function(h,m){return this.internalStream(h).accumulate(m)},nodeStream:function(h,m){return this.internalStream(h||"nodebuffer").toNodejsStream(m)},_compressWorker:function(h,m){if(this._data instanceof l&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var y=this._decompressWorker();return this._dataBinary||(y=y.pipe(new u.Utf8EncodeWorker)),l.createWorkerFrom(y,h,m)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)i.prototype[f[p]]=d;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,o){(function(i){var a,s,u=i.MutationObserver||i.WebKitMutationObserver;if(u){var l=0,c=new u(h),f=i.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=l=++l%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var m=i.document.createElement("script");m.onreadystatechange=function(){h(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},i.document.documentElement.appendChild(m)}:function(){setTimeout(h,0)};else{var d=new i.MessageChannel;d.port1.onmessage=h,a=function(){d.port2.postMessage(0)}}var p=[];function h(){var m,y;s=!0;for(var v=p.length;v;){for(y=p,p=[],m=-1;++m<v;)y[m]();v=p.length}s=!1}n.exports=function(m){p.push(m)!==1||s||a()}}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,o){var i=t("immediate");function a(){}var s={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];function f(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,v!==a&&m(this,v)}function d(v,g,x){this.promise=v,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function p(v,g,x){i(function(){var b;try{b=g(x)}catch(w){return s.reject(v,w)}b===v?s.reject(v,new TypeError("Cannot resolve promise with itself")):s.resolve(v,b)})}function h(v){var g=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof g=="function")return function(){g.apply(v,arguments)}}function m(v,g){var x=!1;function b(C){x||(x=!0,s.reject(v,C))}function w(C){x||(x=!0,s.resolve(v,C))}var E=y(function(){g(w,b)});E.status==="error"&&b(E.value)}function y(v,g){var x={};try{x.value=v(g),x.status="success"}catch(b){x.status="error",x.value=b}return x}(n.exports=f).prototype.finally=function(v){if(typeof v!="function")return this;var g=this.constructor;return this.then(function(x){return g.resolve(v()).then(function(){return x})},function(x){return g.resolve(v()).then(function(){throw x})})},f.prototype.catch=function(v){return this.then(null,v)},f.prototype.then=function(v,g){if(typeof v!="function"&&this.state===l||typeof g!="function"&&this.state===u)return this;var x=new this.constructor(a);return this.state!==c?p(x,this.state===l?v:g,this.outcome):this.queue.push(new d(x,v,g)),x},d.prototype.callFulfilled=function(v){s.resolve(this.promise,v)},d.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},d.prototype.callRejected=function(v){s.reject(this.promise,v)},d.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},s.resolve=function(v,g){var x=y(h,g);if(x.status==="error")return s.reject(v,x.value);var b=x.value;if(b)m(v,b);else{v.state=l,v.outcome=g;for(var w=-1,E=v.queue.length;++w<E;)v.queue[w].callFulfilled(g)}return v},s.reject=function(v,g){v.state=u,v.outcome=g;for(var x=-1,b=v.queue.length;++x<b;)v.queue[x].callRejected(g);return v},f.resolve=function(v){return v instanceof this?v:s.resolve(new this(a),v)},f.reject=function(v){var g=new this(a);return s.reject(g,v)},f.all=function(v){var g=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,b=!1;if(!x)return this.resolve([]);for(var w=new Array(x),E=0,C=-1,S=new this(a);++C<x;)T(v[C],C);return S;function T(k,P){g.resolve(k).then(function(I){w[P]=I,++E!==x||b||(b=!0,s.resolve(S,w))},function(I){b||(b=!0,s.reject(S,I))})}},f.race=function(v){var g=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,b=!1;if(!x)return this.resolve([]);for(var w=-1,E=new this(a);++w<x;)C=v[w],g.resolve(C).then(function(S){b||(b=!0,s.resolve(E,S))},function(S){b||(b=!0,s.reject(E,S))});var C;return E}},{immediate:36}],38:[function(t,n,o){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,o){var i=t("./zlib/deflate"),a=t("./utils/common"),s=t("./utils/strings"),u=t("./zlib/messages"),l=t("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,p=0,h=8;function m(v){if(!(this instanceof m))return new m(v);this.options=a.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var x=i.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(x!==f)throw new Error(u[x]);if(g.header&&i.deflateSetHeader(this.strm,g.header),g.dictionary){var b;if(b=typeof g.dictionary=="string"?s.string2buf(g.dictionary):c.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(x=i.deflateSetDictionary(this.strm,b))!==f)throw new Error(u[x]);this._dict_set=!0}}function y(v,g){var x=new m(g);if(x.push(v,!0),x.err)throw x.msg||u[x.err];return x.result}m.prototype.push=function(v,g){var x,b,w=this.strm,E=this.options.chunkSize;if(this.ended)return!1;b=g===~~g?g:g===!0?4:0,typeof v=="string"?w.input=s.string2buf(v):c.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new a.Buf8(E),w.next_out=0,w.avail_out=E),(x=i.deflate(w,b))!==1&&x!==f)return this.onEnd(x),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(a.shrinkBuf(w.output,w.next_out))):this.onData(a.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&x!==1);return b===4?(x=i.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===f):b!==2||(this.onEnd(f),!(w.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},o.Deflate=m,o.deflate=y,o.deflateRaw=function(v,g){return(g=g||{}).raw=!0,y(v,g)},o.gzip=function(v,g){return(g=g||{}).gzip=!0,y(v,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,o){var i=t("./zlib/inflate"),a=t("./utils/common"),s=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),d=Object.prototype.toString;function p(m){if(!(this instanceof p))return new p(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var y=this.options;y.raw&&0<=y.windowBits&&y.windowBits<16&&(y.windowBits=-y.windowBits,y.windowBits===0&&(y.windowBits=-15)),!(0<=y.windowBits&&y.windowBits<16)||m&&m.windowBits||(y.windowBits+=32),15<y.windowBits&&y.windowBits<48&&!(15&y.windowBits)&&(y.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=i.inflateInit2(this.strm,y.windowBits);if(v!==u.Z_OK)throw new Error(l[v]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function h(m,y){var v=new p(y);if(v.push(m,!0),v.err)throw v.msg||l[v.err];return v.result}p.prototype.push=function(m,y){var v,g,x,b,w,E,C=this.strm,S=this.options.chunkSize,T=this.options.dictionary,k=!1;if(this.ended)return!1;g=y===~~y?y:y===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof m=="string"?C.input=s.binstring2buf(m):d.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(S),C.next_out=0,C.avail_out=S),(v=i.inflate(C,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&T&&(E=typeof T=="string"?s.string2buf(T):d.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,v=i.inflateSetDictionary(this.strm,E)),v===u.Z_BUF_ERROR&&k===!0&&(v=u.Z_OK,k=!1),v!==u.Z_STREAM_END&&v!==u.Z_OK)return this.onEnd(v),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&v!==u.Z_STREAM_END&&(C.avail_in!==0||g!==u.Z_FINISH&&g!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=s.utf8border(C.output,C.next_out),b=C.next_out-x,w=s.buf2string(C.output,x),C.next_out=b,C.avail_out=S-b,b&&a.arraySet(C.output,C.output,x,b,0),this.onData(w)):this.onData(a.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(k=!0)}while((0<C.avail_in||C.avail_out===0)&&v!==u.Z_STREAM_END);return v===u.Z_STREAM_END&&(g=u.Z_FINISH),g===u.Z_FINISH?(v=i.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===u.Z_OK):g!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(C.avail_out=0))},p.prototype.onData=function(m){this.chunks.push(m)},p.prototype.onEnd=function(m){m===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},o.Inflate=p,o.inflate=h,o.inflateRaw=function(m,y){return(y=y||{}).raw=!0,h(m,y)},o.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var c=l.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])}}return u},o.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var a={arraySet:function(u,l,c,f,d){if(l.subarray&&u.subarray)u.set(l.subarray(c,c+f),d);else for(var p=0;p<f;p++)u[d+p]=l[c+p]},flattenChunks:function(u){var l,c,f,d,p,h;for(l=f=0,c=u.length;l<c;l++)f+=u[l].length;for(h=new Uint8Array(f),l=d=0,c=u.length;l<c;l++)p=u[l],h.set(p,d),d+=p.length;return h}},s={arraySet:function(u,l,c,f,d){for(var p=0;p<f;p++)u[d+p]=l[c+p]},flattenChunks:function(u){return[].concat.apply([],u)}};o.setTyped=function(u){u?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,s))},o.setTyped(i)},{}],42:[function(t,n,o){var i=t("./common"),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var u=new i.Buf8(256),l=0;l<256;l++)u[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(f,d){if(d<65537&&(f.subarray&&s||!f.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(f,d));for(var p="",h=0;h<d;h++)p+=String.fromCharCode(f[h]);return p}u[254]=u[254]=1,o.string2buf=function(f){var d,p,h,m,y,v=f.length,g=0;for(m=0;m<v;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(h=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),m++),g+=p<128?1:p<2048?2:p<65536?3:4;for(d=new i.Buf8(g),m=y=0;y<g;m++)(64512&(p=f.charCodeAt(m)))==55296&&m+1<v&&(64512&(h=f.charCodeAt(m+1)))==56320&&(p=65536+(p-55296<<10)+(h-56320),m++),p<128?d[y++]=p:(p<2048?d[y++]=192|p>>>6:(p<65536?d[y++]=224|p>>>12:(d[y++]=240|p>>>18,d[y++]=128|p>>>12&63),d[y++]=128|p>>>6&63),d[y++]=128|63&p);return d},o.buf2binstring=function(f){return c(f,f.length)},o.binstring2buf=function(f){for(var d=new i.Buf8(f.length),p=0,h=d.length;p<h;p++)d[p]=f.charCodeAt(p);return d},o.buf2string=function(f,d){var p,h,m,y,v=d||f.length,g=new Array(2*v);for(p=h=0;p<v;)if((m=f[p++])<128)g[h++]=m;else if(4<(y=u[m]))g[h++]=65533,p+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&p<v;)m=m<<6|63&f[p++],y--;1<y?g[h++]=65533:m<65536?g[h++]=m:(m-=65536,g[h++]=55296|m>>10&1023,g[h++]=56320|1023&m)}return c(g,h)},o.utf8border=function(f,d){var p;for((d=d||f.length)>f.length&&(d=f.length),p=d-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?d:p+u[f[p]]>d?p:d}},{"./common":41}],43:[function(t,n,o){n.exports=function(i,a,s,u){for(var l=65535&i|0,c=i>>>16&65535|0,f=0;s!==0;){for(s-=f=2e3<s?2e3:s;c=c+(l=l+a[u++]|0)|0,--f;);l%=65521,c%=65521}return l|c<<16|0}},{}],44:[function(t,n,o){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,o){var i=function(){for(var a,s=[],u=0;u<256;u++){a=u;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;s[u]=a}return s}();n.exports=function(a,s,u,l){var c=i,f=l+u;a^=-1;for(var d=l;d<f;d++)a=a>>>8^c[255&(a^s[d])];return-1^a}},{}],46:[function(t,n,o){var i,a=t("../utils/common"),s=t("./trees"),u=t("./adler32"),l=t("./crc32"),c=t("./messages"),f=0,d=4,p=0,h=-2,m=-1,y=4,v=2,g=8,x=9,b=286,w=30,E=19,C=2*b+1,S=15,T=3,k=258,P=k+T+1,I=42,F=113,A=1,D=2,$=3,B=4;function W(j,ce){return j.msg=c[ce],ce}function L(j){return(j<<1)-(4<j?9:0)}function z(j){for(var ce=j.length;0<=--ce;)j[ce]=0}function U(j){var ce=j.state,re=ce.pending;re>j.avail_out&&(re=j.avail_out),re!==0&&(a.arraySet(j.output,ce.pending_buf,ce.pending_out,re,j.next_out),j.next_out+=re,ce.pending_out+=re,j.total_out+=re,j.avail_out-=re,ce.pending-=re,ce.pending===0&&(ce.pending_out=0))}function Y(j,ce){s._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,ce),j.block_start=j.strstart,U(j.strm)}function q(j,ce){j.pending_buf[j.pending++]=ce}function V(j,ce){j.pending_buf[j.pending++]=ce>>>8&255,j.pending_buf[j.pending++]=255&ce}function H(j,ce){var re,Q,G=j.max_chain_length,X=j.strstart,te=j.prev_length,de=j.nice_match,ae=j.strstart>j.w_size-P?j.strstart-(j.w_size-P):0,ye=j.window,ie=j.w_mask,he=j.prev,_e=j.strstart+k,Se=ye[X+te-1],xe=ye[X+te];j.prev_length>=j.good_match&&(G>>=2),de>j.lookahead&&(de=j.lookahead);do if(ye[(re=ce)+te]===xe&&ye[re+te-1]===Se&&ye[re]===ye[X]&&ye[++re]===ye[X+1]){X+=2,re++;do;while(ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&ye[++X]===ye[++re]&&X<_e);if(Q=k-(_e-X),X=_e-k,te<Q){if(j.match_start=ce,de<=(te=Q))break;Se=ye[X+te-1],xe=ye[X+te]}}while((ce=he[ce&ie])>ae&&--G!=0);return te<=j.lookahead?te:j.lookahead}function Z(j){var ce,re,Q,G,X,te,de,ae,ye,ie,he=j.w_size;do{if(G=j.window_size-j.lookahead-j.strstart,j.strstart>=he+(he-P)){for(a.arraySet(j.window,j.window,he,he,0),j.match_start-=he,j.strstart-=he,j.block_start-=he,ce=re=j.hash_size;Q=j.head[--ce],j.head[ce]=he<=Q?Q-he:0,--re;);for(ce=re=he;Q=j.prev[--ce],j.prev[ce]=he<=Q?Q-he:0,--re;);G+=he}if(j.strm.avail_in===0)break;if(te=j.strm,de=j.window,ae=j.strstart+j.lookahead,ye=G,ie=void 0,ie=te.avail_in,ye<ie&&(ie=ye),re=ie===0?0:(te.avail_in-=ie,a.arraySet(de,te.input,te.next_in,ie,ae),te.state.wrap===1?te.adler=u(te.adler,de,ie,ae):te.state.wrap===2&&(te.adler=l(te.adler,de,ie,ae)),te.next_in+=ie,te.total_in+=ie,ie),j.lookahead+=re,j.lookahead+j.insert>=T)for(X=j.strstart-j.insert,j.ins_h=j.window[X],j.ins_h=(j.ins_h<<j.hash_shift^j.window[X+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[X+T-1])&j.hash_mask,j.prev[X&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=X,X++,j.insert--,!(j.lookahead+j.insert<T)););}while(j.lookahead<P&&j.strm.avail_in!==0)}function ue(j,ce){for(var re,Q;;){if(j.lookahead<P){if(Z(j),j.lookahead<P&&ce===f)return A;if(j.lookahead===0)break}if(re=0,j.lookahead>=T&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,re=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),re!==0&&j.strstart-re<=j.w_size-P&&(j.match_length=H(j,re)),j.match_length>=T)if(Q=s._tr_tally(j,j.strstart-j.match_start,j.match_length-T),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=T){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,re=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else Q=s._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(Q&&(Y(j,!1),j.strm.avail_out===0))return A}return j.insert=j.strstart<T-1?j.strstart:T-1,ce===d?(Y(j,!0),j.strm.avail_out===0?$:B):j.last_lit&&(Y(j,!1),j.strm.avail_out===0)?A:D}function oe(j,ce){for(var re,Q,G;;){if(j.lookahead<P){if(Z(j),j.lookahead<P&&ce===f)return A;if(j.lookahead===0)break}if(re=0,j.lookahead>=T&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,re=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=T-1,re!==0&&j.prev_length<j.max_lazy_match&&j.strstart-re<=j.w_size-P&&(j.match_length=H(j,re),j.match_length<=5&&(j.strategy===1||j.match_length===T&&4096<j.strstart-j.match_start)&&(j.match_length=T-1)),j.prev_length>=T&&j.match_length<=j.prev_length){for(G=j.strstart+j.lookahead-T,Q=s._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-T),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=G&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+T-1])&j.hash_mask,re=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=T-1,j.strstart++,Q&&(Y(j,!1),j.strm.avail_out===0))return A}else if(j.match_available){if((Q=s._tr_tally(j,0,j.window[j.strstart-1]))&&Y(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return A}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(Q=s._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<T-1?j.strstart:T-1,ce===d?(Y(j,!0),j.strm.avail_out===0?$:B):j.last_lit&&(Y(j,!1),j.strm.avail_out===0)?A:D}function ee(j,ce,re,Q,G){this.good_length=j,this.max_lazy=ce,this.nice_length=re,this.max_chain=Q,this.func=G}function ne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*C),this.dyn_dtree=new a.Buf16(2*(2*w+1)),this.bl_tree=new a.Buf16(2*(2*E+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(S+1),this.heap=new a.Buf16(2*b+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(j){var ce;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=v,(ce=j.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?I:F,j.adler=ce.wrap===2?0:1,ce.last_flush=f,s._tr_init(ce),p):W(j,h)}function J(j){var ce=pe(j);return ce===p&&function(re){re.window_size=2*re.w_size,z(re.head),re.max_lazy_match=i[re.level].max_lazy,re.good_match=i[re.level].good_length,re.nice_match=i[re.level].nice_length,re.max_chain_length=i[re.level].max_chain,re.strstart=0,re.block_start=0,re.lookahead=0,re.insert=0,re.match_length=re.prev_length=T-1,re.match_available=0,re.ins_h=0}(j.state),ce}function se(j,ce,re,Q,G,X){if(!j)return h;var te=1;if(ce===m&&(ce=6),Q<0?(te=0,Q=-Q):15<Q&&(te=2,Q-=16),G<1||x<G||re!==g||Q<8||15<Q||ce<0||9<ce||X<0||y<X)return W(j,h);Q===8&&(Q=9);var de=new ne;return(j.state=de).strm=j,de.wrap=te,de.gzhead=null,de.w_bits=Q,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=G+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+T-1)/T),de.window=new a.Buf8(2*de.w_size),de.head=new a.Buf16(de.hash_size),de.prev=new a.Buf16(de.w_size),de.lit_bufsize=1<<G+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new a.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=ce,de.strategy=X,de.method=re,J(j)}i=[new ee(0,0,0,0,function(j,ce){var re=65535;for(re>j.pending_buf_size-5&&(re=j.pending_buf_size-5);;){if(j.lookahead<=1){if(Z(j),j.lookahead===0&&ce===f)return A;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var Q=j.block_start+re;if((j.strstart===0||j.strstart>=Q)&&(j.lookahead=j.strstart-Q,j.strstart=Q,Y(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-P&&(Y(j,!1),j.strm.avail_out===0))return A}return j.insert=0,ce===d?(Y(j,!0),j.strm.avail_out===0?$:B):(j.strstart>j.block_start&&(Y(j,!1),j.strm.avail_out),A)}),new ee(4,4,8,4,ue),new ee(4,5,16,8,ue),new ee(4,6,32,32,ue),new ee(4,4,16,16,oe),new ee(8,16,32,32,oe),new ee(8,16,128,128,oe),new ee(8,32,128,256,oe),new ee(32,128,258,1024,oe),new ee(32,258,258,4096,oe)],o.deflateInit=function(j,ce){return se(j,ce,g,15,8,0)},o.deflateInit2=se,o.deflateReset=J,o.deflateResetKeep=pe,o.deflateSetHeader=function(j,ce){return j&&j.state?j.state.wrap!==2?h:(j.state.gzhead=ce,p):h},o.deflate=function(j,ce){var re,Q,G,X;if(!j||!j.state||5<ce||ce<0)return j?W(j,h):h;if(Q=j.state,!j.output||!j.input&&j.avail_in!==0||Q.status===666&&ce!==d)return W(j,j.avail_out===0?-5:h);if(Q.strm=j,re=Q.last_flush,Q.last_flush=ce,Q.status===I)if(Q.wrap===2)j.adler=0,q(Q,31),q(Q,139),q(Q,8),Q.gzhead?(q(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),q(Q,255&Q.gzhead.time),q(Q,Q.gzhead.time>>8&255),q(Q,Q.gzhead.time>>16&255),q(Q,Q.gzhead.time>>24&255),q(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),q(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(q(Q,255&Q.gzhead.extra.length),q(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(j.adler=l(j.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(q(Q,0),q(Q,0),q(Q,0),q(Q,0),q(Q,0),q(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),q(Q,3),Q.status=F);else{var te=g+(Q.w_bits-8<<4)<<8;te|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(te|=32),te+=31-te%31,Q.status=F,V(Q,te),Q.strstart!==0&&(V(Q,j.adler>>>16),V(Q,65535&j.adler)),j.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(G=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),U(j),G=Q.pending,Q.pending!==Q.pending_buf_size));)q(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),U(j),G=Q.pending,Q.pending===Q.pending_buf_size)){X=1;break}X=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,q(Q,X)}while(X!==0);Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),X===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){G=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),U(j),G=Q.pending,Q.pending===Q.pending_buf_size)){X=1;break}X=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,q(Q,X)}while(X!==0);Q.gzhead.hcrc&&Q.pending>G&&(j.adler=l(j.adler,Q.pending_buf,Q.pending-G,G)),X===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&U(j),Q.pending+2<=Q.pending_buf_size&&(q(Q,255&j.adler),q(Q,j.adler>>8&255),j.adler=0,Q.status=F)):Q.status=F),Q.pending!==0){if(U(j),j.avail_out===0)return Q.last_flush=-1,p}else if(j.avail_in===0&&L(ce)<=L(re)&&ce!==d)return W(j,-5);if(Q.status===666&&j.avail_in!==0)return W(j,-5);if(j.avail_in!==0||Q.lookahead!==0||ce!==f&&Q.status!==666){var de=Q.strategy===2?function(ae,ye){for(var ie;;){if(ae.lookahead===0&&(Z(ae),ae.lookahead===0)){if(ye===f)return A;break}if(ae.match_length=0,ie=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ie&&(Y(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,ye===d?(Y(ae,!0),ae.strm.avail_out===0?$:B):ae.last_lit&&(Y(ae,!1),ae.strm.avail_out===0)?A:D}(Q,ce):Q.strategy===3?function(ae,ye){for(var ie,he,_e,Se,xe=ae.window;;){if(ae.lookahead<=k){if(Z(ae),ae.lookahead<=k&&ye===f)return A;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=T&&0<ae.strstart&&(he=xe[_e=ae.strstart-1])===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]){Se=ae.strstart+k;do;while(he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&he===xe[++_e]&&_e<Se);ae.match_length=k-(Se-_e),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=T?(ie=s._tr_tally(ae,1,ae.match_length-T),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ie=s._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ie&&(Y(ae,!1),ae.strm.avail_out===0))return A}return ae.insert=0,ye===d?(Y(ae,!0),ae.strm.avail_out===0?$:B):ae.last_lit&&(Y(ae,!1),ae.strm.avail_out===0)?A:D}(Q,ce):i[Q.level].func(Q,ce);if(de!==$&&de!==B||(Q.status=666),de===A||de===$)return j.avail_out===0&&(Q.last_flush=-1),p;if(de===D&&(ce===1?s._tr_align(Q):ce!==5&&(s._tr_stored_block(Q,0,0,!1),ce===3&&(z(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),U(j),j.avail_out===0))return Q.last_flush=-1,p}return ce!==d?p:Q.wrap<=0?1:(Q.wrap===2?(q(Q,255&j.adler),q(Q,j.adler>>8&255),q(Q,j.adler>>16&255),q(Q,j.adler>>24&255),q(Q,255&j.total_in),q(Q,j.total_in>>8&255),q(Q,j.total_in>>16&255),q(Q,j.total_in>>24&255)):(V(Q,j.adler>>>16),V(Q,65535&j.adler)),U(j),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?p:1)},o.deflateEnd=function(j){var ce;return j&&j.state?(ce=j.state.status)!==I&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==F&&ce!==666?W(j,h):(j.state=null,ce===F?W(j,-3):p):h},o.deflateSetDictionary=function(j,ce){var re,Q,G,X,te,de,ae,ye,ie=ce.length;if(!j||!j.state||(X=(re=j.state).wrap)===2||X===1&&re.status!==I||re.lookahead)return h;for(X===1&&(j.adler=u(j.adler,ce,ie,0)),re.wrap=0,ie>=re.w_size&&(X===0&&(z(re.head),re.strstart=0,re.block_start=0,re.insert=0),ye=new a.Buf8(re.w_size),a.arraySet(ye,ce,ie-re.w_size,re.w_size,0),ce=ye,ie=re.w_size),te=j.avail_in,de=j.next_in,ae=j.input,j.avail_in=ie,j.next_in=0,j.input=ce,Z(re);re.lookahead>=T;){for(Q=re.strstart,G=re.lookahead-(T-1);re.ins_h=(re.ins_h<<re.hash_shift^re.window[Q+T-1])&re.hash_mask,re.prev[Q&re.w_mask]=re.head[re.ins_h],re.head[re.ins_h]=Q,Q++,--G;);re.strstart=Q,re.lookahead=T-1,Z(re)}return re.strstart+=re.lookahead,re.block_start=re.strstart,re.insert=re.lookahead,re.lookahead=0,re.match_length=re.prev_length=T-1,re.match_available=0,j.next_in=de,j.input=ae,j.avail_in=te,re.wrap=X,p},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,o){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,o){n.exports=function(i,a){var s,u,l,c,f,d,p,h,m,y,v,g,x,b,w,E,C,S,T,k,P,I,F,A,D;s=i.state,u=i.next_in,A=i.input,l=u+(i.avail_in-5),c=i.next_out,D=i.output,f=c-(a-i.avail_out),d=c+(i.avail_out-257),p=s.dmax,h=s.wsize,m=s.whave,y=s.wnext,v=s.window,g=s.hold,x=s.bits,b=s.lencode,w=s.distcode,E=(1<<s.lenbits)-1,C=(1<<s.distbits)-1;e:do{x<15&&(g+=A[u++]<<x,x+=8,g+=A[u++]<<x,x+=8),S=b[g&E];t:for(;;){if(g>>>=T=S>>>24,x-=T,(T=S>>>16&255)===0)D[c++]=65535&S;else{if(!(16&T)){if(!(64&T)){S=b[(65535&S)+(g&(1<<T)-1)];continue t}if(32&T){s.mode=12;break e}i.msg="invalid literal/length code",s.mode=30;break e}k=65535&S,(T&=15)&&(x<T&&(g+=A[u++]<<x,x+=8),k+=g&(1<<T)-1,g>>>=T,x-=T),x<15&&(g+=A[u++]<<x,x+=8,g+=A[u++]<<x,x+=8),S=w[g&C];r:for(;;){if(g>>>=T=S>>>24,x-=T,!(16&(T=S>>>16&255))){if(!(64&T)){S=w[(65535&S)+(g&(1<<T)-1)];continue r}i.msg="invalid distance code",s.mode=30;break e}if(P=65535&S,x<(T&=15)&&(g+=A[u++]<<x,(x+=8)<T&&(g+=A[u++]<<x,x+=8)),p<(P+=g&(1<<T)-1)){i.msg="invalid distance too far back",s.mode=30;break e}if(g>>>=T,x-=T,(T=c-f)<P){if(m<(T=P-T)&&s.sane){i.msg="invalid distance too far back",s.mode=30;break e}if(F=v,(I=0)===y){if(I+=h-T,T<k){for(k-=T;D[c++]=v[I++],--T;);I=c-P,F=D}}else if(y<T){if(I+=h+y-T,(T-=y)<k){for(k-=T;D[c++]=v[I++],--T;);if(I=0,y<k){for(k-=T=y;D[c++]=v[I++],--T;);I=c-P,F=D}}}else if(I+=y-T,T<k){for(k-=T;D[c++]=v[I++],--T;);I=c-P,F=D}for(;2<k;)D[c++]=F[I++],D[c++]=F[I++],D[c++]=F[I++],k-=3;k&&(D[c++]=F[I++],1<k&&(D[c++]=F[I++]))}else{for(I=c-P;D[c++]=D[I++],D[c++]=D[I++],D[c++]=D[I++],2<(k-=3););k&&(D[c++]=D[I++],1<k&&(D[c++]=D[I++]))}break}}break}}while(u<l&&c<d);u-=k=x>>3,g&=(1<<(x-=k<<3))-1,i.next_in=u,i.next_out=c,i.avail_in=u<l?l-u+5:5-(u-l),i.avail_out=c<d?d-c+257:257-(c-d),s.hold=g,s.bits=x}},{}],49:[function(t,n,o){var i=t("../utils/common"),a=t("./adler32"),s=t("./crc32"),u=t("./inffast"),l=t("./inftrees"),c=1,f=2,d=0,p=-2,h=1,m=852,y=592;function v(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(I){var F;return I&&I.state?(F=I.state,I.total_in=I.total_out=F.total=0,I.msg="",F.wrap&&(I.adler=1&F.wrap),F.mode=h,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new i.Buf32(m),F.distcode=F.distdyn=new i.Buf32(y),F.sane=1,F.back=-1,d):p}function b(I){var F;return I&&I.state?((F=I.state).wsize=0,F.whave=0,F.wnext=0,x(I)):p}function w(I,F){var A,D;return I&&I.state?(D=I.state,F<0?(A=0,F=-F):(A=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?p:(D.window!==null&&D.wbits!==F&&(D.window=null),D.wrap=A,D.wbits=F,b(I))):p}function E(I,F){var A,D;return I?(D=new g,(I.state=D).window=null,(A=w(I,F))!==d&&(I.state=null),A):p}var C,S,T=!0;function k(I){if(T){var F;for(C=new i.Buf32(512),S=new i.Buf32(32),F=0;F<144;)I.lens[F++]=8;for(;F<256;)I.lens[F++]=9;for(;F<280;)I.lens[F++]=7;for(;F<288;)I.lens[F++]=8;for(l(c,I.lens,0,288,C,0,I.work,{bits:9}),F=0;F<32;)I.lens[F++]=5;l(f,I.lens,0,32,S,0,I.work,{bits:5}),T=!1}I.lencode=C,I.lenbits=9,I.distcode=S,I.distbits=5}function P(I,F,A,D){var $,B=I.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new i.Buf8(B.wsize)),D>=B.wsize?(i.arraySet(B.window,F,A-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(D<($=B.wsize-B.wnext)&&($=D),i.arraySet(B.window,F,A-D,$,B.wnext),(D-=$)?(i.arraySet(B.window,F,A-D,D,0),B.wnext=D,B.whave=B.wsize):(B.wnext+=$,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=$))),0}o.inflateReset=b,o.inflateReset2=w,o.inflateResetKeep=x,o.inflateInit=function(I){return E(I,15)},o.inflateInit2=E,o.inflate=function(I,F){var A,D,$,B,W,L,z,U,Y,q,V,H,Z,ue,oe,ee,ne,pe,J,se,j,ce,re,Q,G=0,X=new i.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return p;(A=I.state).mode===12&&(A.mode=13),W=I.next_out,$=I.output,z=I.avail_out,B=I.next_in,D=I.input,L=I.avail_in,U=A.hold,Y=A.bits,q=L,V=z,ce=d;e:for(;;)switch(A.mode){case h:if(A.wrap===0){A.mode=13;break}for(;Y<16;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(2&A.wrap&&U===35615){X[A.check=0]=255&U,X[1]=U>>>8&255,A.check=s(A.check,X,2,0),Y=U=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&U)<<8)+(U>>8))%31){I.msg="incorrect header check",A.mode=30;break}if((15&U)!=8){I.msg="unknown compression method",A.mode=30;break}if(Y-=4,j=8+(15&(U>>>=4)),A.wbits===0)A.wbits=j;else if(j>A.wbits){I.msg="invalid window size",A.mode=30;break}A.dmax=1<<j,I.adler=A.check=1,A.mode=512&U?10:12,Y=U=0;break;case 2:for(;Y<16;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(A.flags=U,(255&A.flags)!=8){I.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){I.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=U>>8&1),512&A.flags&&(X[0]=255&U,X[1]=U>>>8&255,A.check=s(A.check,X,2,0)),Y=U=0,A.mode=3;case 3:for(;Y<32;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.head&&(A.head.time=U),512&A.flags&&(X[0]=255&U,X[1]=U>>>8&255,X[2]=U>>>16&255,X[3]=U>>>24&255,A.check=s(A.check,X,4,0)),Y=U=0,A.mode=4;case 4:for(;Y<16;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.head&&(A.head.xflags=255&U,A.head.os=U>>8),512&A.flags&&(X[0]=255&U,X[1]=U>>>8&255,A.check=s(A.check,X,2,0)),Y=U=0,A.mode=5;case 5:if(1024&A.flags){for(;Y<16;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.length=U,A.head&&(A.head.extra_len=U),512&A.flags&&(X[0]=255&U,X[1]=U>>>8&255,A.check=s(A.check,X,2,0)),Y=U=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(L<(H=A.length)&&(H=L),H&&(A.head&&(j=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),i.arraySet(A.head.extra,D,B,H,j)),512&A.flags&&(A.check=s(A.check,D,H,B)),L-=H,B+=H,A.length-=H),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(L===0)break e;for(H=0;j=D[B+H++],A.head&&j&&A.length<65536&&(A.head.name+=String.fromCharCode(j)),j&&H<L;);if(512&A.flags&&(A.check=s(A.check,D,H,B)),L-=H,B+=H,j)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(L===0)break e;for(H=0;j=D[B+H++],A.head&&j&&A.length<65536&&(A.head.comment+=String.fromCharCode(j)),j&&H<L;);if(512&A.flags&&(A.check=s(A.check,D,H,B)),L-=H,B+=H,j)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;Y<16;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(U!==(65535&A.check)){I.msg="header crc mismatch",A.mode=30;break}Y=U=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),I.adler=A.check=0,A.mode=12;break;case 10:for(;Y<32;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}I.adler=A.check=v(U),Y=U=0,A.mode=11;case 11:if(A.havedict===0)return I.next_out=W,I.avail_out=z,I.next_in=B,I.avail_in=L,A.hold=U,A.bits=Y,2;I.adler=A.check=1,A.mode=12;case 12:if(F===5||F===6)break e;case 13:if(A.last){U>>>=7&Y,Y-=7&Y,A.mode=27;break}for(;Y<3;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}switch(A.last=1&U,Y-=1,3&(U>>>=1)){case 0:A.mode=14;break;case 1:if(k(A),A.mode=20,F!==6)break;U>>>=2,Y-=2;break e;case 2:A.mode=17;break;case 3:I.msg="invalid block type",A.mode=30}U>>>=2,Y-=2;break;case 14:for(U>>>=7&Y,Y-=7&Y;Y<32;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if((65535&U)!=(U>>>16^65535)){I.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&U,Y=U=0,A.mode=15,F===6)break e;case 15:A.mode=16;case 16:if(H=A.length){if(L<H&&(H=L),z<H&&(H=z),H===0)break e;i.arraySet($,D,B,H,W),L-=H,B+=H,z-=H,W+=H,A.length-=H;break}A.mode=12;break;case 17:for(;Y<14;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(A.nlen=257+(31&U),U>>>=5,Y-=5,A.ndist=1+(31&U),U>>>=5,Y-=5,A.ncode=4+(15&U),U>>>=4,Y-=4,286<A.nlen||30<A.ndist){I.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;Y<3;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.lens[te[A.have++]]=7&U,U>>>=3,Y-=3}for(;A.have<19;)A.lens[te[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,re={bits:A.lenbits},ce=l(0,A.lens,0,19,A.lencode,0,A.work,re),A.lenbits=re.bits,ce){I.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;ee=(G=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,ne=65535&G,!((oe=G>>>24)<=Y);){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(ne<16)U>>>=oe,Y-=oe,A.lens[A.have++]=ne;else{if(ne===16){for(Q=oe+2;Y<Q;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(U>>>=oe,Y-=oe,A.have===0){I.msg="invalid bit length repeat",A.mode=30;break}j=A.lens[A.have-1],H=3+(3&U),U>>>=2,Y-=2}else if(ne===17){for(Q=oe+3;Y<Q;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}Y-=oe,j=0,H=3+(7&(U>>>=oe)),U>>>=3,Y-=3}else{for(Q=oe+7;Y<Q;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}Y-=oe,j=0,H=11+(127&(U>>>=oe)),U>>>=7,Y-=7}if(A.have+H>A.nlen+A.ndist){I.msg="invalid bit length repeat",A.mode=30;break}for(;H--;)A.lens[A.have++]=j}}if(A.mode===30)break;if(A.lens[256]===0){I.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,re={bits:A.lenbits},ce=l(c,A.lens,0,A.nlen,A.lencode,0,A.work,re),A.lenbits=re.bits,ce){I.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,re={bits:A.distbits},ce=l(f,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,re),A.distbits=re.bits,ce){I.msg="invalid distances set",A.mode=30;break}if(A.mode=20,F===6)break e;case 20:A.mode=21;case 21:if(6<=L&&258<=z){I.next_out=W,I.avail_out=z,I.next_in=B,I.avail_in=L,A.hold=U,A.bits=Y,u(I,V),W=I.next_out,$=I.output,z=I.avail_out,B=I.next_in,D=I.input,L=I.avail_in,U=A.hold,Y=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;ee=(G=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,ne=65535&G,!((oe=G>>>24)<=Y);){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(ee&&!(240&ee)){for(pe=oe,J=ee,se=ne;ee=(G=A.lencode[se+((U&(1<<pe+J)-1)>>pe)])>>>16&255,ne=65535&G,!(pe+(oe=G>>>24)<=Y);){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}U>>>=pe,Y-=pe,A.back+=pe}if(U>>>=oe,Y-=oe,A.back+=oe,A.length=ne,ee===0){A.mode=26;break}if(32&ee){A.back=-1,A.mode=12;break}if(64&ee){I.msg="invalid literal/length code",A.mode=30;break}A.extra=15&ee,A.mode=22;case 22:if(A.extra){for(Q=A.extra;Y<Q;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.length+=U&(1<<A.extra)-1,U>>>=A.extra,Y-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;ee=(G=A.distcode[U&(1<<A.distbits)-1])>>>16&255,ne=65535&G,!((oe=G>>>24)<=Y);){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(!(240&ee)){for(pe=oe,J=ee,se=ne;ee=(G=A.distcode[se+((U&(1<<pe+J)-1)>>pe)])>>>16&255,ne=65535&G,!(pe+(oe=G>>>24)<=Y);){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}U>>>=pe,Y-=pe,A.back+=pe}if(U>>>=oe,Y-=oe,A.back+=oe,64&ee){I.msg="invalid distance code",A.mode=30;break}A.offset=ne,A.extra=15&ee,A.mode=24;case 24:if(A.extra){for(Q=A.extra;Y<Q;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}A.offset+=U&(1<<A.extra)-1,U>>>=A.extra,Y-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){I.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(z===0)break e;if(H=V-z,A.offset>H){if((H=A.offset-H)>A.whave&&A.sane){I.msg="invalid distance too far back",A.mode=30;break}Z=H>A.wnext?(H-=A.wnext,A.wsize-H):A.wnext-H,H>A.length&&(H=A.length),ue=A.window}else ue=$,Z=W-A.offset,H=A.length;for(z<H&&(H=z),z-=H,A.length-=H;$[W++]=ue[Z++],--H;);A.length===0&&(A.mode=21);break;case 26:if(z===0)break e;$[W++]=A.length,z--,A.mode=21;break;case 27:if(A.wrap){for(;Y<32;){if(L===0)break e;L--,U|=D[B++]<<Y,Y+=8}if(V-=z,I.total_out+=V,A.total+=V,V&&(I.adler=A.check=A.flags?s(A.check,$,V,W-V):a(A.check,$,V,W-V)),V=z,(A.flags?U:v(U))!==A.check){I.msg="incorrect data check",A.mode=30;break}Y=U=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;Y<32;){if(L===0)break e;L--,U+=D[B++]<<Y,Y+=8}if(U!==(4294967295&A.total)){I.msg="incorrect length check",A.mode=30;break}Y=U=0}A.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return p}return I.next_out=W,I.avail_out=z,I.next_in=B,I.avail_in=L,A.hold=U,A.bits=Y,(A.wsize||V!==I.avail_out&&A.mode<30&&(A.mode<27||F!==4))&&P(I,I.output,I.next_out,V-I.avail_out)?(A.mode=31,-4):(q-=I.avail_in,V-=I.avail_out,I.total_in+=q,I.total_out+=V,A.total+=V,A.wrap&&V&&(I.adler=A.check=A.flags?s(A.check,$,V,I.next_out-V):a(A.check,$,V,I.next_out-V)),I.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(q==0&&V===0||F===4)&&ce===d&&(ce=-5),ce)},o.inflateEnd=function(I){if(!I||!I.state)return p;var F=I.state;return F.window&&(F.window=null),I.state=null,d},o.inflateGetHeader=function(I,F){var A;return I&&I.state&&2&(A=I.state).wrap?((A.head=F).done=!1,d):p},o.inflateSetDictionary=function(I,F){var A,D=F.length;return I&&I.state?(A=I.state).wrap!==0&&A.mode!==11?p:A.mode===11&&a(1,F,D,0)!==A.check?-3:P(I,F,D,D)?(A.mode=31,-4):(A.havedict=1,d):p},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,o){var i=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(c,f,d,p,h,m,y,v){var g,x,b,w,E,C,S,T,k,P=v.bits,I=0,F=0,A=0,D=0,$=0,B=0,W=0,L=0,z=0,U=0,Y=null,q=0,V=new i.Buf16(16),H=new i.Buf16(16),Z=null,ue=0;for(I=0;I<=15;I++)V[I]=0;for(F=0;F<p;F++)V[f[d+F]]++;for($=P,D=15;1<=D&&V[D]===0;D--);if(D<$&&($=D),D===0)return h[m++]=20971520,h[m++]=20971520,v.bits=1,0;for(A=1;A<D&&V[A]===0;A++);for($<A&&($=A),I=L=1;I<=15;I++)if(L<<=1,(L-=V[I])<0)return-1;if(0<L&&(c===0||D!==1))return-1;for(H[1]=0,I=1;I<15;I++)H[I+1]=H[I]+V[I];for(F=0;F<p;F++)f[d+F]!==0&&(y[H[f[d+F]]++]=F);if(C=c===0?(Y=Z=y,19):c===1?(Y=a,q-=257,Z=s,ue-=257,256):(Y=u,Z=l,-1),I=A,E=m,W=F=U=0,b=-1,w=(z=1<<(B=$))-1,c===1&&852<z||c===2&&592<z)return 1;for(;;){for(S=I-W,k=y[F]<C?(T=0,y[F]):y[F]>C?(T=Z[ue+y[F]],Y[q+y[F]]):(T=96,0),g=1<<I-W,A=x=1<<B;h[E+(U>>W)+(x-=g)]=S<<24|T<<16|k|0,x!==0;);for(g=1<<I-1;U&g;)g>>=1;if(g!==0?(U&=g-1,U+=g):U=0,F++,--V[I]==0){if(I===D)break;I=f[d+y[F]]}if($<I&&(U&w)!==b){for(W===0&&(W=$),E+=A,L=1<<(B=I-W);B+W<D&&!((L-=V[B+W])<=0);)B++,L<<=1;if(z+=1<<B,c===1&&852<z||c===2&&592<z)return 1;h[b=U&w]=$<<24|B<<16|E-m|0}}return U!==0&&(h[E+U]=I-W<<24|64<<16|0),v.bits=$,0}},{"../utils/common":41}],51:[function(t,n,o){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,o){var i=t("../utils/common"),a=0,s=1;function u(G){for(var X=G.length;0<=--X;)G[X]=0}var l=0,c=29,f=256,d=f+1+c,p=30,h=19,m=2*d+1,y=15,v=16,g=7,x=256,b=16,w=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(d+2));u(P);var I=new Array(2*p);u(I);var F=new Array(512);u(F);var A=new Array(256);u(A);var D=new Array(c);u(D);var $,B,W,L=new Array(p);function z(G,X,te,de,ae){this.static_tree=G,this.extra_bits=X,this.extra_base=te,this.elems=de,this.max_length=ae,this.has_stree=G&&G.length}function U(G,X){this.dyn_tree=G,this.max_code=0,this.stat_desc=X}function Y(G){return G<256?F[G]:F[256+(G>>>7)]}function q(G,X){G.pending_buf[G.pending++]=255&X,G.pending_buf[G.pending++]=X>>>8&255}function V(G,X,te){G.bi_valid>v-te?(G.bi_buf|=X<<G.bi_valid&65535,q(G,G.bi_buf),G.bi_buf=X>>v-G.bi_valid,G.bi_valid+=te-v):(G.bi_buf|=X<<G.bi_valid&65535,G.bi_valid+=te)}function H(G,X,te){V(G,te[2*X],te[2*X+1])}function Z(G,X){for(var te=0;te|=1&G,G>>>=1,te<<=1,0<--X;);return te>>>1}function ue(G,X,te){var de,ae,ye=new Array(y+1),ie=0;for(de=1;de<=y;de++)ye[de]=ie=ie+te[de-1]<<1;for(ae=0;ae<=X;ae++){var he=G[2*ae+1];he!==0&&(G[2*ae]=Z(ye[he]++,he))}}function oe(G){var X;for(X=0;X<d;X++)G.dyn_ltree[2*X]=0;for(X=0;X<p;X++)G.dyn_dtree[2*X]=0;for(X=0;X<h;X++)G.bl_tree[2*X]=0;G.dyn_ltree[2*x]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function ee(G){8<G.bi_valid?q(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function ne(G,X,te,de){var ae=2*X,ye=2*te;return G[ae]<G[ye]||G[ae]===G[ye]&&de[X]<=de[te]}function pe(G,X,te){for(var de=G.heap[te],ae=te<<1;ae<=G.heap_len&&(ae<G.heap_len&&ne(X,G.heap[ae+1],G.heap[ae],G.depth)&&ae++,!ne(X,de,G.heap[ae],G.depth));)G.heap[te]=G.heap[ae],te=ae,ae<<=1;G.heap[te]=de}function J(G,X,te){var de,ae,ye,ie,he=0;if(G.last_lit!==0)for(;de=G.pending_buf[G.d_buf+2*he]<<8|G.pending_buf[G.d_buf+2*he+1],ae=G.pending_buf[G.l_buf+he],he++,de===0?H(G,ae,X):(H(G,(ye=A[ae])+f+1,X),(ie=C[ye])!==0&&V(G,ae-=D[ye],ie),H(G,ye=Y(--de),te),(ie=S[ye])!==0&&V(G,de-=L[ye],ie)),he<G.last_lit;);H(G,x,X)}function se(G,X){var te,de,ae,ye=X.dyn_tree,ie=X.stat_desc.static_tree,he=X.stat_desc.has_stree,_e=X.stat_desc.elems,Se=-1;for(G.heap_len=0,G.heap_max=m,te=0;te<_e;te++)ye[2*te]!==0?(G.heap[++G.heap_len]=Se=te,G.depth[te]=0):ye[2*te+1]=0;for(;G.heap_len<2;)ye[2*(ae=G.heap[++G.heap_len]=Se<2?++Se:0)]=1,G.depth[ae]=0,G.opt_len--,he&&(G.static_len-=ie[2*ae+1]);for(X.max_code=Se,te=G.heap_len>>1;1<=te;te--)pe(G,ye,te);for(ae=_e;te=G.heap[1],G.heap[1]=G.heap[G.heap_len--],pe(G,ye,1),de=G.heap[1],G.heap[--G.heap_max]=te,G.heap[--G.heap_max]=de,ye[2*ae]=ye[2*te]+ye[2*de],G.depth[ae]=(G.depth[te]>=G.depth[de]?G.depth[te]:G.depth[de])+1,ye[2*te+1]=ye[2*de+1]=ae,G.heap[1]=ae++,pe(G,ye,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(xe,De){var $e,Be,we,Me,Le,Fe,He=De.dyn_tree,gt=De.max_code,_t=De.stat_desc.static_tree,At=De.stat_desc.has_stree,or=De.stat_desc.extra_bits,Cr=De.stat_desc.extra_base,vr=De.stat_desc.max_length,br=0;for(Me=0;Me<=y;Me++)xe.bl_count[Me]=0;for(He[2*xe.heap[xe.heap_max]+1]=0,$e=xe.heap_max+1;$e<m;$e++)vr<(Me=He[2*He[2*(Be=xe.heap[$e])+1]+1]+1)&&(Me=vr,br++),He[2*Be+1]=Me,gt<Be||(xe.bl_count[Me]++,Le=0,Cr<=Be&&(Le=or[Be-Cr]),Fe=He[2*Be],xe.opt_len+=Fe*(Me+Le),At&&(xe.static_len+=Fe*(_t[2*Be+1]+Le)));if(br!==0){do{for(Me=vr-1;xe.bl_count[Me]===0;)Me--;xe.bl_count[Me]--,xe.bl_count[Me+1]+=2,xe.bl_count[vr]--,br-=2}while(0<br);for(Me=vr;Me!==0;Me--)for(Be=xe.bl_count[Me];Be!==0;)gt<(we=xe.heap[--$e])||(He[2*we+1]!==Me&&(xe.opt_len+=(Me-He[2*we+1])*He[2*we],He[2*we+1]=Me),Be--)}}(G,X),ue(ye,Se,G.bl_count)}function j(G,X,te){var de,ae,ye=-1,ie=X[1],he=0,_e=7,Se=4;for(ie===0&&(_e=138,Se=3),X[2*(te+1)+1]=65535,de=0;de<=te;de++)ae=ie,ie=X[2*(de+1)+1],++he<_e&&ae===ie||(he<Se?G.bl_tree[2*ae]+=he:ae!==0?(ae!==ye&&G.bl_tree[2*ae]++,G.bl_tree[2*b]++):he<=10?G.bl_tree[2*w]++:G.bl_tree[2*E]++,ye=ae,Se=(he=0)===ie?(_e=138,3):ae===ie?(_e=6,3):(_e=7,4))}function ce(G,X,te){var de,ae,ye=-1,ie=X[1],he=0,_e=7,Se=4;for(ie===0&&(_e=138,Se=3),de=0;de<=te;de++)if(ae=ie,ie=X[2*(de+1)+1],!(++he<_e&&ae===ie)){if(he<Se)for(;H(G,ae,G.bl_tree),--he!=0;);else ae!==0?(ae!==ye&&(H(G,ae,G.bl_tree),he--),H(G,b,G.bl_tree),V(G,he-3,2)):he<=10?(H(G,w,G.bl_tree),V(G,he-3,3)):(H(G,E,G.bl_tree),V(G,he-11,7));ye=ae,Se=(he=0)===ie?(_e=138,3):ae===ie?(_e=6,3):(_e=7,4)}}u(L);var re=!1;function Q(G,X,te,de){V(G,(l<<1)+(de?1:0),3),function(ae,ye,ie,he){ee(ae),q(ae,ie),q(ae,~ie),i.arraySet(ae.pending_buf,ae.window,ye,ie,ae.pending),ae.pending+=ie}(G,X,te)}o._tr_init=function(G){re||(function(){var X,te,de,ae,ye,ie=new Array(y+1);for(ae=de=0;ae<c-1;ae++)for(D[ae]=de,X=0;X<1<<C[ae];X++)A[de++]=ae;for(A[de-1]=ae,ae=ye=0;ae<16;ae++)for(L[ae]=ye,X=0;X<1<<S[ae];X++)F[ye++]=ae;for(ye>>=7;ae<p;ae++)for(L[ae]=ye<<7,X=0;X<1<<S[ae]-7;X++)F[256+ye++]=ae;for(te=0;te<=y;te++)ie[te]=0;for(X=0;X<=143;)P[2*X+1]=8,X++,ie[8]++;for(;X<=255;)P[2*X+1]=9,X++,ie[9]++;for(;X<=279;)P[2*X+1]=7,X++,ie[7]++;for(;X<=287;)P[2*X+1]=8,X++,ie[8]++;for(ue(P,d+1,ie),X=0;X<p;X++)I[2*X+1]=5,I[2*X]=Z(X,5);$=new z(P,C,f+1,d,y),B=new z(I,S,0,p,y),W=new z(new Array(0),T,0,h,g)}(),re=!0),G.l_desc=new U(G.dyn_ltree,$),G.d_desc=new U(G.dyn_dtree,B),G.bl_desc=new U(G.bl_tree,W),G.bi_buf=0,G.bi_valid=0,oe(G)},o._tr_stored_block=Q,o._tr_flush_block=function(G,X,te,de){var ae,ye,ie=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(he){var _e,Se=4093624447;for(_e=0;_e<=31;_e++,Se>>>=1)if(1&Se&&he.dyn_ltree[2*_e]!==0)return a;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(_e=32;_e<f;_e++)if(he.dyn_ltree[2*_e]!==0)return s;return a}(G)),se(G,G.l_desc),se(G,G.d_desc),ie=function(he){var _e;for(j(he,he.dyn_ltree,he.l_desc.max_code),j(he,he.dyn_dtree,he.d_desc.max_code),se(he,he.bl_desc),_e=h-1;3<=_e&&he.bl_tree[2*k[_e]+1]===0;_e--);return he.opt_len+=3*(_e+1)+5+5+4,_e}(G),ae=G.opt_len+3+7>>>3,(ye=G.static_len+3+7>>>3)<=ae&&(ae=ye)):ae=ye=te+5,te+4<=ae&&X!==-1?Q(G,X,te,de):G.strategy===4||ye===ae?(V(G,2+(de?1:0),3),J(G,P,I)):(V(G,4+(de?1:0),3),function(he,_e,Se,xe){var De;for(V(he,_e-257,5),V(he,Se-1,5),V(he,xe-4,4),De=0;De<xe;De++)V(he,he.bl_tree[2*k[De]+1],3);ce(he,he.dyn_ltree,_e-1),ce(he,he.dyn_dtree,Se-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,ie+1),J(G,G.dyn_ltree,G.dyn_dtree)),oe(G),de&&ee(G)},o._tr_tally=function(G,X,te){return G.pending_buf[G.d_buf+2*G.last_lit]=X>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&X,G.pending_buf[G.l_buf+G.last_lit]=255&te,G.last_lit++,X===0?G.dyn_ltree[2*te]++:(G.matches++,X--,G.dyn_ltree[2*(A[te]+f+1)]++,G.dyn_dtree[2*Y(X)]++),G.last_lit===G.lit_bufsize-1},o._tr_align=function(G){V(G,2,3),H(G,x,P),function(X){X.bi_valid===16?(q(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(t,n,o){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,o){(function(i){(function(a,s){if(!a.setImmediate){var u,l,c,f,d=1,p={},h=!1,m=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,u={}.toString.call(a.process)==="[object process]"?function(b){process.nextTick(function(){g(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,w=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=w,b}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(b){a.postMessage(f+b,"*")}):a.MessageChannel?((c=new MessageChannel).port1.onmessage=function(b){g(b.data)},function(b){c.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(l=m.documentElement,function(b){var w=m.createElement("script");w.onreadystatechange=function(){g(b),w.onreadystatechange=null,l.removeChild(w),w=null},l.appendChild(w)}):function(b){setTimeout(g,0,b)},y.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var w=new Array(arguments.length-1),E=0;E<w.length;E++)w[E]=arguments[E+1];var C={callback:b,args:w};return p[d]=C,u(d),d++},y.clearImmediate=v}function v(b){delete p[b]}function g(b){if(h)setTimeout(g,0,b);else{var w=p[b];if(w){h=!0;try{(function(E){var C=E.callback,S=E.args;switch(S.length){case 0:C();break;case 1:C(S[0]);break;case 2:C(S[0],S[1]);break;case 3:C(S[0],S[1],S[2]);break;default:C.apply(s,S)}})(w)}finally{v(b),h=!1}}}}function x(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(f)===0&&g(+b.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof wr<"u"?wr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(QK);var ULe=QK.exports;const qLe=rl(ULe),HLe=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),JK=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a=!1,bestFitLayout:s,showFieldLable:u})=>{var Z,ue,oe;const[l,c]=N.useState(r),[f,d]=N.useState(""),p=Sr(),{isMobile:h}=cu(),[m,y]=N.useState(!1),v=N.useRef(null),[g,x]=N.useState(null),[b,w]=N.useState(""),{responseObject:E,setResponseObject:C,setUploadedFiles:S,uploadedFiles:T,lyikForm:k,setModalOpen:P,setErrorMessage:I,setTrustedApiFailure:F}=N.useContext(tr),A=(Z=e.field_notation)==null?void 0:Z.replace("API.",""),D=MC(A,n,t),{getDocument:$,loading:B}=AS(),W=(ue=e.field_notation)==null?void 0:ue.includes("API."),L=N.useContext(Ti);N.useEffect(()=>{const ee=Ze(E,n);if(ee!=null&&ee.doc_name?(c(ee.doc_name),x(ee)):c(ee),ee&&(T!=null&&T.length)){const ne=T.find(pe=>pe.filename===ee);if(ne!=null&&ne.file&&ne.file.type.startsWith("image/")){const pe=URL.createObjectURL(ne.file);d(pe)}}},[n,E,T]);const z=async()=>{if(g&&(k!=null&&k.uri))try{const ee=await $(k.uri,g==null?void 0:g.doc_id);if(console.log("File Blob:",ee),console.log("file Name",l),l.endsWith(".zip")){const pe=document.createElement("a");pe.href=ee,pe.download=l,document.body.appendChild(pe),pe.click(),document.body.removeChild(pe),URL.revokeObjectURL(ee)}else d(ee)}catch(ee){console.error("Error retrieving document:",ee),I("Cannot Fetch Document: contact the administrator"),P(!0)}},U=async ee=>{if(a)return;w("");const ne=Array.from(ee.target.files);if(ne.length)if(ne.length===1){const pe=ne[0],se=`${((T==null?void 0:T.length)??0)+1}${Math.floor(Math.random()*20)+1}_${pe.name}`;c(se),x(null);const j=URL.createObjectURL(pe);d(pe.type.startsWith("image/")?j:"");const ce=new File([pe],se,{type:pe.type});S(re=>[...re,{file:ce,filename:se}]),H(ce,se)}else{c("documents_bundle.zip"),x(null),d("");const pe=new qLe,J=(T==null?void 0:T.length)??0;ne.forEach((G,X)=>{const te=`${J+X+1}_${G.name}`;pe.file(te,G)});const se=await pe.generateAsync({type:"blob"}),j=String(Math.floor(Math.random()*1e3)).padStart(3,"0"),ce=e.derived_field_name||"documents_bundle",re=`${j}_${ce}.zip`,Q=new File([se],re,{type:"application/zip"});S(G=>[...G,{file:Q,filename:re}]),H(Q,re)}},Y=()=>{if(a)return;const ee=l||E[n];if(ee&&T&&S(ne=>ne.filter(pe=>pe.filename!==ee)),f&&(URL.revokeObjectURL(f),d("")),c(""),x(null),w(""),e.derived_field_name&&n){const ne=dt(E,n,null);sessionStorage.setItem("formResponse",JSON.stringify(ne)),C(ne)}e.derived_field_name==="cancelled_cheque_image"&&L()},q=()=>{if(v.current){const ee=v.current.getScreenshot();fetch(ee).then(ne=>ne.blob()).then(ne=>{const pe=new File([ne],"captured_photo.jpg",{type:"image/jpeg"});V(pe),y(!1)})}},V=async ee=>{const pe=`doc_${((T==null?void 0:T.length)??0)+1}_${ee.name}`;c(pe);const J=URL.createObjectURL(ee);if(d(J),S(se=>[...se,{filename:pe,file:ee}]),e.derived_field_name&&n){let se=dt(E,n,pe);if(sessionStorage.setItem("formResponse",JSON.stringify(se)),C(se),W&&ee){o("Fetching Data"),i(!0);try{const j={[e==null?void 0:e.derived_field_name]:ee.name},ce=await D.uploadTrusted(j,ee)}catch(j){console.error("Error processing PAN OCR:",j),o(""),i(!1)}finally{o(""),i(!1)}}}},H=async(ee,ne)=>{if(e.derived_field_name&&n){let pe=dt(E,n,ne);if(sessionStorage.setItem("formResponse",JSON.stringify(pe)),C(pe),W&&ee){o("Fetching Data"),i(!0);try{const J={[e==null?void 0:e.derived_field_name]:ne},se=await D.uploadTrusted(J,ee);(se==null?void 0:se.status)==="failure"?F(j=>({...j,[n]:se==null?void 0:se.message})):F(j=>{if(typeof j=="object"&&j[n]){const ce={...j};return delete ce[n],ce}return j})}catch(J){console.error("Error processing PAN OCR:",J)}finally{o(""),i(!1)}}}};return O.jsxs(Re,{sx:{my:2,minWidth:s?350:150,maxWidth:350,mx:s?"":"auto"},children:[O.jsxs(xa,{fullWidth:!0,children:[u&&O.jsxs(HLe,{sx:{mb:1,ml:2,fontWeight:"bold"},children:[e.title,e.mandatory&&O.jsx("span",{className:"required-star",children:"*"})]}),b&&O.jsx(f0,{severity:"error",sx:{mb:2},children:b}),l?O.jsxs(Re,{sx:{border:"1px solid",borderColor:"grey.200",borderRadius:2,p:2,backgroundColor:p.palette.primary.white},children:[O.jsx(Md,{in:!!f,timeout:1e3,children:f&&l.endsWith(".zip")?O.jsxs(it,{sx:{mb:1,fontStyle:"italic",color:"grey.700"},children:["ZIP file ready for upload: ",l]}):O.jsx(Re,{sx:{mb:2},children:O.jsx(Re,{component:"img",src:f,alt:"Preview",sx:{width:"100%",height:"300px",borderRadius:1,objectFit:"contain",backgroundColor:"grey.100"}})})}),O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[f?O.jsx(HI,{sx:{color:"grey.600",fontSize:20}}):O.jsx(k2,{sx:{color:"grey.600",fontSize:20}}),g!=null&&g.doc_id&&!f?O.jsx(Rv,{component:"button",onClick:z,disabled:B,sx:{color:"secondary.main",fontWeight:500,textDecoration:"none",cursor:"pointer",border:"none",background:"none",padding:0,font:"inherit",display:"inline",backgroundColor:"transparent","&:hover":{textDecoration:"underline"}},children:B?"Opening...":l}):O.jsx(it,{sx:{color:"secondary.main",fontWeight:500},children:l})]}),O.jsx(ES,{onClick:Y,sx:{color:a?"grey.400":"grey.600",cursor:a?"default":"pointer","&:hover":{color:a?"grey.400":"error.main"}}})]})]}):O.jsxs(Re,{sx:{border:"2px dashed",borderColor:"grey.300",borderRadius:2,p:2,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:p.palette.primary.white,gap:1},children:[O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(vV,{sx:{color:"grey.600",fontSize:24}}),O.jsx(it,{sx:{color:"text.secondary",fontSize:12},children:e.description||"Upload Document(s)"})]}),O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:1},children:[O.jsxs(Zt,{variant:"contained",component:"label",disabled:a,sx:{minWidth:h?140:100,borderRadius:"20px",px:2},children:[O.jsx(it,{fontSize:14,fontWeight:500,children:"Upload"}),O.jsx("input",{type:"file",hidden:!0,multiple:!0,onChange:U,accept:((oe=e==null?void 0:e.meta)==null?void 0:oe.file_type)||"",disabled:a})]}),h&&O.jsx(Zt,{variant:"contained",startIcon:O.jsx(WI,{}),onClick:()=>y(!0),disabled:a,component:"label",sx:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:140,textTransform:"none",bgcolor:"primary.main",borderRadius:10,"&.Mui-disabled":{backgroundColor:"primary.main",color:p.palette.primary.white,opacity:.7}},children:O.jsx(it,{fontSize:14,fontWeight:500,children:"Take Photo"})})]})]})]}),O.jsx(kv,{open:m,onClose:()=>y(!1),children:O.jsxs(Re,{sx:{width:"80%",height:"auto",margin:"10% auto",background:"primary.white",padding:2,borderRadius:2,textAlign:"center"},children:[O.jsx(it,{variant:"h6",sx:{mb:2},children:"Capture Photo"}),O.jsx(yC,{audio:!1,ref:v,screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment"},style:{width:"100%",borderRadius:5}}),O.jsx(Zt,{variant:"contained",sx:{mt:2,borderRadius:10},onClick:q,children:"Capture"})]})})]})};JK.propTypes={field:fe.shape({derived_field_name:fe.string.isRequired,title:fe.string.isRequired,description:fe.string,mandatory:fe.bool,field_notation:fe.string,meta:fe.shape({accept:fe.string,file_type:fe.string})}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func,isFieldsDisabled:fe.bool,bestFitLayout:fe.bool,showFieldLable:fe.bool};const VLe=e=>{if(!e)return!1;const r=new DOMParser().parseFromString(e,"text/html");return Array.from(r.body.childNodes).some(t=>t.nodeType===1)},GLe=({defaultValueExpr:e,responseObject:r,fieldPath:t,infoPaneDerivedFieldName:n})=>{if(!e)return null;if(e.startsWith("$.")||e.startsWith("@.")){const o=e.startsWith("@."),i=e.slice(2);let a=r;if(o&&n){const s=t.split(n)[0]+n;a=Ze(r,s)}return Ze(a,i)}return e},ZK=({field:e,defaultValue:r="",infoPaneDerivedFieldName:t="",fieldPath:n})=>{const o=N.useRef(!1),[i,a]=N.useState(""),{responseObject:s,setResponseObject:u}=N.useContext(tr),l=f=>{if(!f)return!1;a(f),o.current=!0;const d=dt(s,n,f);return u(d),localStorage.setItem("formResponse",JSON.stringify(d)),!0};N.useEffect(()=>{if(o.current)return;const f=Ze(s,n);if(l(f))return;const d=GLe({defaultValueExpr:e==null?void 0:e.default_value,responseObject:s,fieldPath:n,infoPaneDerivedFieldName:t});l(d)},[e==null?void 0:e.default_value,n,s,u,t]);const c=i||r;return c?VLe(c)?O.jsx("div",{dangerouslySetInnerHTML:{__html:c}}):O.jsx(it,{fontWeight:"medium",textAlign:"center",children:c}):null};ZK.propTypes={field:fe.shape({title:fe.string,description:fe.string,default_value:fe.string}).isRequired,defaultValue:fe.string,infoPaneDerivedFieldName:fe.string,fieldPath:fe.string.isRequired};const YLe=e=>{if(!e)return!1;const r=new DOMParser().parseFromString(e,"text/html");return Array.from(r.body.childNodes).some(t=>t.nodeType===1)},KLe=e=>{const n=new DOMParser().parseFromString(e,"text/html").querySelectorAll("script"),o=[];return n.forEach(i=>{o.push(i.textContent)}),o};function mv({field:e,infoPaneDerivedFieldName:r,parentResponsePath:t,setLoadingModalMessage:n,setLoadingModalStatus:o,isFieldsDisabled:i,currentSection:a,updateHasChanges:s,bestFitLayout:u=!1,showFieldLabel:l=!0}){var w,E,C,S,T;const{responseObject:c,aadhaar:f,trustedApiFailure:d}=N.useContext(tr),[p,h]=N.useState(),[m,y]=N.useState(0),v=t+"."+e.derived_field_name;N.useEffect(()=>{const k=Ze(c,v);h(k)},[c,v]);const g={radio:(e==null?void 0:e.display_type)==="radiobutton",dropdown:(e==null?void 0:e.display_type)==="dropdown",textbox:(e==null?void 0:e.display_type)==="textbox"&&!((w=e==null?void 0:e.meta)!=null&&w.otp)&&!((E=e==null?void 0:e.field_notation)!=null&&E.includes("OPERATIONS")),display:(e==null?void 0:e.display_type)==="display_field",otp:(e==null?void 0:e.display_type)==="textbox"&&((C=e==null?void 0:e.meta)==null?void 0:C.otp)===!0,checkbox:(e==null?void 0:e.display_type)==="checkbox",upload:(e==null?void 0:e.display_type)==="file_attachment"||(e==null?void 0:e.display_type)==="fileoption",date:(e==null?void 0:e.display_type)==="date"||(e==null?void 0:e.display_type)==="datebox",photo:(e==null?void 0:e.display_type)==="imgcapture",video:(e==null?void 0:e.display_type)==="vidcapture",textarea:(e==null?void 0:e.display_type)==="textbox.row-4"||(e==null?void 0:e.display_type)==="textbox.row-8",digilocker:(e==null?void 0:e.display_type)==="display_field"&&((S=e==null?void 0:e.field_notation)==null?void 0:S.includes("DIGILOCKER")),hidden_field:(e==null?void 0:e.display_type)==="hidden",operations_dropdown:(T=e==null?void 0:e.field_notation)==null?void 0:T.includes("OPERATIONS"),data_display:(e==null?void 0:e.display_type)==="data_display"},x=()=>{if(!(e!=null&&e.description))return null;var k=KLe(e.description),P=document.createElement("script");return P.innerHTML=k.length>0?k[0]:'function payu_payment() {console.log("payu_payment is clicked");}',document.head.appendChild(P),YLe(e.description)?O.jsx("div",{dangerouslySetInnerHTML:{__html:e.description},className:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl"}):O.jsx(it,{fontWeight:"bold",sx:{textAlign:"center"},children:e==null?void 0:e.description})},b={field:e,defaultValue:p,infoPaneDerivedFieldName:r,fieldPath:v,isFieldsDisabled:i,updateHasChanges:s,bestFitLayout:u,showFieldLabel:l};return O.jsxs(O.Fragment,{children:[d&&d[v]&&O.jsx(Re,{my:2,children:O.jsx(it,{color:"error.main",fontWeight:"medium",fontSize:12,textAlign:"center",children:d[v]})}),g.radio&&O.jsx(N9,{...b},m),g.dropdown&&O.jsx(M9,{...b},m),g.checkbox&&O.jsx(B9,{...b,initialValues:p||[]},m),g.textbox&&O.jsx(O.Fragment,{children:O.jsx(F9,{...b,parentResponsePath:t},m)}),g.display&&x(),g.otp&&O.jsx(L9,{field:e,infoPaneDerivedFieldName:r},m),g.date&&O.jsx(SG,{...b},m),g.upload&&O.jsx(EG,{...b,setLoadingModalMessage:n,setLoadingModalStatus:o},m),g.uploadMultiple&&O.jsx(JK,{...b,setLoadingModalMessage:n,setLoadingModalStatus:o},m),g.photo&&O.jsx(qK,{...b},m),g.video&&O.jsx(HK,{...b},m),g.textarea&&O.jsx(VK,{...b},m),g.digilocker&&O.jsx(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"400px",mx:"auto",mb:2,p:2},children:O.jsx(Re,{sx:{width:"100%"},children:O.jsx(GK,{section:a,responsePath:t,fieldPath:v,field_notation:e.field_notation,infoPaneDerivedFieldName:r})})}),g.hidden_field&&O.jsx(YK,{...b},m),g.operations_dropdown&&O.jsx(XK,{...b},m),g.data_display&&O.jsx(ZK,{...b},m)]})}mv.propTypes={field:fe.object.isRequired,infoPaneDerivedFieldName:fe.string,parentResponsePath:fe.string,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func,isFieldsDisabled:fe.bool,currentSection:fe.object,updateHasChanges:fe.func,spanFull:fe.bool,bestFitLayout:fe.bool,showFieldLabel:fe.bool};Ye(it)(({theme:e})=>({fontWeight:"bold",color:e.palette.secondary.main,fontSize:14.12}));fe.arrayOf(fe.shape({category:fe.string.isRequired,derived_field_name:fe.string.isRequired,description:fe.string.isRequired,display_type:fe.oneOf(["table","textbox","break","display_field"]).isRequired,field_name:fe.string.isRequired,field_notation:fe.string.isRequired,field_type:fe.number.isRequired,default_value:fe.any,fields:fe.array.isRequired,format:fe.string,input_type:fe.string,locale:fe.string.isRequired,mandatory:fe.bool.isRequired,options:fe.object.isRequired,sequence:fe.number.isRequired,title:fe.string.isRequired,type:fe.string,editable:fe.bool.isRequired,hidden:fe.bool.isRequired,meta:fe.shape({verify:fe.any,table:fe.shape({column:fe.string,span:fe.oneOf(["full","best_fit"])})}).isRequired})).isRequired,fe.string,fe.func.isRequired,fe.string.isRequired,fe.func.isRequired,fe.func.isRequired,fe.bool.isRequired,fe.func.isRequired;const vM=()=>{const e=localStorage.getItem("token"),{responseObject:r,setUploadedFiles:t}=N.useContext(tr);return{verifyData:async(o,i,a,s)=>{try{const u=new FormData,l=await jo();if(u.append("payload",JSON.stringify({[a]:i})),u.append("record",JSON.stringify(r)),s&&s[0]){const c=JSON.stringify(i);s[0].forEach(f=>{c!=null&&c.includes(f.filename)&&u.append("files",f==null?void 0:f.file,f==null?void 0:f.filename)})}if(l){const c=await fetch(`${l==null?void 0:l.api_path}/v1/verify?form_id=${o}`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:u});if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const f=await c.json(),{response:d,...p}=f;if(d&&r&&s&&s[0]){const h=new Set;for(const m in d){const y=d[m];if(typeof y=="object"&&y!==null&&Object.prototype.hasOwnProperty.call(y,"doc_id")&&Object.prototype.hasOwnProperty.call(i,m)){const v=i[m];typeof v=="string"&&h.add(v)}}if(h.size>0){const y=s[0].filter(v=>!h.has(v==null?void 0:v.filename));t(y)}}return{data:p,response:d||null}}}catch(u){throw console.error("Error in verify API:",u),u}}}};function XLe(e,r){const t=e.replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi," and ").replace(/\bOR\b/gi," or ").replace(/'/g,'"').replace(/\s+/g," ").trim();return Ju.compile(t)(r)}function IU(e){return e.includes("@.")?{expression:e.replace("@.",""),type:"infopane"}:e.includes("$.")?{expression:e.replace("$.",""),type:"response"}:{expression:e,type:"parent"}}function QLe(e,r,t,n,o){return e==="card"?t:e==="infopane"?r:e==="table_row"?n:o}function NU(e,r,t,n,o,i,a){if(!e)return!1;const s=Ze(r,t),u=Ze(r,n),l=o?Ze(r,o):null;if(i==="editable"){const c=e.editable;if(typeof c=="boolean")return!c;if(typeof c=="string"){const f=IU(c);let d,p;f&&f.type==="infopane"?(d=f.expression,p=s):f&&f.type==="response"?(d=f.expression,p=r):f&&f.type==="parent"?(d=f.expression,p=QLe(a,s,u,l,r)):(d=c,p=l||u||s||r);try{return!XLe(d,p)}catch(h){return console.error(`Error evaluating 'editable' rule "${d}":`,h),!0}}}else if(i==="hidden"){const c=e.hidden;if(typeof c=="boolean")return c;if(typeof c=="string"){const f=IU(c);let d,p;f&&f.type==="infopane"?(d=f.expression,p=s):(d=c,p=l||u||s||r);try{return Ju.compile(d)(p)}catch(h){return console.error(`Error evaluating 'hidden' rule "${d}":`,h),!1}}}return!1}const JLe=["full","best_fit"],ZLe=e=>{var n;const r=[];let t=null;return(n=e[0])==null||n.forEach(o=>{var i,a,s,u;o.display_type==="table"?(t&&r.push(t),t={title:o.title,columns:parseInt(((a=(i=o.meta)==null?void 0:i.table)==null?void 0:a.column)||"1",10),spanType:(u=(s=o.meta)==null?void 0:s.table)==null?void 0:u.span,max_columns:5,fields:[],tableField:o}):t&&o.display_type!=="break"?t.fields.push(o):t&&o.display_type==="break"&&(r.push(t),t=null)}),t&&r.push(t),r},eX=({data:e,infoPaneDerivedFieldName:r,shouldHideField:t,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a,updateHasChanges:s,handleFieldsDisabled:u})=>{const l=`${n}`,c=N.useMemo(()=>ZLe(e),[e]),{responseObject:f}=N.useContext(tr),d=tue(),p=l.split(r)[0]+r,h=(y,v,g,x)=>{const b={width:v==="best_fit"?"auto":`${100/x}%`,padding:"0px 8px",verticalAlign:"top"};return O.jsx("td",{style:b,children:y?O.jsx("div",{style:{display:t(y)?"none":"block"},children:O.jsx(mv,{field:y,field_notation:y.field_notation,infoPaneDerivedFieldName:r,parentResponsePath:l,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:u(y),updateHasChanges:s,bestFitLayout:v==="best_fit"})}):null},`cell-${g}`)},m=(y,v,g,x)=>{var E;const b=y.fields||[],w=parseInt(((E=y.meta)==null?void 0:E.child_elements)||"1",10);return O.jsx("div",{style:{marginBottom:"24px",width:"100%",overflowX:"auto"},children:O.jsxs("table",{style:{width:g==="best_fit"?"auto":"100%",tableLayout:g==="best_fit"?"auto":"fixed",borderCollapse:"collapse"},children:[O.jsx("thead",{children:O.jsx("tr",{children:b.map((C,S)=>(C==null?void 0:C.display_type)==="hidden"?null:O.jsx("th",{style:{textAlign:"center",padding:"8px",borderBottom:"1px solid #ddd",color:d.palette.text.brand,whiteSpace:"nowrap"},children:C.title},`thead-${S}`))})}),O.jsx("tbody",{children:Array.from({length:w}).map((C,S)=>O.jsx("tr",{children:b.map((T,k)=>(T==null?void 0:T.display_type)==="hidden"?null:O.jsx("td",{style:{padding:"8px",borderBottom:"1px solid #eee"},children:O.jsx(mv,{field:T,field_notation:T.field_notation,infoPaneDerivedFieldName:r,parentResponsePath:`${l}.${y==null?void 0:y.derived_field_name}[${S}]`,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a||x||NU(T,f,p,l,`${l}.${y==null?void 0:y.derived_field_name}[${S}]`,"editable","table_row"),updateHasChanges:s,bestFitLayout:g==="best_fit",showFieldLabel:!1})},`tcell-${k}`))},`trow-${S}`))})]})},`table-row-${v}`)};return O.jsx("div",{style:{width:"100%"},children:c==null?void 0:c.map((y,v)=>{var P;const{columns:g,spanType:x,fields:b,tableField:w,max_columns:E}=y,C=NU(w,a,f,p,l,null,"editable");if(((P=b==null?void 0:b[0])==null?void 0:P.display_type)==="table_row")return m(b[0],v,x,C);const S=E?Math.min(g,E):g,T=Math.ceil(b.length/S),k=`table-${v}`;return O.jsx("div",{style:{width:"100%",overflowX:"auto"},children:O.jsx("table",{style:{width:x==="best_fit"?"auto":"100%",tableLayout:x==="best_fit"?"auto":"fixed",borderCollapse:"collapse"},children:O.jsx("tbody",{children:Array.from({length:T}).map((I,F)=>O.jsx("tr",{children:Array.from({length:S}).map((A,D)=>{const $=F*S+D,B=b[$];return h(B,x,D,S)})},`row-${F}`))})})},k)})})};eX.propTypes={data:fe.arrayOf(fe.shape({category:fe.string.isRequired,derived_field_name:fe.string.isRequired,description:fe.string.isRequired,display_type:fe.string,field_name:fe.string.isRequired,field_notation:fe.string.isRequired,field_type:fe.number.isRequired,default_value:fe.any,fields:fe.array.isRequired,format:fe.string,input_type:fe.string,locale:fe.string.isRequired,mandatory:fe.bool.isRequired,options:fe.object.isRequired,sequence:fe.number.isRequired,title:fe.string.isRequired,type:fe.string,editable:fe.bool.isRequired,hidden:fe.bool.isRequired,meta:fe.shape({verify:fe.any,table:fe.shape({column:fe.string,span:fe.oneOf(JLe)}),child_elements:fe.number}).isRequired})).isRequired,infoPaneDerivedFieldName:fe.string,shouldHideField:fe.func.isRequired,parentResponsePath:fe.string.isRequired,setLoadingModalMessage:fe.func.isRequired,setLoadingModalStatus:fe.func.isRequired,isFieldsDisabled:fe.bool.isRequired,updateHasChanges:fe.func.isRequired,handleFieldsDisabled:fe.func.isRequired};const pw={textTransform:"none",borderRadius:"25px"},e4e=Ye(Ja)(({theme:e})=>({color:e.palette.text.brand,"&.Mui-focused":{color:e.palette.text.brand},"& .required-star":{color:e.palette.error.main,marginLeft:"4px"}})),tX=({otpState:e,verificationStatus:r,handleOtpInputChange:t,handleResendOTP:n})=>{const o=Sr();return O.jsxs(Re,{sx:{width:"60%",maxWidth:350,mx:"auto",mt:1},children:[O.jsxs(xa,{fullWidth:!0,children:[O.jsx(e4e,{sx:{mb:1,ml:2,fontWeight:"bold",fontSize:14.12},children:"Enter OTP"}),O.jsx(Ga,{fullWidth:!0,value:e.otp,onChange:t,error:!!e.error,helperText:e.error,disabled:r.verificationInProgress||e.isResending,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},sx:{backgroundColor:o.palette.primary.white,"& .MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${o.palette.grey[200]}`,transition:"all 0.2s ease-in-out","&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${o.palette.grey[400]}`,"& fieldset":{borderColor:"primary.main"}},"& fieldset":{borderWidth:"1px",borderColor:`${o.palette.grey[400]}`},"&:hover fieldset":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiInputBase-input":{px:2,py:1,fontSize:14.12,"&::placeholder":{opacity:.7}}}})]}),O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:O.jsx(Zt,{color:"contained",onClick:n,disabled:r.verificationInProgress||e.isResending,sx:{...pw},children:e.isResending?"Resending...":"Resend OTP"})})]})},rX=({isVerified:e,handleAction:r,status:t,theme:n})=>O.jsx(Zt,{variant:"contained",onClick:r,disabled:t.disabled,sx:{...pw},children:t.text}),nX=e=>{var r;if(["tab_break","section_break","column_break","display_field"].includes(e.display_type))return null;if(e.field_type===512){const t={};return e.fields&&e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=null)}),[t]}if(["dropdown","radiobutton","textbox","fileoption","textbox.row-4","imgcapture","vidcapture","liveness.readout","geoloc","checkbox","hidden"].includes(e.display_type))return null;if(e.fields){const t={};return e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=nX(n))}),(r=e.meta)!=null&&r.verify&&(t._ver_status=null),t}return null},MU=(e,r,t)=>{let n=e;return n=n.replace(/[@$]\./g,""),n};function oX({fields:e,field_title:r,meta:t,derivedFieldName:n,infoPaneDerivedFieldName:o,field_notation:i,parentResponsePath:a,setLoadingModalMessage:s,setLoadingModalStatus:u,isFieldsDisabled:l,updateHasChanges:c,hasChanges:f}){var _e,Se,xe,De,$e,Be;const d=Sr(),[p,h]=N.useState(0),m=Tv(),{responseObject:y,lyikForm:v,setResponseObject:g,uploadedFiles:x,setErrorMessage:b,setModalOpen:w,handleModalClose:E,configData:C,userPermissions:S,operationStatus:T,setOperationStatus:k,setTrustedApiFailure:P,trustedApiFailure:I}=N.useContext(tr),{verifyData:F}=vM(),A=D9(e),D=i==="CUSTOM.OTP",$=`${a}.${n}`,B=i==null?void 0:i.replace("API.",""),W=MC(B,$,o),L=N.useContext(Ti),{executeOperation:z,loading:U}=KK(v==null?void 0:v.uri),[Y,q]=N.useState(()=>{const we=Ze(y,`${$}._ver_status`);return{status:(we==null?void 0:we.status)||"",isVerified:(we==null?void 0:we.status)==="success",verificationInProgress:!1,message:(we==null?void 0:we.message)||"",isIndeterminate:(we==null?void 0:we.status)==="indeterminate"||!1}}),[V,H]=N.useState({showOtpField:!1,otp:"",transactionId:"",isLoading:!1,isResending:!1,error:null});N.useEffect(()=>{const we=Ze(y,`${$}._ver_status`);we&&q(Me=>({...Me,isVerified:we.status==="success"||we.status==="indeterminate",message:we.message||"",isIndeterminate:we.status==="indeterminate"}))},[y,$]),N.useEffect(()=>{Y.isVerified||H(we=>({...we,showOtpField:!1,otp:"",transactionId:"",error:null}))},[o,Y.isVerified]),N.useEffect(()=>{const we=Ze(y,`${$}.transaction_id`),Me=Ze(y,`${$}.otp`);we&&!Me&&H(Le=>({...Le,showOtpField:!0,transactionId:we}))},[y,$]);const Z=async()=>{try{s("Fetching Data"),u(!0);const we=Ze(y,$);if(!we)throw new Error("No data found for fetch");const Me=[];x&&Me.push(x);const Le={[n]:we},Fe=await W.uploadTrusted(Le,Me);Fe&&((Fe==null?void 0:Fe.status)==="failure"&&P(He=>({...He,[$]:Fe==null?void 0:Fe.message})),(Fe==null?void 0:Fe.status)!=="failure"&&P(He=>{typeof He=="object"&&He[$]&&delete He[$]})),s(""),u(!1),L()}catch(we){console.error("Fetch data error:",we),s(""),u(!1),b(we.message||"Server Error! Please Type Again and contact the Administrator"),w(!0)}},ue=N.useCallback(we=>{if(!(we!=null&&we.hidden))return!1;if(we.hidden===!0)return!0;if(ef(we==null?void 0:we.hidden))return tf(we==null?void 0:we.hidden,y,$);const Le=(He,gt,_t)=>{if(!He||!gt||typeof He!="string"||He.trim()==="")return!1;try{const At=He.trim(),or=MU(At,$,o),Cr=$.split(o)[0]+o,vr=Ze(y,Cr),br=or.replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi," and ").replace(/\bOR\b/gi," or ").replace(/'/g,'"').replace(/\s+/g," ").trim(),Lr=Ju.compile(br),Tr=At!=null&&At.includes("$.")?_t:At!=null&&At.includes("@.")?vr:gt;return Lr(Tr)}catch(At){return console.error("Error in hide rule:",At),!1}},Fe=Ze(y,$);return Le(we.hidden,Fe,y)},[$,y,o]),oe=N.useCallback(we=>{if(!(we!=null&&we.editable))return!1;if(we.editable===!1)return!0;if(typeof(we==null?void 0:we.editable)=="string"&&ef(we==null?void 0:we.editable))return!tf(we==null?void 0:we.editable,y,$);const Me=(Fe,He,gt)=>{if(!Fe||!He||typeof Fe!="string"||Fe.trim()==="")return!1;try{const _t=Fe.trim(),At=MU(_t,$,o),or=$.split(o)[0]+o,Cr=Ze(y,or),vr=At.replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi," and ").replace(/\bOR\b/gi," or ").replace(/'/g,'"').replace(/\s+/g," ").trim(),br=Ju.compile(vr),Lr=_t!=null&&_t.includes("$.")?gt:_t!=null&&_t.includes("@.")?Cr:He;return!br(Lr)}catch(_t){return console.error("Error in disable rule:",_t),!1}},Le=Ze(y,$);return Me(we.editable,Le,y)},[$,y]),ee=async()=>{s("Verifying"),u(!0);try{q(_t=>({..._t,verificationInProgress:!0}));const we=Ze(y,$);if(!we)throw new Error("No data found for verification");const Me=[];x&&Me.push(x);const Le=await F(v.form_id,we,n,Me);let Fe;Le.response&&(Fe=dt(y,$,Le.response),g(Fe),sessionStorage.setItem("formResponse",JSON.stringify(Fe)));const He=`${$}._ver_status`,gt=dt(Fe||y,He,Le.data);g(gt),sessionStorage.setItem("formResponse",JSON.stringify(gt)),q(_t=>({..._t,isVerified:Le.data.status==="success"||Le.data.status==="indeterminate",verificationInProgress:!1,message:Le.data.message,isIndeterminate:Le.data.status==="indeterminate"})),s(""),u(!1)}catch(we){console.error("Verification error:",we),s(""),u(!1);const Me=`${$}._ver_status`,Le=dt(y,Me,{status:"failure",message:we.message,id:null,actor:"system"});g(Le),sessionStorage.setItem("formResponse",Le),q(Fe=>({...Fe,isVerified:!1,status:"failure",verificationInProgress:!1,message:we.message,isIndeterminate:!1})),L()}finally{L(),s(""),u(!1)}},ne=N.useCallback(we=>{if(y&&we){const Me=`${$}._ver_status`,Le=dt(y,Me,we);g(Le),q(Fe=>({...Fe,isVerified:we.status==="success"||we.status==="indeterminate",verificationInProgress:!1,message:we.message,isIndeterminate:we.status==="indeterminate"}))}},[y,$,g]),pe=async()=>{try{q(gt=>({...gt,verificationInProgress:!0}));const we=Ze(y,`${$}`),Me=await F(v.form_id,{...we,otp:V.otp,transaction_id:V.transactionId},n);let Le;Me.response&&(Le=dt(y,$,Me.response),g(Le),sessionStorage.setItem("formResponse",JSON.stringify(Le)));const Fe=`${$}._ver_status`,He=dt(Le||y,Fe,Me.data);g(He),sessionStorage.setItem("formResponse",JSON.stringify(He)),q(gt=>({...gt,isVerified:Me.data.status==="success"||Me.data.status==="indeterminate",verificationInProgress:!1,message:Me.data.message,isIndeterminate:Me.data.status==="indeterminate"})),Me.data.status==="success"&&(H(gt=>({...gt,showOtpField:!1,otp:"",error:null})),L())}catch(we){console.error("OTP verification error:",we),J(we)}},J=we=>{const Me=`${$}._ver_status`,Le=dt(y,Me,{status:"failure",message:we.message,id:null,actor:"system"});g(Le),q(Fe=>({...Fe,status:"failure",verificationInProgress:!1,isVerified:!1,message:we.message,isIndeterminate:!1})),H(Fe=>({...Fe,otp:"",error:"OTP verification failed. Please try again or resend OTP.",showOtpField:!0}))},se=we=>{const Me=we.target.value.replace(/[^\d]/g,"").slice(0,6);H(Le=>({...Le,otp:Me,error:null}))},j=async(we=!1)=>{try{const Me=Ze(y,`${$}.contact_id`);if(!Me){H(He=>({...He,error:"Contact ID is required"}));return}H(He=>({...He,isLoading:!we,isResending:we,error:null,...we&&{otp:""}}));const Le=await m.postSendOtp(Me,"verification");H(He=>({...He,showOtpField:!0,transactionId:Le.transaction_id,...we&&{error:"OTP resent successfully"}})),ne("",{transactionId:Le.transaction_id});const Fe=dt(y,`${$}.transaction_id`,Le.transaction_id);g(Fe),sessionStorage.setItem("formResponse",JSON.stringify(Fe))}catch{H(Le=>({...Le,error:we?"Failed to resend OTP":"Failed to send OTP. Please try again."})),ne("failed"),b("Failed to send OTP. Contact the administrator"),w(!0)}finally{H(Me=>({...Me,isLoading:!1,isResending:!1}))}},ce=()=>Ze(y,`${a}._approval_status`)?!1:!!Y.isVerified,re=()=>!(Ze(y,`${a}._approval_status`)||Y.isVerified),Q=(we,Me)=>{const Le=we.split("."),Fe=Le.indexOf(Me);return Fe!==-1?Le.slice(0,Fe+1).join("."):we},G=()=>{q({isVerified:!1,verificationInProgress:!1,message:"",isIndeterminate:!1,status:""});const Me=`${Q($,o)}._ver_status`,Le=dt(y,Me,void 0),Fe=`${$}._ver_status`,He=dt(Le,Fe,void 0);g(He),sessionStorage.setItem("formResponse",JSON.stringify(He))},X=async()=>{try{k({inProgress:!0,message:"",success:!1,hasAttempted:!0}),s("Processing Operation"),u(!0);const we=Ze(y,$);if(!we)throw new Error("No data found for operation");const Me=await z({opPayload:we,files:x?[x]:[]});k(Le=>({...Le,inProgress:!1,success:!0,message:Me.message||"Operation completed successfully"})),await new Promise(Le=>setTimeout(Le,0)),L()}catch(we){console.error("Operation error:",we),k(Me=>({...Me,inProgress:!1,success:!1,message:we.message||"Operation failed"})),b(we.message||"Operation failed"),w(!0)}finally{s(""),u(!1)}},te=we=>{const Me=Ze(y,`${a}._approval_status`);return l||oe(we)||Me?!0:!!ce()},de=()=>!Ze(y,`${a}._approval_status`),ae=()=>O.jsx(ad,{container:!0,spacing:2,sx:{width:D?"60%":"100%",mx:D?"auto":"",justifyContent:D?"center":null},children:A==null?void 0:A.map(we=>{const Me=12/A.length;return O.jsx(ad,{size:{xs:12,md:Me},children:ie(we)},we.columnId)})});N.useEffect(()=>{A==null||A.forEach(we=>{var Me;(Me=we.fields)==null||Me.forEach(Le=>{var gt;if(!(Le!=null&&Le.derived_field_name))return;const Fe=ue(Le),He=`${$}.${Le.derived_field_name}`;if(Fe&&!((gt=Le==null?void 0:Le.field_notation)!=null&&gt.includes("SAVE_EVEN_IF_HIDDEN"))){const _t={...y},At=He.split("."),or=At.pop(),Cr=At.join("."),vr=Ze(_t,Cr);if(vr&&or in vr){delete vr[or];const br=dt(_t,Cr,vr);g(br),sessionStorage.setItem("formResponse",JSON.stringify(br))}}else if(Ze(y,He)===void 0){const At=nX(Le);if(At!==null){const or=dt({...y},He,At);g(or),sessionStorage.setItem("formResponse",JSON.stringify(or))}}})})},[y,A,$,ue]);const ye=(we=[])=>{const Me=[];let Le=[],Fe=!1;for(const He of we){if(He.display_type==="table"){Fe=!0,Le.push(He);continue}if(Fe){Le.push(He),He.display_type==="break"&&(Me.push({type:"table",data:[...Le]}),Le=[],Fe=!1);continue}Me.push({type:"field",data:He})}return Me},ie=we=>{var Le;const Me=ye(we==null?void 0:we.fields);return O.jsxs(O.Fragment,{children:[(we==null?void 0:we.columnTitle)&&O.jsx(it,{color:"secondary",sx:{fontSize:"1.2rem",fontWeight:"bold"},children:(Le=we==null?void 0:we.columnTitle)!=null&&Le.includes("Column Break")?"":we==null?void 0:we.columnTitle}),Me==null?void 0:Me.map((Fe,He)=>{if(Fe.type==="table")return O.jsx(eX,{data:[Fe.data],updateHasChanges:c,infoPaneDerivedFieldName:o,shouldHideField:ue,parentResponsePath:$,setLoadingModalMessage:s,setLoadingModalStatus:u,handleFieldsDisabled:te},`table-${He}`);const gt=Fe.data;return O.jsx(Re,{sx:{display:ue(gt)?"none":"block",pointerEvents:oe(gt)?"none":"auto"},children:O.jsx(mv,{field:Fe.data,infoPaneDerivedFieldName:o,parentResponsePath:$,setLoadingModalMessage:s,setLoadingModalStatus:u,isFieldsDisabled:te(gt),updateHasChanges:c})},gt.derived_field_name)})]})},he=we=>{if(console.log(we),!we)return!1;const Me=new DOMParser().parseFromString(we,"text/html");return Array.from(Me.body.childNodes).some(Le=>Le.nodeType===1)};return O.jsxs(Re,{sx:{width:"100%",border:"1px solid",borderColor:d.palette.grey[400],borderRadius:4,p:2,mb:2,display:"flex",flexDirection:"column",justifyContent:D?"center":"",gap:2,position:"relative"},children:[r&&O.jsxs(O.Fragment,{children:[O.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx(it,{color:"#262D64",fontWeight:"bold",fontSize:"20px",children:r}),Y.isVerified&&!Y.isIndeterminate&&O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(UI,{sx:{color:"success.main"}}),O.jsx(it,{color:"success.main",variant:"body2",children:"Verified"})]}),Y.isIndeterminate&&O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:.5},children:[O.jsx(cye,{color:"warning"}),O.jsx(it,{color:"warning.main",variant:"body2",children:"In Review"})]}),Y.status==="failure"&&O.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:.5},children:[O.jsx(uye,{sx:{color:"error.main"}}),O.jsx(it,{color:"error.main",variant:"body2",children:"Verification Failed"})]})]}),O.jsx(Bo,{sx:{width:"100%",margin:"0 auto"}}),Y.message&&O.jsx(Re,{sx:{mt:1,mb:2},children:O.jsx(it,{color:Y.isIndeterminate?"warning.main":Y.isVerified?"success.main":"error",sx:{textAlign:"center",fontWeight:"medium",fontSize:"0.9rem"},children:Y.isVerified&&!Y.isIndeterminate&&!((_e=S==null?void 0:S.persona)!=null&&_e.includes("CKR"))?O.jsx(O.Fragment,{}):Y.message})}),I&&I[$]&&O.jsx(Re,{sx:{mt:1,mb:2},children:O.jsx(it,{color:"error.main",sx:{textAlign:"center",fontWeight:"medium",fontSize:"0.9rem"},children:I[$]})})]}),(A==null?void 0:A.length)>0&&O.jsx(Re,{children:ae()}),D&&O.jsxs(O.Fragment,{children:[V.showOtpField&&O.jsx(tX,{otpState:V,verificationStatus:Y,handleOtpInputChange:se,handleResendOTP:()=>j(!0)}),O.jsx(Re,{sx:{display:"flex",justifyContent:"center",width:"100%",mt:2},children:!((Se=S==null?void 0:S.persona)!=null&&Se.includes("CKR"))&&de()&&O.jsx(rX,{isVerified:Y.isVerified,handleAction:Y.isVerified?()=>{const we=`${$}._ver_status`,Me=dt(y,we,void 0),Le=dt(Me,`${$}.otp`);q({isVerified:!1,verificationInProgress:!1,message:"",isIndeterminate:!1}),g({...Le}),sessionStorage.setItem("formResponse",JSON.stringify(Le)),h(Fe=>Fe+1),j(!1)}:V.showOtpField?pe:()=>j(!1),status:{disabled:Y.verificationInProgress||V.isResending||V.showOtpField&&V.otp.length!==6,text:Y.isVerified?"Re-verify":Y.verificationInProgress?"Verifying...":V.showOtpField?"Verify OTP":V.isLoading?"Sending...":"Send OTP"},theme:d})})]}),!D&&((xe=t==null?void 0:t.verify)==null?void 0:xe.action_text)&&O.jsxs(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:[!((De=S==null?void 0:S.persona)!=null&&De.includes("CKR"))&&re()&&O.jsx(Zt,{variant:"contained",color:"primary",onClick:ee,disabled:Y.verificationInProgress||l,sx:{...pw},children:Y.verificationInProgress?"Verifying...":t.verify.action_text}),ce()&&(($e=t==null?void 0:t.verify)==null?void 0:$e.action_text)&&!S.persona.includes("CKR")&&O.jsx(Zt,{variant:"contained",color:"primary",onClick:G,sx:{...pw,"&:hover":{backgroundColor:fr(d.palette.primary.main,.6)}},children:"Edit"})]}),!D&&(i==null?void 0:i.includes("OPERATION"))&&O.jsx(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1},children:O.jsx(Zt,{variant:"contained",onClick:X,disabled:T.inProgress||U,sx:{textTransform:"none",borderRadius:"25px",width:"200px",transition:"background-color 0.2s ease-in-out"},children:T.inProgress||U?"Processing...":"Process Operation"})}),!D&&(i==null?void 0:i.includes("API."))&&O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:!((Be=S==null?void 0:S.persona)!=null&&Be.includes("CKR"))&&O.jsx(Zt,{variant:"contained",onClick:Z,sx:{textTransform:"none",borderRadius:"25px"},children:"Fetch Data"})}),T.hasAttempted&&!T.inProgress&&(i==null?void 0:i.includes("ACTION.OPERATIONS"))&&(he(T.message)?O.jsx("div",{dangerouslySetInnerHTML:{__html:T.message},className:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl"}):O.jsx(it,{color:T.success?"success.main":"error",sx:{marginTop:2,fontWeight:500,width:"100%",opacity:T.message?1:0,transition:"opacity 0.2s ease-in-out",wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap"},children:T.message}))]})}oX.propTypes={fields:fe.array,field_title:fe.string,meta:fe.object,derivedFieldName:fe.string.isRequired,infoPaneDerivedFieldName:fe.string,field_notation:fe.string,parentResponsePath:fe.string.isRequired,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func};tX.propTypes={otpState:fe.object.isRequired,verificationStatus:fe.object.isRequired,handleOtpInputChange:fe.func.isRequired,handleResendOTP:fe.func.isRequired};rX.propTypes={isVerified:fe.bool.isRequired,handleAction:fe.func.isRequired,status:fe.shape({disabled:fe.bool.isRequired,text:fe.string.isRequired}).isRequired,theme:fe.object.isRequired};const iX=({open:e,goHome:r,submitMessage:t})=>{var x,b;const n=new Date((b=(x=t==null?void 0:t.record)==null?void 0:x.submitter)==null?void 0:b.time),{setLyikForm:o,setResponseObject:i,setCode:a,setDigiToken:s,setAadhaar:u,setLyikToken:l,setUploadedFiles:c,setPan:f,setModalOpen:d,setErrorMessage:p,setOperationStatus:h,setTrustedApiFailure:m,setTrusted:y}=N.useContext(tr),v={timeZone:"Asia/Kolkata",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};n.toLocaleString("en-IN",v);const g={...v,hour12:!1};return n.toLocaleString("en-IN",g),O.jsxs(_S,{open:e,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,position:"relative"}},children:[O.jsx(PI,{children:O.jsxs(Re,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(t==null?void 0:t.result)==="success"?O.jsx(it,{variant:"h6",color:"success",children:"Success"}):O.jsx(it,{variant:"h6",color:"error",children:"Failure"}),O.jsx(Uu,{"aria-label":"close",onClick:()=>{(t==null?void 0:t.result)==="success"&&(sessionStorage.removeItem("formResponse"),sessionStorage.removeItem("lyikForm"),sessionStorage.removeItem("id"),sessionStorage.removeItem("section"),sessionStorage.removeItem("form_id"),sessionStorage.removeItem("digilocker_data"),sessionStorage.removeItem("record_id"),o({}),i({}),a(""),s(""),u({}),l(""),c([]),f({}),d(!1),p(""),h({inProgress:!1,message:"",success:!1,hasAttempted:!1}),y({}),m({})),r()},sx:{position:"absolute",right:8,top:8,color:w=>w.palette.grey[500]},children:O.jsx(qI,{})})]})}),O.jsx(wS,{children:(t==null?void 0:t.result)==="success"?O.jsx(Re,{children:O.jsx(it,{children:"Form Successfully Submitted!"})}):O.jsx(Re,{children:O.jsx(it,{children:t==null?void 0:t.message})})}),O.jsx(q7,{sx:{p:2,pt:0},children:r&&O.jsx(Zt,{variant:"outlined",onClick:()=>{(t==null?void 0:t.result)==="success"&&(sessionStorage.removeItem("formResponse"),sessionStorage.removeItem("lyikForm"),sessionStorage.removeItem("id"),sessionStorage.removeItem("section"),sessionStorage.removeItem("form_id"),sessionStorage.removeItem("digilocker_data"),sessionStorage.removeItem("record_id"),o({}),i({}),a(""),s(""),u({}),l(""),c([]),f({}),d(!1),p(""),h({inProgress:!1,message:"",success:!1,hasAttempted:!1}),y({}),m({})),r()},startIcon:O.jsx(gV,{}),sx:{mr:1},children:(t==null?void 0:t.result)==="success"?"Go Home":"Close"})})]})};iX.propTypes={open:fe.bool,goHome:fe.func,submitMessage:fe.obj};const Cy=({open:e,message:r="Processing"})=>{const[t,n]=N.useState("");return N.useEffect(()=>{if(!e)return;const o=setInterval(()=>{n(i=>i.length>=3?"":i+".")},500);return()=>clearInterval(o)},[e]),O.jsx(_S,{open:e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2,backgroundColor:"grey[100]",backdropFilter:"blur(4px)"}},children:O.jsx(wS,{children:O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4,gap:3},children:[O.jsx(Hi,{size:48,thickness:4,sx:{color:"primary.main"}}),O.jsxs(it,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:.5,color:"text.primary",fontWeight:500},children:[r,O.jsx(Re,{component:"span",sx:{minWidth:"24px"},children:t})]})]})})})};Cy.propTypes={open:fe.bool.isRequired,message:fe.string};const t4e=({discrepMessage:e="",responsePath:r})=>{var y,v,g;const t=Sr(),[n,o]=N.useState(!e),[i,a]=N.useState(e),[s,u]=N.useState(null),l=N.useContext(Ti),{responseObject:c,setResponseObject:f,userPermissions:d}=N.useContext(tr);N.useEffect(()=>{const x=sessionStorage.getItem("configData");x&&u(JSON.parse(x))},[]);const p=()=>{o(!0)},h=()=>{const x=dt(c,`${r}._approval_status.message`,i);f(x),sessionStorage.setItem("formResponse",JSON.stringify(x)),o(!1),l()},m=()=>{if(a(e),o(!1),!e){const x=dt(c,`${r}._approval_status.message`,null);f(x),sessionStorage.setItem("formResponse",JSON.stringify(x))}l()};return O.jsx(Re,{px:2,mt:2,children:O.jsxs(Re,{sx:{border:"1px solid",borderColor:"error.light",borderRadius:2,py:{xs:1,md:2},px:{xs:2,md:6},mx:"auto",flex:1,backgroundColor:"background.paper"},children:[O.jsx(it,{color:"error.light",sx:{mb:1,ml:2,fontWeight:"medium",fontSize:16},children:"Reason for Discrepancy"}),O.jsx(Ga,{fullWidth:!0,multiline:!0,rows:4,placeholder:"Enter Reason",value:i,onChange:x=>a(x.target.value),disabled:!n||((y=d==null?void 0:d.persona)==null?void 0:y.includes("MKR")),sx:{mb:(v=d==null?void 0:d.persona)!=null&&v.includes("CKR")?2:0,"& .MuiOutlinedInput-root":{backgroundColor:"background.paper",borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${t.palette.grey[200]}`,transition:"all 0.2s ease-in-out"}}}),((g=d==null?void 0:d.persona)==null?void 0:g.includes("CKR"))&&O.jsx(Re,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:n?O.jsxs(O.Fragment,{children:[O.jsx(Zt,{onClick:m,variant:"outlined",sx:{borderRadius:10,px:3},children:"Cancel"}),O.jsx(Zt,{onClick:h,variant:"contained",sx:{borderRadius:10,px:6,textTransform:"none"},children:"Done"})]}):e&&O.jsx(Zt,{onClick:p,variant:"contained",sx:{borderRadius:10,px:4,py:1,textTransform:"none"},children:"Edit"})})]})})},aX={textTransform:"none",borderRadius:10,width:"150px"},sX=({otpState:e,verificationStatus:r,handleOtpInputChange:t,handleResendOTP:n})=>{const o=Sr();return O.jsxs(Re,{sx:{width:"60%",mx:"auto",mt:1},children:[O.jsx(it,{sx:{mb:1,ml:1,fontWeight:"bold",color:"secondary.main"},children:"Enter OTP"}),O.jsx(Ga,{fullWidth:!0,value:e.otp,onChange:t,error:!!e.error,helperText:e.error,disabled:r.verificationInProgress||e.isResending,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},sx:{backgroundColor:o.palette.primary.white,"& .MuiOutlinedInput-root":{borderRadius:"15px",boxShadow:`inset 0px 2px 4px ${o.palette.grey[200]}`,transition:"all 0.2s ease-in-out","&.Mui-focused":{boxShadow:`inset 0px 2px 4px ${o.palette.grey[400]}`,"& fieldset":{borderColor:"primary.main"}},"& fieldset":{borderWidth:"1px",borderColor:`${o.palette.grey[400]}`},"&:hover fieldset":{borderColor:"primary.main",borderWidth:"1px"}},"& .MuiInputBase-input":{padding:"12px 16px","&::placeholder":{opacity:.7}}}}),O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end"},children:O.jsx(Zt,{color:"secondary.main",onClick:n,disabled:r.verificationInProgress||e.isResending,sx:{textTransform:"none","&:hover":{backgroundColor:fr(o.palette.secondary.main,.1)}},children:e.isResending?"Resending...":"Resend OTP"})})]})},uX=({isVerified:e,handleAction:r,status:t,theme:n})=>O.jsx(Zt,{variant:"contained",onClick:r,disabled:t.disabled,sx:{...aX},children:t.text}),lX=e=>{var r;if(["tab_break","section_break","column_break","display_field"].includes(e.display_type))return null;if(e.field_type===512){const t={};return e.fields&&e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=null)}),[t]}if(["dropdown","radiobutton","textbox","fileoption","textbox.row-4","imgcapture","vidcapture","liveness.readout","geoloc","checkbox","hidden"].includes(e.display_type))return null;if(e.fields){const t={};return e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=lX(n))}),(r=e.meta)!=null&&r.verify&&(t._ver_status=null),t}return null};function cX(e){var j,ce,re,Q,G;const{fields:r,field_title:t,meta:n,derivedFieldName:o,infoPaneDerivedFieldName:i,field_notation:a,parentResponsePath:s,setLoadingModalMessage:u,setLoadingModalStatus:l,isFieldsDisabled:c,updateHasChanges:f}=e,d=Sr(),p=Tv(),{responseObject:h,lyikForm:m,setResponseObject:y,uploadedFiles:v,setErrorMessage:g,setModalOpen:x,handleModalClose:b,configData:w,userPermissions:E,operationStatus:C,setOperationStatus:S}=N.useContext(tr),{verifyData:T}=vM(),k=D9(r),P=a==="CUSTOM.OTP",I=a==null?void 0:a.replace("API.",""),{trustedOvd:F,loading:A}=a4e(I),D=`${s}.${o}`,$=N.useContext(Ti),{executeOperation:B,loading:W}=KK(m==null?void 0:m.uri),[L,z]=N.useState(()=>{const X=Ze(h,`${D}._ver_status`);return{isVerified:(X==null?void 0:X.status)==="success",verificationInProgress:!1,message:(X==null?void 0:X.message)||""}}),[U,Y]=N.useState({showOtpField:!1,otp:"",transactionId:"",isLoading:!1,isResending:!1,error:null});N.useEffect(()=>{const X=Ze(h,`${D}._ver_status`);X&&z(te=>({...te,isVerified:X.status==="success",message:X.message||""}))},[h,D]),N.useEffect(()=>{L.isVerified||Y(X=>({...X,showOtpField:!1,otp:"",transactionId:"",error:null}))},[i,L.isVerified]);const q=async()=>{try{u("Fetching Data"),l(!0);const X=Ze(h,D);if(!X)throw new Error("No data found for fetch");const te=[];v&&te.push(v);const de={[o]:X};await F({payload:de,files:te}),u(""),l(!1),$()}catch(X){console.error("Fetch data error:",X),u(""),l(!1),g(X.message||"Server Error! Please Type Again and contact the Administrator"),x(!0)}},V=N.useCallback(X=>{if(!(X!=null&&X.hidden))return!1;if(X.hidden===!0)return!0;const te=(ae,ye,ie)=>{if(!ae||!ye||typeof ae!="string"||ae.trim()==="")return!1;try{const he=ae.trim(),_e=he.startsWith("$."),Se=he.replace(/^\$\./,"").replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi,"and").replace(/\bOR\b/gi,"or").replace(/'/g,'"').replace(/\s+/g," ").trim();return Ju.compile(Se)(_e?ie:ye)}catch(he){return console.error("Error in visibility rule:",he),!1}},de=Ze(h,D);return te(X.hidden,de,h)},[D,h]),H=async()=>{u("Verifying"),l(!0);try{z(ie=>({...ie,verificationInProgress:!0}));const X=Ze(h,D);if(!X)throw new Error("No data found for verification");const te=[];v&&te.push(v);const de=await T(m.form_id,X,o,te),ae=`${D}._ver_status`,ye=dt(h,ae,de);y(ye),sessionStorage.setItem("formResponse",ye),z(ie=>({...ie,isVerified:de.status==="success",verificationInProgress:!1,message:de.message})),u(""),l(!1)}catch(X){console.error("Verification error:",X),u(""),l(!1);const te=`${D}._ver_status`,de=dt(h,te,{status:"failure",message:X.message,id:null,actor:"system"});y(de),sessionStorage.setItem("formResponse",de),z(ae=>({...ae,isVerified:!1,verificationInProgress:!1,message:X.message})),$()}finally{$(),u(""),l(!1)}},Z=N.useCallback(X=>{if(!h)return;const te=`${D}._ver_status`,de=dt(h,te,X);y(de),z(ae=>({...ae,isVerified:X.status==="success",verificationInProgress:!1,message:X.message}))},[h,D,y]),ue=async()=>{try{z(ye=>({...ye,verificationInProgress:!0}));const X=Ze(h,`${D}.contact_id`),te=await T(m.form_id,{contact_id:X,otp:U.otp,transaction_id:U.transactionId},o),de=`${D}._ver_status`,ae=dt(h,de,te);if(y(ae),sessionStorage.setItem("formResponse",JSON.stringify(ae)),z(ye=>({...ye,isVerified:te.status==="success",verificationInProgress:!1,message:te.message})),te.status==="success"){Y(he=>({...he,showOtpField:!1,otp:"",error:null}));const ye=`${D}.verified_contact_id`,ie=dt(h,ye,X);y(ie),sessionStorage.setItem("formResponse",JSON.stringify(ie)),$()}}catch(X){console.error("OTP verification error:",X),oe(X)}},oe=X=>{const te=`${D}._ver_status`,de=dt(h,te,{status:"failure",message:X.message,id:null,actor:"system"});y(de),z(ae=>({...ae,verificationInProgress:!1,isVerified:!1,message:X.message})),Y(ae=>({...ae,otp:"",error:"OTP verification failed. Please try again or resend OTP.",showOtpField:!0}))},ee=X=>{const te=X.target.value.replace(/[^\d]/g,"").slice(0,6);Y(de=>({...de,otp:te,error:null}))},ne=async(X=!1)=>{try{const te=Ze(h,`${D}.contact_id`);if(!te){Y(ae=>({...ae,error:"Contact ID is required"}));return}Y(ae=>({...ae,isLoading:!X,isResending:X,error:null,...X&&{otp:""}}));const de=await p.postSendOtp(te);Y(ae=>({...ae,showOtpField:!0,transactionId:de.transaction_id,...X&&{error:"OTP resent successfully"}})),Z("pending",{transactionId:de.transaction_id})}catch{Y(de=>({...de,error:X?"Failed to resend OTP":"Failed to send OTP. Please try again."})),Z("failed"),g("Failed to send OTP. Contact the administrator"),x(!0)}finally{Y(te=>({...te,isLoading:!1,isResending:!1}))}},pe=async()=>{try{S({inProgress:!0,message:"",success:!1,hasAttempted:!0}),u("Processing Operation"),l(!0);const X=Ze(h,D);if(!X)throw new Error("No data found for operation");const te=await B({opPayload:X,files:v?[v]:[]});S(de=>({...de,inProgress:!1,success:!0,message:te.message||"Operation completed successfully"})),await new Promise(de=>setTimeout(de,0)),$()}catch(X){console.error("Operation error:",X),S(te=>({...te,inProgress:!1,success:!1,message:X.message||"Operation failed"})),g(X.message||"Operation failed"),x(!0)}finally{u(""),l(!1)}};N.useEffect(()=>{k==null||k.forEach(X=>{var te;(te=X.fields)==null||te.forEach(de=>{if(!(de!=null&&de.derived_field_name))return;const ae=V(de),ye=`${D}.${de.derived_field_name}`;if(ae){const ie={...h},he=ye.split("."),_e=he.pop(),Se=he.join("."),xe=Ze(ie,Se);if(xe&&_e in xe){delete xe[_e];const De=dt(ie,Se,xe);y(De),sessionStorage.setItem("formResponse",JSON.stringify(De))}}else if(Ze(h,ye)===void 0){const he=lX(de);if(he!==null){const _e=dt({...h},ye,he);y(_e),sessionStorage.setItem("formResponse",JSON.stringify(_e))}}})})},[h,k,D,V]);const J=()=>O.jsx(BI,{sx:{tableLayout:"fixed",width:"100%"},children:O.jsx(jI,{children:O.jsx(ia,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:k==null?void 0:k.map(X=>O.jsx(Fo,{colSpan:4,sx:{width:"260px",overflow:"hidden",borderBottom:"none"},children:se(X)},X.columnId))})})}),se=X=>{var te,de;return O.jsxs(O.Fragment,{children:[(X==null?void 0:X.columnTitle)&&O.jsx(it,{variant:"h6",gutterBottom:!0,children:(te=X==null?void 0:X.columnTitle)!=null&&te.includes("Column Break")?"":X==null?void 0:X.columnTitle}),(de=X==null?void 0:X.fields)==null?void 0:de.map(ae=>O.jsx(Re,{sx:{},children:O.jsx(mv,{field:ae,infoPaneDerivedFieldName:i,parentResponsePath:D,setLoadingModalMessage:u,setLoadingModalStatus:l,isFieldsDisabled:c,updateHasChanges:f})},ae.derived_field_name))]})};return O.jsxs(Re,{sx:{width:"100%",mb:2,display:"flex",flexDirection:"column",justifyContent:P?"center":"",gap:2,position:"relative"},children:[t&&O.jsxs(O.Fragment,{children:[O.jsx(ia,{sx:{},children:O.jsx(Fo,{component:"th",scope:"row",colSpan:4,sx:{borderBottom:"none"},children:O.jsx(it,{variant:"h6",gutterBottom:!0,children:t})})}),O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(Re,{display:"flex",justifyContent:"space-between",alignItems:"center",children:L.isVerified&&O.jsxs(Re,{display:"flex",alignItems:"center",gap:1,children:[O.jsx(UI,{color:"success.main"}),O.jsx(it,{color:"success.main",variant:"body2",children:"Verified"})]})})})}),L.message&&O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(it,{color:L.isVerified?"success.main":"error.main",sx:{textAlign:"center",fontWeight:"medium",fontSize:"0.9rem"},children:L.isVerified?"":L.message})})})]}),J(),P&&O.jsxs(O.Fragment,{children:[U.showOtpField&&O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(sX,{otpState:U,verificationStatus:L,handleOtpInputChange:ee,handleResendOTP:()=>ne(!0)})})}),O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(Re,{display:"flex",justifyContent:"center",children:!((j=E==null?void 0:E.persona)!=null&&j.includes("CKR"))&&O.jsx(uX,{isVerified:L.isVerified,handleAction:L.isVerified?()=>ne(!1):U.showOtpField?ue:()=>ne(!1),status:{disabled:L.verificationInProgress||U.isResending||U.showOtpField&&U.otp.length!==6,text:L.isVerified?"Re-verify":L.verificationInProgress?"Verifying...":U.showOtpField?"Verify OTP":U.isLoading?"Sending...":"Send OTP"},theme:d})})})})]}),!P&&((ce=n==null?void 0:n.verify)==null?void 0:ce.action_text)&&O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(Re,{display:"flex",justifyContent:"flex-end",children:!((re=E==null?void 0:E.persona)!=null&&re.includes("CKR"))&&O.jsx(Zt,{variant:"contained",onClick:H,disabled:L.verificationInProgress,sx:{...aX},children:L.verificationInProgress?"Verifying...":n.verify.action_text})})})}),!P&&(a==null?void 0:a.includes("OPERATION"))&&O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsxs(Re,{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:1,children:[!((Q=E==null?void 0:E.persona)!=null&&Q.includes("CKR"))&&O.jsx(Zt,{variant:"contained",onClick:pe,disabled:C.inProgress||W,sx:{textTransform:"none",borderRadius:10,width:"200px",transition:"background-color 0.2s ease-in-out"},children:C.inProgress||W?"Processing...":"Process Operation"}),C.hasAttempted&&!C.inProgress&&O.jsx(it,{color:C.success?"success.main":"error.main",sx:{marginTop:2,fontWeight:500,width:"100%",opacity:C.message?1:0,transition:"opacity 0.2s ease-in-out"},children:C.message})]})})}),!P&&(a==null?void 0:a.includes("API."))&&O.jsx(ia,{children:O.jsx(Fo,{colSpan:4,children:O.jsx(Re,{display:"flex",justifyContent:"flex-end",children:!((G=E==null?void 0:E.persona)!=null&&G.includes("CKR"))&&O.jsx(Zt,{variant:"contained",onClick:q,disabled:A,sx:{textTransform:"none",borderRadius:10,width:"200px"},children:A?"Fetching...":"Fetch Data"})})})})]})}cX.propTypes={fields:fe.array,field_title:fe.string,meta:fe.object,derivedFieldName:fe.string.isRequired,infoPaneDerivedFieldName:fe.string,field_notation:fe.string,parentResponsePath:fe.string.isRequired,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func};sX.propTypes={otpState:fe.object.isRequired,verificationStatus:fe.object.isRequired,handleOtpInputChange:fe.func.isRequired,handleResendOTP:fe.func.isRequired};uX.propTypes={isVerified:fe.bool.isRequired,handleAction:fe.func.isRequired,status:fe.shape({disabled:fe.bool.isRequired,text:fe.string.isRequired}).isRequired,theme:fe.object.isRequired};const FU={textTransform:"none",borderRadius:"25px"},a_={mt:2,textTransform:"none"},qp=(e,r,t,n,o)=>{if(!e)return!1;if(e===!0&&typeof e=="boolean")return!0;if(typeof e!="string"||e.trim()==="")return!1;try{let i=function(){return s?t:u?c:r};const a=e.trim(),s=a.includes("$."),u=a.includes("@.");let l,c;if(n)if(o&&(n!=null&&n.includes(o))){const h=(n==null?void 0:n.split(o)[0])+o;c=Ze(t,h),a.includes("@.")?l=a==null?void 0:a.replace(/@./g,""):l=a}else{const h=o;a.includes("@.")?l=a==null?void 0:a.replace(/@/g,h):l=a}const f=l.replace(/\$\./g,"").replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g,"=").replace(/\bAND\b/gi,"and").replace(/\bOR\b/gi,"or").replace(/'/g,'"').replace(/\s+/g," ").trim(),d=Ju.compile(f),p=i();return d(p)}catch(i){return console.error("Error in visibility rule:",{error:i,fieldMeta:e,localResponseBody:r}),!1}},r4e=(e,r,t,n,o)=>{if(!e||typeof e!="string"||e.trim()==="")return!1;try{let i=function(){return s?t:u?c:r};const a=e.trim(),s=a.includes("$."),u=a.includes("@.");let l,c;if(o)if(n&&(o!=null&&o.includes(n))){const h=(o==null?void 0:o.split(n)[0])+n;c=Ze(t,h),a.includes("@.")?l=a==null?void 0:a.replace(/@./g,""):l=a}else{const h=n;a.includes("@.")?l=a==null?void 0:a.replace(/@/g,h):l=a}const f=l.replace(/\$\./g,"").replace(/!==/g," != ").replace(/===/g," = ").replace(/!=/g," != ").replace(/==/g," = ").replace(/=/g," = ").replace(/\bAND\b/gi,"and").replace(/\bOR\b/gi,"or").replace(/'/g,'"').replace(/\s+/g," ").trim(),d=Ju.compile(f),p=i();return!d(p)}catch(i){return console.error("Error in editability rule:",{error:i,fieldMeta:e,localResponseBody:r}),!1}},fX=e=>{var r;if(["tab_break","section_break","column_break","display_field"].includes(e.display_type))return null;if(e.field_type===512){const t={};return e.fields&&e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=null)}),[t]}if(["dropdown","radiobutton","textbox","fileoption","textbox.row-4","imgcapture","vidcapture","liveness.readout","geoloc","checkbox","hidden"].includes(e.display_type))return null;if(e.fields){const t={};return e.fields.forEach(n=>{n.derived_field_name&&(t[n.derived_field_name]=fX(n))}),(r=e.meta)!=null&&r.verify&&(t._ver_status=null),t}return null},z_=({field:e,infoPaneDerivedFieldName:r,shouldHideField:t,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a,currentSection:s,updateHasChanges:u,shouldDisableField:l,handleVerificationDisabled:c})=>{const{responseObject:f,setResponseObject:d}=N.useContext(tr);return N.useEffect(()=>{var y;if(!(e!=null&&e.derived_field_name))return;const p=t(e),h=`${n}.${e.derived_field_name}`,m=Ze(f,h);if(p&&!((y=e==null?void 0:e.field_notation)!=null&&y.includes("SAVE_EVEN_IF_HIDDEN"))){if(m!==void 0){const v={...f},g=h.split("."),x=g.pop(),b=g.join("."),w=Ze(v,b);if(w&&x in w){delete w[x];const E=dt(v,b,w);JSON.stringify(E)!==JSON.stringify(f)&&(d(E),sessionStorage.setItem("formResponse",JSON.stringify(E)))}}}else if(m===void 0){const v=fX(e);if(v!==null){const g=dt({...f},h,v);JSON.stringify(g)!==JSON.stringify(f)&&(d(g),sessionStorage.setItem("formResponse",JSON.stringify(g)))}}},[e,t,n,f,d]),O.jsx(Re,{sx:{display:t(e)?"none":"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:(e==null?void 0:e.display_type)==="display_field"||(e==null?void 0:e.display_type)==="data_display"?"80%":"400px",mx:"auto",mb:2,position:"relative",pointerEvents:l(e)?"none":"auto",opacity:l(e)?.7:1},children:O.jsx(Re,{sx:{width:"100%"},children:O.jsx(mv,{field:e,infoPaneDerivedFieldName:r,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:a||l(e)||c(),currentSection:s,updateHasChanges:u})})},e.derived_field_name)},A0=e=>{var t;const r={};return!e||!e.fields||(e.fields.forEach(n=>{if(!["tab_break","section_break","column_break","display_field"].includes(n.display_type))if(n.field_type===512){const o={};n.fields&&n.fields.forEach(i=>{i.derived_field_name&&(o[i.derived_field_name]=null)}),r[n.derived_field_name]=[o]}else["dropdown","radiobutton","textbox","fileoption","textbox.row-4","imgcapture","vidcapture","liveness.readout","geoloc","checkbox","hidden"].includes(n.display_type)?n.derived_field_name&&(r[n.derived_field_name]=null):n.fields&&n.derived_field_name&&(r[n.derived_field_name]=A0(n))}),(t=e.meta)!=null&&t.verify&&(r._ver_status=null)),r},xg=({field:e,infoPaneDerivedFieldName:r,shouldHideField:t,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,groupPath:a="",isFieldsDisabled:s,updateHasChanges:u,hasChanges:l,shouldDisableField:c,handleVerificationDisabled:f})=>{const{responseObject:d,setResponseObject:p}=N.useContext(tr),h=a||n,m=`${h}.${e.derived_field_name}`;return N.useEffect(()=>{var g;if(!(e!=null&&e.derived_field_name))return;const y=t(e,h),v=Ze(d,m);if(y&&!((g=e==null?void 0:e.field_notation)!=null&&g.includes("SAVE_EVEN_IF_HIDDEN"))){if(v!==void 0){const x={...d},b=m.split("."),w=b.pop(),E=b.join("."),C=Ze(x,E);if(C&&w in C){delete C[w];const S=dt(x,E,C);JSON.stringify(S)!==JSON.stringify(d)&&(p(S),sessionStorage.setItem("formResponse",JSON.stringify(S)))}}}else if(v===void 0){const x=A0(e);if(x&&Object.keys(x).length>0){const b=dt({...d},m,x);JSON.stringify(b)!==JSON.stringify(d)&&(p(b),sessionStorage.setItem("formResponse",JSON.stringify(b)))}}},[e,t,h,d,p,l]),O.jsx(Re,{sx:{display:t(e,h)?"none":"block",pointerEvents:c(e,h)?"none":"auto"},children:O.jsx(oX,{fields:e==null?void 0:e.fields,field_title:e==null?void 0:e.title,meta:e==null?void 0:e.meta,derivedFieldName:e==null?void 0:e.derived_field_name,field_notation:e.field_notation,infoPaneDerivedFieldName:r,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:s||c(e,h)||f(),updateHasChanges:u,hasChanges:l},m)},e==null?void 0:e.derived_field_name)},n4e=({field:e,infoPaneDerivedFieldName:r,shouldHideField:t,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,groupPath:a="",isFieldsDisabled:s,updateHasChanges:u,handleVerificationDisabled:l})=>{const{responseObject:c,setResponseObject:f}=N.useContext(tr),d=a||n;return N.useEffect(()=>{var y;if(!(e!=null&&e.derived_field_name))return;const p=t(e,d),h=`${d}.${e.derived_field_name}`,m=Ze(c,h);if(p&&!((y=e==null?void 0:e.field_notation)!=null&&y.includes("SAVE_EVEN_IF_HIDDEN"))){if(m!==void 0){const v={...c},g=h.split("."),x=g.pop(),b=g.join("."),w=Ze(v,b);if(w&&x in w){delete w[x];const E=dt(v,b,w);JSON.stringify(E)!==JSON.stringify(c)&&(f(E),sessionStorage.setItem("formResponse",JSON.stringify(E)))}}}else if(m===void 0){const v=A0(e);if(v&&(Array.isArray(v)?v.length>0:Object.keys(v).length>0)){const g=dt({...c},h,v);JSON.stringify(g)!==JSON.stringify(c)&&(f(g),sessionStorage.setItem("formResponse",JSON.stringify(g)))}}},[e,t,d,c,f]),O.jsx(Re,{sx:{display:t(e,d)?"none":"block"},children:O.jsx(cX,{fields:e==null?void 0:e.fields,field_title:e==null?void 0:e.title,meta:e==null?void 0:e.meta,derivedFieldName:e==null?void 0:e.derived_field_name,field_notation:e.field_notation,infoPaneDerivedFieldName:r,parentResponsePath:n,setLoadingModalMessage:o,setLoadingModalStatus:i,isFieldsDisabled:s||l(),updateHasChanges:u})},e==null?void 0:e.derived_field_name)};function VD({fields:e,currentSection:r,setCurrentSection:t,parentResponsePath:n,setIsSidePanelOpen:o,progressPercentage:i}){var yt,It,Ut,wt,Et,xt,Lt,sr,lr,an,Ar,mt,zr,Ai,Oi,Yo,ro,hu,Za,Qi;const a=Sr(),{isMobile:s}=cu(),{responseObject:u,setResponseObject:l,lyikForm:c,uploadedFiles:f,setUploadedFiles:d,setModalOpen:p,modalOpen:h,handleModalClose:m,errorMessage:y,setErrorMessage:v,configData:g,userPermissions:x,userInfo:b,setPan:w,setAadhaar:E,setLyikForm:C}=N.useContext(tr),[S,T]=N.useState({section:null,infoPane:null}),[k,P]=N.useState(!1),{verifyData:I}=vM(),[F,A]=N.useState(0),[D,$]=N.useState(n),{uploadForm:B}=AV(c==null?void 0:c.uri),{submitForm:W}=g_e(c==null?void 0:c.uri),{generatePdf:L}=v_e(c==null?void 0:c.uri),[z,U]=N.useState(),[Y,q]=N.useState({}),V=N.useContext(Ti),H=N.useContext(dX),[Z,ue]=N.useState({}),[oe,ee]=N.useState(!1),[ne,pe]=N.useState(0),[J,se]=N.useState(),[j,ce]=N.useState(!1),re=g==null?void 0:g.show_back_button,Q=Ze(u,`${D}._ver_status`),G=Ze(u,`${D}._approval_status`),X=Ki(),[te,de]=N.useState({infoPane:!1,cards:{}}),[ae,ye]=N.useState(!1),[ie,he]=N.useState(Q||null),[_e,Se]=N.useState(!1),[xe,De]=N.useState(""),[$e,Be]=N.useState(!1),we=N.useCallback(()=>{pe(Ae=>Ae+1),gt()},[]),Me=Ae=>{try{const[ft,Xe,St]=Ae.split("."),pt=JSON.parse(atob(ft)),Rt=JSON.parse(atob(Xe));return{header:pt,payload:Rt,signature:St}}catch(ft){return console.error("Error decoding JWT token:",ft),null}},Le=localStorage.getItem("token");Le?Me(Le):console.error("No token found in sessionStorage");const Fe=N.useCallback(()=>{var Ae,ft,Xe,St,pt,Rt,Nt;try{const ur=sessionStorage.getItem("configData");if(!ur)return!1;const er=JSON.parse(ur);if((Ae=x==null?void 0:x.persona)!=null&&Ae.includes("CKR"))return!((Xe=(ft=S==null?void 0:S.infoPane)==null?void 0:ft.field_notation)!=null&&Xe.includes("FOR_OFFICE_USE_ONLY"));if((pt=(St=S==null?void 0:S.infoPane)==null?void 0:St.field_notation)!=null&&pt.includes("FOR_OFFICE_USE_ONLY"))return!1;if((Rt=S==null?void 0:S.infoPane)!=null&&Rt.editable&&typeof S.infoPane.editable=="string"){if(S.infoPane.editable.includes("USER.persona")){const Ji=S.infoPane.editable.match(/USER\.persona\s*=\s*['"]([^'"]+)['"]/);if(Ji&&Ji[1]){const Di=Ji[1],Pr=S.infoPane.editable.trim().startsWith("not"),Tn=(Nt=x==null?void 0:x.persona)==null?void 0:Nt.includes(Di);if(Pr&&Tn||!Pr&&!Tn)return!0}}else if(S.infoPane.editable===!1)return!0}const Qr=Ze(u,`${D}._ver_status`);if(!Qr)return!1;const no=String((Qr==null?void 0:Qr.user_id)||""),vo=String((b==null?void 0:b.user_id)||""),Ko=parseInt(Qr==null?void 0:Qr.weight)||0,sn=parseInt(x==null?void 0:x.weight)||0;return no===vo?!1:no!==vo&&Ko>=sn}catch(ur){return console.error("Error checking field permissions:",ur),!1}},[u,D,S]);N.useEffect(()=>{const Ae=Fe();Be(Ae)},[Fe]),N.useEffect(()=>{var Ae,ft,Xe,St;if((Ae=S.infoPane)!=null&&Ae.derived_field_name){const pt={infoPane:!1,cards:{}};(St=(Xe=(ft=S.infoPane)==null?void 0:ft.meta)==null?void 0:Xe.verify)!=null&&St.verify_handler?pt.infoPane=!0:pt.infoPane=!1;const Rt=(Nt,ur)=>{Array.isArray(Nt)&&Nt.forEach(er=>{var Qr,no;if((er==null?void 0:er.display_type)==="card"&&((no=(Qr=er==null?void 0:er.meta)==null?void 0:Qr.verify)!=null&&no.verify_handler)){const vo=`${ur}.${er.derived_field_name}`;pt.cards[vo]=!1}(er==null?void 0:er.display_type)==="groupbox"&&Array.isArray(er==null?void 0:er.fields)&&Rt(er.fields,ur)})};Array.isArray(S.infoPane.fields)&&Rt(S.infoPane.fields,D),de(pt)}},[S.infoPane,D]),N.useEffect(()=>{var ft,Xe,St;if(!u||!te)return;const Ae={infoPane:te.infoPane,cards:{...te.cards}};if((St=(Xe=(ft=S.infoPane)==null?void 0:ft.meta)==null?void 0:Xe.verify)!=null&&St.verify_handler){const pt=Ze(u,`${D}._ver_status`);Ae.infoPane=(pt==null?void 0:pt.status)==="success"}Ae.cards&&Object.keys(Ae.cards).forEach(pt=>{const Rt=Ze(u,`${pt}._ver_status`);Ae.cards[pt]=(Rt==null?void 0:Rt.status)==="success"}),de(Ae)},[u,D,S.infoPane]),N.useEffect(()=>{if(Object.keys(Y).length>0&&u){const Ae={...Z};Object.keys(Y).forEach(Xe=>{const St=Ze(u,`${D}.${Xe}`);Ae[Xe]=!!St}),ue(Ae);const ft=Object.values(Ae).every(Xe=>Xe===!0);U(ft)}else Object.keys(Y).length===0&&U(!0)},[u,Y,D,ne]);const He=N.useCallback((Ae,ft="")=>{var St,pt,Rt;if(!(Ae!=null&&Ae.editable)||!((St=S.infoPane)!=null&&St.derived_field_name))return!1;if(Ae.editable===!1)return!0;if(typeof(Ae==null?void 0:Ae.editable)=="string"&&ef(Ae==null?void 0:Ae.editable))return!tf(Ae==null?void 0:Ae.editable,u,D);const Xe=ft?Ze(u,ft):Ze(u,S.infoPane.derived_field_name);return(pt=Ae==null?void 0:Ae.field_notation)!=null&&pt.includes("DIGILOCKER"),r4e(Ae.editable,Xe,u,D,(Rt=S==null?void 0:S.infoPane)==null?void 0:Rt.derived_field_name)},[u,S.infoPane]),gt=()=>{var Xe,St,pt;if(!te)return!0;const Ae=te.cards&&Object.keys(te.cards).length>0;if(Ae||((pt=(St=(Xe=S.infoPane)==null?void 0:Xe.meta)==null?void 0:St.verify)==null?void 0:pt.verify_handler)){const Rt=te.infoPane;return Ae&&Object.values(te.cards).every(Nt=>Nt===!0),!Rt}return!z};N.useEffect(()=>{if(e&&r.sectionName&&u&&S.infoPane&&!k){const Ae=R_e(u,S.infoPane,S.infoPane.derived_field_name);Ae!==u&&l(Ae),P(!0)}},[e,r,u,S.infoPane,k,l]),N.useEffect(()=>{var Ae;if((Ae=S.infoPane)!=null&&Ae.fields){const ft=(St,pt="")=>{const Rt={};return St.forEach(Nt=>{const ur=pt?`${pt}.${Nt.derived_field_name}`:Nt.derived_field_name;if(Nt.mandatory&&(Rt[ur]=!1),Nt.display_type==="card"&&Nt.fields){const er=ft(Nt.fields,ur);Object.assign(Rt,er)}if(Nt.display_type==="groupbox"&&Nt.fields){const er=ft(Nt.fields,ur);Object.assign(Rt,er)}}),Rt},Xe=ft(S.infoPane.fields);Object.keys(Xe).length===0&&U(!0),q(Xe),ue(Xe)}},[S.infoPane]),N.useEffect(()=>{var Ae,ft;if(e&&r){let Xe=Fg(e,r.sectionName,r.parentIndex);if(Xe.section)T(Xe);else{const pt=Lr(e),Rt=((Ae=pt==null?void 0:pt[0])==null?void 0:Ae.derived_field_name)||"";Xe=Fg(e,Rt,0),T(Xe)}if(P(!1),sessionStorage.getItem("formResponse")===null){const pt=m0(c==null?void 0:c.form_fields);l(pt),sessionStorage.setItem("formResponse",JSON.stringify(pt))}(ft=Xe.infoPane)!=null&&ft.derived_field_name&&$(Xe.parentResponsePath+Xe.infoPane.derived_field_name)}},[e,r]);const _t=()=>{var Ae,ft,Xe,St,pt,Rt,Nt,ur,er;return((Xe=(ft=(Ae=S.infoPane)==null?void 0:Ae.meta)==null?void 0:ft.operation)==null?void 0:Xe.continue)||((Rt=(pt=(St=S.infoPane)==null?void 0:St.meta)==null?void 0:pt.operation)==null?void 0:Rt.save)||((er=(ur=(Nt=S.infoPane)==null?void 0:Nt.meta)==null?void 0:ur.operation)==null?void 0:er.submit)},At=N.useCallback((Ae,ft="")=>{var pt,Rt,Nt;if(!(Ae!=null&&Ae.hidden)||!((pt=S.infoPane)!=null&&pt.derived_field_name))return!1;if((Ae==null?void 0:Ae.hidden)===!0&&typeof(Ae==null?void 0:Ae.hidden)=="boolean")return!0;if(ef(Ae==null?void 0:Ae.hidden))return tf(Ae==null?void 0:Ae.hidden,u,D);if(Ae.hidden===!0)return!0;const St=ft?Ze(u,ft):Ze(u,S.infoPane.derived_field_name);return(Rt=Ae==null?void 0:Ae.field_notation)!=null&&Rt.includes("DIGILOCKER"),qp(Ae.hidden,St,u,D,(Nt=S==null?void 0:S.infoPane)==null?void 0:Nt.derived_field_name)},[u,S.infoPane]),or=async()=>{try{De("Generating PDF"),Se(!0),u||(v("Response Object not found!"),p(!0));const Ae=await L({formName:"aof_form",pdfName:"test.pdf",payload:u})}catch{console.error("Error in generating pdf"),v("Unable to generate pdf!"),p(!0),De(""),Se(!1)}finally{De(""),Se(!1)}},Cr=async()=>{var Ae,ft;try{(!((Ae=S.infoPane)!=null&&Ae.derived_field_name)||!u)&&(v("Response Object/Info Pane not found!"),p(!0));const Xe=Ze(u,D),St=[];f&&St.push(f),Se(!0),De("Verifying");const pt=await I(c.form_id,Xe,(ft=S==null?void 0:S.infoPane)==null?void 0:ft.derived_field_name,St);(!pt||pt.error)&&(Se(!1),De(""),v("Unable to set the verication status!"),p(!0)),he({status:pt.data.status,id:pt.data.id,message:pt.data.message,actor:pt.data.actor}),he({...ie});let Rt;if(pt.response&&(Rt=dt(u,D,pt.response),l(Rt),sessionStorage.setItem("formResponse",JSON.stringify(Rt))),pt.data){const Nt=D+"._ver_status",ur=dt(Rt||u,Nt,pt.data);l(ur),sessionStorage.setItem("formResponse",JSON.stringify(ur)),he(er=>{var Qr,no,vo,Ko;return{...er,status:((Qr=pt==null?void 0:pt.data)==null?void 0:Qr.status)??null,id:((no=pt==null?void 0:pt.data)==null?void 0:no.id)??null,message:((vo=pt==null?void 0:pt.data)==null?void 0:vo.message)??"",actor:((Ko=pt==null?void 0:pt.data)==null?void 0:Ko.actor)??null}}),he({...ie}),Se(!1),De("")}V()}catch(Xe){v("Verification Failed!"),p(!0),Se(!1),De(""),console.error("Error in Verify Data",Xe)}},vr=(Ae,ft,Xe,St)=>{var er,Qr;let pt=((Qr=(er=ft==null?void 0:ft.meta)==null?void 0:er.limits)==null?void 0:Qr.max)||2,Rt=ft.fields.length,Nt=`${Xe}.${ft.derived_field_name}`;if(Rt>pt)return;let ur=Ae;ur.sequence++,ft.fields.push(Ae),ZI(c,St,Rt+1,St+"[0]",u,Nt),sessionStorage.setItem("lyikForm",JSON.stringify(c)),sessionStorage.setItem("formResponse",JSON.stringify(u)),A(F+1)},br=(Ae,ft,Xe,St="",pt)=>{v(`Do you want to delete ${St}? This cannot be reversed!`),p(!0);const Rt=u;RV(c,Xe,ft,pt,Rt),sessionStorage.setItem("lyikForm",JSON.stringify(c)),l({...Rt}),sessionStorage.setItem("formResponse",JSON.stringify(Rt))};N.useEffect(()=>{A(Ae=>Ae+1)},[u]);const Lr=Ae=>{const ft=[];return Ae==null||Ae.forEach((Xe,St)=>{var pt;(Xe==null?void 0:Xe.display_type)!=="tab_break"&&((Xe==null?void 0:Xe.display_type)==="groupbox"&&(Xe==null?void 0:Xe.field_type)===512?(pt=Xe.fields)==null||pt.forEach((Rt,Nt)=>{var ur;(Rt==null?void 0:Rt.display_type)==="groupbox"&&(Rt==null?void 0:Rt.field_type)===256&&((ur=Rt==null?void 0:Rt.fields)==null||ur.forEach(er=>{(er==null?void 0:er.display_type)==="section_break"&&ft.push({parentIndex:Nt,isArraySection:!0,...er})}))}):(Xe==null?void 0:Xe.display_type)==="section_break"&&ft.push({parentIndex:0,isArraySection:!1,...Xe}))}),ft},Tr=()=>{var ft,Xe;const Ae=Ze(u,D);return!!((Ae==null?void 0:Ae._approval_status)!=="approved"&&(Ae!=null&&Ae._approval_status)&&!(Ae!=null&&Ae._ver_status)||((ft=Ae==null?void 0:Ae._ver_status)==null?void 0:ft.status)==="success"||((Xe=Ae==null?void 0:Ae._ver_status)==null?void 0:Xe.status)==="indeterminate")},Br=()=>{var ft,Xe;const Ae=Ze(u,D);return!(((ft=Ae==null?void 0:Ae._approval_status)==null?void 0:ft.status)==="approved"||(Xe=x==null?void 0:x.persona)!=null&&Xe.includes("CKR"))},$t=()=>{var Ae,ft,Xe,St,pt,Rt,Nt,ur,er;if((ft=(Ae=S==null?void 0:S.infoPane)==null?void 0:Ae.field_notation)!=null&&ft.includes("FOR_OFFICE_USE_ONLY"))return!1;if((Xe=x==null?void 0:x.persona)!=null&&Xe.includes("CKR"))return!((Rt=(pt=(St=S==null?void 0:S.infoPane)==null?void 0:St.meta)==null?void 0:pt.operation)!=null&&Rt.submit);if(Ze(u,`${D}._approval_status.status`)==="approved")return!((er=(ur=(Nt=S==null?void 0:S.infoPane)==null?void 0:Nt.meta)==null?void 0:ur.operation)!=null&&er.submit)},Xr=()=>{var Ae,ft,Xe,St,pt,Rt,Nt,ur,er;if(_t())return(ft=(Ae=S==null?void 0:S.infoPane)==null?void 0:Ae.field_notation)!=null&&ft.includes("FOR_OFFICE_USE_ONLY")?!0:(Xe=x==null?void 0:x.persona)!=null&&Xe.includes("CKR")?!!((Rt=(pt=(St=S==null?void 0:S.infoPane)==null?void 0:St.meta)==null?void 0:pt.operation)!=null&&Rt.submit):(er=(ur=(Nt=S==null?void 0:S.infoPane)==null?void 0:Nt.meta)==null?void 0:ur.operation)!=null&&er.submit?!0:Ze(u,`${D}._approval_status.status`)!=="approved"},Mn=()=>{if(D){const Ae=`${D}._ver_status`,ft=dt(u,Ae,void 0),Xe=`${D}._approval_status`,St=dt(ft,Xe,void 0);l({...St}),sessionStorage.setItem("formResponse",JSON.stringify(St))}},Yn=async Ae=>{var Rt,Nt,ur,er,Qr,no,vo,Ko,sn,Ji,Di,Pr,Tn,ci;const ft=Lr(e);sessionStorage.removeItem("section");const Xe=ft.findIndex(Er=>(o(!1),Er.isArraySection?Er.derived_field_name===r.sectionName&&Er.parentIndex===r.parentIndex:Er.derived_field_name===r.sectionName)),St=Er=>{var jr;if(!(Er!=null&&Er.hidden))return!1;if(Er.hidden===!0)return!0;const An=Fg(c.form_fields,Er.section_derived_field_name,Er.section_parent_index),oo=Ze(u,An.parentResponsePath);return ef(Er==null?void 0:Er.hidden)?tf(Er==null?void 0:Er.hidden,u,D):qp(Er.hidden,oo,u,D,(jr=An==null?void 0:An.infoPane)==null?void 0:jr.derived_field_name)},pt=(Er,An)=>{const oo=An==="next"?1:-1;let Xo=Er+oo;for(;Xo>=0&&Xo<ft.length;){const Io=ft[Xo];if(!St(Io))return Io;Xo+=oo}return null};if(Ae==="next")try{const Er=Ze(u,`${D}._ver_status`);let An={...u};if(Er){const jr=`${D}._ver_status`;An=dt(u,jr,{...Er})}else{const jr=`${D}._ver_status`;An=dt(u,jr,{})}l(An);let oo={...An};const Xo=[];f&&Xo.push(f);let Io;if((ur=(Nt=(Rt=S.infoPane)==null?void 0:Rt.meta)==null?void 0:Nt.operation)!=null&&ur.submit){De("Submitting"),Se(!0);try{const jr=[];f&&jr.push(f);const io=Ze(u,D);let Vr;(er=x==null?void 0:x.persona)!=null&&er.includes("CKR")||(Vr=await I(c==null?void 0:c.form_id,io,(Qr=S==null?void 0:S.infoPane)==null?void 0:Qr.derived_field_name,jr));let Pi={...An};if(Vr!=null&&Vr.response&&(Pi=dt(An,D,Vr.response),l(Pi),sessionStorage.setItem("formResponse",JSON.stringify(Pi))),Vr!=null&&Vr.data){const Ii=`${D}._ver_status`,Zi=dt(Pi,Ii,Vr.data);l(Zi),sessionStorage.setItem("formResponse",JSON.stringify(Zi)),oo={...Zi}}const jn=await W({payload:oo,files:jr});if((jn==null?void 0:jn.result)==="failure"){const Ii=jn==null?void 0:jn.record;l(Ii),sessionStorage.setItem("formResponse",JSON.stringify(Ii)),De(""),d([]),Se(!1),ee(!0),se(jn),H()}else d([]),ee(!0),De(""),Se(!1),se(jn);De(""),Se(!1)}catch(jr){v(jr.message),p(!0),De(""),Se(!1);return}}else if((Ko=(vo=(no=S.infoPane)==null?void 0:no.meta)==null?void 0:vo.operation)!=null&&Ko.save&&!$e&&!(Ze(u,`${D}._approval_status.status`)==="approved"||Ze(u,`${D}._approval_status.status`)==="rejected")){De("Saving"),Se(!0),E(null),w(null);try{const jr=[];f&&jr.push(f);const io=Ze(u,D),Vr=await I(c==null?void 0:c.form_id,io,(sn=S==null?void 0:S.infoPane)==null?void 0:sn.derived_field_name,jr);let Pi={...An};if(Vr!=null&&Vr.response&&(Pi=dt(An,D,Vr.response),l(Pi),sessionStorage.setItem("formResponse",JSON.stringify(Pi))),Vr!=null&&Vr.data){const jn=`${D}._ver_status`,Ii=dt(Pi,jn,Vr.data);if(l(Ii),sessionStorage.setItem("formResponse",JSON.stringify(Ii)),oo={...Ii},((Ji=Vr==null?void 0:Vr.data)==null?void 0:Ji.status)==="failure")return;if(await B({payload:oo,files:jr}),sessionStorage.removeItem("section"),d([]),Xe<ft.length-1){const Zi=Ze(u,`${(Di=S==null?void 0:S.infoPane)==null?void 0:Di.derived_field_name}._ver_status`),vc=pt(Xe,"next");vc&&(Zi==null?void 0:Zi.status)!=="failure"&&t({sectionName:vc.derived_field_name,parentIndex:vc.parentIndex})}H(D)}}catch(jr){De(""),Se(!1),v(jr.message),p(!0);return}finally{De(""),Se(!1)}}else if(!((Pr=x==null?void 0:x.persona)!=null&&Pr.includes("CKR"))&&!(Ze(u,`${D}._approval_status.status`)==="approved"||Ze(u,`${D}._approval_status.status`)==="rejected")){if(await B({payload:oo,files:Xo}),sessionStorage.removeItem("section"),d([]),Xe<ft.length-1){const jr=Ze(u,`${(Tn=S==null?void 0:S.infoPane)==null?void 0:Tn.derived_field_name}._ver_status`),io=pt(Xe,"next");io&&(jr==null?void 0:jr.status)!=="failure"&&t({sectionName:io.derived_field_name,parentIndex:io.parentIndex})}}else if((Ze(u,`${D}._approval_status.status`)==="approved"||Ze(u,`${D}._approval_status.status`)==="rejected")&&(sessionStorage.removeItem("section"),d([]),Xe<ft.length-1)){const jr=Ze(u,`${(ci=S==null?void 0:S.infoPane)==null?void 0:ci.derived_field_name}._ver_status`),io=pt(Xe,"next");io&&(jr==null?void 0:jr.status)!=="failure"&&t({sectionName:io.derived_field_name,parentIndex:io.parentIndex})}}catch(Er){console.error("Error handling navigation: ",Er),v("An error occurred during navigation!"),p(!0)}else if(Ae==="back"&&Xe>0){const Er=pt(Xe,"back");Er&&t({sectionName:Er.derived_field_name,parentIndex:Er.parentIndex})}};N.useEffect(()=>{const Ae=sessionStorage.getItem("lyikForm"),ft=sessionStorage.getItem("formResponse");if(Ae&&ft){const Xe=TV(JSON.parse(Ae),ft);console.log("Lyik Form: ",Xe),C(Xe),sessionStorage.setItem("lyikForm",JSON.stringify(Xe))}},[u,C]);const Ee=(Ae,ft,Xe="")=>{var pt,Rt,Nt,ur,er,Qr,no,vo;const St=Xe;if((Ae==null?void 0:Ae.display_type)==="groupbox"&&(Ae==null?void 0:Ae.field_type)===512){let Ko=0;const sn=At(Ae,ft);if(sn&&!((pt=Ae==null?void 0:Ae.field_notation)!=null&&pt.includes("SAVE_EVEN_IF_HIDDEN"))){ft+""+Ae.derived_field_name;const Pr=Ze(u,ft);if(Pr&&Pr[Ae==null?void 0:Ae.derived_field_name]&&Ae.field_type===512){delete Pr[Ae==null?void 0:Ae.derived_field_name];const Tn=dt(u,D,Pr);l({...Tn}),sessionStorage.setItem("formResponse",JSON.stringify(Tn))}}if(!sn){const Pr=Ze(u,D+"."+Ae.derived_field_name);if(Pr===""){const Tn=A0(Ae),ci=dt(u,`${D}.${Ae.derived_field_name}[0]`,Tn);sessionStorage.setItem("formResponse",ci)}if(!Pr){const Tn=A0(Ae),ci=dt(u,`${D}.${Ae.derived_field_name}[0]`,Tn);sessionStorage.setItem("formResponse",ci)}}const Ji=(Rt=Ae.fields)==null?void 0:Rt.map((Pr,Tn)=>{var Xo,Io,jr,io;const ci=ft+"."+Ae.derived_field_name,Er=`${ci}[${Tn}].${Pr.derived_field_name}`,An=Ze(u,ci+`[${Tn}]`),oo=Pr.hidden?qp(Pr.hidden,An):!1;if((Pr==null?void 0:Pr.display_type)==="card")return O.jsx(xg,{field:Pr,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:Vr=>qp(Vr.hidden,An),parentResponsePath:Er,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,updateHasChanges:we,hasChanges:ne,shouldDisableField:He,handleVerificationDisabled:Tr},Pr.derived_field_name);if((Pr==null?void 0:Pr.display_type)==="groupbox"){Ko=Tn;const Vr=Ee(Pr,Er,St+".fields["+Ko+"]");return O.jsxs(Re,{sx:{display:oo?"none":"block"},children:[Vr,(Xo=Ae==null?void 0:Ae.meta)!=null&&Xo.button_label&&((Io=Ae==null?void 0:Ae.fields)==null?void 0:Io.length)>1&&!((io=(jr=Ae==null?void 0:Ae.meta)==null?void 0:jr.limits)!=null&&io.fixed)&&!Tr()?O.jsxs(O.Fragment,{children:[O.jsxs(Zt,{onClick:br.bind(this,ft+"."+Ae.derived_field_name+"."+Pr.derived_field_name,Tn,St+".fields",Pr.derived_field_name,ft+"."+Ae.derived_field_name),endIcon:O.jsx(ES,{}),sx:{color:"error.main",textTransform:"none",borderRadius:10,px:1,borderColor:"error.main","&:hover":{borderColor:"error.dark",backgroundColor:"error.lighter"}},children:["Delete ",Pr.derived_field_name]}),O.jsx("br",{})]}):O.jsx(O.Fragment,{})]},`${Pr.derived_field_name}-${Tn}`)}else return O.jsx(Re,{sx:{display:oo?"none":"block"},children:O.jsx(z_,{field:Pr,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:Vr=>qp(Vr.hidden,An),parentResponsePath:Er,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,currentSection:r,updateHasChanges:we,shouldDisableField:He,handleVerificationDisabled:Tr})},`${Pr.derived_field_name}-${Tn}`)}),Di=Ae.hidden?qp(Ae.hidden,Ze(u,ft),u,D,(Nt=S==null?void 0:S.infoPane)==null?void 0:Nt.derived_field_name):!1;return O.jsxs(Re,{sx:{display:Di?"none":"block"},children:[Ji,((ur=Ae==null?void 0:Ae.meta)==null?void 0:ur.button_label)&&!((Qr=(er=Ae==null?void 0:Ae.meta)==null?void 0:er.limits)!=null&&Qr.fixed)&&!Tr()&&O.jsx(Zt,{variant:"contained",color:"primary",endIcon:O.jsx(hV,{}),onClick:()=>vr(Ae.fields[0],Ae,ft,Xe+".fields"),sx:{px:2,my:1,marginRight:1},children:((no=Ae==null?void 0:Ae.meta)==null?void 0:no.button_label)||"Add"})]})}if((Ae==null?void 0:Ae.display_type)==="groupbox"&&(Ae==null?void 0:Ae.field_style)!=512){const Ko=(vo=Ae.fields)==null?void 0:vo.map(sn=>(sn==null?void 0:sn.display_type)==="card"?O.jsx(xg,{field:sn,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,groupPath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,updateHasChanges:we,hasChanges:ne,shouldDisableField:He,handleVerificationDisabled:Tr},sn.derived_field_name+F):(sn==null?void 0:sn.display_type)==="table"?O.jsx(xg,{field:sn,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,groupPath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,updateHasChanges:we,hasChanges:ne,shouldDisableField:He,handleVerificationDisabled:Tr},sn.derived_field_name+F):O.jsx(z_,{field:sn,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,currentSection:r,updateHasChanges:we,shouldDisableField:He,handleVerificationDisabled:Tr},sn.derived_field_name+F));return O.jsx(O.Fragment,{children:Ko})}return(Ae==null?void 0:Ae.display_type)==="card"?O.jsx(xg,{field:Ae,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,updateHasChanges:we,hasChanges:ne,shouldDisableField:He,handleVerificationDisabled:Tr}):(Ae==null?void 0:Ae.display_type)==="table"?O.jsx(n4e,{field:Ae,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,updateHasChanges:we}):O.jsx(z_,{field:Ae,infoPaneDerivedFieldName:S.infoPane.derived_field_name,shouldHideField:At,parentResponsePath:ft,setLoadingModalMessage:De,setLoadingModalStatus:Se,isFieldsDisabled:$e,currentSection:r,updateHasChanges:we,shouldDisableField:He,handleVerificationDisabled:Tr})},nt=Lr(e).findIndex(Ae=>Ae.derived_field_name===r.sectionName)===0;return(yt=S.infoPane)!=null&&yt.derived_field_name?O.jsxs(Re,{sx:{p:{xs:0,md:1},height:"100%",display:"flex",flexDirection:"column"},children:[O.jsxs(Re,{sx:{position:"sticky",top:0,backgroundColor:"white",zIndex:1,pb:{xs:0,md:2}},children:[O.jsx(I9,{section_name:(It=S.section)==null?void 0:It.title,verifyStatus:Q==null?void 0:Q.status,description:(Ut=S==null?void 0:S.infoPane)==null?void 0:Ut.description,checkStatus:G==null?void 0:G.status,responsePath:D,isFieldsDisabled:$e,fieldNotation:(wt=S==null?void 0:S.infoPane)==null?void 0:wt.field_notation}),(G==null?void 0:G.status)==="rejected"&&O.jsx(t4e,{discrepMessage:G==null?void 0:G.message,responsePath:D})]}),O.jsxs(Re,{sx:{flex:1,overflowY:"auto",px:2,position:"relative",height:"400px","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:[(ie==null?void 0:ie.status)==="failure"||(Q==null?void 0:Q.status)==="failure"&&O.jsxs(Re,{sx:{position:"sticky",zIndex:999,top:0,left:50,mb:2,backgroundColor:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",mx:"auto",p:s?0:1},children:[O.jsx(Re,{sx:{width:"100%",maxWidth:"600px",textAlign:"center"},children:O.jsx(it,{variant:"body2",color:(ie==null?void 0:ie.status)==="failure"||(Q==null?void 0:Q.status)==="failure"?"error":"warning",sx:{fontWeight:"bold"},children:(ie==null?void 0:ie.message)||Q.message})}),O.jsx(Bo,{sx:{width:"100%",my:1}})]}),((ie==null?void 0:ie.status)==="indeterminate"||(Q==null?void 0:Q.status)==="indeterminate")&&O.jsxs(Re,{sx:{position:"sticky",zIndex:999,top:0,mb:2,backgroundColor:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",mx:"auto",p:s?0:1},children:[O.jsx(Re,{sx:{width:"100%",maxWidth:"600px"},children:O.jsx(it,{variant:"body2",color:(ie==null?void 0:ie.status)==="failure"||(Q==null?void 0:Q.status)==="failure"?"error":"warning",sx:{fontWeight:"bold",lineHeight:1.5,maxHeight:"6em",overflowY:"auto",whiteSpace:"pre-line",textAlign:"left",pr:1},children:(ie==null?void 0:ie.message)||Q.message})}),O.jsx(Bo,{sx:{width:"100%",my:1}})]}),(ie==null?void 0:ie.status)==="success"&&(Q==null?void 0:Q.status)==="success"&&((Et=x==null?void 0:x.persona)==null?void 0:Et.includes("CKR"))&&O.jsx(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",maxWidth:"400px",mx:"auto",p:2},children:O.jsx(Re,{sx:{width:"100%",textAlign:"center"},children:O.jsx(it,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:(ie==null?void 0:ie.message)||Q.message})})}),(Lt=(xt=S.infoPane)==null?void 0:xt.fields)==null?void 0:Lt.map((Ae,ft)=>Ee(Ae,D,S.formPath+".fields["+ft+"]")),!Tr()&&((an=(lr=(sr=S.infoPane)==null?void 0:sr.meta)==null?void 0:lr.verify)==null?void 0:an.action_text)&&O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:!((Ar=x==null?void 0:x.persona)!=null&&Ar.includes("CKR"))&&O.jsx(Zt,{variant:"contained",color:"primary",disabled:$e,onClick:Cr,sx:{...FU,my:1,marginRight:1,"&:hover":{backgroundColor:fr(a.palette.primary.main,.6)}},children:(Ai=(zr=(mt=S.infoPane)==null?void 0:mt.meta)==null?void 0:zr.verify)==null?void 0:Ai.action_text})}),Br()&&Tr()&&O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:O.jsx(Zt,{variant:"contained",color:"primary",disabled:$e,onClick:Mn,sx:{...FU,my:1,marginRight:1,paddingX:4,"&:hover":{backgroundColor:fr(a.palette.primary.main,.6)}},children:"Edit Data"})})]}),O.jsxs(Re,{sx:{position:"sticky",bottom:0,backgroundColor:"white",display:"flex",justifyContent:"space-between",pb:1,px:2,marginLeft:"auto"},children:[re&&O.jsx(Zt,{variant:"outlined",startIcon:O.jsx(mV,{}),onClick:()=>Yn("back"),disabled:nt,sx:{...a_},children:"Back"}),O.jsxs(Re,{children:[((ro=(Yo=(Oi=S==null?void 0:S.infoPane)==null?void 0:Oi.meta)==null?void 0:Yo.operation)==null?void 0:ro.pdf)&&O.jsx(Zt,{variant:"contained",onClick:or,sx:{...a_,mr:2},children:(Qi=(Za=(hu=S==null?void 0:S.infoPane)==null?void 0:hu.meta)==null?void 0:Za.operation)==null?void 0:Qi.pdf}),Xr()&&O.jsx(Zt,{variant:"main",endIcon:O.jsx(sD,{}),onClick:()=>Yn("next"),sx:{...a_,minWidth:200,marginLeft:"auto",backgroundColor:"#262D64","&:hover":{backgroundColor:"#3BB9EB"}},children:_t()}),$t()&&O.jsx(Zt,{variant:"contained",endIcon:O.jsx(sD,{}),onClick:()=>Yn("next"),sx:{...a_,mt:2,minWidth:200,"&:hover":{backgroundColor:"#3BB9EB"},marginLeft:"auto"},children:"Continue"})]})]}),O.jsx(il,{open:h,handleClose:m,message:y}),O.jsx(iX,{open:oe,submitMessage:J,goHome:()=>{(J==null?void 0:J.result)==="success"&&X("/home",{replace:!0}),ee(!1)}}),O.jsx(Cy,{open:_e,message:xe})]}):O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:O.jsx(Hi,{})})}VD.propTypes={fields:fe.array,currentSection:fe.object,setCurrentSection:fe.func.isRequired,parentResponsePath:fe.string.isRequired,setIsSidePanelOpen:fe.func};z_.propTypes={field:fe.object,infoPaneDerivedFieldName:fe.string,shouldHideField:fe.func,parentResponsePath:fe.string,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.func,isFieldsDisabled:fe.bool,currentSection:fe.object,updateHasChanges:fe.func,handleVerificationDisabled:fe.func};xg.propTypes={field:fe.object,infoPaneDerivedFieldName:fe.string,shouldHideField:fe.func,parentResponsePath:fe.string,setLoadingModalMessage:fe.func,setLoadingModalStatus:fe.bool,groupPath:fe.string,isFieldsDisabled:fe.bool,updateHasChanges:fe.func,hasChanges:fe.number,handleVerificationDisabled:fe.func};const Ti=N.createContext(),dX=N.createContext();function o4e(){var oe,ee;const{isSidePanelOpen:e,setIsSidePanelOpen:r}=wae(),[t,n]=N.useState(0),o=Ki(),{responseObject:i,lyikForm:a,setLyikForm:s,setResponseObject:u,setUserPermissions:l,userPermissions:c,setUserInfo:f}=N.useContext(tr),{form_id:d}=VP(),p=sessionStorage.getItem("lyikForm"),[h,m]=N.useState(!0),[y,v]=N.useState(""),g=sessionStorage.getItem("record_id"),[x,b]=N.useState(!0),[w,E]=N.useState(!0),{data:C,loading:S,error:T}=m_e(d,g);N.useEffect(()=>{const ne=async()=>{const J=localStorage.getItem("token");try{const se=await jo();if(se){const j=await fetch(`${se==null?void 0:se.api_path}/v1/forms/${d}`,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+J}});if(j.ok){const ce=await j.json();if(ce.length<=0)throw o("/404",{replace:!0}),window.location.reload(),new Error("No data found");{s(ce[0]),m(!1),sessionStorage.setItem("lyikForm",JSON.stringify(ce[0]));const re=JSON.parse(sessionStorage.getItem("formResponse"));if(C||re&&g){const Q=TV(ce[0],C||re);s({...Q}),sessionStorage.setItem("lyikForm",JSON.stringify(Q))}q()}}}}catch(se){console.error(se.message),v(se.message)}};(!JSON.parse(sessionStorage.getItem("lyikForm"))||C)&&(ne(),b(!1))},[d,C]),N.useEffect(()=>{g&&g.trim()!==""&&sessionStorage.setItem("id",g)},[g]),N.useEffect(()=>{if(p)try{const ne=JSON.parse(p);s(ne),q()}catch(ne){console.error("Error parsing tempLyikForm:",ne)}},[p,s]),N.useEffect(()=>{var pe,J,se;const ne=localStorage.getItem("token");if(ne){const j=K0(ne);(pe=j==null?void 0:j.user_metadata)!=null&&pe.user_info&&f((J=j==null?void 0:j.user_metadata)==null?void 0:J.user_info),(se=j==null?void 0:j.user_metadata)!=null&&se.permissions&&l(j.user_metadata.permissions)}},[]);const[k,P]=N.useState(()=>{const ne=sessionStorage.getItem("section");if(ne)try{return JSON.parse(ne)}catch(pe){return console.error("Error parsing saved section:",pe),{sectionName:"",parentIndex:0}}else sessionStorage.setItem("section",JSON.stringify({sectionName:"",parentIndex:0}));return{sectionName:"",parentIndex:0}});N.useEffect(()=>{k.sectionName&&sessionStorage.setItem("section",JSON.stringify(k)),r(!1)},[k]);const I=N.useRef(!1),F=N.useRef(null),[A,D]=N.useState("FLD"),[$,B]=N.useState(0),[W,L]=N.useState(0),z=p?JSON.parse(p):a,U=z?TEe(z==null?void 0:z.form_fields):null,Y=z?C_e(z==null?void 0:z.form_fields):null,q=N.useCallback(()=>{if(B(ne=>ne+1),z!=null&&z.form_fields){const ne=sessionStorage.getItem("formResponse");if(ne)try{const pe=JSON.parse(ne);u(pe)}catch(pe){console.error("Error parsing saved response during refresh:",pe)}}},[z==null?void 0:z.form_fields,u]),V=N.useCallback(()=>{L(ne=>ne+1)},[]);N.useEffect(()=>{i&&Object.keys(i).length>0&&(F.current=i)},[i]),N.useEffect(()=>{(async()=>{if(z!=null&&z.form_fields&&!I.current){if(E(!0),g){if(S)return;C&&(u(C),sessionStorage.setItem("formResponse",JSON.stringify(C)),q())}else{const pe=sessionStorage.getItem("formResponse");if(pe)try{const J=JSON.parse(pe);u(J),q()}catch(J){console.error("Error parsing saved response:",J);const se=m0(z.form_fields);u(se),q()}else{const J=m0(z.form_fields);u(J),q()}}I.current=!0,E(!1)}})()},[z,g,C,S,u]),N.useEffect(()=>{var ne,pe,J;if(U&&!k.sectionName){const j={sectionName:((J=(pe=(ne=U==null?void 0:U[0])==null?void 0:ne.sections)==null?void 0:pe[0])==null?void 0:J.section_derived_field_name)||"",parentIndex:0};P(j),sessionStorage.setItem("section",JSON.stringify(j))}},[U,k.sectionName]),N.useEffect(()=>{i&&Object.keys(i).length>0&&(sessionStorage.setItem("formResponse",JSON.stringify(i)),F.current),V()},[i]);const H=ne=>{P(ne),sessionStorage.setItem("section",JSON.stringify(ne))},{isMobile:Z}=cu();N.useEffect(()=>()=>{I.current=!1},[]),N.useEffect(()=>{if(i){const ne=REe(i,c,z==null?void 0:z.form_fields);n(ne===0?0:ne)}},[W]);const ue=h&&!p||g&&S||w;return y||T?O.jsxs("div",{children:["Error: ",y||T]}):ue?O.jsx(Cy,{open:!0,message:"Loading form data"}):O.jsx(Ti.Provider,{value:q,children:O.jsx(dX.Provider,{value:V,children:O.jsx(Re,{children:O.jsx(ad,{container:!0,rowSpacing:2,columnSpacing:2,children:Z?e?O.jsx(ad,{size:{xs:12,md:3},children:O.jsx(zi,{elevation:5,sx:{py:1,borderRadius:3},children:O.jsx(vD,{fields:Y,form_name:(oe=z==null?void 0:z.meta)==null?void 0:oe.form_name,currentSection:k,setCurrentSection:H,progressPercentage:t},`sidepanel=${$}-${d}-${W}`)})}):O.jsx(ad,{size:{xs:12,md:9},children:O.jsx(zi,{elevation:5,sx:{p:.2,height:"92vh",borderRadius:3},children:O.jsx(VD,{fields:z==null?void 0:z.form_fields,currentSection:k,setCurrentSection:P,parentResponsePath:A,setIsSidePanelOpen:r,progressPercentage:t},`infopane-${d}-${$}-${k.sectionName}`)})}):O.jsxs(O.Fragment,{children:[O.jsx(ad,{size:{xs:12,md:3},children:O.jsx(zi,{sx:{py:0,borderRadius:3,height:"88.5vh",border:"1px solid #F1F1F1)",boxShadow:"5px 2.5px 12.1px 0px rgba(0, 0, 0, 0.08)"},children:O.jsx(Re,{sx:{height:"86vh"},children:O.jsx(vD,{fields:Y,form_name:(ee=z==null?void 0:z.meta)==null?void 0:ee.form_name,currentSection:k,setCurrentSection:H,progressPercentage:t},`sidepanel=${$}-${d}`)})})}),O.jsx(ad,{size:{xs:12,md:9},children:O.jsx(zi,{sx:{px:.2,py:.2,height:"88.5vh",borderRadius:3,border:"1px solid #F1F1F1)",boxShadow:"7px 4px 15.1px 0px rgba(0, 0, 0, 0.08)"},children:O.jsx(VD,{fields:z==null?void 0:z.form_fields,currentSection:k,setCurrentSection:P,parentResponsePath:A,setIsSidePanelOpen:r,progressPercentage:t},`infopane-${d}-${$}-${k.sectionName}`)})})]})})})})})}const MC=(e,r,t="")=>{const{trusted:n,setTrusted:o,responseObject:i,setResponseObject:a}=N.useContext(tr),s=N.useContext(Ti),u=localStorage.getItem("token");return{uploadTrusted:async(c,f)=>{var d;try{const p=new FormData;p.append("payload",JSON.stringify(c)),f&&(Array.isArray(f)&&f.length>0?(d=f[0])==null||d.map(m=>p.append("files",m==null?void 0:m.file,m==null?void 0:m.filename)):p.append("files",f));const h=await jo();if(h){const m=await fetch(`${h==null?void 0:h.api_path}/v1/trusted?trusted_api=${e}`,{method:"POST",headers:{Authorization:`Bearer ${u}`},body:p});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const y=await m.json(),v=`${r}.${e}`,g=dt(n,v,y.response);return o(g),eN(r,g,t,i,e,a),s(),y}}catch(p){return console.error("Error in trusted API:",p),{status:"failure",message:p.message}}}}},i4e=()=>{const{trusted:e,setTrusted:r,responseObject:t,setResponseObject:n}=N.useContext(tr),o=localStorage.getItem("token"),i=sessionStorage.getItem("digilocker_data"),a=i?JSON.parse(i):null,s=JSON.parse(sessionStorage.getItem("formResponse"));return n(s),{uploadXML:async l=>{try{let c;try{const v=l.replace(/\s/g,"");c=atob(v)}catch(v){throw console.error("Error decoding base64:",v),new Error("Invalid base64 string")}let f=c.replace(/^\uFEFF/,"");const d=await jo(),p=new TextEncoder;f=new TextDecoder("utf-8").decode(p.encode(f));const m={aadhaar_xml:l},y=new FormData;if(y.append("payload",JSON.stringify(m)),d){const v=await fetch(`${d==null?void 0:d.api_path}/v1/trusted?trusted_api=${a==null?void 0:a.apiEndPoint}`,{method:"POST",redirect:"follow",headers:{Authorization:`Bearer ${o}`},body:y});if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const g=await v.json(),x=`${a==null?void 0:a.fieldPath}.${a==null?void 0:a.apiEndPoint}`,b=dt(e,x,g.response);return r(b),eN(a==null?void 0:a.fieldPath,b,a==null?void 0:a.infoPaneDerivedFieldName,s,a==null?void 0:a.apiEndPoint,n),b}}catch(c){throw console.error("Error in trusted API:",c),c}}}},a4e=(e,r,t="")=>{const[n,o]=N.useState(null),[i,a]=N.useState(!1),[s,u]=N.useState(null),l=localStorage.getItem("token"),c=sessionStorage.getItem("id"),{setResponseObject:f,setTrusted:d,trusted:p}=N.useContext(tr);return{trustedOvd:N.useCallback(async({payload:m,files:y})=>{var v;a(!0),u(null);try{const g=new FormData,x=await jo();if(g.append("payload",JSON.stringify(m)),Array.isArray(y)&&y.length>0&&((v=y[0])==null||v.map(b=>g.append("files",b==null?void 0:b.file,b==null?void 0:b.filename))),x){const b=`${x==null?void 0:x.api_path}/v1/trusted?trusted_api=${e}`,w=c?`${b}&id=${c}`:b,E=await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:g,redirect:"follow"});if(!E.ok)throw new Error(`HTTP error! status: ${E.status}`);const C=await E.json();o(C);const S=`${r}.${e}`,T=dt(p,S,C.response);return eN(r,T,t),d(T),a(!1),T}}catch(g){throw console.error("Error in trusted upload:",g),u(g.message),a(!1),g}},[e,l,c]),data:n,loading:i,error:s}};function s4e(){const{code:e,setCode:r,setDigiToken:t,setAadhaar:n,aadhaar:o,modalOpen:i,setModalOpen:a}=N.useContext(tr),[s]=Nw(),u=Ki(),{fetchToken:l,fetchAadhaarXML:c,revokeToken:f}=DV(),d=i4e(),p=sessionStorage.getItem("form_id"),[h,m]=N.useState(!1),[y,v]=N.useState(""),g=async x=>{try{r(x),m(!0),v("Fetching DigiLocker token...");const b=await l(x);if(!b)throw new Error("Failed to fetch token! Internal Server Error! Please Try Again or Contact the Administrator!");v("Fetching Aadhaar data...");const w=await c(b);if(!w)throw new Error("Failed to fetch Aadhaar XML! Internal Server Error! Please Try Again or Contact the Administrator!");v("Processing data...");const E=await d.uploadXML(w);if(!E)throw new Error("Failed to upload XML to trusted API");n(E),t(b),v("Completing security steps..."),await f(x,b)}catch(b){m(!1),console.error("DigiLocker processing error:",b),a(!0)}};return N.useEffect(()=>{const x=s.get("code");if(s.get("error")){a(!0);return}x&&!e&&g(x)},[s,e]),N.useEffect(()=>{o&&Object.keys(o).length>0&&(m(!1),u(`/form_id/${p}`,{replace:!0}))},[o,p,u]),O.jsxs(O.Fragment,{children:[O.jsx(Cy,{open:h,message:y}),O.jsx(il,{message:"Digilocker response denied!",open:i,handleClose:()=>{a(!1),u(`/form_id/${p}`,{replace:!0})},closeText:"Go Back"})]})}function LU(){const{code:e,modalOpen:r,setModalOpen:t}=N.useContext(tr),[n]=Nw(),o=Ki(),i=JSON.parse(sessionStorage.getItem("lyikForm")),[a,s]=N.useState(!1),[u,l]=N.useState(""),[c,f]=N.useState(""),[d,p]=N.useState(!1),{setResponseObject:h,uploadedFiles:m}=N.useContext(tr),{uploadForm:y}=AV(i==null?void 0:i.uri),v=async g=>{try{s(!0),l("Processing payments data...");const x=JSON.parse(sessionStorage.getItem("formResponse")),b=await y({payload:x,files:m,pg_response:g});h(b==null?void 0:b.record),sessionStorage.setItem("formResponse",JSON.stringify(b==null?void 0:b.record)),f("Payment Successful!"),t(!0),s(!1)}catch(x){s(!1),p(!0),f("Payment Failure"),console.error("Payments data processing error:",x),t(!0)}};return N.useEffect(()=>{const g=n.get("pg_response");if(n.get("error")){t(!0);return}g?v(g):t(!0)},[n,e]),O.jsxs(O.Fragment,{children:[O.jsx(Cy,{open:a,message:u}),O.jsx(il,{message:c,open:r,handleClose:()=>{var x;t(!1);const g=(x=i==null?void 0:i.uri)==null?void 0:x.split("/").pop();o(`/form_id/${g}`,{replace:!0})},closeText:"Go Back to Form",type:d?"Alert":"Success"})]})}const u4e=()=>{var o,i;const e=Ki();Sr();const r=ou(),t=((o=r.state)==null?void 0:o.message)||"Page Not Found",n=((i=r.state)==null?void 0:i.errorCode)||404;return O.jsxs(Re,{sx:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:3},children:[O.jsx(it,{variant:"h1",color:"primary",sx:{fontWeight:"bold"},children:n}),O.jsx(it,{variant:"h4",color:"text.secondary",children:t}),O.jsx(it,{variant:"body1",color:"text.secondary",align:"center",children:n==500?"We're sorry, but something went wrong on our end.":"The page you're looking for doesn't exist or has been moved."}),O.jsx(Zt,{variant:"contained",color:"primary",size:"large",onClick:()=>e("/home"),sx:{mt:2,px:4,py:1,borderRadius:10,textTransform:"none",fontSize:"1.1rem"},children:"Back to Home"})]})},pX=6048e5,l4e=864e5,BU=Symbol.for("constructDateFrom");function mf(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&BU in e?e[BU](r):e instanceof Date?new e.constructor(r):new Date(r)}function pu(e,r){return mf(r||e,e)}let c4e={};function FC(){return c4e}function O0(e,r){var s,u,l,c;const t=FC(),n=(r==null?void 0:r.weekStartsOn)??((u=(s=r==null?void 0:r.locale)==null?void 0:s.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,o=pu(e,r==null?void 0:r.in),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function hw(e,r){return O0(e,{...r,weekStartsOn:1})}function hX(e,r){const t=pu(e,r==null?void 0:r.in),n=t.getFullYear(),o=mf(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const i=hw(o),a=mf(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=hw(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function jU(e){const r=pu(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function f4e(e,...r){const t=mf.bind(null,r.find(n=>typeof n=="object"));return r.map(t)}function $U(e,r){const t=pu(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function d4e(e,r,t){const[n,o]=f4e(t==null?void 0:t.in,e,r),i=$U(n),a=$U(o),s=+i-jU(i),u=+a-jU(a);return Math.round((s-u)/l4e)}function p4e(e,r){const t=hX(e,r),n=mf(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),hw(n)}function h4e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function v4e(e){return!(!h4e(e)&&typeof e!="number"||isNaN(+pu(e)))}function m4e(e,r){const t=pu(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const g4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y4e=(e,r,t)=>{let n;const o=g4e[e];return typeof o=="string"?n=o:r===1?n=o.one:n=o.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function PA(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const x4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w4e={date:PA({formats:x4e,defaultWidth:"full"}),time:PA({formats:b4e,defaultWidth:"full"}),dateTime:PA({formats:_4e,defaultWidth:"full"})},S4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C4e=(e,r,t,n)=>S4e[e];function ig(e){return(r,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,s=t!=null&&t.width?String(t.width):a;o=e.formattingValues[s]||e.formattingValues[a]}else{const a=e.defaultWidth,s=t!=null&&t.width?String(t.width):e.defaultWidth;o=e.values[s]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(r):r;return o[i]}}const E4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},k4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},O4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D4e=(e,r)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},P4e={ordinalNumber:D4e,era:ig({values:E4e,defaultWidth:"wide"}),quarter:ig({values:k4e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ig({values:R4e,defaultWidth:"wide"}),day:ig({values:T4e,defaultWidth:"wide"}),dayPeriod:ig({values:A4e,defaultWidth:"wide",formattingValues:O4e,defaultFormattingWidth:"wide"})};function ag(e){return(r,t={})=>{const n=t.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=r.match(o);if(!i)return null;const a=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?N4e(s,f=>f.test(a)):I4e(s,f=>f.test(a));let l;l=e.valueCallback?e.valueCallback(u):u,l=t.valueCallback?t.valueCallback(l):l;const c=r.slice(a.length);return{value:l,rest:c}}}function I4e(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function N4e(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function M4e(e){return(r,t={})=>{const n=r.match(e.matchPattern);if(!n)return null;const o=n[0],i=r.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const s=r.slice(o.length);return{value:a,rest:s}}}const F4e=/^(\d+)(th|st|nd|rd)?/i,L4e=/\d+/i,B4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j4e={any:[/^b/i,/^(a|c)/i]},$4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z4e={any:[/1/i,/2/i,/3/i,/4/i]},W4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},H4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y4e={ordinalNumber:M4e({matchPattern:F4e,parsePattern:L4e,valueCallback:e=>parseInt(e,10)}),era:ag({matchPatterns:B4e,defaultMatchWidth:"wide",parsePatterns:j4e,defaultParseWidth:"any"}),quarter:ag({matchPatterns:$4e,defaultMatchWidth:"wide",parsePatterns:z4e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ag({matchPatterns:W4e,defaultMatchWidth:"wide",parsePatterns:U4e,defaultParseWidth:"any"}),day:ag({matchPatterns:q4e,defaultMatchWidth:"wide",parsePatterns:H4e,defaultParseWidth:"any"}),dayPeriod:ag({matchPatterns:V4e,defaultMatchWidth:"any",parsePatterns:G4e,defaultParseWidth:"any"})},K4e={code:"en-US",formatDistance:y4e,formatLong:w4e,formatRelative:C4e,localize:P4e,match:Y4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X4e(e,r){const t=pu(e,r==null?void 0:r.in);return d4e(t,m4e(t))+1}function Q4e(e,r){const t=pu(e,r==null?void 0:r.in),n=+hw(t)-+p4e(t);return Math.round(n/pX)+1}function vX(e,r){var c,f,d,p;const t=pu(e,r==null?void 0:r.in),n=t.getFullYear(),o=FC(),i=(r==null?void 0:r.firstWeekContainsDate)??((f=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??o.firstWeekContainsDate??((p=(d=o.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,a=mf((r==null?void 0:r.in)||e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const s=O0(a,r),u=mf((r==null?void 0:r.in)||e,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const l=O0(u,r);return+t>=+s?n+1:+t>=+l?n:n-1}function J4e(e,r){var s,u,l,c;const t=FC(),n=(r==null?void 0:r.firstWeekContainsDate)??((u=(s=r==null?void 0:r.locale)==null?void 0:s.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??1,o=vX(e,r),i=mf((r==null?void 0:r.in)||e,0);return i.setFullYear(o,0,n),i.setHours(0,0,0,0),O0(i,r)}function Z4e(e,r){const t=pu(e,r==null?void 0:r.in),n=+O0(t,r)-+J4e(t,r);return Math.round(n/pX)+1}function dn(e,r){const t=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return t+n}const Dc={y(e,r){const t=e.getFullYear(),n=t>0?t:1-t;return dn(r==="yy"?n%100:n,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):dn(t+1,2)},d(e,r){return dn(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return dn(e.getHours()%12||12,r.length)},H(e,r){return dn(e.getHours(),r.length)},m(e,r){return dn(e.getMinutes(),r.length)},s(e,r){return dn(e.getSeconds(),r.length)},S(e,r){const t=r.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,t-3));return dn(o,r.length)}},Hp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zU={G:function(e,r,t){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return t.ordinalNumber(o,{unit:"year"})}return Dc.y(e,r)},Y:function(e,r,t,n){const o=vX(e,n),i=o>0?o:1-o;if(r==="YY"){const a=i%100;return dn(a,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):dn(i,r.length)},R:function(e,r){const t=hX(e);return dn(t,r.length)},u:function(e,r){const t=e.getFullYear();return dn(t,r.length)},Q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return dn(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return dn(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){const n=e.getMonth();switch(r){case"M":case"MM":return Dc.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return dn(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){const o=Z4e(e,n);return r==="wo"?t.ordinalNumber(o,{unit:"week"}):dn(o,r.length)},I:function(e,r,t){const n=Q4e(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):dn(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Dc.d(e,r)},D:function(e,r,t){const n=X4e(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):dn(n,r.length)},E:function(e,r,t){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return dn(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){const o=e.getDay(),i=(o-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return dn(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(e,r,t){const n=e.getDay(),o=n===0?7:n;switch(r){case"i":return String(o);case"ii":return dn(o,r.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){const o=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,r,t){const n=e.getHours();let o;switch(n===12?o=Hp.noon:n===0?o=Hp.midnight:o=n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,r,t){const n=e.getHours();let o;switch(n>=17?o=Hp.evening:n>=12?o=Hp.afternoon:n>=4?o=Hp.morning:o=Hp.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return Dc.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Dc.H(e,r)},K:function(e,r,t){const n=e.getHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):dn(n,r.length)},k:function(e,r,t){let n=e.getHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):dn(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dc.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Dc.s(e,r)},S:function(e,r){return Dc.S(e,r)},X:function(e,r,t){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return UU(n);case"XXXX":case"XX":return nd(n);case"XXXXX":case"XXX":default:return nd(n,":")}},x:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"x":return UU(n);case"xxxx":case"xx":return nd(n);case"xxxxx":case"xxx":default:return nd(n,":")}},O:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+WU(n,":");case"OOOO":default:return"GMT"+nd(n,":")}},z:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+WU(n,":");case"zzzz":default:return"GMT"+nd(n,":")}},t:function(e,r,t){const n=Math.trunc(+e/1e3);return dn(n,r.length)},T:function(e,r,t){return dn(+e,r.length)}};function WU(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),i=n%60;return i===0?t+String(o):t+String(o)+r+dn(i,2)}function UU(e,r){return e%60===0?(e>0?"-":"+")+dn(Math.abs(e)/60,2):nd(e,r)}function nd(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),o=dn(Math.trunc(n/60),2),i=dn(n%60,2);return t+o+r+i}const qU=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},mX=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},eBe=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],o=t[2];if(!o)return qU(e,r);let i;switch(n){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",qU(n,r)).replace("{{time}}",mX(o,r))},tBe={p:mX,P:eBe},rBe=/^D+$/,nBe=/^Y+$/,oBe=["D","DD","YY","YYYY"];function iBe(e){return rBe.test(e)}function aBe(e){return nBe.test(e)}function sBe(e,r,t){const n=uBe(e,r,t);if(console.warn(n),oBe.includes(e))throw new RangeError(n)}function uBe(e,r,t){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lBe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cBe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fBe=/^'([^]*?)'?$/,dBe=/''/g,pBe=/[a-zA-Z]/;function gX(e,r,t){var c,f,d,p;const n=FC(),o=n.locale??K4e,i=n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(d=n.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=pu(e,t==null?void 0:t.in);if(!v4e(s))throw new RangeError("Invalid time value");let u=r.match(cBe).map(h=>{const m=h[0];if(m==="p"||m==="P"){const y=tBe[m];return y(h,o.formatLong)}return h}).join("").match(lBe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const m=h[0];if(m==="'")return{isToken:!1,value:hBe(h)};if(zU[m])return{isToken:!0,value:h};if(m.match(pBe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:h}});o.localize.preprocessor&&(u=o.localize.preprocessor(s,u));const l={firstWeekContainsDate:i,weekStartsOn:a,locale:o};return u.map(h=>{if(!h.isToken)return h.value;const m=h.value;(aBe(m)||iBe(m))&&sBe(m,r,String(e));const y=zU[m[0]];return y(s,m,o.localize,l)}).join("")}function hBe(e){const r=e.match(fBe);return r?r[1].replace(dBe,"'"):e}function yX(){const e=Sr(),{configData:r,setConfigData:t}=N.useContext(tr),{logo:n,loading:o,error:i}=Y0();N.useEffect(()=>{fetch("/defaults/config/config.json").then(s=>s.json()).then(s=>{t(s),sessionStorage.setItem("configData",JSON.stringify(s))}).catch(s=>console.error("Error: ",s))},[]);const a=gX(new Date,"dd MMMM yyyy");return o?O.jsx(Dg,{position:"fixed",sx:{bgcolor:e.palette.background.paper,boxShadow:1,height:"68px",display:"flex",alignItems:"center",justifyContent:"center"},children:O.jsx(Hi,{size:48,thickness:4,sx:{color:"primary.main"}})}):i?O.jsx(Dg,{position:"fixed",sx:{bgcolor:e.palette.background.paper,boxShadow:1,height:"68px",display:"flex",alignItems:"center",justifyContent:"center"},children:O.jsx(it,{color:"primary",children:"Error Loading the Logo"})}):O.jsxs(Dg,{position:"fixed",sx:{bgcolor:e.palette.background.paper,boxShadow:1,height:"68px"},children:[O.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%",px:3},children:[O.jsx(Re,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center",p:1},children:n&&O.jsx("img",{src:n,alt:"Logo",style:{maxHeight:"100%",width:"auto"}})}),O.jsx(it,{variant:"subtitle1",color:"primary",fontWeight:"medium"}),O.jsx(nV,{direction:"row",spacing:3,alignItems:"center",children:O.jsx(it,{variant:"body2",color:"secondary",children:a})})]}),O.jsx(Bo,{sx:{color:"orange",border:2}})]})}const xX=({open:e,title:r="",message:t,primaryButtonText:n="Confirm",secondaryButtonText:o="Cancel",onPrimaryClick:i,onSecondaryClick:a,handleClose:s})=>{const u=Sr();return O.jsx(kv,{open:e,onClose:s,"aria-labelledby":"modal-title","aria-describedby":"modal-description",children:O.jsxs(Re,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4,borderRadius:2},children:[O.jsx(it,{id:"modal-title",variant:"h6",component:"h2",sx:{mb:2,textAlign:"center",color:u.palette.text.primary,fontWeight:600},children:r}),O.jsx(it,{id:"modal-description",sx:{mb:3,textAlign:"center",color:u.palette.text.primary},children:t}),O.jsxs(Re,{sx:{display:"flex",justifyContent:"center",gap:2},children:[O.jsx(Zt,{variant:"outlined",onClick:a||s,sx:{textTransform:"none",borderRadius:10,minWidth:100},children:o}),i&&O.jsx(Zt,{variant:"contained",onClick:i,sx:{textTransform:"none",borderRadius:10,minWidth:100},children:n})]})]})})};xX.propTypes={open:fe.bool.isRequired,title:fe.string.isRequired,message:fe.string.isRequired,primaryButtonText:fe.string,secondaryButtonText:fe.string,onPrimaryClick:fe.func.isRequired,onSecondaryClick:fe.func,handleClose:fe.func.isRequired};const vBe=()=>{var F;const[e,r]=N.useState(null),[t,n]=N.useState(!0),[o,i]=N.useState(null),[a,s]=N.useState(null),[u,l]=N.useState(!1),[c,f]=N.useState(null),[d,p]=N.useState(!1),{txn_id:h}=VP(),{configData:m,setErrorMessage:y,setModalOpen:v,handleModalClose:g,modalOpen:x,errorMessage:b}=N.useContext(tr),w=()=>{l(!1)},E=async()=>{try{(m==null?void 0:m.api_path)===void 0&&await fetch("/defaults/config/config.json").then($=>$.json()).then($=>{m.api_path=$.api_path}).catch($=>console.error("Error: ",$));const A=await fetch(`${m.api_path}/v1/esign/esigner/${h}`,{headers:{"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch esign data! Internal Server Error! Please Try Again or Contact the Administrator!");const D=await A.json();r(D)}catch(A){console.error("Error fetching esign data:",A)}finally{n(!1)}};N.useEffect(()=>{E()},[h,m]);const C=(A,D)=>{const $=`
      <!DOCTYPE html>
      <html>
        <body onload="document.forms[0].submit()">
          <form id="esignForm" name="esignForm" method="POST" enctype="multipart/form-data" action="${A}">
            <input type="hidden" name="msg" value='${D}'/>
          </form>
          <p>Redirecting to eSign page...</p>
        </body>
      </html>
    `,B=window.open("","_self");B.document.write($),B.document.close(),p(!1)},S=async A=>{l(!1),s(A),p(!0);try{const D=await fetch(`${m.api_path}/v1/esign/esigner/${h}/${A}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!D.ok)throw new Error("Failed to initiate esign process");const $=await D.json();if($.status==="success"){const B=$.action_url;C(B,$==null?void 0:$.payload)}else throw s(A),p(!1),y($==null?void 0:$.message),v(!0),new Error($.message||"Failed to initiate esign process")}catch(D){console.error("Esign error:",D),p(!1),y(D.message||"Failed to Esign. Contact the Administrator."),v(!0)}finally{s(null)}},T=()=>{if(!(e!=null&&e.docs_zip_url)){y("PDF URL not available"),v(!0);return}window.open(e.docs_zip_url,"_blank")},k=A=>{f(A),l(!0)};if(t)return O.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:O.jsx(Hi,{})});if(o)return O.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:O.jsx(it,{color:"error",children:o})});const P=({status:A,signerId:D})=>O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:A?O.jsx(it,{sx:{color:"success.main",fontWeight:500},children:"Completed"}):O.jsx(Zt,{variant:"contained",color:"primary",onClick:()=>k(D),disabled:a===D,sx:{textTransform:"none",borderRadius:10,px:4},children:a===D?"Processing...":"Esign"})}),I=({status:A,message:D})=>O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",textWrap:"wrap"},children:A?O.jsx(it,{variant:"body2",sx:{color:"success.main",fontWeight:500},children:D}):O.jsx(it,{variant:"body2",sx:{color:"error.main",fontWeight:500},children:D})});return O.jsxs(Re,{sx:{p:4},children:[O.jsx(yX,{}),O.jsxs(Re,{sx:{p:1,mt:"64px",mx:3,minHeight:"calc(100vh - 64px)",bgcolor:"background.default"},children:[O.jsx(it,{variant:"h4",component:"h1",sx:{color:"text.primary",fontWeight:"bold",mb:3},children:"Esign Details"}),(e==null?void 0:e.instruction)&&O.jsx(it,{variant:"body1",sx:{color:"text.secondary",mb:4},children:e==null?void 0:e.instruction}),O.jsx(iV,{component:zi,sx:{border:"1px solid",borderColor:"grey.300",borderRadius:2,mb:4},children:O.jsxs(BI,{children:[O.jsx(aV,{children:O.jsxs(ia,{sx:{backgroundColor:"grey.50"},children:[O.jsx(Fo,{sx:{fontWeight:"bold",borderBottom:"2px solid",borderBottomColor:"grey.200",py:2,px:3,textAlign:"center"},children:"Name"}),O.jsx(Fo,{sx:{fontWeight:"bold",borderBottom:"2px solid",borderBottomColor:"grey.200",py:2,px:3,textAlign:"center"}}),O.jsx(Fo,{sx:{fontWeight:"bold",borderBottom:"2px solid",borderBottomColor:"grey.200",py:2,px:3,textAlign:"center"},children:"Signature"})]})}),O.jsx(jI,{children:(F=e==null?void 0:e.signers)==null?void 0:F.map(A=>O.jsxs(ia,{sx:{"&:last-child td":{borderBottom:0},"&:hover":{backgroundColor:"grey.50"}},children:[O.jsx(Fo,{sx:{py:2,px:3,textAlign:"center"},children:A.name}),O.jsx(Fo,{sx:{py:2,px:3},children:O.jsx(I,{message:A==null?void 0:A.message,status:A==null?void 0:A.sign_status})}),O.jsx(Fo,{sx:{py:2,px:3},children:O.jsx(P,{status:A.sign_status,signerId:A.identifier})})]},A.identifier))})]})}),O.jsxs(Re,{sx:{mt:2},children:[O.jsx(it,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Click the button below to download and retain a copy of this document for your records and future reference."}),O.jsx(Zt,{variant:"contained",onClick:T,disabled:!(e!=null&&e.docs_zip_url),children:"Download PDFs"})]}),O.jsxs(_S,{open:d,maxWidth:"sm",fullWidth:!0,sx:{"& .MuiDialog-paper":{borderRadius:"12px"}},children:[O.jsx(PI,{sx:{textAlign:"center"},children:O.jsx(it,{variant:"h6",children:"Esign Process"})}),O.jsx(wS,{children:O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:3},children:[O.jsx(Hi,{size:40,sx:{mb:2}}),O.jsx(it,{children:"Redirecting to esign service..."}),O.jsx(it,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Please do not close this window"})]})})]})]}),O.jsx(il,{open:x,handleClose:g,message:b}),O.jsx(xX,{open:u,title:"Please Review Your Documents",message:"Please ensure you have reviewed the PDF documents before proceeding with the e-signature. If you haven't reviewed it yet, download and check the documents first.",primaryButtonText:"Continue to Esign",secondaryButtonText:"Download PDFs",onPrimaryClick:()=>S(c),onSecondaryClick:T,handleClose:w})]})},IA={width:350,marginY:1},NA={"& .MuiOutlinedInput-root":{borderRadius:4}};function mBe(){var Z;const e=Sr(),r=Ki(),[t]=Nw(),n=t.get("entity_id"),o=Tv(),{logo:i,loading:a,error:s}=Y0(),{setLyikToken:u,setConfigData:l,configData:c,setLyikForm:f,setResponseObject:d,setCode:p,setDigiToken:h,setAadhaar:m,setUploadedFiles:y,setPan:v,setModalOpen:g,setErrorMessage:x,setLinkedRecords:b,setUserInfo:w,setUserPermissions:E,setOperationStatus:C}=N.useContext(tr),[S,T]=N.useState({userId:"",otp:"",showOtpField:!1,transactionId:"",isLoading:!1,isResending:!1,error:null,isVerified:!1,auth_code:""}),[k,P]=N.useState([]),[I,F]=N.useState({id:n||"",name:"",logo_url:""}),[A,D]=N.useState(!1),[$,B]=N.useState(null),W={mt:2,width:150,borderRadius:10};N.useEffect(()=>{f({}),d({}),p(""),h(""),m({}),y([]),v({}),g(!1),x(""),b(void 0),w(null),E(null),C({inProgress:!1,message:"",success:!1,hasAttempted:!1}),sessionStorage.removeItem("formResponse"),sessionStorage.removeItem("lyikForm"),sessionStorage.removeItem("id"),sessionStorage.removeItem("section"),sessionStorage.removeItem("form_id"),sessionStorage.removeItem("record_id")},[]),N.useEffect(()=>{fetch("/defaults/config/config.json").then(ue=>ue.json()).then(ue=>{l(ue),sessionStorage.setItem("configData",JSON.stringify(ue))}).catch(ue=>console.error("Error: ",ue))},[]),N.useEffect(()=>{(async()=>{if(S.isVerified)try{D(!0);const oe=await fetch((c==null?void 0:c.api_path)+"/v1/marketplace",{headers:{"Content-Type":"application/json"}});if(!oe.ok)throw new Error("Failed to fetch forms! Internal Server Error! Please Try Again or Contact the Administrator!");const ee=await oe.json(),ne=ee.Unknown?ee.Unknown.map(pe=>({id:pe.entity_id,name:pe.entity_meta.form_name})):[];P(ne),B(null)}catch(oe){B(oe.message)}finally{D(!1)}})()},[S.isVerified,c==null?void 0:c.api_path]);const L=ue=>oe=>{const ee=ue==="otp"?oe.target.value.replace(/[^\d]/g,"").slice(0,6):oe.target.value;T(ne=>({...ne,[ue]:ee,error:null}))},z=ue=>{n||F({id:ue.target.value})},U=async(ue=!1)=>{try{T(ee=>({...ee,isLoading:!ue,isResending:ue,error:null,...ue&&{otp:""}}));const oe=await o.postSendOtp(S.userId);T(ee=>({...ee,showOtpField:!0,transactionId:oe.transaction_id,...ue&&{error:"OTP resent successfully"}}))}catch{T(ee=>({...ee,error:ue?"Failed to resend OTP":"Failed to send OTP. Please try again."}))}finally{T(oe=>({...oe,isLoading:!1,isResending:!1}))}},Y=()=>U(!1),q=()=>U(!0),V=async()=>{try{T(oe=>({...oe,isLoading:!0,error:null}));const{auth_code:ue}=await o.postVerifyOtp(S.userId,S.otp,S.transactionId);T(oe=>({...oe,auth_code:ue,isVerified:!0,isLoading:!1,error:null}))}catch{T(oe=>({...oe,isLoading:!1,error:"Verification failed. Please check your OTP and try again."}))}},H=async()=>{try{const ue=await fetch(`${c==null?void 0:c.api_path}/v1/forms/${I.id}/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contact_id:S.userId,uri:I.id,auth_code:S.auth_code})});if(!ue.ok)throw new Error("Registration failed");const oe=await ue.json();oe&&(localStorage.setItem("token",oe.token),u(oe.token),r(`/form_id/${I.id}`,{replace:!0}))}catch(ue){B("Registration failed. Please try again."),console.error(ue)}};return O.jsxs(O.Fragment,{children:[O.jsx(CS,{children:O.jsx("title",{children:"Register | Form Filling"})}),O.jsx(Re,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:'url("/defaults/assets/login_bg.png")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:O.jsx(zi,{sx:{width:650,height:"auto",p:4,borderRadius:10},children:O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[O.jsxs(Re,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"center"},children:[a&&O.jsx(Hi,{size:48,thickness:4,sx:{color:"primary.main"}}),s&&O.jsx(it,{color:"error",variant:"caption",children:"Error loading logo"}),i&&O.jsx("img",{src:i,alt:"Logo",style:{maxHeight:"100%",width:"auto"}})]}),O.jsx(Bo,{sx:{color:"primary.black",width:350,my:3}}),(S.error||$||s)&&O.jsx(f0,{severity:"error",sx:{width:350,mb:2},children:S.error||$||s&&"Error loading logo"}),!S.isVerified&&O.jsxs(O.Fragment,{children:[O.jsxs(Re,{sx:IA,children:[O.jsx(it,{sx:{color:e.palette.secondary.main,marginBottom:1,marginLeft:1,fontWeight:"bold"},children:"Mobile / Email ID"}),O.jsx(Ga,{fullWidth:!0,value:S.userId,onChange:L("userId"),sx:NA,error:!!S.error,disabled:S.isLoading||S.isResending})]}),S.showOtpField&&O.jsxs(Re,{sx:IA,children:[O.jsx(it,{sx:{color:e.palette.secondary.main,marginBottom:1,marginLeft:1,fontWeight:"bold"},children:"Enter OTP"}),O.jsx(Ga,{fullWidth:!0,value:S.otp,onChange:L("otp"),sx:NA,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},disabled:S.isLoading||S.isResending}),O.jsx(Re,{sx:{display:"flex",justifyContent:"flex-end",mt:1},children:O.jsx(Zt,{color:"secondary",onClick:q,disabled:S.isLoading||S.isResending,sx:{textTransform:"none","&:hover":{backgroundColor:fr(e.palette.secondary.main,.1)}},children:S.isResending?"Resending...":"Resend OTP"})})]}),O.jsx(Zt,{variant:"contained",onClick:S.showOtpField?V:Y,disabled:S.isLoading||S.isResending||!S.userId||S.showOtpField&&S.otp.length!==6,sx:{...W},children:S.isLoading?"Loading...":S.showOtpField?"Verify":"Send OTP"})]}),S.isVerified&&O.jsxs(O.Fragment,{children:[O.jsxs(Re,{sx:IA,children:[O.jsx(it,{sx:{color:e.palette.secondary.main,marginBottom:1,marginLeft:1,fontWeight:"bold",textAlign:n?"center":""},children:n?"Selected Form":"Select Form"}),A?O.jsx(Re,{sx:{display:"flex",justifyContent:"center",p:2},children:O.jsx(Hi,{size:24})}):n?O.jsx(it,{variant:"h6",color:e.palette.primary.main,marginLeft:1,textAlign:"center",children:(Z=k.find(ue=>ue.id===n))==null?void 0:Z.name}):O.jsxs(G0,{fullWidth:!0,value:I.id,onChange:z,disabled:!!n,sx:NA,children:[O.jsx(nv,{value:"",disabled:!0,children:O.jsx("em",{children:"Select a form"})}),k.map(ue=>O.jsx(nv,{value:ue.id,children:ue.name},ue.id))]})]}),O.jsx(Zt,{variant:"contained",onClick:H,disabled:!I||A,sx:{...W},children:"Register"})]})]})})})]})}const gBe=()=>{const[e,r]=N.useState([]),[t,n]=N.useState(!0),[o,i]=N.useState(null),{configData:a,setErrorMessage:s,setModalOpen:u,handleModalClose:l,modalOpen:c,errorMessage:f,setConfigData:d}=N.useContext(tr);N.useEffect(()=>{fetch("/defaults/config/config.json").then(m=>m.json()).then(m=>{d(m),sessionStorage.setItem("configData",JSON.stringify(m))}).catch(m=>console.error("Error: ",m))},[]);const p=async()=>{try{if(!(a!=null&&a.api_path)){const x=await(await fetch("/defaults/config/config.json")).json();a.api_path=x.api_path}const m=await fetch(`${a.api_path}/v1/marketplace`,{headers:{"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to fetch marketplace data! Internal Server Error! Please Try Again or Contact the Administrator!");const y=await m.json(),v=y.Unknown?y.Unknown.map(g=>({entity_id:g.entity_id,form_name:g.entity_meta.form_name,logo_url:g.logo_url||"/defaults/assets/IndianEmblem.svg",link:`/register?entity_id=${g.entity_id}`})):[];r(v)}catch(m){console.error("Error fetching marketplace data:",m),i(m.message)}finally{n(!1)}};N.useEffect(()=>{p()},[a]);const h=O.jsxs(O.Fragment,{children:[O.jsxs(Re,{sx:{p:4,backgroundColor:"grey[800]",width:"100%",color:"white",fontSize:12,display:"inline-grid",gridTemplateColumns:"repeat(4, 1fr)"},children:[O.jsxs(Re,{sx:{textAlign:"center"},children:[O.jsx("h1",{children:"BFSI Ltd"}),O.jsx("br",{}),O.jsx("h4",{children:"Contact Us:"}),"+91 123 456 7899",O.jsx("br",{}),"contact@bfsiltd.com"]}),O.jsxs(Re,{children:[O.jsx("h3",{children:"Mutual Fund"}),"Equity Funds",O.jsx("br",{}),"Hybrid & Balanced Funds",O.jsx("br",{}),"Multi Asset Funds",O.jsx("br",{}),"Index Funds",O.jsx("h3",{children:"Group Websites"}),"Financial Services",O.jsx("br",{}),"Broking & Distribution",O.jsx("br",{}),"Wealth Management",O.jsx("br",{}),"Home Finance"]}),O.jsxs(Re,{children:[O.jsx("h3",{children:"Services"}),"Request Reports/Statements",O.jsx("br",{}),"Add Bank Mandate",O.jsx("br",{}),"Add Nominee",O.jsx("br",{}),"Update KYC",O.jsx("h3",{children:"Planning & Solutions"}),"FAB",O.jsx("br",{}),"MOVI Plan",O.jsx("br",{}),"SIP"]}),O.jsxs(Re,{children:[O.jsx("h3",{children:"Quick Links"}),"About Us",O.jsx("br",{}),"Contact Us",O.jsx("br",{}),"Investor Charter",O.jsx("br",{}),"International Business",O.jsx("h3",{children:"Tools"}),"SIP Calculator",O.jsx("br",{}),"Compare Portfolio",O.jsx("br",{}),"Compounding Magic"]})]}),O.jsx(Bo,{variant:"middle",sx:{color:"red",width:"80%"}}),O.jsxs(Re,{sx:{p:1,backgroundColor:"grey[800]",width:"100%",paddingLeft:"40px",color:"white",fontSize:10},children:[O.jsx("div",{style:{marginLeft:"10px",float:"left"},children:"© Copyright 2025 BFSI Asset Management Co Ltd"}),O.jsx("div",{style:{marginLeft:"280px",float:"left"},children:"Disclaimer"}),O.jsx("div",{style:{marginLeft:"100px",float:"left"},children:"Voting Rights"}),O.jsx("div",{style:{marginLeft:"100px",float:"left"},children:"Privacy Policy"}),O.jsx("div",{style:{marginLeft:"100px",float:"left"},children:"Terms and Conditions"}),O.jsx("div",{style:{marginLeft:"100px",float:"left"},children:"Sitemap"}),O.jsx("div",{children:" "})]})]});return t?O.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:O.jsx(Hi,{})}):o?O.jsx(Re,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:O.jsx(it,{color:"error",children:o})}):O.jsxs(Re,{sx:{p:0},children:[O.jsx(yX,{children:O.jsx(Bo,{variant:"middle",sx:{color:"yellow",width:"80%"}})}),O.jsxs(Re,{sx:{p:1,mt:"64px",mx:3,minHeight:"calc(100vh - 64px)",bgcolor:"background.default"},children:[O.jsx(it,{variant:"h4",component:"h1",sx:{color:"text.primary",fontWeight:"bold",mb:3,textAlign:"center"},children:"FormCentre"}),O.jsx(jhe,{children:O.jsx(Re,{sx:{my:2,display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center"},children:e.length>0?e.map((m,y)=>O.jsxs($B,{variant:"outlined",sx:{margin:2,padding:3,border:2,borderColor:"black",borderRadius:4,color:"blue",textAlign:"center",width:190,fontSize:24},children:[O.jsx(Re,{component:"img",src:m.logo_url,alt:"Form Logo",sx:{width:64,height:64}}),O.jsx(Bo,{variant:"middle",sx:{my:3,border:1}}),O.jsx(Rv,{underline:"hover",color:"inherit",href:m.link,children:m.form_name}),O.jsx(Bo,{variant:"middle",sx:{my:3,border:1}}),O.jsx(sye,{})]},m.entity_id||y)):O.jsxs($B,{variant:"outlined",sx:{margin:2,padding:3,border:2,borderColor:"black",borderRadius:4,color:"blue",textAlign:"center",width:190},children:["logo",O.jsx(Bo,{variant:"middle",sx:{my:3,border:1}}),"form name",O.jsx(Bo,{variant:"middle",sx:{my:3,border:1}}),"graphic"]})})})]}),O.jsx(il,{open:c,handleClose:l,message:f}),h]})},bX=({config:e,isCollapsed:r})=>{const{isMobile:t}=cu(),n=Sr(),o=50,i=230,{background:a,showLogo:s,logoSrc:u,buttons:l=[]}=e,c=p=>p||"none",f=(p,h)=>{let m;return p===!0&&h?m=!0:m=!1,m},d=p=>l.filter(h=>h.position===p).map((h,m)=>h.type==="link"?O.jsx(Rv,{href:h.link,underline:"none",sx:{mx:1,fontSize:14,fontWeight:"500",color:c(h.color),textDecoration:"none"},children:h.label},m):O.jsx(Zt,{variant:h.color?"":"contained",sx:{mx:1,borderRadius:"5px",px:2,py:.5,fontSize:"14px",backgroundColor:c(h.background),color:c(h.color)},onClick:()=>window.location.href=h.link,children:h.label},m));return O.jsx(Dg,{position:"fixed",sx:{background:a!=null&&a.startsWith("url(")||a!=null&&a.startsWith("linear-")?a:void 0,bgcolor:!(a!=null&&a.startsWith("url("))&&!(a!=null&&a.startsWith("linear-"))?a:void 0,backgroundSize:"cover-fit",backgroundRepeat:"no-repeat",pl:"20px",height:"58px",width:t?"100%":`calc(100% - ${r?o:i}px)`,ml:t?0:`${r?o:i}px`,transition:n.transitions.create(["width","margin"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),display:"flex",alignItem:"center",justifyContent:"center"},children:O.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsxs(Re,{display:"flex",alignItems:"center",children:[f(s,u)&&O.jsx(Re,{component:"img",src:u,alt:"Logo",sx:{height:40,mr:2}}),O.jsx(Re,{children:d("left")})]}),O.jsx(Re,{children:d("center")}),O.jsx(Re,{children:d("right")})]})})};bX.propTypes={config:fe.shape({background:fe.string,showLogo:fe.bool,logoSrc:fe.string,buttons:fe.arrayOf(fe.shape({type:fe.oneOf(["link","button"]),label:fe.string.isRequired,link:fe.string.isRequired,position:fe.oneOf(["left","center","right"]),color:fe.string}))}),isCollapsed:fe.bool};function _X({navConfig:e,isHome:r,userInfo:t,isCollapsed:n,activePanel:o,handleActivePanel:i}){var y,v,g,x,b;const a=Sr(),{lyikForm:s,responseObject:u}=N.useContext(tr),{isMobile:l}=cu(),[c,f]=N.useState(""),d=50,p=230,h={name:t==null?void 0:t.display_name};N.useEffect(()=>{var C;const w=(C=s==null?void 0:s.meta)==null?void 0:C.title,E=w==null?void 0:w.replace(/{(.*?)}/g,(S,T)=>{var P;return T!=null&&T.startsWith("form_name")?`${(P=s==null?void 0:s.meta)==null?void 0:P.form_name}`:Ur({path:T,json:u})[0]});f(E==null?void 0:E.replace(/null/g,"_______"))},[s,u]);const m=gX(new Date,"dd MMMM yyyy");return e?O.jsx(bX,{config:e,isCollapsed:n}):O.jsx(Dg,{position:"fixed",sx:{width:l?"100%":`calc(100% - ${n?d:p}px)`,ml:l?0:`${n?d:p}px`,transition:a.transitions.create(["width","margin"],{easing:a.transitions.easing.sharp,duration:a.transitions.duration.leavingScreen}),bgcolor:a.palette.background.paper,boxShadow:"5px 2.5px 12.1px 0px rgba(0, 0, 0, 0.08)",height:"58px",pl:"20px"},children:O.jsxs(Re,{sx:{display:"flex",justifyContent:!r&&l||!r&&!l?"space-between":(r&l,"flex-end"),alignItems:"center",height:"100%",px:4,ml:l?5:0},children:[!r&&!l&&O.jsx(it,{color:"secondary",fontWeight:"medium",children:c||((y=s==null?void 0:s.meta)==null?void 0:y.form_name)}),!r&&l&&O.jsxs(Re,{sx:{position:"relative",display:"flex",borderRadius:"25px",padding:"4px",width:"80%",height:"35px",justifyContent:"space-between",boxShadow:"inset 2px 2px 6px rgba(0, 0, 0, 0.2), inset -2px -2px 6px rgba(255, 255, 255, 0.7)",overflow:"hidden"},children:[O.jsx(Re,{sx:{position:"absolute",top:"4px",left:"4px",width:"48%",height:"27px",backgroundColor:a.palette.primary.main,borderRadius:"20px",transition:"transform 0.3s ease-in-out",transform:o==="Menu"?"translateX(0%)":"translateX(101%)",boxShadow:"2px 2px 6px rgba(0, 0, 0, 0.2), -2px -2px 6px rgba(255, 255, 255, 0.4)"}}),O.jsx(Zt,{onClick:()=>i("Menu"),sx:{flex:1,position:"relative",zIndex:2,borderRadius:"20px",textTransform:"none",fontWeight:"bold",color:o==="Menu"?a.palette.primary.contrastText:a.palette.primary.black,"&:hover":{background:o==="Menu"?a.palette.primary.brand:""}},children:"Menu"}),O.jsx(Zt,{onClick:()=>i("Details"),sx:{flex:1,position:"relative",zIndex:2,borderRadius:"20px",textTransform:"none",fontWeight:"bold",color:o==="Details"?a.palette.primary.contrastText:a.palette.primary.black,"&:hover":{background:o==="Details"?a.palette.primary.brand:""}},children:"Details"})]}),O.jsxs(nV,{direction:"row",spacing:3,alignItems:"center",children:[!l&&O.jsxs(O.Fragment,{children:[O.jsx(it,{variant:"body2",color:"secondary",children:m}),O.jsx(it,{variant:"subtitle2",color:"secondary",fontWeight:"medium",children:h==null?void 0:h.name})]}),O.jsx(uhe,{sx:{bgcolor:a.palette.primary.main,width:35,height:35,fontSize:14,color:a.palette.primary.contrastText},children:(b=(x=(g=(v=h==null?void 0:h.name)==null?void 0:v.split(" "))==null?void 0:g.slice(0,2))==null?void 0:x.map(w=>w[0]))==null?void 0:b.join("")})]})]})})}_X.propTypes={userInfo:fe.object,isCollapsed:fe.bool,activePanel:fe.string,handleActivePanel:fe.func,navConfig:fe.object,isHome:fe.bool};const s_=70,u_=250,l_=Ye(ase)(({theme:e})=>({textDecoration:"none",color:e.palette.sidebar.contrastText,width:"100%","& .MuiListItemButton-root":{borderRadius:e.shape.borderRadius,"& .MuiListItemIcon-root":{color:e.palette.sidebar.contrastText},"&:hover":{backgroundColor:e.palette.sidebar.activeBackgroundColor,color:e.palette.sidebar.activeColor,"& .MuiListItemIcon-root":{color:e.palette.sidebar.activeColor}}},"&.active .MuiListItemButton-root":{backgroundColor:e.palette.sidebar.activeBackgroundColor,"& .MuiListItemIcon-root":{color:e.palette.sidebar.activeColor},"& .MuiListItemText-root":{color:e.palette.sidebar.activeColor,fontWeight:600}}})),HU=Ye(mg)(({theme:e})=>({margin:"2px 4px",borderRadius:e.shape.borderRadius,paddingLeft:12,color:e.palette.sidebar.contrastText,"& .MuiListItemIcon-root":{color:e.palette.sidebar.contrastText,minWidth:40},"& .MuiListItemText-root":{color:e.palette.sidebar.contrastText,"& .MuiTypography-root":{fontSize:"0.875rem"}},"&:hover":{backgroundColor:e.palette.sidebar.activeBackgroundColor,"& .MuiListItemIcon-root":{color:e.palette.sidebar.activeColor},"& .MuiListItemText-root":{color:e.palette.sidebar.activeColor}}})),yBe=Ye(Bo)(({theme:e})=>({width:"90%",margin:"0 auto",backgroundColor:e.palette.primary.white}));function xBe({isCollapsed:e,setIsCollapsed:r,handleToggleSidebar:t}){const n=Sr(),o=ou(),i=Ki(),{logo:a}=Y0(),{smallLogo:s}=zI(),{userPermissions:u,setLyikForm:l,setResponseObject:c,setCode:f,setDigiToken:d,setAadhaar:p,setLyikToken:h,setUploadedFiles:m,setPan:y,setModalOpen:v,setErrorMessage:g,setLinkedRecords:x,setConfigData:b,setUserPermissions:w,setUserInfo:E,setOperationStatus:C,setTrustedApiFailure:S,setTrusted:T,configData:k}=N.useContext(tr),P=O_(n.breakpoints.down("sm")),I=localStorage.getItem("token"),[F,A]=N.useState(!1),[D]=N.useState([{title:"Home",icon:O.jsx(dye,{}),path:"/home"}]),$=K0(I),[B,W]=N.useState("");N.useEffect(()=>{if(s&&s.startsWith("data:")){const oe=atob(s.split(",")[1]),ee=new Array(oe.length);for(let se=0;se<oe.length;se++)ee[se]=oe.charCodeAt(se);const ne=new Uint8Array(ee),pe=new Blob([ne],{type:"image/png"}),J=URL.createObjectURL(pe);W(J)}else W(s)},[s]),N.useEffect(()=>{k!=null&&k.show_sidebar_expanded?r(!1):r(!0),A(!1)},[P]);const{data:L,loading:z}=h_e(localStorage.getItem("token"));function U(){var oe,ee,ne,pe,J,se;return!((ne=(ee=(oe=$==null?void 0:$.user_metadata)==null?void 0:oe.permissions)==null?void 0:ee.persona)!=null&&ne.includes("CKR")||(se=(J=(pe=$==null?void 0:$.user_metadata)==null?void 0:pe.permissions)==null?void 0:J.persona)!=null&&se.includes("CLI"))}const Y=()=>A(!F),q=()=>{sessionStorage.removeItem("formResponse"),sessionStorage.removeItem("lyikForm"),sessionStorage.removeItem("id"),sessionStorage.removeItem("section"),sessionStorage.removeItem("form_id"),sessionStorage.removeItem("digilocker_data"),sessionStorage.removeItem("record_id"),l({}),c({}),f(""),d(""),p({}),h(""),m([]),y({}),v(!1),g(""),C({inProgress:!1,message:"",success:!1,hasAttempted:!1}),T({}),S({})},V=oe=>oe==="/home"||oe==="/"?o.pathname==="/home"||o.pathname==="/":o.pathname===oe,H=()=>{sessionStorage.clear(),localStorage.clear(),l({}),c({}),f(""),d(""),p({}),h(""),m([]),y({}),v(!1),g(""),x(),b({}),w(null),E(null),C({inProgress:!1,message:"",success:!1,hasAttempted:!1}),S({}),T({}),window.location.reload(),i("/login",{replace:!0})},Z=oe=>oe==null?void 0:oe.map((ee,ne)=>e?O.jsx(wd,{title:ee==null?void 0:ee.title,placement:"right-start",children:O.jsx(l_,{to:ee.path,className:V(ee.path)?"active":"",state:{formId:ee.formId},onClick:pe=>{pe.preventDefault(),q(),i(ee.path,{state:{formId:ee.formId},replace:!0})},children:O.jsx(Um,{disablePadding:!0,children:O.jsxs(mg,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx(Mp,{sx:{display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start"},children:ee.icon}),!e&&O.jsx(Fp,{primary:O.jsx(it,{sx:{fontSize:14,m:0},children:ee.title})})]})})},ee.path)},ne+ee.title):O.jsx(l_,{to:ee.path,className:V(ee.path)?"active":"",state:{formId:ee.formId},onClick:pe=>{pe.preventDefault(),q(),i(ee.path,{state:{formId:ee.formId},replace:!0})},children:O.jsx(Um,{disablePadding:!0,children:O.jsxs(mg,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx(Mp,{sx:{display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start"},children:ee.icon}),!e&&O.jsx(Fp,{primary:O.jsx(it,{sx:{fontSize:14,m:0},children:ee.title})})]})})},ne+ee.path)),ue=()=>{var oe;return O.jsx(tD,{variant:P?"temporary":"permanent",open:P?F:!0,onClose:Y,sx:{width:e?s_:u_,flexShrink:0,"& .MuiDrawer-paper":{width:e?s_:u_,boxSizing:"border-box",background:n.palette.sidebar.backgroundColor,color:n.palette.sidebar.contrastText,transition:n.transitions.create("width",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.enteringScreen}),overflowX:"hidden",borderTopRightRadius:"18px",borderBottomRightRadius:"18px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"}},children:O.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[O.jsxs(Re,{sx:{height:64,display:"flex",alignItems:"center",justifyContent:"space-between",p:e?0:1},children:[!e&&O.jsx("img",{src:a,alt:"Logo",style:{maxHeight:"100%",width:"auto"}}),!P&&O.jsx(Uu,{onClick:t,children:e?O.jsxs(O.Fragment,{children:[O.jsx("img",{src:s,alt:"Logo",style:{height:20,width:"auto"}}),O.jsx(sD,{sx:{color:n.palette.primary.main}})]}):O.jsx(mV,{sx:{color:((oe=n.palette)==null?void 0:oe.company)=="w2w"?n.palette.primary.main:n.palette.primary.white}})})]}),O.jsx(D_,{sx:{px:1},children:Z(D)}),U()&&O.jsxs(O.Fragment,{children:[O.jsx(yBe,{}),O.jsx(D_,{sx:{px:1},children:L==null?void 0:L.map((ee,ne)=>{var pe;return e?O.jsx(wd,{title:(pe=ee==null?void 0:ee.meta)==null?void 0:pe.form_name,placement:"right-start",children:O.jsx(l_,{to:`/form_id/${ee.uri.split("/").pop()}`,className:V(`/form_id/${ee.uri.split("/").pop()}`)?"active":"",state:{formId:ee},replace:!0,onClick:J=>{J.preventDefault(),V(`/form_id/${ee.uri.split("/").pop()}`)||q(),i(`/form_id/${ee.uri.split("/").pop()}`,{state:{formId:ee},replace:!0})},children:O.jsx(Um,{disablePadding:!0,children:O.jsxs(mg,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx(Mp,{sx:{display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start"},children:O.jsx(k2,{})}),!e&&O.jsx(Fp,{primary:O.jsx(it,{sx:{fontSize:14,m:0},children:ee.meta.form_name})})]})})},ee.uri)},ne+ee.meta.form_name):O.jsx(l_,{to:`/form_id/${ee.uri.split("/").pop()}`,className:V(`/form_id/${ee.uri.split("/").pop()}`)?"active":"",state:{formId:ee},replace:!0,onClick:J=>{J.preventDefault(),V(`/form_id/${ee.uri.split("/").pop()}`)||q(),i(`/form_id/${ee.uri.split("/").pop()}`,{state:{formId:ee},replace:!0})},children:O.jsx(Um,{disablePadding:!0,children:O.jsxs(mg,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[O.jsx(Mp,{sx:{display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start"},children:O.jsx(k2,{})}),!e&&O.jsx(Fp,{primary:O.jsx(it,{sx:{fontSize:14,m:0},children:ee.meta.form_name})})]})})},ne+ee.uri)})})]}),O.jsx(Re,{sx:{mt:"auto",px:1,pb:2},children:O.jsx(D_,{children:O.jsx(Um,{disablePadding:!0,children:e?O.jsx(wd,{title:"Logout",placement:"right-start",children:O.jsxs(HU,{onClick:H,children:[O.jsx(Mp,{children:O.jsx(gj,{})}),!e&&O.jsx(Fp,{primary:"Logout"})]})}):O.jsxs(HU,{onClick:H,children:[O.jsx(Mp,{children:O.jsx(gj,{})}),!e&&O.jsx(Fp,{primary:"Logout"})]})})})})]})})};return z?O.jsx(tD,{variant:P?"temporary":"permanent",open:F,onClose:()=>t(),sx:{width:e?s_:u_,"& .MuiDrawer-paper":{width:e?s_:u_}},children:O.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:O.jsx(Hi,{})})}):O.jsxs(O.Fragment,{children:[O.jsx(CS,{children:O.jsx("link",{rel:"icon",type:"image/x-icon",href:B})}),P&&O.jsx(Uu,{onClick:Y,sx:{position:"fixed",top:9,left:11,zIndex:F?1:2e3},children:O.jsx(vye,{})}),ue()]})}function bBe(){var T;const e=localStorage.getItem("token"),r=K0(e),t=(T=r==null?void 0:r.user_metadata)==null?void 0:T.user_info,o=ou().pathname==="/home",{isMobile:i}=cu(),[a,s]=N.useState(i),[u,l]=N.useState(!1),[c,f]=N.useState("Details"),{configData:d,setErrorMessage:p,setModalOpen:h,handleModalClose:m,modalOpen:y,errorMessage:v}=N.useContext(tr),{error:g}=Y0();zI();const x=Ki(),[b,w]=N.useState(null),E=k=>{l(k==="Menu")};N.useEffect(()=>{(d==null?void 0:d.show_navbar)!==!1&&fetch("/defaults/config/navbar.config.json").then(k=>k.json()).then(k=>{w(k)}).catch(k=>console.log("Error: ",k))},[]),N.useEffect(()=>{g==500&&x("/404",{replace:!0,state:{errorCode:500,message:"Server issue, try later."}})},[g]),N.useEffect(()=>{f(u?"Menu":"Details")},[u]);const C=()=>{l(k=>!k)},S=()=>{s(k=>!k)};return O.jsxs(Re,{sx:{display:"flex",height:"100vh",bgcolor:"background.default"},children:[O.jsx(_X,{navConfig:b,isHome:o,userInfo:t,isCollapsed:a,toggleSidePanel:C,activePanel:c,setIsSidePanelOpen:l,handleActivePanel:E}),O.jsx(xBe,{isCollapsed:a,handleToggleSidebar:S,setIsCollapsed:s}),O.jsx(Re,{component:"main",sx:{p:i?.5:2,mt:"58px",width:{xs:"100%",md:"100%"},minHeight:"calc(100vh - 58px)",overflowY:"auto",transition:"width 0.3s ease-in-out, transform 0.3s ease-in-out",transform:{md:a?"translateX(60)":"translateX(250)"}},children:O.jsx(Lae,{context:{isSidePanelOpen:u,toggleSidePanel:C,setIsSidePanelOpen:l}})}),O.jsx(il,{open:y,handleClose:m,message:v})]})}const wX=({children:e,themeConfig:r})=>{const t=qe.useMemo(()=>vS({palette:{company:r.company,spacing:r.spacing,primary:{main:r.colors.primary.main,brand:r.colors.primary.brand,white:r.colors.primary.white,black:r.colors.primary.black,grey:r.colors.primary.grey,contrastText:r.colors.primary.contrastText},secondary:{main:r.colors.secondary.main,light:r.colors.secondary.light,black:r.colors.secondary.black},error:{main:r.colors.status.error},warning:{main:r.colors.status.warning},info:{main:r.colors.status.info},success:{main:r.colors.status.success},grey:{50:"#fafafa",100:"#f5f5f5",200:"#e0e0e0",300:"#bdbdbd",400:"#c4c4c4",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},text:{primary:r.colors.text.primary,secondary:r.colors.text.secondary,main:r.colors.text.main,brand:r.colors.text.brand,white:r.colors.text.white,black:r.colors.text.black,disabled:r.colors.text.grey,contrastText:r.colors.text.contrastText},sidebar:{backgroundColor:r.colors.sidebar.backgroundColor,contrastText:r.colors.sidebar.contrastText,activeColor:r.colors.sidebar.activeColor,activeBackgroundColor:r.colors.sidebar.activeBackgroundColor},progressBar:{progressText:r.colors.progressBar.progressText},background:{default:r.colors.background.default||"#F7F7F7",paper:"#ffffff",light:r.colors.background.light,primary:r.colors.background.primary,secondary:r.colors.background.secondary,loginBackground:r.loginBackground},border:{light:r.colors.border.light,primary:r.colors.border.primary,secondary:r.colors.border.secondary}},typography:{fontFamily:r.fontFamily||"'Inter', sans-serif"},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:20,fontSize:"14px",fontWeight:500,"&:hover":{opacity:.9}},main:{backgroundColor:r.colors.button.main.bgColor,color:r.colors.button.main.color,"&:hover":{backgroundColor:r.colors.button.main.hover||r.colors.primary.brand},"&.Mui-disabled":{backgroundColor:r.colors.button.disabled.bgColor,color:r.colors.button.disabled.color,borderColor:r.colors.button.disabled.borderColor}},contained:{backgroundColor:r.colors.button.primary.bgColor,color:r.colors.button.primary.color,"&:hover":{backgroundColor:r.colors.button.primary.hover||r.colors.primary.brand},"&.Mui-disabled":{backgroundColor:r.colors.button.disabled.bgColor,color:r.colors.button.disabled.color,borderColor:r.colors.button.disabled.borderColor}},outlined:{borderColor:r.colors.button.outlined.borderColor,color:r.colors.button.outlined.color,backgroundColor:r.colors.button.outlined.bgColor,"&:hover":{borderColor:r.colors.primary.brand,color:r.colors.primary.brand},"&.Mui-disabled":{backgroundColor:r.colors.button.disabled.bgColor,color:r.colors.button.disabled.color,borderColor:r.colors.button.disabled.borderColor}},text:{color:r.colors.primary.main,"&:hover":{backgroundColor:r.colors.background.secondary}}}},MuiCssBaseline:{styleOverrides:{body:{backgroundColor:r.colors.background.light}}}}}),[r]);return O.jsxs(vfe,{theme:t,children:[O.jsx(qhe,{}),e]})};wX.propTypes={children:fe.node,themeConfig:fe.object};const c_=({children:e})=>{const r=localStorage.getItem("token"),t=ou(),n=Ki(),{refreshToken:o}=Tv(),i=async()=>{var a;try{if(r){const s=K0(r),u=Date.now()/1e3,l=s.exp,c=5*60;if(s&&l<u){localStorage.removeItem("token"),localStorage.clear(),sessionStorage.clear();const f=JSON==null?void 0:JSON.parse(sessionStorage.getItem("lyikForm")),d=(a=f==null?void 0:f.uri)==null?void 0:a.split("/").pop();d&&n(`login/entity_id=${d}`,{replace:!0}),n("/login",{replace:!0})}else if(l-u<=c)try{const f=await o(r);f!=null&&f.token&&localStorage.setItem("token",f==null?void 0:f.token)}catch(f){console.error(f)}}}catch(s){console.error("Token validation error:",s),localStorage.removeItem("token"),localStorage.clear(),sessionStorage.clear(),n("/login",{replace:!0})}};return N.useEffect(()=>{i();const a=setInterval(i,1*60*1e3);return()=>clearInterval(a)},[r,n]),N.useEffect(()=>{!r&&t.pathname!=="/login"&&n("/login",{replace:!0})},[r,t,n]),e},_Be=({children:e})=>{const r=localStorage.getItem("token"),t=Ki();return N.useEffect(()=>{r&&t("/home",{replace:!0})},[r,t]),e},wBe=()=>{const[e,r]=N.useState(null),[t,n]=N.useState(null),[o,i]=N.useState({}),[a,s]=N.useState({}),[u,l]=N.useState(""),[c,f]=N.useState(""),[d,p]=N.useState({}),[h,m]=N.useState(""),[y,v]=N.useState([]),[g,x]=N.useState({}),[b,w]=N.useState(!1),[E,C]=N.useState(""),[S,T]=N.useState(),[k,P]=N.useState(null),[I,F]=N.useState(null),[A,D]=N.useState({inProgress:!1,message:"",success:!1,hasAttempted:!1}),[$,B]=N.useState(),[W,L]=N.useState({}),z=async()=>{var H,Z,ue,oe,ee,ne,pe,J,se,j,ce,re,Q,G,X,te,de,ae,ye,ie,he,_e,Se,xe,De,$e,Be,we,Me,Le,Fe,He,gt,_t,At,or,Cr,vr,br,Lr,Tr,Br,$t,Xr,Mn,Yn,Ee,Pe,je,nt,yt,It,Ut,wt,Et,xt,Lt,sr,lr;let q,V;try{const Ar=await(await fetch("/defaults/config/theme.json")).json();if(V=Ar,Ar)q=Ar.colors;else throw Error("company theme is not available");const mt={main:q.main,brand:q.brand,light:q.light,black:q.black,white:q.white,grey:q.grey,error:q.error,success:q.success,warning:q.warning,info:q.info,contrastText:q.contrastText},zr={company:V.company,spacing:V.spacing,loginBackground:V.loginBackground,fontFamily:V.fontFamily,colors:{primary:{main:((H=q.primary)==null?void 0:H.main)||mt.main,brand:((Z=q.primary)==null?void 0:Z.brand)||mt.brand,black:mt.black,white:mt.white,grey:mt.grey,contrastText:mt.contrastText},secondary:{main:((ue=q.secondary)==null?void 0:ue.main)||mt.main,light:((oe=q.secondary)==null?void 0:oe.light)||mt.light,black:mt.black},background:{default:(ee=q.background)==null?void 0:ee.default,primary:((ne=q.background)==null?void 0:ne.primary)||mt.main,light:((pe=q.background)==null?void 0:pe.light)||mt.white,secondary:((J=q.background)==null?void 0:J.secondary)||mt.white},text:{main:((se=q.text)==null?void 0:se.main)||mt.brand,brand:((j=q.text)==null?void 0:j.brand)||mt.brand,primary:((ce=q.text)==null?void 0:ce.primary)||mt.black,secondary:((re=q.text)==null?void 0:re.secondary)||mt.grey,grey:((Q=q.text)==null?void 0:Q.grey)||mt.grey,white:(((G=q.text)==null?void 0:G.white)||mt.white).toUpperCase(),black:((X=q.text)==null?void 0:X.black)||mt.black,contrastText:mt.contrastText},border:{primary:((te=q.border)==null?void 0:te.primary)||mt.grey,secondary:((de=q.border)==null?void 0:de.secondary)||mt.grey,focus:((ae=q.border)==null?void 0:ae.focus)||mt.light},status:{success:((ye=q.status)==null?void 0:ye.success)||mt.success,error:((ie=q.status)==null?void 0:ie.error)||mt.error,warning:((he=q.status)==null?void 0:he.warning)||mt.warning,info:((_e=q.status)==null?void 0:_e.info)||mt.info},button:{main:{bgColor:((xe=(Se=q.button)==null?void 0:Se.main)==null?void 0:xe.bgColor)||mt.main,color:(($e=(De=q.button)==null?void 0:De.main)==null?void 0:$e.color)||mt.contrastText,hover:(we=(Be=q.button)==null?void 0:Be.main)==null?void 0:we.hover},primary:{bgColor:((Le=(Me=q.button)==null?void 0:Me.primary)==null?void 0:Le.bgColor)||mt.light,color:((He=(Fe=q.button)==null?void 0:Fe.primary)==null?void 0:He.color)||mt.contrastText,hover:(_t=(gt=q.button)==null?void 0:gt.primary)==null?void 0:_t.hover},outlined:{borderColor:((or=(At=q.button)==null?void 0:At.outlined)==null?void 0:or.borderColor)||mt.light,color:((vr=(Cr=q.button)==null?void 0:Cr.outlined)==null?void 0:vr.color)||mt.light,bgColor:((Lr=(br=q.button)==null?void 0:br.outlined)==null?void 0:Lr.bgColor)||mt.white},disabled:{color:((Br=(Tr=q.button)==null?void 0:Tr.disabled)==null?void 0:Br.color)||mt.white,bgColor:((Xr=($t=q.button)==null?void 0:$t.disabled)==null?void 0:Xr.bgColor)||mt.grey,borderColor:((Yn=(Mn=q.button)==null?void 0:Mn.disabled)==null?void 0:Yn.borderColor)||mt.grey},error:{color:((Pe=(Ee=q.button)==null?void 0:Ee.error)==null?void 0:Pe.color)||mt.contrastText,bgColor:((nt=(je=q.button)==null?void 0:je.error)==null?void 0:nt.bgColor)||mt.error},success:{color:((It=(yt=q.button)==null?void 0:yt.success)==null?void 0:It.color)||mt.contrastText,bgColor:((wt=(Ut=q.button)==null?void 0:Ut.success)==null?void 0:wt.bgColor)||mt.success}},sidebar:{backgroundColor:((Et=q.sidebar)==null?void 0:Et.backgroundColor)||mt.main,contrastText:((xt=q.sidebar)==null?void 0:xt.contrastText)||mt.contrastText,activeColor:((Lt=q.sidebar)==null?void 0:Lt.activeColor)||mt.main,activeBackgroundColor:((sr=q.sidebar)==null?void 0:sr.activeBackgroundColor)||mt.contrastText},progressBar:{progressText:((lr=q==null?void 0:q.progress_bar)==null?void 0:lr.progress_text)||mt.contrastText}}};n(zr)}catch(an){console.log("Error: ",an)}};N.useEffect(()=>{fetch("/defaults/config/config.json").then(q=>q.json()).then(q=>{r(q),sessionStorage.setItem("configData",JSON.stringify(q))}).catch(q=>console.log("Error: ",q)),z()},[]);function U(){C(""),w(!1)}const Y=Vae([{path:"/login",element:O.jsx(_Be,{children:O.jsx(xye,{})})},{element:O.jsx(c_,{children:O.jsx(bBe,{})}),children:[{path:"/home",element:O.jsx(S_e,{})},{path:"/",element:O.jsx(DO,{to:"/home",replace:!0})},{path:"/form_id/:form_id",element:O.jsx(o4e,{})}]},{path:"/digi_redirect",element:O.jsx(c_,{children:O.jsx(s4e,{})})},{path:"/success",element:O.jsx(c_,{children:O.jsx(LU,{})})},{path:"/failure",element:O.jsx(c_,{children:O.jsx(LU,{})})},{path:"/404",element:O.jsx(u4e,{})},{path:"*",element:O.jsx(DO,{to:"/404",replace:!0})},{path:"/esign/:txn_id",element:O.jsx(vBe,{})},{path:"/register",element:O.jsx(mBe,{})},{path:"/marketplace",element:O.jsx(gBe,{})}]);return!e||!t?O.jsx("div",{children:"Loading..."}):O.jsx(wX,{themeConfig:t,children:O.jsx(tr.Provider,{value:{configData:e,lyikForm:o,responseObject:a,code:u,digiToken:c,aadhaar:d,lyikToken:h,uploadedFiles:y,pan:g,modalOpen:b,errorMessage:E,linkedRecords:S,userPermissions:k,userInfo:I,operationStatus:A,trusted:W,trustedApiFailure:$,setTrusted:L,setLyikForm:i,setResponseObject:s,setCode:l,setDigiToken:f,setAadhaar:p,setLyikToken:m,setUploadedFiles:v,setPan:x,setModalOpen:w,setErrorMessage:C,setLinkedRecords:T,setConfigData:r,setUserInfo:F,setUserPermissions:P,setOperationStatus:D,handleModalClose:U,setTrustedApiFailure:B},children:O.jsx(ese,{router:Y})})})};iH(document.getElementById("root")).render(O.jsx(pV,{children:O.jsx(wBe,{})}))});export default SBe();
